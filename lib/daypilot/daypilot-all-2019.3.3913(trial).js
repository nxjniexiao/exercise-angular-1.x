/**
@license
DayPilot Pro for JavaScript 2019.3.3913 (trial)
Copyright (c) 2005 - 2019 Annpoint s.r.o.
https://www.daypilot.org/
Use of this software is subject to license terms.
*/
if ('undefined' == typeof DayPilot) var DayPilot = {};
if (
  ('undefined' == typeof DayPilot.Global && (DayPilot.Global = {}),
  (function() {
    function e(e) {
      var t = DayPilot.Date.Cache.Ticks;
      if (t[e]) return (DayPilot.Stats.cacheHitsTicks += 1), t[e];
      var i,
        n = new Date(e),
        a = n.getUTCMilliseconds();
      i = 0 === a ? '' : a < 10 ? '.00' + a : a < 100 ? '.0' + a : '.' + a;
      var o = n.getUTCSeconds();
      o < 10 && (o = '0' + o);
      var r = n.getUTCMinutes();
      r < 10 && (r = '0' + r);
      var l = n.getUTCHours();
      l < 10 && (l = '0' + l);
      var s = n.getUTCDate();
      s < 10 && (s = '0' + s);
      var d = n.getUTCMonth() + 1;
      d < 10 && (d = '0' + d);
      var c = n.getUTCFullYear();
      if (c <= 0) throw 'The minimum year supported is 1.';
      c < 10
        ? (c = '000' + c)
        : c < 100
        ? (c = '00' + c)
        : c < 1e3 && (c = '0' + c);
      var h = c + '-' + d + '-' + s + 'T' + l + ':' + r + ':' + o + i;
      return (t[e] = h), h;
    }
    function t(e, t) {
      return (
        !DayPilot.Util.isNullOrUndefined(e) &&
        (!DayPilot.Util.isNullOrUndefined(t) &&
          e.toLocaleLowerCase() === t.toLocaleLowerCase())
      );
    }
    if ('undefined' == typeof DayPilot.$) {
      (DayPilot.$ = function(e) {
        return document.getElementById(e);
      }),
        (DayPilot.isKhtml =
          navigator &&
          navigator.userAgent &&
          navigator.userAgent.indexOf('KHTML') !== -1),
        (DayPilot.isIE =
          navigator &&
          navigator.userAgent &&
          (navigator.userAgent.indexOf('MSIE') !== -1 ||
            navigator.userAgent.indexOf('Trident') !== -1)),
        (DayPilot.isIEQuirks =
          DayPilot.isIE &&
          document.compatMode &&
          'BackCompat' === document.compatMode),
        (DayPilot.browser = {}),
        (DayPilot.browser.ie8 = (function() {
          var e = document.createElement('div');
          return (
            (e.innerHTML = '<!--[if IE 8]><i></i><![endif]-->'),
            1 === e.getElementsByTagName('i').length
          );
        })()),
        (DayPilot.browser.ie9 = (function() {
          var e = document.createElement('div');
          return (
            (e.innerHTML = '<!--[if IE 9]><i></i><![endif]-->'),
            1 === e.getElementsByTagName('i').length
          );
        })()),
        (DayPilot.browser.ielt9 = (function() {
          var e = document.createElement('div');
          return (
            (e.innerHTML = '<!--[if lt IE 9]><i></i><![endif]-->'),
            1 === e.getElementsByTagName('i').length
          );
        })()),
        (DayPilot.browser.ff =
          navigator &&
          navigator.userAgent &&
          navigator.userAgent.indexOf('Firefox') !== -1),
        (DayPilot.browser.chrome =
          navigator &&
          navigator.userAgent &&
          navigator.userAgent.indexOf('Chrome') !== -1),
        (DayPilot.browser.ie = DayPilot.isIE),
        (DayPilot.browser.edge =
          navigator &&
          navigator.userAgent &&
          navigator.userAgent.indexOf('Edge') !== -1),
        (DayPilot.browser.webkit =
          navigator &&
          navigator.userAgent &&
          navigator.userAgent.indexOf('WebKit') !== -1),
        (DayPilot.browser.passiveEvents = !1),
        (function() {
          try {
            window.addEventListener(
              'test',
              null,
              Object.defineProperty({}, 'passive', {
                get: function() {
                  DayPilot.browser.passiveEvents = !0;
                }
              })
            );
          } catch (e) {}
        })(),
        (DayPilot.libs = {}),
        (DayPilot.libs.angularjs = 'object' == typeof angularjs),
        (DayPilot.touch = {}),
        (DayPilot.touch.start = window.navigator.msPointerEnabled
          ? 'MSPointerDown'
          : 'touchstart'),
        (DayPilot.touch.move = window.navigator.msPointerEnabled
          ? 'MSPointerMove'
          : 'touchmove'),
        (DayPilot.touch.end = window.navigator.msPointerEnabled
          ? 'MSPointerUp'
          : 'touchend'),
        (DayPilot.mo2 = function(e, t) {
          if (((t = t || window.event), 'undefined' != typeof t.offsetX)) {
            var i = { x: t.offsetX + 1, y: t.offsetY + 1 };
            if (!e) return i;
            for (var n = t.srcElement; n && n !== e; )
              'SPAN' !== n.tagName &&
                ((i.x += n.offsetLeft),
                n.offsetTop > 0 && (i.y += n.offsetTop - n.scrollTop)),
                (n = n.offsetParent);
            return n ? i : null;
          }
          if ('undefined' != typeof t.layerX) {
            var i = { x: t.layerX, y: t.layerY, src: t.target };
            if (!e) return i;
            for (
              var n = t.target;
              n &&
              'absolute' !== n.style.position &&
              'relative' !== n.style.position;

            )
              (n = n.parentNode), DayPilot.isKhtml && (i.y += n.scrollTop);
            for (; n && n !== e; )
              (i.x += n.offsetLeft),
                (i.y += n.offsetTop - n.scrollTop),
                (n = n.offsetParent);
            return n ? i : null;
          }
          return null;
        }),
        (DayPilot.mo3 = function(e, t) {
          t = t || window.event;
          var i,
            n = DayPilot.page(t);
          if (n)
            if (e) {
              var a = DayPilot.abs(e);
              if (!a) return null;
              i = { x: n.x - a.x, y: n.y - a.y };
            } else i = { x: n.x, y: n.y };
          else i = DayPilot.mo2(e, t);
          return (
            (i.shift = t.shiftKey),
            (i.meta = t.metaKey),
            (i.ctrl = t.ctrlKey),
            (i.alt = t.altKey),
            i
          );
        }),
        (DayPilot.mc = function(e) {
          return e.pageX || e.pageY
            ? { x: e.pageX, y: e.pageY }
            : {
                x: e.clientX + document.documentElement.scrollLeft,
                y: e.clientY + document.documentElement.scrollTop
              };
        }),
        (DayPilot.Stats = {}),
        (DayPilot.Stats.eventObjects = 0),
        (DayPilot.Stats.dateObjects = 0),
        (DayPilot.Stats.cacheHitsCtor = 0),
        (DayPilot.Stats.cacheHitsParsing = 0),
        (DayPilot.Stats.cacheHitsTicks = 0),
        (DayPilot.Stats.print = function() {
          console.log(
            'DayPilot.Stats.eventObjects: ' + DayPilot.Stats.eventObjects
          ),
            console.log(
              'DayPilot.Stats.dateObjects: ' + DayPilot.Stats.dateObjects
            ),
            console.log(
              'DayPilot.Stats.cacheHitsCtor: ' + DayPilot.Stats.cacheHitsCtor
            ),
            console.log(
              'DayPilot.Stats.cacheHitsParsing: ' +
                DayPilot.Stats.cacheHitsParsing
            ),
            console.log(
              'DayPilot.Stats.cacheHitsTicks: ' + DayPilot.Stats.cacheHitsTicks
            ),
            console.log(
              'DayPilot.Date.Cache.Ctor keys: ' +
                Object.keys(DayPilot.Date.Cache.Ctor).length
            ),
            console.log(
              'DayPilot.Date.Cache.Parsing keys: ' +
                Object.keys(DayPilot.Date.Cache.Parsing).length
            );
        }),
        (DayPilot.list = function(e, t) {
          if (e && e.isDayPilotList && !t) return e;
          var i =
              DayPilot.isArray(e) ||
              '[object NodeList]' === Object.prototype.toString.call(e),
            n = !i && !DayPilot.Util.isNullOrUndefined(e),
            a = [];
          if (
            ((a.isDayPilotList = !0),
            (a.clone = function() {
              var e = DayPilot.list();
              return (
                a.each(function(t) {
                  e.push(t);
                }),
                e
              );
            }),
            (a.each = function(e) {
              if (e) {
                if (a.forEach) return void a.forEach(e);
                for (var t = 0; t < this.length; t++) e(a[t], t, a);
              }
            }),
            (a.addProps = function(e) {
              var t = a.clone();
              if (e) for (var i in e) t[i] = e[i];
              return t;
            }),
            (a.last = function() {
              return 0 === a.length ? null : a[a.length - 1];
            }),
            (a.first = function() {
              return 0 === a.length ? null : a[0];
            }),
            (a.add = function(e) {
              var t = a.clone();
              return t.push(e), t;
            }),
            (a.map = function(e) {
              if ('function' != typeof e)
                throw 'DayPilot.list().map(f): Function expected';
              var t = DayPilot.list();
              return (
                a.each(function(i, n, a) {
                  t.push(e(i, n, a));
                }),
                t
              );
            }),
            (a.filter = function(e) {
              var t = DayPilot.list();
              if ('function' != typeof e)
                throw 'DayPilot.list().filter(f): Function expected';
              return (
                a.each(function(i) {
                  e(i) && t.push(i);
                }),
                t
              );
            }),
            (a.concat = function(e) {
              if (!e) return a;
              for (var t = a.clone(), i = 0; i < e.length; i++) t.push(e[i]);
              return t;
            }),
            a.find ||
              (a.find = function(e) {
                if ('function' != typeof e)
                  throw 'DayPilot.list().find(f): Function expected';
                for (var t = 0; t < this.length; t++) if (e(a[t])) return a[t];
              }),
            a.findIndex ||
              (a.findIndex = function(e) {
                if ('function' != typeof e)
                  throw 'DayPilot.list().findIndex(f): Function expected';
                for (var t = 0; t < this.length; t++) if (e(a[t])) return t;
                return -1;
              }),
            a.some ||
              (a.some = function(e) {
                if ('function' != typeof e)
                  throw 'DayPilot.list().some(f): Function expected';
                for (var t = 0; t < this.length; t++) if (e(a[t])) return !0;
                return !1;
              }),
            a.reduce ||
              (a.reduce = function(e, t) {
                if ('function' != typeof e)
                  throw 'DayPilot.list().reduce(f): Function expected';
                var i,
                  n = 0;
                if ('undefined' != typeof t) i = t;
                else {
                  if (((n = 1), 0 === a.length))
                    throw 'DayPilot.list().reduce(f): No initial value and empty list';
                  i = a[0];
                }
                for (var o = n; o < this.length; o++) i = e(i, a[o], o, this);
                return i;
              }),
            (a.isEmpty = function() {
              return 0 === a.length;
            }),
            i)
          )
            for (var o = 0; o < e.length; o++) a[o] = e[o];
          else n && (a[0] = e);
          return a;
        }),
        (DayPilot.list.for = function(e, t) {
          for (var i = DayPilot.list(), n = 0; n < e; n++)
            'function' == typeof t ? i.push(t(n)) : i.push(n);
          return i;
        }),
        (DayPilot.line = function(e, t, i, n, a) {
          a = a || {};
          var o = { x: e, y: t },
            r = { x: i, y: n, deg: DayPilot.deg(e, t, i, n) },
            l = !1;
          if (t < n) {
            var s = t;
            (t = n), (n = s), (s = e), (e = i), (i = s), (l = !0);
          }
          var d = DayPilot.deg(e, t, i, n),
            c = { x: e, y: t },
            h = { x: i, y: n },
            u = (function() {
              var a = Math.abs(e - i),
                o = Math.abs(t - n),
                r = (e + i) / 2;
              return r - Math.sqrt(a * a + o * o) / 2;
            })(),
            f = (function() {
              return (t + n) / 2;
            })(),
            v = DayPilot.distance(c, h),
            p = document.createElement('div');
          p.setAttribute(
            'style',
            'width:' +
              v +
              'px;height:0px;-moz-transform:rotate(' +
              d +
              'deg);-webkit-transform:rotate(' +
              d +
              'deg);-ms-transform:rotate(' +
              d +
              'deg);transform:rotate(' +
              d +
              'deg);position:absolute;top:' +
              f +
              'px;left:' +
              u +
              'px;'
          ),
            a.cssClass && (p.className = a.cssClass);
          var g = document.createElement('div');
          g.appendChild(p);
          var m,
            y,
            d,
            b,
            w = !!a.arrow;
          if (w) {
            var m = r.y - 5,
              y = r.x - 5,
              d = d;
            r.y > o.y && (d -= 180);
            var b = document.createElement('div');
            (b.style.borderColor = 'black'),
              (b.style.width = '10px'),
              (b.style.height = '10px'),
              (b.style.borderRadius = '10px'),
              (b.style.position = 'absolute'),
              (b.style.left = y + 'px'),
              (b.style.top = m + 'px'),
              a.cssClass
                ? (b.className = a.cssClass + '_circle')
                : (b.style.backgroundColor = 'black'),
              g.appendChild(b);
          }
          return g;
        }),
        (DayPilot.deg = function(e, t, i, n) {
          var a,
            o = Math.abs(e - i),
            r = Math.abs(t - n),
            l = (e + i) / 2,
            s = (t + n) / 2,
            d = Math.sqrt(o * o + r * r),
            c = l - d / 2,
            h = s;
          (o = d / 2),
            (a = Math.abs(l - c)),
            (r = Math.sqrt(
              Math.abs(e - c) * Math.abs(e - c) +
                Math.abs(t - h) * Math.abs(t - h)
            ));
          var u = (r * r - o * o - a * a) / (2 * o * a);
          return (180 * Math.acos(u)) / Math.PI;
        }),
        (DayPilot.complete = function(e) {
          return 'complete' === document.readyState
            ? void e()
            : (DayPilot.complete.list ||
                ((DayPilot.complete.list = []),
                DayPilot.re(document, 'readystatechange', function() {
                  if ('complete' === document.readyState) {
                    for (var e = 0; e < DayPilot.complete.list.length; e++) {
                      (0, DayPilot.complete.list[e])();
                    }
                    DayPilot.complete.list = [];
                  }
                })),
              void DayPilot.complete.list.push(e));
        }),
        (DayPilot.page = function(e) {
          return (
            (e = e || window.event),
            'undefined' == typeof e.pageX || DayPilot.browser.ie
              ? 'undefined' != typeof e.clientX &&
                document.body &&
                document.documentElement
                ? {
                    x:
                      e.clientX +
                      document.body.scrollLeft +
                      document.documentElement.scrollLeft,
                    y:
                      e.clientY +
                      document.body.scrollTop +
                      document.documentElement.scrollTop
                  }
                : null
              : { x: e.pageX, y: e.pageY }
          );
        }),
        (DayPilot.rel = function(e, t) {
          var i = DayPilot.abs(e),
            n = DayPilot.abs(t);
          return {
            x: i.x - n.x,
            y: i.y - n.y,
            w: e.offsetWidth,
            h: e.offsetHeight
          };
        }),
        (DayPilot.abs = function(e, t) {
          if (!e) return null;
          if (!document.body.contains(e)) return null;
          if (e.getBoundingClientRect) {
            var i = DayPilot.absBoundingClientBased(e);
            if (t) {
              var n = DayPilot.absOffsetBased(e, !1),
                t = DayPilot.absOffsetBased(e, !0);
              (i.x += t.x - n.x), (i.y += t.y - n.y), (i.w = t.w), (i.h = t.h);
            }
            return i;
          }
          return DayPilot.absOffsetBased(e, t);
        }),
        (DayPilot.absBoundingClientBased = function(e) {
          var t = e.getBoundingClientRect();
          return {
            x: t.left + window.pageXOffset,
            y: t.top + window.pageYOffset,
            w: e.clientWidth,
            h: e.clientHeight,
            toString: function() {
              return (
                'x:' + this.x + ' y:' + this.y + ' w:' + this.w + ' h:' + this.h
              );
            }
          };
        }),
        (DayPilot.isArray = function(e) {
          return '[object Array]' === Object.prototype.toString.call(e);
        }),
        (DayPilot.absOffsetBased = function(e, t) {
          for (
            var i = {
              x: e.offsetLeft,
              y: e.offsetTop,
              w: e.clientWidth,
              h: e.clientHeight,
              toString: function() {
                return (
                  'x:' +
                  this.x +
                  ' y:' +
                  this.y +
                  ' w:' +
                  this.w +
                  ' h:' +
                  this.h
                );
              }
            };
            DayPilot.op(e);

          )
            (e = DayPilot.op(e)),
              (i.x -= e.scrollLeft),
              (i.y -= e.scrollTop),
              t &&
                (i.x < 0 && ((i.w += i.x), (i.x = 0)),
                i.y < 0 && ((i.h += i.y), (i.y = 0)),
                e.scrollLeft > 0 &&
                  i.x + i.w > e.clientWidth &&
                  (i.w -= i.x + i.w - e.clientWidth),
                e.scrollTop &&
                  i.y + i.h > e.clientHeight &&
                  (i.h -= i.y + i.h - e.clientHeight)),
              (i.x += e.offsetLeft),
              (i.y += e.offsetTop);
          var n = DayPilot.pageOffset();
          return (i.x += n.x), (i.y += n.y), i;
        }),
        (DayPilot.wd = function() {
          var e = DayPilot.isIEQuirks,
            t = document.documentElement.clientHeight;
          e && (t = document.body.clientHeight);
          var i = document.documentElement.clientWidth;
          e && (i = document.body.clientWidth);
          var n =
              (document.documentElement &&
                document.documentElement.scrollTop) ||
              document.body.scrollTop,
            a =
              (document.documentElement &&
                document.documentElement.scrollLeft) ||
              document.body.scrollLeft,
            o = {};
          return (
            (o.width = i),
            (o.height = t),
            (o.scrollTop = n),
            (o.scrollLeft = a),
            o
          );
        }),
        (DayPilot.op = function(e) {
          try {
            return e.offsetParent;
          } catch (e) {
            return document.body;
          }
        }),
        (DayPilot.distance = function(e, t) {
          return Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2));
        }),
        (DayPilot.doc = function() {
          var e = document.documentElement;
          return e && e.clientHeight ? e : document.body;
        }),
        (DayPilot.pageOffset = function() {
          if ('undefined' != typeof window.pageXOffset)
            return { x: window.pageXOffset, y: window.pageYOffset };
          var e = DayPilot.doc();
          return { x: e.scrollLeft, y: e.scrollTop };
        }),
        (DayPilot.ac = function(e, t) {
          if (!t) var t = [];
          for (var i = 0; e.children && i < e.children.length; i++)
            t.push(e.children[i]), DayPilot.ac(e.children[i], t);
          return t;
        }),
        (DayPilot.indexOf = function(e, t, i) {
          if (!e || !e.length) return -1;
          for (var n = 0; n < e.length; n++)
            if (i) {
              if (i(e[n], t)) return n;
            } else if (e[n] === t) return n;
          return -1;
        }),
        (DayPilot.contains = function(e, t) {
          return (
            !!e &&
            ((e === t && !DayPilot.isArray(e)) || DayPilot.indexOf(e, t) !== -1)
          );
        }),
        (DayPilot.rfa = function(e, t) {
          var i = DayPilot.indexOf(e, t);
          i !== -1 && e.splice(i, 1);
        }),
        (DayPilot.sheet = function(e) {
          e = e || window.document;
          var t = e.createElement('style');
          t.setAttribute('type', 'text/css'),
            t.styleSheet || t.appendChild(e.createTextNode('')),
            (e.head || e.getElementsByTagName('head')[0]).appendChild(t);
          var i = !!t.styleSheet,
            n = {};
          return (
            (n.rules = []),
            (n.commit = function() {
              try {
                i && (t.styleSheet.cssText = this.rules.join('\n'));
              } catch (e) {}
            }),
            (n.add = function(e, a, o) {
              if (i) return void this.rules.push(e + '{' + a + '}');
              if (t.sheet.insertRule)
                'undefined' == typeof o && (o = t.sheet.cssRules.length),
                  t.sheet.insertRule(e + '{' + a + '}', o);
              else {
                if (!t.sheet.addRule) throw 'No CSS registration method found';
                t.sheet.addRule(e, a, o);
              }
              return n;
            }),
            n
          );
        }),
        (DayPilot.Args = function(e) {
          var t = this;
          (this.isArgs = !0),
            (this.preventDefault = function() {
              e && e.preventDefault(), (t.preventDefault.value = !0);
            });
        }),
        (DayPilot.Debug = function(e) {
          var t = this;
          (this.printToBrowserConsole = !1),
            (this.enabled = !1),
            (this.messages = []),
            (this.a = null),
            (this.clear = function() {
              (this.messages = []), t.a && (t.a.innerHTML = '');
            }),
            (this.hide = function() {
              DayPilot.de(t.a), (t.a = null);
            }),
            (this.show = function() {
              t.a && t.hide();
              var i = e.nav.top,
                n = document.createElement('div');
              (n.style.position = 'absolute'),
                (n.style.top = '0px'),
                (n.style.bottom = '0px'),
                (n.style.left = '0px'),
                (n.style.right = '0px'),
                (n.style.backgroundColor = 'black'),
                (n.style.color = '#ccc'),
                (n.style.overflow = 'auto'),
                (n.style.webkitUserSelect = 'auto'),
                (n.style.MozUserSelect = 'all'),
                (n.onclick = function() {
                  t.hide();
                });
              for (var a = 0; a < this.messages.length; a++) {
                var o = t.messages[a],
                  r = o.b();
                n.appendChild(r);
              }
              (this.a = n), i.appendChild(n);
            }),
            (this.message = function(e, t) {
              if (this.enabled) {
                var i = {};
                (i.time = new DayPilot.Date()),
                  (i.level = t || 'debug'),
                  (i.text = e),
                  (i.b = function() {
                    var e = document.createElement('div');
                    switch (
                      ((e.innerHTML = i.time + ' (' + i.level + '): ' + i.text),
                      i.level)
                    ) {
                      case 'error':
                        e.style.color = 'red';
                        break;
                      case 'warning':
                        e.style.color = 'orange';
                        break;
                      case 'info':
                        e.style.color = 'white';
                        break;
                      case 'debug':
                    }
                    return e;
                  }),
                  this.messages.push(i),
                  this.printToBrowserConsole &&
                    'undefined' != typeof console &&
                    console.log(i);
              }
            });
        }),
        (DayPilot.re = function(e, t, i) {
          if (i && e)
            if (e.addEventListener) e.addEventListener(t, i, !1);
            else if (e.attachEvent) {
              var n = function(t) {
                i.call(e, t);
              };
              e.attachEvent('on' + t, n);
            }
        }),
        (DayPilot.ue = function(e, t, i) {
          e.removeEventListener
            ? e.removeEventListener(t, i, !1)
            : e.detachEvent && e.detachEvent('on' + t, i);
        }),
        (DayPilot.tr = function(e) {
          return e
            ? 'string' == typeof e
              ? e.replace(/^\s+|\s+$/g, '')
              : e
            : '';
        }),
        (DayPilot.ds = function(e) {
          return DayPilot.Date.toStringSortable(e);
        }),
        (DayPilot.gs = function(e, t) {
          var i = e;
          if (i.currentStyle) var n = i.currentStyle[t];
          else if (window.getComputedStyle)
            var n = document.defaultView
              .getComputedStyle(i, null)
              .getPropertyValue(t);
          return 'undefined' == typeof n && (n = ''), n;
        }),
        (DayPilot.StyleReader = function(e) {
          function t(e) {
            return e.charAt(0).toUpperCase() + e.slice(1);
          }
          (this.get = function(i) {
            var n = DayPilot.list(i.split('-')),
              a = n.reduce(function(e, i, n) {
                return (i = t(i)), e + i;
              });
            return e ? DayPilot.gs(e, a) || DayPilot.gs(e, i) : null;
          }),
            (this.getPx = function(e) {
              var t = this.get(e);
              return t.indexOf('px') === -1 ? void 0 : parseInt(t, 10);
            }),
            (this.getFont = function() {
              var e = 'bold' === this.get('font-weight') ? 'bold' : '',
                t = 'italic' === this.get('font-style') ? 'italic' : '';
              return {
                family: this.get('font-family'),
                size: this.get('font-size'),
                style: t + ' ' + e
              };
            }),
            (this.getBackColor = function(e) {
              'undefined' == typeof e && (e = 'white');
              var t = this.get('background-color');
              return DayPilot.Util.isTransparentColor(t) ? e : t;
            });
        }),
        (DayPilot.he = function(e) {
          var t = e.replace(/&/g, '&amp;');
          return (
            (t = t.replace(/</g, '&lt;')),
            (t = t.replace(/>/g, '&gt;')),
            (t = t.replace(/"/g, '&quot;'))
          );
        }),
        (DayPilot.he2 = function(e) {
          var t = document.createTextNode(e),
            i = document.createElement('div');
          return i.appendChild(t), i.innerHTML;
        }),
        (DayPilot.us = function(e) {
          if (e) {
            e.setAttribute('unselectable', 'on'),
              (e.style.userSelect = 'none'),
              (e.style.MozUserSelect = 'none'),
              (e.style.KhtmlUserSelect = 'none'),
              (e.style.webkitUserSelect = 'none');
            for (var t = 0; t < e.childNodes.length; t++)
              1 === e.childNodes[t].nodeType && DayPilot.us(e.childNodes[t]);
          }
        }),
        (DayPilot.pu = function(e) {
          var t,
            i,
            n,
            a = e.attributes;
          if (a)
            for (i = a.length, t = 0; t < i; t += 1)
              a[t] &&
                ((n = a[t].name), 'function' == typeof e[n] && (e[n] = null));
          if ((a = e.childNodes))
            for (i = a.length, t = 0; t < i; t += 1) {
              DayPilot.pu(e.childNodes[t]);
            }
        }),
        (DayPilot.puc = function(e) {
          var t,
            i,
            n = e.childNodes;
          if (n) {
            var i = n.length;
            for (t = 0; t < i; t += 1) DayPilot.pu(e.childNodes[t]);
          }
        }),
        (DayPilot.de = function(e) {
          if (e)
            if (DayPilot.isArray(e))
              for (var t = 0; t < e.length; t++) DayPilot.de(e[t]);
            else e.parentNode && e.parentNode.removeChild(e);
        }),
        (DayPilot.fade = function(e, t, i) {
          if (e) {
            clearTimeout(e.messageTimeout);
            var n = 'none' !== e.style.display,
              a = t > 0,
              o = t < 0;
            if (0 !== t) {
              if ((a ? (e.status = 'in') : o && (e.status = 'out'), a && !n))
                (e.target = parseFloat(e.style.opacity)),
                  (e.opacity = 0),
                  (e.style.opacity = 0),
                  (e.style.filter = 'alpha(opacity=0)'),
                  (e.style.display = '');
              else if (o && !e.target) e.target = e.style.opacity;
              else {
                var r = e.opacity,
                  l = Math.floor(10 * (r + t)) / 10;
                a && l > e.target && (l = e.target), o && l < 0 && (l = 0);
                var s = 100 * l;
                (e.opacity = l),
                  (e.style.opacity = l),
                  (e.style.filter = 'alpha(opacity=' + s + ')');
              }
              if (
                (a && (e.opacity >= e.target || e.opacity >= 1)) ||
                (o && e.opacity <= 0)
              ) {
                if (((e.target = null), o)) {
                  (e.style.opacity = e.target), (e.opacity = e.target);
                  var d = e.target
                    ? 'alpha(opacity=' + 100 * e.target + ')'
                    : null;
                  (e.style.filter = d), (e.style.display = 'none');
                }
                i && 'function' == typeof i && ((e.status = null), i());
              } else
                e.messageTimeout = setTimeout(function() {
                  DayPilot.fade(e, t, i);
                }, 50);
            }
          }
        }),
        (DayPilot.sw = function(e) {
          return e ? e.offsetWidth - e.clientWidth : 0;
        }),
        (DayPilot.swa = function() {
          var e = document.createElement('div');
          (e.style.position = 'absolute'),
            (e.style.top = '-2000px'),
            (e.style.left = '-2000px'),
            (e.style.width = '200px'),
            (e.style.height = '100px'),
            (e.style.overflow = 'auto');
          var t = document.createElement('div');
          (t.style.width = '300px'),
            (t.style.height = '300px'),
            e.appendChild(t),
            document.body.appendChild(e);
          var i = DayPilot.sw(e);
          return document.body.removeChild(e), i;
        }),
        (DayPilot.sh = function(e) {
          return e ? e.offsetHeight - e.clientHeight : 0;
        }),
        (DayPilot.guid = function() {
          var e = function() {
            return ((65536 * (1 + Math.random())) | 0)
              .toString(16)
              .substring(1);
          };
          return (
            '' +
            e() +
            e() +
            '-' +
            e() +
            '-' +
            e() +
            '-' +
            e() +
            '-' +
            e() +
            e() +
            e()
          );
        }),
        (DayPilot.ua = function(e) {
          if ('string' == typeof e || 'number' == typeof e) return [e];
          for (var t = {}, i = [], n = 0, a = e.length; n < a; ++n)
            e[n] in t || (i.push(e[n]), (t[e[n]] = 1));
          return i;
        }),
        (DayPilot.am = function() {
          return 'undefined' == typeof angular
            ? null
            : (DayPilot.am.cached ||
                (DayPilot.am.cached = angular.module('daypilot', [])),
              DayPilot.am.cached);
        }),
        (function() {
          function e(e, n) {
            var a = {
              w: e.offsetWidth,
              h: e.offsetHeight,
              x: parseInt(e.style.left),
              y: parseInt(e.style.top)
            };
            (a.height = e.style.height),
              (a.width = e.style.width),
              (a.top = e.style.top),
              (a.left = e.style.left),
              (a.toString = function() {
                return 'w: ' + this.w + ' h:' + this.h;
              });
            var o = {};
            if (
              ((o.finished = null),
              (o.vertical = 'center'),
              (o.horizontal = 'center'),
              n)
            )
              for (var r in n) o[r] = n[r];
            (e.style.visibility = 'hidden'), (e.style.display = '');
            var l = n.animation || 'fast',
              s = t(l);
            (s.div = e), (s.i = 0), (s.target = a), (s.config = o), i(s);
          }
          function t(e) {
            var t = function() {
                var e = [];
                e.time = 10;
                var t,
                  i = 0.08;
                t = 0.1;
                for (var n = t; n < 1.2; n += i) e.push(n), (t = n);
                i = 0.03;
                for (var n = t; n > 0.8; n -= i) e.push(n), (t = n);
                for (var n = t; n <= 1; n += i) e.push(n), (t = n);
                return e;
              },
              i = function() {
                var e = [];
                e.time = 10;
                var t,
                  i = 0.04;
                t = 0.1;
                for (var n = t; n <= 1; n += i) e.push(n), (t = n);
                return e;
              },
              n = function() {
                var e = [];
                e.time = 10;
                var t,
                  i = 0.08;
                t = 0.1;
                for (var n = t; n <= 1; n += i) e.push(n), (t = n);
                return e;
              },
              a = { fast: n, slow: i, jump: t };
            return a[e] || (e = 'fast'), a[e]();
          }
          function i(e) {
            var t,
              n = e.div,
              a = e[e.i],
              o = a * e.target.h;
            switch (e.config.vertical) {
              case 'center':
                t = e.target.y - (o - e.target.h) / 2;
                break;
              case 'top':
                t = e.target.y;
                break;
              case 'bottom':
                t = e.target.y - (o - e.target.h);
                break;
              default:
                throw "Unexpected 'vertical' value.";
            }
            var r,
              l = a * e.target.w;
            switch (e.config.horizontal) {
              case 'left':
                r = e.target.x;
                break;
              case 'center':
                r = e.target.x - (l - e.target.w) / 2;
                break;
              case 'right':
                r = e.target.x - (l - e.target.w);
                break;
              default:
                throw "Unexpected 'horizontal' value.";
            }
            (n.style.height = o + 'px'),
              (n.style.top = t + 'px'),
              (n.style.width = l + 'px'),
              (n.style.left = r + 'px'),
              (n.style.visibility = 'visible'),
              e.i++,
              e.i < e.length - 1
                ? setTimeout(
                    (function(e) {
                      return function() {
                        i(e);
                      };
                    })(e),
                    e.time
                  )
                : ((n.style.width = e.target.width),
                  (n.style.height = e.target.height),
                  (n.style.top = e.target.top),
                  (n.style.left = e.target.left),
                  'function' == typeof e.config.finished &&
                    e.config.finished());
          }
          DayPilot.pop = e;
        })(),
        (DayPilot.Util = {}),
        (DayPilot.Util.addClass = function(e, t) {
          if (t && e)
            if (DayPilot.isArray(e))
              for (var i = 0; i < e.length; i++)
                DayPilot.Util.addClass(e[i], t);
            else {
              if (!e.className) return void (e.className = t);
              var n = new RegExp('(^|\\s)' + t + '($|\\s)');
              n.test(e.className) || (e.className = e.className + ' ' + t);
            }
        }),
        (DayPilot.Util.normalizeColor = function(e) {
          function t(e) {
            return (
              (e = e.replace(/[^\d,]/g, '').split(',')),
              '#' +
                ((1 << 24) + (+e[0] << 16) + (+e[1] << 8) + +e[2])
                  .toString(16)
                  .slice(1)
            );
          }
          return 0 === e.indexOf('rgb') ? t(e) : e;
        }),
        (DayPilot.Util.addClassToString = function(e, t) {
          return e
            ? new RegExp('(^|\\s)' + t + '($|\\s)').test(e)
              ? e
              : e + ' ' + t
            : t;
        }),
        (DayPilot.Util.removeClassFromString = function(e, t) {
          if (!e) return '';
          var i = new RegExp('(^|\\s)' + t + '($|\\s)');
          return e
            .replace(i, ' ')
            .replace(/^\s\s*/, '')
            .replace(/\s\s*$/, '');
        }),
        (DayPilot.Util.removeClass = function(e, t) {
          if (e)
            if (DayPilot.isArray(e))
              for (var i = 0; i < e.length; i++)
                DayPilot.Util.removeClass(e[i], t);
            else if (e.className) {
              var n = new RegExp('(^|\\s)' + t + '($|\\s)');
              e.className = e.className
                .replace(n, ' ')
                .replace(/^\s\s*/, '')
                .replace(/\s\s*$/, '');
            }
        }),
        (DayPilot.Util.props = function(e) {
          var t = [];
          for (var i in e) t.push(i), t.push(e[i]);
          return t.join('-');
        }),
        (DayPilot.Util.propArray = function(e, t, i) {
          return DayPilot.list(e).map(function(e) {
            return e[t] ? e[t] : i;
          });
        }),
        (DayPilot.Util.updatePropsFromArray = function(e, t, i) {
          for (var n = 0; n < i.length; n++) e[n][t] = i[n];
        }),
        (DayPilot.Util.copyProps = function(e, t, i) {
          if (e) {
            if ((t || (t = {}), 'undefined' == typeof i))
              for (var n in e)
                e.hasOwnProperty(n) &&
                  'undefined' != typeof e[n] &&
                  (t[n] = e[n]);
            else
              for (var a = 0; a < i.length; a++) {
                var n = i[a];
                'undefined' != typeof e[n] && (t[n] = e[n]);
              }
            return t;
          }
        }),
        (DayPilot.Util.ownPropsAsArray = function(e) {
          var t = [];
          if (!e) return t;
          for (var i in e)
            if (e.hasOwnProperty(i)) {
              var n = {};
              (n.key = i), (n.val = e[i]), t.push(n);
            }
          return t;
        }),
        (DayPilot.Util.firstPropValue = function(e) {
          for (var t in e) return e[t];
        }),
        (DayPilot.Util.isOnlyProperty = function(e, t) {
          if (!e) return !1;
          for (var i in e) if (e.hasOwnProperty(i) && i !== t) return !1;
          return !0;
        }),
        (DayPilot.Util.createArrayCopy = function(e, t) {
          if (!DayPilot.isArray(e)) return [];
          for (var i = [], n = 0; n < e.length; n++) {
            var a = {};
            DayPilot.Util.copyProps(e[n], a, t), i.push(a);
          }
          return i;
        }),
        (DayPilot.Util.atLeast = function(e, t) {
          return Math.max(e, t);
        }),
        (DayPilot.Util.avg = function(e, t) {
          return (e + t) / 2;
        }),
        (DayPilot.Util.div = function(e, t, i, n, a) {
          var o = document.createElement('div');
          return (
            (t || i || n || a) &&
              (n < 0 && ((t += n), (n *= -1)),
              a < 0 && ((i += a), (a *= -1)),
              (o.style.position = 'absolute'),
              'number' == typeof t
                ? (o.style.left = t + 'px')
                : 'string' == typeof t && (o.style.left = t),
              'number' == typeof i
                ? (o.style.top = i + 'px')
                : 'string' == typeof i && (o.style.top = i),
              'number' == typeof n
                ? (o.style.width = n + 'px')
                : 'string' == typeof n && (o.style.width = n),
              'number' == typeof a
                ? (o.style.height = a + 'px')
                : 'string' == typeof a && (o.style.height = a)),
            e && e.appendChild(o),
            o
          );
        }),
        (DayPilot.Util.overlaps = function(e, t, i, n) {
          return !(t <= i || e >= n);
        }),
        (DayPilot.Util.isMouseEvent = function(e) {
          return (
            !!navigator.msPointerEnabled &&
            (!!e.pointerType &&
              ('mouse' === e.pointerType || 4 === e.pointerType))
          );
        }),
        (DayPilot.Util.mouseButton = function(e) {
          var t = {};
          switch (e.button) {
            case 0:
              t.left = !0;
              break;
            case 1:
              t.middle = !0;
              break;
            case 2:
              t.right = !0;
          }
          return t;
        }),
        (DayPilot.Util.membersPlain = function(e) {
          var t = DayPilot.Util.members(e, 2),
            i = function(e) {
              for (var t = 0; t < e.length; t++) {
                var i = e[t],
                  n = i.name;
                i.obsolete && (n += ' (obsolete)'),
                  i.noCssOnly && (n += ' (!cssOnly)'),
                  i.aspnet && (n += ' (ASP.NET)'),
                  i.mvc && (n += '(MVC)'),
                  (e[t] = n);
              }
            };
          return i(t.events), i(t.methods), i(t.properties), t;
        }),
        (DayPilot.Util.shouldApply = function(e) {
          if (!e) return !1;
          var t = e.toLowerCase();
          return (
            !(t.indexOf('before') >= 0) &&
            (!(t.indexOf('after') >= 0) &&
              ('onrowfilter' !== t && 'oneventfilter' !== t))
          );
        }),
        (DayPilot.Util.safeApply = function(e, t) {
          var i = e['$root']['$$phase'];
          '$apply' === i || '$digest' === i ? e['$eval'](t) : e['$apply'](t);
        }),
        (DayPilot.Util.members = function(e, t) {
          var i = DayPilot.list(),
            n = DayPilot.list(),
            a = DayPilot.list(),
            o = e && e.members ? e.members.obsolete : [],
            r = e && e.members ? e.members.noCssOnly : [],
            l = e && e.members ? e.members.ignore : [],
            s =
              e && e.members && e.members.ignoreFilter
                ? e.members.ignoreFilter
                : function() {
                    return !1;
                  };
          for (var d in e)
            if (
              0 !== d.indexOf('$') &&
              0 !== d.indexOf('_') &&
              0 !== d.indexOf('number') &&
              0 !== d.indexOf('is') &&
              'v' !== d &&
              !DayPilot.contains(l, d) &&
              !s(d)
            )
              if (0 !== d.indexOf('on'))
                if ('function' != typeof e[d])
                  if ('object' != typeof e[d]) a.push(d);
                  else {
                    var c = e[d];
                    if (0 === t) {
                      a.push(d);
                      continue;
                    }
                    if (c && c.nodeType > 0) {
                      a.push(d);
                      continue;
                    }
                    if (c instanceof DayPilot.Bubble) {
                      a.push(d);
                      continue;
                    }
                    if (c instanceof DayPilot.Date) {
                      a.push(d);
                      continue;
                    }
                    if (c instanceof DayPilot.Menu) {
                      a.push(d);
                      continue;
                    }
                    if (c instanceof DayPilot.Scheduler) {
                      a.push(d);
                      continue;
                    }
                    if (DayPilot.isArray(c)) {
                      a.push(d);
                      continue;
                    }
                    null === c && a.push(d);
                    var h = null;
                    'number' == typeof t && (h = t - 1);
                    for (
                      var u = DayPilot.Util.members(c, h), f = 0;
                      f < u.events.length;
                      f++
                    )
                      i.push(d + '.' + u.events[f].name);
                    for (var f = 0; f < u.methods.length; f++)
                      n.push(d + '.' + u.methods[f].name);
                    for (var f = 0; f < u.properties.length; f++)
                      a.push(d + '.' + u.properties[f].name);
                  }
                else n.push(d);
              else i.push(d);
          i.sort(), n.sort(), a.sort();
          var v = function(e) {
            for (var t = 0; t < e.length; t++) {
              var i = e[t],
                n = {};
              (n.name = i),
                (e[t] = n),
                DayPilot.contains(o, i) && (n.obsolete = !0),
                DayPilot.contains(r, i) && (n.noCssOnly = !0),
                i.indexOf('CallBack') !== -1 && ((n.aspnet = !0), (n.mvc = !0)),
                i.indexOf('PostBack') !== -1 && (n.aspnet = !0),
                i.indexOf('Notify') !== -1 && ((n.aspnet = !0), (n.mvc = !0));
            }
          };
          return v(i), v(n), v(a), { events: i, methods: n, properties: a };
        }),
        (DayPilot.Util.replaceCharAt = function(e, t, i) {
          return e.substr(0, t) + i + e.substr(t + i.length);
        }),
        (DayPilot.Util.evalVariable = function(e, t) {
          if (((t = t || ['object']), null === e || 'undefined' == typeof e))
            return null;
          if (DayPilot.indexOf(t, typeof e) !== -1) return e;
          if ('string' != typeof e)
            throw 'Unable to resolve a variable name (not a string).';
          if (!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e))
            throw 'Invalid variable name: ' + e;
          return eval(e);
        }),
        (DayPilot.Util.evalFunction = function(e) {
          if (null === e) return null;
          if ('function' == typeof e) return e;
          if ('string' != typeof e)
            throw 'Unable to resolve a function (not a string).';
          if (!/^\(?function/.test(e)) throw 'Invalid function string';
          return eval('(' + e + ')');
        }),
        (DayPilot.Util.isNullOrUndefined = function(e) {
          return null === e || 'undefined' == typeof e;
        }),
        (DayPilot.Util.log = function(e) {
          window.console && window.console.log && window.console.log(e);
        }),
        (DayPilot.Util.workerFrom = function(e) {
          var t = e.toString(),
            i = t.slice(t.indexOf('{') + 1, t.lastIndexOf('}')),
            n = new Blob([i]),
            a = window.URL.createObjectURL(n);
          return new Worker(a);
        }),
        (DayPilot.Util.dataUriToBlob = function(e) {
          if ('string' != typeof e)
            throw 'DayPilot.Util.dataUriToBlob(): dataURI string expected';
          for (
            var t = e.split(','),
              i = t[0],
              n = t[1],
              a = i.indexOf('base64') !== -1,
              o = a ? atob : decodeURI,
              r = i.split(':')[1].split(';')[0],
              l = o(n),
              s = new window.Uint8Array(l.length),
              d = 0;
            d < l.length;
            d++
          )
            s[d] = l.charCodeAt(d);
          return new Blob([s], { type: r });
        }),
        (DayPilot.Util.downloadDataUri = function(e, t) {
          var i = DayPilot.Util.dataUriToBlob(e);
          DayPilot.Util.downloadBlob(i, t);
        }),
        (DayPilot.Util.downloadBlob = function(e, t) {
          var t = t || 'download';
          if (window.navigator.msSaveBlob) window.navigator.msSaveBlob(e, t);
          else {
            var i = window.URL.createObjectURL(e),
              n = document.createElement('a');
            (n.download = t),
              (n.href = i),
              (n.style = 'display:none'),
              document.body.appendChild(n),
              n.click(),
              setTimeout(function() {
                document.body.removeChild(n), window.URL.revokeObjectURL(i);
              });
          }
        }),
        (DayPilot.Util.monitor = function(e, t, i) {
          var n = e[t];
          e[t] = function() {
            i.apply(e, arguments), n.apply(e, arguments);
          };
        }),
        (DayPilot.Util.isTransparentColor = function(e) {
          return 'transparent' === e || 'rgba(0, 0, 0, 0)' === e;
        }),
        (DayPilot.Util.stripTags = function(e) {
          if (DayPilot.Util.isNullOrUndefined(e)) return e;
          if ('string' == typeof e) return e.replace(/<(?:.|\n)*?>/gm, '');
          throw new DayPilot.Exception(
            'Unable to strip tags from a non-string'
          );
        }),
        (DayPilot.Util.escapeHtml = function(e) {
          var t = document.createElement('div');
          return (t.innerText = e), t.innerHTML;
        }),
        (DayPilot.Util.isSameEvent = function(e, t) {
          return (
            !(!e || !t) &&
            ((e = e instanceof DayPilot.Event ? e.data : e),
            (t = t instanceof DayPilot.Event ? t.data : t),
            e === t ||
              ((!DayPilot.Util.isNullOrUndefined(e.id) && e.id === t.id) ||
                (!(
                  !DayPilot.Util.isNullOrUndefined(e.id) ||
                  DayPilot.Util.isNullOrUndefined(e.recurrentMasterId)
                ) &&
                  (e.recurrentMasterId === t.recurrentMasterId &&
                    new DayPilot.Date(e.start) ===
                      new DayPilot.Date(t.start)))))
          );
        }),
        (DayPilot.Areas = {}),
        (DayPilot.Areas.attach = function(e, t, n) {
          var n = n || {},
            a = n.areas,
            o =
              n.allowed ||
              function() {
                return !0;
              },
            r = n.offsetX || 0;
          (a = i(t, a)),
            a &&
              DayPilot.isArray(a) &&
              0 !== a.length &&
              (DayPilot.re(e, 'mousemove', function(i) {
                e.active ||
                  e.areasDisabled ||
                  !o() ||
                  DayPilot.Areas.showAreas(e, t, i, a, {
                    offsetX: r,
                    eventDiv: n.eventDiv
                  });
              }),
              DayPilot.re(e, 'mouseout', function(t) {
                DayPilot.Areas.hideAreas(e, t);
              }),
              DayPilot.list(a).each(function(i) {
                if ('Visible' === (i.visibility || i.v || 'Visible')) {
                  var a = DayPilot.Areas.createArea(e, t, i, {
                    offsetX: r,
                    eventDiv: n.eventDiv
                  });
                  e.appendChild(a);
                }
              }));
        }),
        (DayPilot.Areas.disable = function(e) {
          (e.areasDisabled = !0),
            DayPilot.list(e.childNodes)
              .filter(function(e) {
                return e.isActiveArea && !e.area.start;
              })
              .each(function(e) {
                e.style.display = 'none';
              });
        }),
        (DayPilot.Areas.enable = function(e) {
          (e.areasDisabled = !1),
            DayPilot.list(e.childNodes)
              .filter(function(e) {
                return e.isActiveArea && !e.area.start;
              })
              .each(function(e) {
                e.style.display = '';
              });
        }),
        (DayPilot.Areas.remove = function(e) {
          var t = DayPilot.list(e.childNodes).filter(function(e) {
            return e.isActiveArea;
          });
          DayPilot.de(t);
        });
      var i = function(e, t) {
        return (
          DayPilot.isArray(t) ||
            ((t = e.areas),
            t ||
              (e.cache ? (t = e.cache.areas) : e.data && (t = e.data.areas))),
          t
        );
      };
      (DayPilot.Areas.showAreas = function(e, t, i, n, a) {
        if (!DayPilot.Global.resizing && !DayPilot.Global.moving && !e.active) {
          if (DayPilot.Areas.all && DayPilot.Areas.all.length > 0)
            for (var o = 0; o < DayPilot.Areas.all.length; o++) {
              var r = DayPilot.Areas.all[o];
              r !== e && DayPilot.Areas.hideAreas(r, i);
            }
          if (
            ((e.active = {}),
            DayPilot.isArray(n) ||
              ((n = t.areas),
              n ||
                (t.cache ? (n = t.cache.areas) : t.data && (n = t.data.areas))),
            n && 0 !== n.length && !(e.areas && e.areas.length > 0))
          ) {
            e.areas = [];
            for (var o = 0; o < n.length; o++) {
              var l = n[o];
              if ('Hover' === (l.visibility || l.v || 'Visible')) {
                var s = DayPilot.Areas.createArea(e, t, l, a);
                e.areas.push(s), e.appendChild(s), DayPilot.Areas.all.push(e);
              }
            }
            e.active.children = DayPilot.ac(e);
          }
        }
      }),
        (DayPilot.Areas.createArea = function(e, t, i, n) {
          function a(e, t, i) {
            DayPilot.Bubble && DayPilot.Bubble.touchPosition(i),
              e.calendar.bubble && e.calendar.bubble.showEvent(e, !0);
          }
          function o(e, t, i, n) {
            DayPilot.Menu && DayPilot.Menu.touchPosition(n);
            var a = i.contextMenu || i.menu;
            if (
              (a instanceof DayPilot.Menu ||
                ('string' == typeof a
                  ? (a = DayPilot.Util.evalVariable(a))
                  : t.isEvent && t.client.contextMenu()
                  ? (a = t.client.contextMenu())
                  : t.isEvent && t.calendar.contextMenu
                  ? (a = DayPilot.Util.evalVariable(t.calendar.contextMenu))
                  : t.isRow &&
                    t.calendar.contextMenuResource &&
                    (a = DayPilot.Util.evalVariable(
                      t.calendar.contextMenuResource
                    ))),
              a && a.show)
            ) {
              var o = { type: 'area', div: e, e: t, area: i };
              a.show(t, { initiator: o });
            }
          }
          var n = n || {},
            r = n.offsetX || 0,
            l = n.eventDiv || e,
            s = document.createElement('div');
          (s.isActiveArea = !0),
            (s.area = i),
            s.setAttribute('unselectable', 'on');
          var d = i.w || i.width,
            c = i.h || i.height,
            h = i.cssClass || i.css || i.className;
          if (
            ('undefined' != typeof i.style && s.setAttribute('style', i.style),
            (s.style.position = 'absolute'),
            'undefined' != typeof d && (s.style.width = d + 'px'),
            'undefined' != typeof c && (s.style.height = c + 'px'),
            'undefined' != typeof i.right && (s.style.right = i.right + 'px'),
            'undefined' != typeof i.top && (s.style.top = i.top + 'px'),
            'undefined' != typeof i.left && (s.style.left = i.left + r + 'px'),
            'undefined' != typeof i.bottom &&
              (s.style.bottom = i.bottom + 'px'),
            'undefined' != typeof i.html && i.html)
          )
            s.innerHTML = i.html;
          else if (i.icon) {
            var u = document.createElement('i');
            (u.className = i.icon), s.appendChild(u);
          } else if (i.image) {
            var f = document.createElement('img');
            (f.src = i.image), s.appendChild(f);
          }
          if (
            (h && (s.className = h),
            i.toolTip && s.setAttribute('title', i.toolTip),
            i.backColor && (s.style.background = i.backColor),
            i.background && (s.style.background = i.background),
            i.fontColor && (s.style.color = i.fontColor),
            i.padding &&
              ((s.style.padding = i.padding + 'px'),
              (s.style.boxSizing = 'border-box')),
            'ResizeEnd' === i.action ||
              'ResizeStart' === i.action ||
              'Move' === i.action)
          ) {
            if (t.calendar.isCalendar)
              switch (i.action) {
                case 'ResizeEnd':
                  (i.cursor = 's-resize'), (i.dpBorder = 'bottom');
                  break;
                case 'ResizeStart':
                  (i.cursor = 'n-resize'), (i.dpBorder = 'top');
                  break;
                case 'Move':
                  i.cursor = 'move';
              }
            if (t.calendar.isScheduler || t.calendar.isMonth)
              switch (i.action) {
                case 'ResizeEnd':
                  (i.cursor = 'e-resize'), (i.dpBorder = 'right');
                  break;
                case 'ResizeStart':
                  (i.cursor = 'w-resize'), (i.dpBorder = 'left');
                  break;
                case 'Move':
                  i.cursor = 'move';
              }
            (s.onmousemove = (function(e, t, i) {
              return function(n) {
                var n = n || window.event;
                (t.calendar.internal &&
                  t.calendar.internal.dragInProgress &&
                  t.calendar.internal.dragInProgress()) ||
                  ((n.cancelBubble = !0),
                  (e.style.cursor = i.cursor),
                  i.dpBorder && (e.dpBorder = i.dpBorder));
              };
            })(l, t, i)),
              (s.onmouseout = (function(e, t, i) {
                return function(t) {
                  e.style.cursor = '';
                };
              })(l, t, i));
          }
          if (
            ('ResizeEnd' === i.action || 'ResizeStart' === i.action) &&
            t.isEvent &&
            t.calendar.internal.touch
          ) {
            var v = (function(e, t, i) {
              return function(n) {
                n.cancelBubble = !0;
                var a = t.calendar.internal.touch,
                  o = n.touches ? n.touches[0] : n,
                  r = { x: o.pageX, y: o.pageY };
                (t.calendar.coords = a.relativeCoords(n)),
                  (a.preventEventTap = !0),
                  t.calendar.isScheduler
                    ? a.startResizing(
                        e,
                        'ResizeEnd' === i.action ? 'right' : 'left'
                      )
                    : t.calendar.isCalendar &&
                      a.startResizing(
                        e,
                        'ResizeEnd' === i.action ? 'bottom' : 'top',
                        r
                      );
              };
            })(l, t, i);
            DayPilot.re(s, DayPilot.touch.start, v);
          }
          if (
            'ContextMenu' === i.action &&
            t.isEvent &&
            t.calendar.internal.touch
          ) {
            var v = (function(e, t, i) {
                return function(n) {
                  (n.cancelBubble = !0),
                    n.preventDefault(),
                    o(e, t, i, n),
                    (t.calendar.internal.touch.preventEventTap = !0);
                };
              })(l, t, i),
              p = (function(e, t, i) {
                return function(e) {
                  (e.cancelBubble = !0), e.preventDefault();
                };
              })(l, t, i);
            DayPilot.re(s, DayPilot.touch.start, v),
              DayPilot.re(s, DayPilot.touch.end, p);
          }
          if ('Bubble' === i.action && t.isEvent && t.calendar.internal.touch) {
            var v = (function(e, t, i) {
                return function(e) {
                  (e.cancelBubble = !0),
                    e.preventDefault(),
                    a(t, i, e),
                    (t.calendar.internal.touch.preventEventTap = !0);
                };
              })(l, t, i),
              p = (function(e, t, i) {
                return function(e) {
                  (e.cancelBubble = !0), e.preventDefault();
                };
              })(l, t, i);
            DayPilot.re(s, DayPilot.touch.start, v),
              DayPilot.re(s, DayPilot.touch.end, p);
          }
          if ('Move' === i.action && t.isEvent && t.calendar.internal.touch) {
            var v = (function(e, t, i) {
              return function(i) {
                i.cancelBubble = !0;
                var n = t.calendar.internal.touch,
                  a = i.touches ? i.touches[0] : i,
                  o = { x: a.pageX, y: a.pageY };
                (t.calendar.coords = n.relativeCoords(i)),
                  (n.preventEventTap = !0),
                  n.startMoving(e, o);
              };
            })(l, t, i);
            DayPilot.re(s, DayPilot.touch.start, v);
          }
          if (
            ('Move' === i.action && t.isRow && t.calendar.internal.touch,
            'Bubble' === i.action &&
              t.isEvent &&
              ((s.onmousemove = (function(e, t, i) {
                return function(e) {
                  i.bubble
                    ? i.bubble.showEvent(t, !0)
                    : t.calendar.bubble && t.calendar.bubble.showEvent(t, !0);
                };
              })(e, t, i)),
              (s.onmouseout = (function(e, t, i) {
                return function(e) {
                  'undefined' != typeof DayPilot.Bubble &&
                    (i.bubble
                      ? i.bubble.hideOnMouseOut()
                      : t.calendar.bubble &&
                        t.calendar.bubble.hideOnMouseOut());
                };
              })(e, t, i))),
            'Bubble' === i.action &&
              t.isRow &&
              ((s.onmousemove = (function(e, t, i) {
                return function(e) {
                  i.bubble
                    ? i.bubble.showResource(t, !0)
                    : t.calendar.resourceBubble &&
                      t.calendar.resourceBubble.showResource(t, !0);
                };
              })(e, t, i)),
              (s.onmouseout = (function(e, t, i) {
                return function(e) {
                  'undefined' != typeof DayPilot.Bubble &&
                    (i.bubble
                      ? i.bubble.hideOnMouseOut()
                      : t.calendar.resourceBubble &&
                        t.calendar.resourceBubble.hideOnMouseOut());
                };
              })(e, t, i))),
            'HoverMenu' === i.action &&
              ((s.onmousemove = (function(e, t, i) {
                return function(e) {
                  var n = i.menu;
                  'string' == typeof n && (n = DayPilot.Util.evalVariable(n)),
                    n &&
                      n.show &&
                      (n.visible
                        ? n.source &&
                          'undefined' != typeof n.source.id &&
                          n.source.id !== t.id &&
                          n.show(t)
                        : n.show(t),
                      n.cancelHideTimeout());
                };
              })(e, t, i)),
              (s.onmouseout = (function(e, t, i) {
                return function(e) {
                  var t = i.menu;
                  'string' == typeof t && (t = DayPilot.Util.evalVariable(t)),
                    t && t.hideOnMouseOver && t.delayedHide();
                };
              })(e, t, i))),
            'JavaScript' === i.action)
          ) {
            var v = (function(e, t, i) {
                return function(e) {
                  if (!DayPilot.Util.isMouseEvent(e)) {
                    (e.cancelBubble = !0), e.preventDefault();
                    t.calendar.internal.touch.start = !0;
                  }
                };
              })(l, t, i),
              p = (function(e, t, i) {
                return function(e) {
                  if (!DayPilot.Util.isMouseEvent(e)) {
                    (e.cancelBubble = !0), e.preventDefault();
                    t.calendar.internal.touch.start = !1;
                    var n = i.js;
                    if (
                      ('string' == typeof n &&
                        (n = DayPilot.Util.evalFunction(i.js)),
                      'function' == typeof n)
                    ) {
                      var a = i.target || t;
                      n.call(this, a);
                    }
                  }
                };
              })(l, t, i);
            DayPilot.re(s, DayPilot.touch.start, v),
              DayPilot.re(s, DayPilot.touch.end, p);
          }
          return (
            (s.onmousedown = (function(e, t, i) {
              return function(n) {
                if (
                  ('function' == typeof i.onmousedown && i.onmousedown(n),
                  'function' == typeof i.mousedown)
                ) {
                  var a = {};
                  (a.area = i),
                    (a.div = e),
                    (a.originalEvent = n),
                    (a.source = t),
                    i.mousedown(a);
                }
                if ('Move' === i.action && t.isRow) {
                  var o = t.$.row;
                  t.calendar.internal.rowtools.startMoving(o);
                }
                'undefined' != typeof DayPilot.Bubble &&
                  DayPilot.Bubble.hideActive(),
                  'Move' === i.action &&
                    (DayPilot.Global.movingAreaData = i.data),
                  'Move' === i.action &&
                    t.isEvent &&
                    t.calendar.internal &&
                    t.calendar.internal.startMoving &&
                    t.calendar.internal.startMoving(e, n);
                'Move' !== i.action &&
                  'ResizeEnd' !== i.action &&
                  'ResizeStart' !== i.action &&
                  i.action &&
                  ((n = n || window.event),
                  n.preventDefault(),
                  (n.cancelBubble = !0));
              };
            })(e, t, i)),
            (s.onclick = (function(e, t, i) {
              return function(n) {
                var n = n || window.event,
                  a = {};
                if (
                  ((a.area = i),
                  (a.source = t),
                  (a.originalEvent = n),
                  (a.preventDefault = function() {
                    a.preventDefault.value = !0;
                  }),
                  'function' != typeof i.onClick ||
                    (i.onClick(a), !a.preventDefault.value))
                ) {
                  switch (i.action) {
                    case 'JavaScript':
                      var r = i.js;
                      if (
                        ('string' == typeof r &&
                          (r = DayPilot.Util.evalFunction(i.js)),
                        'function' == typeof r)
                      ) {
                        var l = i.target || t;
                        r.call(this, l);
                      }
                      n.cancelBubble = !0;
                      break;
                    case 'ContextMenu':
                      o(e, t, i, n), (n.cancelBubble = !0);
                      break;
                    case 'CallBack':
                      alert('callback not implemented yet, id: ' + i.id),
                        (n.cancelBubble = !0);
                  }
                  'function' == typeof i.onClicked && i.onClicked(a);
                }
              };
            })(e, t, i)),
            s
          );
        }),
        (DayPilot.Areas.all = []),
        (DayPilot.Areas.hideAreas = function(e, t) {
          if (e && e && e.active) {
            var i = e.active,
              n = e.areas;
            if (i && i.children) {
              var t = t || window.event;
              if (t) {
                var a = t.toElement || t.relatedTarget;
                if (~DayPilot.indexOf(i.children, a)) return;
              }
            }
            if (!n || 0 === n.length) return void (e.active = null);
            DayPilot.de(n),
              (e.active = null),
              (e.areas = []),
              DayPilot.rfa(DayPilot.Areas.all, e),
              (i.children = null);
          }
        }),
        (DayPilot.Areas.hideAll = function(e) {
          if (DayPilot.Areas.all && 0 !== DayPilot.Areas.all.length)
            for (var t = 0; t < DayPilot.Areas.all.length; t++)
              DayPilot.Areas.hideAreas(DayPilot.Areas.all[t], e);
        }),
        (DayPilot.Action = function(e, t, i, n) {
          var a = this;
          (this.calendar = e),
            (this.isAction = !0),
            (this.action = t),
            (this.params = i),
            (this.data = n),
            (this.notify = function() {
              a.calendar.internal.invokeEvent(
                'Immediate',
                this.action,
                this.params,
                this.data
              );
            }),
            (this.auto = function() {
              a.calendar.internal.invokeEvent(
                'Notify',
                this.action,
                this.params,
                this.data
              );
            }),
            (this.queue = function() {
              a.calendar.queue.add(this);
            }),
            (this.toJSON = function() {
              var e = {};
              return (
                (e.name = this.action),
                (e.params = this.params),
                (e.data = this.data),
                e
              );
            });
        }),
        (DayPilot.Selection = function(e, t, i, n) {
          (this.menuType = 'selection'),
            (this.start = new DayPilot.Date(e)),
            (this.end = new DayPilot.Date(t)),
            (this.resource = i),
            (this.root = n),
            (this.calendar = n),
            (this.toJSON = function(e) {
              var t = {};
              return (
                (t.start = this.start),
                (t.end = this.end),
                (t.resource = this.resource),
                t
              );
            });
        }),
        (DayPilot.Link = function(e, t) {
          (this.isLink = !0),
            (this.data = e),
            (this.calendar = t),
            (this.to = function() {
              return this.data.to;
            }),
            (this.from = function() {
              return this.data.from;
            }),
            (this.type = function() {
              return this.data.type;
            }),
            (this.id = function() {
              return this.data.id;
            }),
            (this.toJSON = function() {
              var e = {};
              return (
                (e.from = this.data.from),
                (e.to = this.data.to),
                (e.id = this.data.id),
                (e.type = this.data.type),
                e
              );
            });
        }),
        (DayPilot.Event = function(e, t, i) {
          var n = this;
          (this.calendar = t),
            (this.data = e ? e : {}),
            (this.part = i ? i : {}),
            'undefined' == typeof this.data.id &&
              (this.data.id = this.data.value);
          var a = {},
            o = ['id', 'text', 'start', 'end', 'resource'];
          (this.isEvent = !0),
            (DayPilot.Stats.eventObjects += 1),
            (this.temp = function() {
              if (a.dirty) return a;
              for (var e = 0; e < o.length; e++) a[o[e]] = n.data[o[e]];
              return (a.dirty = !0), a;
            }),
            (this.copy = function() {
              var e = {};
              return DayPilot.Util.copyProps(n.data, e), e;
            }),
            (this.commit = function() {
              if (a.dirty) {
                for (var e = 0; e < o.length; e++) n.data[o[e]] = a[o[e]];
                'function' == typeof n.data.commitCallback &&
                  n.data.commitCallback(),
                  (a.dirty = !1);
              }
            }),
            (this.dirty = function() {
              return a.dirty;
            }),
            (this.id = function(e) {
              return 'undefined' == typeof e
                ? n.data.id
                : void (this.temp().id = e);
            }),
            (this.value = function(e) {
              return 'undefined' == typeof e ? n.id() : void n.id(e);
            }),
            (this.text = function(e) {
              return 'undefined' == typeof e
                ? n.data.text
                : ((this.temp().text = e), void this.client.innerHTML(e));
            }),
            (this.start = function(e) {
              return 'undefined' == typeof e
                ? new DayPilot.Date(n.data.start)
                : void (this.temp().start = new DayPilot.Date(e));
            }),
            (this.end = function(e) {
              return 'undefined' == typeof e
                ? t && t.internal.adjustEndNormalize
                  ? t.internal.adjustEndNormalize(new DayPilot.Date(n.data.end))
                  : new DayPilot.Date(n.data.end)
                : void (this.temp().end = new DayPilot.Date(e));
            }),
            (this.duration = function() {
              return new DayPilot.Duration(this.start(), this.end());
            }),
            (this.rawend = function(e) {
              if ('undefined' == typeof e)
                return t && t.internal.adjustEndIn
                  ? t.internal.adjustEndIn(new DayPilot.Date(n.data.end))
                  : new DayPilot.Date(n.data.end);
              throw new DayPilot.Exception(
                'DayPilot.Event.rawend() is readonly'
              );
            }),
            (this.partStart = function() {
              return new DayPilot.Date(this.part.start);
            }),
            (this.partEnd = function() {
              return new DayPilot.Date(this.part.end);
            }),
            (this.row = function() {
              return this.resource();
            }),
            (this.allday = function() {
              return 'undefined' == typeof val
                ? n.data.allday
                : void (this.temp().allday = val);
            }),
            (this.isAllDay = this.allday),
            (this.resource = function(e) {
              return 'undefined' == typeof e
                ? n.data.resource
                : void (this.temp().resource = e);
            }),
            (this.recurrent = function() {
              return n.data.recurrent;
            }),
            (this.recurrentMasterId = function() {
              return n.data.recurrentMasterId;
            }),
            (this.useBox = function() {
              return this.part.box;
            }),
            (this.staticBubbleHTML = function() {
              return this.bubbleHtml();
            }),
            (this.bubbleHtml = function() {
              return n.cache
                ? n.cache.bubbleHtml || n.data.bubbleHtml
                : n.data.bubbleHtml;
            }),
            (this.tag = function(e) {
              if (n.data.tags) return n.data.tags[e];
              var t = n.data.tag;
              if (!t) return null;
              if ('undefined' == typeof e) return n.data.tag;
              for (
                var i = n.calendar.tagFields, a = -1, o = 0;
                o < i.length;
                o++
              )
                e === i[o] && (a = o);
              if (a === -1) throw 'Field name not found.';
              return t[a];
            }),
            (this.client = {}),
            (this.client.innerHTML = function(e) {
              return 'undefined' == typeof e
                ? n.cache && 'undefined' != typeof n.cache.html
                  ? n.cache.html
                  : 'undefined' != typeof n.data.html
                  ? n.data.html
                  : n.data.text
                : ((n.data.html = e), void (n.cache && (n.cache.html = e)));
            }),
            (this.client.html = this.client.innerHTML),
            (this.client.header = function(e) {
              return 'undefined' == typeof e
                ? n.data.header
                : void (n.data.header = e);
            }),
            (this.client.cssClass = function(e) {
              return 'undefined' == typeof e
                ? n.data.cssClass
                : void (n.data.cssClass = e);
            }),
            (this.client.toolTip = function(e) {
              return 'undefined' == typeof e
                ? n.cache && 'undefined' != typeof n.cache.toolTip
                  ? n.cache.toolTip
                  : 'undefined' != typeof n.data.toolTip
                  ? n.data.toolTip
                  : n.data.text
                : void (n.data.toolTip = e);
            }),
            (this.client.backColor = function(e) {
              return 'undefined' == typeof e
                ? n.cache && 'undefined' != typeof n.cache.backColor
                  ? n.cache.backColor
                  : 'undefined' != typeof n.data.backColor
                  ? n.data.backColor
                  : n.calendar.eventBackColor
                : void (n.data.backColor = e);
            }),
            (this.client.borderColor = function(e) {
              return 'undefined' == typeof e
                ? n.cache && 'undefined' != typeof n.cache.borderColor
                  ? n.cache.borderColor
                  : 'undefined' != typeof n.data.borderColor
                  ? n.data.borderColor
                  : n.calendar.eventBorderColor
                : void (n.data.borderColor = e);
            }),
            (this.client.barColor = function(e) {
              return 'undefined' == typeof e
                ? n.cache && 'undefined' != typeof n.cache.barColor
                  ? n.cache.barColor
                  : 'undefined' != typeof n.data.barColor
                  ? n.data.barColor
                  : n.calendar.durationBarColor
                : void (n.data.barColor = e);
            }),
            (this.client.barVisible = function(e) {
              return 'undefined' == typeof e
                ? n.cache && 'undefined' != typeof n.cache.barHidden
                  ? !n.cache.barHidden
                  : n.calendar.durationBarVisible && !n.data.barHidden
                : void (n.data.barHidden = !e);
            }),
            (this.client.contextMenu = function(e) {
              if ('undefined' == typeof e) {
                if (n.oContextMenu) return n.oContextMenu;
                var t = n.cache ? n.cache.contextMenu : n.data.contextMenu;
                return t ? DayPilot.Util.evalVariable(t) : null;
              }
              n.oContextMenu = e;
            }),
            (this.client.moveEnabled = function(e) {
              return 'undefined' == typeof e
                ? n.cache && 'undefined' != typeof n.cache.moveDisabled
                  ? !n.cache.moveDisabled
                  : 'Disabled' !== n.calendar.eventMoveHandling &&
                    !n.data.moveDisabled
                : void (n.data.moveDisabled = !e);
            }),
            (this.client.resizeEnabled = function(e) {
              return 'undefined' == typeof e
                ? 'Milestone' !== n.data.type &&
                    (n.cache && 'undefined' != typeof n.cache.resizeDisabled
                      ? !n.cache.resizeDisabled
                      : 'Disabled' !== n.calendar.eventResizeHandling &&
                        !n.data.resizeDisabled)
                : void (n.data.resizeDisabled = !e);
            }),
            (this.client.rightClickEnabled = function(e) {
              return 'undefined' == typeof e
                ? n.cache && 'undefined' != typeof n.cache.rightClickDisabled
                  ? !n.cache.rightClickDisabled
                  : 'Disabled' !== n.calendar.eventRightClickHandling &&
                    !n.data.rightClickDisabled
                : void (n.data.rightClickDisabled = !e);
            }),
            (this.client.clickEnabled = function(e) {
              return 'undefined' == typeof e
                ? n.cache && 'undefined' != typeof n.cache.clickDisabled
                  ? !n.cache.clickDisabled
                  : 'Disabled' !== n.calendar.eventClickHandling &&
                    !n.data.clickDisabled
                : void (n.data.clickDisabled = !e);
            }),
            (this.client.deleteEnabled = function(e) {
              return 'undefined' == typeof e
                ? n.cache && 'undefined' != typeof n.cache.deleteDisabled
                  ? !n.cache.deleteDisabled
                  : 'Disabled' !== n.calendar.eventDeleteHandling &&
                    !n.data.deleteDisabled
                : void (n.data.deleteDisabled = !e);
            }),
            (this.client.doubleClickEnabled = function(e) {
              return 'undefined' == typeof e
                ? n.cache && 'undefined' != typeof n.cache.doubleClickDisabled
                  ? !n.cache.doubleClickDisabled
                  : 'Disabled' !== n.calendar.eventDoubleClickHandling &&
                    !n.data.doubleClickDisabled
                : void (n.data.doubleClickDisabled = !e);
            }),
            (this.client.deleteClickEnabled = function(e) {
              return 'undefined' == typeof e
                ? n.cache && 'undefined' != typeof n.cache.deleteDisabled
                  ? !n.cache.deleteDisabled
                  : 'Disabled' !== n.calendar.eventDeleteHandling &&
                    !n.data.deleteDisabled
                : void (n.data.deleteDisabled = !e);
            }),
            (this.toJSON = function(e) {
              var t = {};
              if (
                ((t.value = this.id()),
                (t.id = this.id()),
                (t.text = this.text()),
                (t.start = this.start().toJSON()),
                (t.end = this.end().toJSON()),
                (t.resource = this.resource()),
                (t.isAllDay = !1),
                (t.recurrentMasterId = this.recurrentMasterId()),
                (t.join = this.data.join),
                (t.tag = {}),
                n.data.tags)
              )
                for (var i in n.data.tags)
                  n.data.tags.hasOwnProperty(i) &&
                    (t.tag[i] = '' + n.data.tags[i]);
              else if (n.calendar && n.calendar.tagFields)
                for (var a = n.calendar.tagFields, o = 0; o < a.length; o++)
                  t.tag[a[o]] = this.tag(a[o]);
              return t;
            });
        }),
        (DayPilot.Task = function(e, t) {
          if (!e)
            throw 'Trying to initialize DayPilot.Task with null data parameter';
          var i = this,
            n = null;
          if (e instanceof DayPilot.Event) (n = e), (this.data = e.data.task);
          else {
            if (e instanceof DayPilot.Task) return e;
            e.isTaskWrapper ? (this.data = e.data) : (this.data = e);
          }
          var a = {},
            o = ['id', 'text', 'start', 'end', 'complete', 'type'];
          (this.isTask = !0),
            (this.calendar = t),
            (this.temp = function() {
              if (a.dirty) return a;
              for (var e = 0; e < o.length; e++) a[o[e]] = i.data[o[e]];
              return (a.dirty = !0), a;
            }),
            (this.copy = function() {
              var e = {};
              return DayPilot.Util.copyProps(i.data, e), e;
            }),
            (this.commit = function() {
              if (a.dirty) {
                for (var e = 0; e < o.length; e++) i.data[o[e]] = a[o[e]];
                a.dirty = !1;
              }
            }),
            (this.dirty = function() {
              return a.dirty;
            }),
            (this.id = function(e) {
              return 'undefined' == typeof e
                ? i.data.id
                : void (this.temp().id = e);
            }),
            (this.text = function(e) {
              return 'undefined' == typeof e
                ? i.data.text
                : ((this.temp().text = e), void this.client.innerHTML(e));
            }),
            (this.start = function(e) {
              return 'undefined' == typeof e
                ? new DayPilot.Date(i.data.start)
                : void (this.temp().start = new DayPilot.Date(e));
            }),
            (this.duration = function() {
              return new DayPilot.Duration(this.start(), this.end());
            }),
            (this.end = function(e) {
              return 'undefined' == typeof e
                ? t && 'Date' === t.eventEndSpec
                  ? new DayPilot.Date(i.data.end).getDatePart().addDays(1)
                  : new DayPilot.Date(i.data.end)
                : void (this.temp().end = new DayPilot.Date(e));
            }),
            (this.type = function(e) {
              return 'undefined' == typeof e
                ? n
                  ? n.data.type
                  : i.data.type
                : void (this.temp().type = e);
            }),
            (this.complete = function(e) {
              return 'undefined' == typeof e
                ? i.data.complete
                  ? i.data.complete
                  : 0
                : void (this.temp().complete = e);
            }),
            (this.children = function() {
              var e = [];
              e.add = function(e) {
                var t = new DayPilot.Task(e);
                this.data.children || (this.data.children = []),
                  this.children.push(t.data);
              };
              for (
                var i = 0;
                this.data.children && i < this.data.children.length;
                i++
              )
                e.push(new DayPilot.Task(this.data.children[i], t));
              return e;
            }),
            (this.toJSON = function(e) {
              var t = {};
              return (
                (t.id = this.id()),
                (t.text = this.text()),
                (t.start = this.start().toJSON()),
                (t.end = this.end().toJSON()),
                (t.type = this.type()),
                (t.tags = {}),
                DayPilot.Util.copyProps(this.data.tags, t.tags),
                t
              );
            }),
            (this.row = {});
          var r = this.row;
          (r.expanded = function(e) {
            return 'undefined' == typeof e
              ? !i.data.row || !i.data.row.collapsed
              : (i.data.row || (i.data.row = {}),
                !!i.data.row.collapsed != !e &&
                  t.internal.rowObjectForTaskData(i.data).toggle(),
                (i.data.row.collapsed = !e),
                void 0);
          }),
            (r.expand = function() {
              r.expanded(!0);
            }),
            (r.collapse = function() {
              r.expanded(!1);
            }),
            (r.toggle = function() {
              r.expanded(!r.expanded());
            });
        }),
        (DayPilot.request = function(e, t, i, n) {
          var a = DayPilot.createXmlHttp();
          a &&
            (a.open('POST', e, !0),
            a.setRequestHeader('Content-type', 'text/plain'),
            (a.onreadystatechange = function() {
              if (4 === a.readyState)
                return 200 !== a.status && 304 !== a.status
                  ? void (n
                      ? n(a)
                      : window.console && console.log('HTTP error ' + a.status))
                  : void t(a);
            }),
            4 !== a.readyState &&
              ('object' == typeof i && (i = JSON.stringify(i)), a.send(i)));
        }),
        (DayPilot.ajax = function(e) {
          if (!e) throw new DayPilot.Exception('Parameter object required.');
          if ('string' != typeof e.url)
            throw new DayPilot.Exception(
              "The parameter object must have 'url' property."
            );
          var t = DayPilot.createXmlHttp();
          if (!t)
            throw new DayPilot.Exception(
              'Unable to create XMLHttpRequest object'
            );
          var i = 'object' == typeof e.data,
            n = e.data,
            a = e.method || 'GET',
            o = e.success || function() {},
            r = e.error || function() {},
            l = e.url,
            s = e.contentType || (i ? 'application/json' : 'text/plain'),
            d = e.headers || {};
          t.open(a, l, !0),
            t.setRequestHeader('Content-type', s),
            DayPilot.Util.ownPropsAsArray(d).forEach(function(e) {
              t.setRequestHeader(e.key, e.val);
            }),
            (t.onreadystatechange = function() {
              if (4 === t.readyState)
                if (200 === t.status || 304 === t.status) {
                  var e = {};
                  (e.request = t), (e.data = JSON.parse(t.responseText)), o(e);
                } else if (r) {
                  var e = {};
                  (e.request = t), r(e);
                } else window.console && console.log('HTTP error ' + t.status);
            }),
            4 !== t.readyState && (i && (n = JSON.stringify(n)), t.send(n));
        }),
        (DayPilot.createXmlHttp = function() {
          return new XMLHttpRequest();
        }),
        (DayPilot.Http = {}),
        (DayPilot.Http.ajax = function(e) {
          DayPilot.ajax(e);
        }),
        (DayPilot.Duration = function(e) {
          var t = this,
            i = 864e5,
            n = 36e5,
            a = 6e4,
            o = 1e3;
          if (2 === arguments.length) {
            var r = arguments[0],
              l = arguments[1];
            if (!(r instanceof DayPilot.Date) && 'string' != typeof r)
              throw 'DayPilot.Duration(): Invalid start argument, DayPilot.Date expected';
            if (!(l instanceof DayPilot.Date) && 'string' != typeof l)
              throw 'DayPilot.Duration(): Invalid end argument, DayPilot.Date expected';
            'string' == typeof r && (r = new DayPilot.Date(r)),
              'string' == typeof l && (l = new DayPilot.Date(l)),
              (e = l.getTime() - r.getTime());
          }
          return (
            (this.ticks = e),
            DayPilot.Date.Cache.DurationCtor['' + e]
              ? DayPilot.Date.Cache.DurationCtor['' + e]
              : ((DayPilot.Date.Cache.DurationCtor['' + e] = this),
                (this.toString = function(e) {
                  if (!e)
                    return (
                      t.days() +
                      '.' +
                      t.hours() +
                      ':' +
                      t.minutes() +
                      ':' +
                      t.seconds() +
                      '.' +
                      t.milliseconds()
                    );
                  var i = t.minutes();
                  i = (i < 10 ? '0' : '') + i;
                  var n = e;
                  return (
                    (n = n.replace('mm', i)),
                    (n = n.replace('m', t.minutes())),
                    (n = n.replace('H', t.hours())),
                    (n = n.replace('h', t.hours())),
                    (n = n.replace('d', t.days())),
                    (n = n.replace('s', t.seconds()))
                  );
                }),
                (this.totalHours = function() {
                  return t.ticks / n;
                }),
                (this.totalDays = function() {
                  return t.ticks / i;
                }),
                (this.totalMinutes = function() {
                  return t.ticks / a;
                }),
                (this.totalSeconds = function() {
                  return t.ticks / o;
                }),
                (this.days = function() {
                  return Math.floor(t.totalDays());
                }),
                (this.hours = function() {
                  var e = t.ticks - t.days() * i;
                  return Math.floor(e / n);
                }),
                (this.minutes = function() {
                  var e = t.ticks - Math.floor(t.totalHours()) * n;
                  return Math.floor(e / a);
                }),
                (this.seconds = function() {
                  var e = t.ticks - Math.floor(t.totalMinutes()) * a;
                  return Math.floor(e / o);
                }),
                void (this.milliseconds = function() {
                  return t.ticks % o;
                }))
          );
        }),
        (DayPilot.Duration.weeks = function(e) {
          return new DayPilot.Duration(1e3 * e * 60 * 60 * 24 * 7);
        }),
        (DayPilot.Duration.days = function(e) {
          return new DayPilot.Duration(1e3 * e * 60 * 60 * 24);
        }),
        (DayPilot.Duration.hours = function(e) {
          return new DayPilot.Duration(1e3 * e * 60 * 60);
        }),
        (DayPilot.Duration.minutes = function(e) {
          return new DayPilot.Duration(1e3 * e * 60);
        }),
        (DayPilot.Duration.seconds = function(e) {
          return new DayPilot.Duration(1e3 * e);
        }),
        (DayPilot.TimeSpan = function() {
          throw 'Please use DayPilot.Duration class instead of DayPilot.TimeSpan.';
        });
      try {
        DayPilot.TimeSpan.prototype = Object.create(
          DayPilot.Duration.prototype
        );
      } catch (e) {}
      (DayPilot.Date = function(t, i) {
        if (t instanceof DayPilot.Date) return t;
        var n;
        DayPilot.Util.isNullOrUndefined(t) &&
          ((n = DayPilot.DateUtil.fromLocal().getTime()), (t = n));
        var a = DayPilot.Date.Cache.Ctor;
        if (a[t]) return (DayPilot.Stats.cacheHitsCtor += 1), a[t];
        var o = !1;
        if ('string' == typeof t)
          (n = DayPilot.DateUtil.fromStringSortable(t, i).getTime()), (o = !0);
        else if ('number' == typeof t) {
          if (isNaN(t)) throw 'Cannot create DayPilot.Date from NaN';
          n = t;
        } else {
          if (!(t instanceof Date))
            throw 'Unrecognized parameter: use Date, number or string in ISO 8601 format';
          n = i ? DayPilot.DateUtil.fromLocal(t).getTime() : t.getTime();
        }
        var r = e(n);
        return a[r]
          ? a[r]
          : ((a[r] = this),
            (a[n] = this),
            o && r !== t && DayPilot.DateUtil.hasTzSpec(t) && (a[t] = this),
            Object.defineProperty && !DayPilot.browser.ielt9
              ? (Object.defineProperty(this, 'ticks', {
                  get: function() {
                    return n;
                  }
                }),
                Object.defineProperty(this, 'value', {
                  value: r,
                  writable: !1,
                  enumerable: !0
                }))
              : ((this.ticks = n), (this.value = r)),
            DayPilot.Date.Config.legacyShowD && (this.d = new Date(n)),
            void (DayPilot.Stats.dateObjects += 1));
      }),
        (DayPilot.Date.Config = {}),
        (DayPilot.Date.Config.legacyShowD = !1),
        (DayPilot.Date.Cache = {}),
        (DayPilot.Date.Cache.Parsing = {}),
        (DayPilot.Date.Cache.Ctor = {}),
        (DayPilot.Date.Cache.Ticks = {}),
        (DayPilot.Date.Cache.DurationCtor = {}),
        (DayPilot.Date.Cache.clear = function() {
          (DayPilot.Date.Cache.Parsing = {}),
            (DayPilot.Date.Cache.Ctor = {}),
            (DayPilot.Date.Cache.Ticks = {}),
            (DayPilot.Date.Cache.DurationCtor = {});
        }),
        (DayPilot.Date.prototype.addDays = function(e) {
          return e
            ? new DayPilot.Date(this.ticks + 24 * e * 60 * 60 * 1e3)
            : this;
        }),
        (DayPilot.Date.prototype.addHours = function(e) {
          return e ? this.addTime(60 * e * 60 * 1e3) : this;
        }),
        (DayPilot.Date.prototype.addMilliseconds = function(e) {
          return e ? this.addTime(e) : this;
        }),
        (DayPilot.Date.prototype.addMinutes = function(e) {
          return e ? this.addTime(60 * e * 1e3) : this;
        }),
        (DayPilot.Date.prototype.addMonths = function(e) {
          if (!e) return this;
          var t = new Date(this.ticks),
            i = t.getUTCFullYear(),
            n = t.getUTCMonth() + 1;
          if (e > 0) {
            for (; e >= 12; ) (e -= 12), i++;
            e > 12 - n ? (i++, (n = e - (12 - n))) : (n += e);
          } else {
            for (; e <= -12; ) (e += 12), i--;
            n + e <= 0 ? (i--, (n = 12 + n + e)) : (n += e);
          }
          var a = new Date(t.getTime());
          a.setUTCDate(1), a.setUTCFullYear(i), a.setUTCMonth(n - 1);
          var o = new DayPilot.Date(a).daysInMonth();
          return (
            a.setUTCDate(Math.min(o, t.getUTCDate())), new DayPilot.Date(a)
          );
        }),
        (DayPilot.Date.prototype.addSeconds = function(e) {
          return e ? this.addTime(1e3 * e) : this;
        }),
        (DayPilot.Date.prototype.addTime = function(e) {
          return e
            ? (e instanceof DayPilot.Duration && (e = e.ticks),
              new DayPilot.Date(this.ticks + e))
            : this;
        }),
        (DayPilot.Date.prototype.addYears = function(e) {
          var t = new Date(this.ticks),
            i = new Date(this.ticks),
            n = this.getYear() + e,
            a = this.getMonth();
          i.setUTCDate(1), i.setUTCFullYear(n), i.setUTCMonth(a);
          var o = new DayPilot.Date(i).daysInMonth();
          return (
            i.setUTCDate(Math.min(o, t.getUTCDate())), new DayPilot.Date(i)
          );
        }),
        (DayPilot.Date.prototype.dayOfWeek = function() {
          return new Date(this.ticks).getUTCDay();
        }),
        (DayPilot.Date.prototype.getDayOfWeek = function() {
          return new Date(this.ticks).getUTCDay();
        }),
        (DayPilot.Date.prototype.getDayOfYear = function() {
          var e = this.firstDayOfYear();
          return DayPilot.DateUtil.daysDiff(e, this) + 1;
        }),
        (DayPilot.Date.prototype.daysInMonth = function() {
          var e = new Date(this.ticks),
            t = e.getUTCMonth() + 1,
            i = e.getUTCFullYear(),
            n = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
          return 2 !== t
            ? n[t - 1]
            : i % 4 !== 0
            ? n[1]
            : i % 100 === 0 && i % 400 !== 0
            ? n[1]
            : n[1] + 1;
        }),
        (DayPilot.Date.prototype.daysInYear = function() {
          var e = this.getYear();
          return e % 4 !== 0 ? 365 : e % 100 === 0 && e % 400 !== 0 ? 365 : 366;
        }),
        (DayPilot.Date.prototype.dayOfYear = function() {
          return (
            Math.ceil(
              (this.getDatePart().getTime() - this.firstDayOfYear().getTime()) /
                864e5
            ) + 1
          );
        }),
        (DayPilot.Date.prototype.equals = function(e) {
          if (null === e) return !1;
          if (e instanceof DayPilot.Date) return this === e;
          throw 'The parameter must be a DayPilot.Date object (DayPilot.Date.equals())';
        }),
        (DayPilot.Date.prototype.firstDayOfMonth = function() {
          var e = new Date();
          return (
            e.setUTCFullYear(this.getYear(), this.getMonth(), 1),
            e.setUTCHours(0),
            e.setUTCMinutes(0),
            e.setUTCSeconds(0),
            e.setUTCMilliseconds(0),
            new DayPilot.Date(e)
          );
        }),
        (DayPilot.Date.prototype.firstDayOfYear = function() {
          var e = this.getYear(),
            t = new Date();
          return (
            t.setUTCFullYear(e, 0, 1),
            t.setUTCHours(0),
            t.setUTCMinutes(0),
            t.setUTCSeconds(0),
            t.setUTCMilliseconds(0),
            new DayPilot.Date(t)
          );
        }),
        (DayPilot.Date.prototype.firstDayOfWeek = function(e) {
          var t = this;
          if (e instanceof DayPilot.Locale) e = e.weekStarts;
          else if ('string' == typeof e && DayPilot.Locale.find(e)) {
            var i = DayPilot.Locale.find(e);
            e = i.weekStarts;
          } else e = e || 0;
          for (var n = t.dayOfWeek(); n !== e; )
            (t = t.addDays(-1)), (n = t.dayOfWeek());
          return new DayPilot.Date(t);
        }),
        (DayPilot.Date.prototype.getDay = function() {
          return new Date(this.ticks).getUTCDate();
        }),
        (DayPilot.Date.prototype.getDatePart = function() {
          var e = new Date(this.ticks);
          return (
            e.setUTCHours(0),
            e.setUTCMinutes(0),
            e.setUTCSeconds(0),
            e.setUTCMilliseconds(0),
            new DayPilot.Date(e)
          );
        }),
        (DayPilot.Date.prototype.getYear = function() {
          return new Date(this.ticks).getUTCFullYear();
        }),
        (DayPilot.Date.prototype.getHours = function() {
          return new Date(this.ticks).getUTCHours();
        }),
        (DayPilot.Date.prototype.getMilliseconds = function() {
          return new Date(this.ticks).getUTCMilliseconds();
        }),
        (DayPilot.Date.prototype.getMinutes = function() {
          return new Date(this.ticks).getUTCMinutes();
        }),
        (DayPilot.Date.prototype.getMonth = function() {
          return new Date(this.ticks).getUTCMonth();
        }),
        (DayPilot.Date.prototype.getSeconds = function() {
          return new Date(this.ticks).getUTCSeconds();
        }),
        (DayPilot.Date.prototype.getTotalTicks = function() {
          return this.getTime();
        }),
        (DayPilot.Date.prototype.getTime = function() {
          return this.ticks;
        }),
        (DayPilot.Date.prototype.getTimePart = function() {
          var e = this.getDatePart();
          return DayPilot.DateUtil.diff(this, e);
        }),
        (DayPilot.Date.prototype.lastDayOfMonth = function() {
          var e = new Date(this.firstDayOfMonth().getTime()),
            t = this.daysInMonth();
          return e.setUTCDate(t), new DayPilot.Date(e);
        }),
        (DayPilot.Date.prototype.weekNumber = function() {
          var e = this.firstDayOfYear(),
            t = (this.getTime() - e.getTime()) / 864e5;
          return Math.ceil((t + e.dayOfWeek() + 1) / 7);
        }),
        (DayPilot.Date.prototype.weekNumberISO = function() {
          var e = !1,
            t = this.dayOfYear(),
            i = this.firstDayOfYear().dayOfWeek(),
            n = this.firstDayOfYear()
              .addYears(1)
              .addDays(-1)
              .dayOfWeek();
          0 === i && (i = 7), 0 === n && (n = 7);
          var a = 8 - i;
          (4 !== i && 4 !== n) || (e = !0);
          var o = Math.ceil((t - a) / 7),
            r = o;
          return (
            a >= 4 && (r += 1),
            r > 52 && !e && (r = 1),
            0 === r &&
              (r = this.firstDayOfYear()
                .addDays(-1)
                .weekNumberISO()),
            r
          );
        }),
        (DayPilot.Date.prototype.toDateLocal = function() {
          var e = new Date(this.ticks),
            t = new Date();
          return (
            t.setFullYear(e.getUTCFullYear(), e.getUTCMonth(), e.getUTCDate()),
            t.setHours(e.getUTCHours()),
            t.setMinutes(e.getUTCMinutes()),
            t.setSeconds(e.getUTCSeconds()),
            t.setMilliseconds(e.getUTCMilliseconds()),
            t
          );
        }),
        (DayPilot.Date.prototype.toDate = function() {
          return new Date(this.ticks);
        }),
        (DayPilot.Date.prototype.toJSON = function() {
          return this.value;
        }),
        (DayPilot.Date.prototype.toString = function(e, t) {
          return e ? new a(e, t).print(this) : this.toStringSortable();
        }),
        (DayPilot.Date.prototype.toStringSortable = function() {
          return e(this.ticks);
        }),
        (DayPilot.Date.parse = function(e, t, i) {
          return new a(t, i).parse(e);
        });
      var n = 0;
      (DayPilot.Date.today = function() {
        return new DayPilot.Date(DayPilot.DateUtil.localToday(), !0);
      }),
        (DayPilot.Date.fromYearMonthDay = function(e, t, i) {
          (t = t || 1), (i = i || 1);
          var n = new Date(0);
          return (
            n.setUTCFullYear(e),
            n.setUTCMonth(t - 1),
            n.setUTCDate(i),
            new DayPilot.Date(n)
          );
        }),
        (DayPilot.DateUtil = {}),
        (DayPilot.DateUtil.fromStringSortable = function(e, t) {
          if (!e) throw "Can't create DayPilot.Date from an empty string";
          var i = e.length,
            n = 10 === i,
            a = 19 === i,
            o = i > 19;
          if (!n && !a && !o)
            throw "Invalid string format (use '2010-01-01' or '2010-01-01T00:00:00'): " +
              e;
          if (DayPilot.Date.Cache.Parsing[e] && !t)
            return (
              (DayPilot.Stats.cacheHitsParsing += 1),
              DayPilot.Date.Cache.Parsing[e]
            );
          var r = e.substring(0, 4),
            l = e.substring(5, 7),
            s = e.substring(8, 10),
            d = new Date(0);
          if ((d.setUTCFullYear(r, l - 1, s), n))
            return (DayPilot.Date.Cache.Parsing[e] = d), d;
          var c = e.substring(11, 13),
            h = e.substring(14, 16),
            u = e.substring(17, 19);
          if ((d.setUTCHours(c), d.setUTCMinutes(h), d.setUTCSeconds(u), a))
            return (DayPilot.Date.Cache.Parsing[e] = d), d;
          var f = e[19],
            v = 0;
          if ('.' === f) {
            var p = parseInt(e.substring(20, 23));
            d.setUTCMilliseconds(p),
              (v = DayPilot.DateUtil.getTzOffsetMinutes(e.substring(23)));
          } else v = DayPilot.DateUtil.getTzOffsetMinutes(e.substring(19));
          var g = new DayPilot.Date(d);
          return (
            t || (g = g.addMinutes(-v)),
            (d = g.toDate()),
            (DayPilot.Date.Cache.Parsing[e] = d),
            d
          );
        }),
        (DayPilot.DateUtil.getTzOffsetMinutes = function(e) {
          if (DayPilot.Util.isNullOrUndefined(e) || '' === e) return 0;
          if ('Z' === e) return 0;
          var t = e[0],
            i = parseInt(e.substring(1, 3)),
            n = parseInt(e.substring(4)),
            a = 60 * i + n;
          if ('-' === t) return -a;
          if ('+' === t) return a;
          throw 'Invalid timezone spec: ' + e;
        }),
        (DayPilot.DateUtil.hasTzSpec = function(e) {
          return !!e.indexOf('+') || !!e.indexOf('-');
        }),
        (DayPilot.DateUtil.daysDiff = function(e, t) {
          if (
            ((e && t) ||
              (function() {
                throw 'two parameters required';
              })(),
            (e = new DayPilot.Date(e)),
            (t = new DayPilot.Date(t)),
            e.getTime() > t.getTime())
          )
            return null;
          for (var i = 0, n = e.getDatePart(), a = t.getDatePart(); n < a; )
            (n = n.addDays(1)), i++;
          return i;
        }),
        (DayPilot.DateUtil.daysSpan = function(e, t) {
          if (
            ((e && t) ||
              (function() {
                throw 'two parameters required';
              })(),
            (e = new DayPilot.Date(e)),
            (t = new DayPilot.Date(t)),
            e === t)
          )
            return 0;
          var i = DayPilot.DateUtil.daysDiff(e, t);
          return t == t.getDatePart() && i--, i;
        }),
        (DayPilot.DateUtil.diff = function(e, t) {
          if (!(e && t && e.getTime && t.getTime))
            throw 'Both compared objects must be Date objects (DayPilot.Date.diff).';
          return e.getTime() - t.getTime();
        }),
        (DayPilot.DateUtil.fromLocal = function(e) {
          e || (e = new Date());
          var t = new Date();
          return (
            t.setUTCFullYear(e.getFullYear(), e.getMonth(), e.getDate()),
            t.setUTCHours(e.getHours()),
            t.setUTCMinutes(e.getMinutes()),
            t.setUTCSeconds(e.getSeconds()),
            t.setUTCMilliseconds(e.getMilliseconds()),
            t
          );
        }),
        (DayPilot.DateUtil.localToday = function() {
          var e = new Date();
          return (
            e.setHours(0),
            e.setMinutes(0),
            e.setSeconds(0),
            e.setMilliseconds(0),
            e
          );
        }),
        (DayPilot.DateUtil.hours = function(e, t) {
          var i = e.getUTCMinutes();
          i < 10 && (i = '0' + i);
          var n = e.getUTCHours();
          if (t) {
            var a = n < 12,
              n = n % 12;
            0 === n && (n = 12);
            return n + ':' + i + ' ' + (a ? 'AM' : 'PM');
          }
          return n + ':' + i;
        }),
        (DayPilot.DateUtil.max = function(e, t) {
          return e.getTime() > t.getTime() ? e : t;
        }),
        (DayPilot.DateUtil.min = function(e, t) {
          return e.getTime() < t.getTime() ? e : t;
        });
      var a = function(e, i) {
        'string' == typeof i && (i = DayPilot.Locale.find(i));
        var i = i || DayPilot.Locale.US,
          n = [
            {
              seq: 'yyyy',
              expr: '[0-9]{4,4}',
              str: function(e) {
                return e.getYear();
              }
            },
            {
              seq: 'yy',
              expr: '[0-9]{2,2}',
              str: function(e) {
                return e.getYear() % 100;
              }
            },
            {
              seq: 'mm',
              expr: '[0-9]{2,2}',
              str: function(e) {
                var t = e.getMinutes();
                return t < 10 ? '0' + t : t;
              }
            },
            {
              seq: 'm',
              expr: '[0-9]{1,2}',
              str: function(e) {
                return e.getMinutes();
              }
            },
            {
              seq: 'HH',
              expr: '[0-9]{2,2}',
              str: function(e) {
                var t = e.getHours();
                return t < 10 ? '0' + t : t;
              }
            },
            {
              seq: 'H',
              expr: '[0-9]{1,2}',
              str: function(e) {
                return e.getHours();
              }
            },
            {
              seq: 'hh',
              expr: '[0-9]{2,2}',
              str: function(e) {
                var t = e.getHours(),
                  t = t % 12;
                0 === t && (t = 12);
                var i = t;
                return i < 10 ? '0' + i : i;
              }
            },
            {
              seq: 'h',
              expr: '[0-9]{1,2}',
              str: function(e) {
                var t = e.getHours(),
                  t = t % 12;
                return 0 === t && (t = 12), t;
              }
            },
            {
              seq: 'ss',
              expr: '[0-9]{2,2}',
              str: function(e) {
                var t = e.getSeconds();
                return t < 10 ? '0' + t : t;
              }
            },
            {
              seq: 's',
              expr: '[0-9]{1,2}',
              str: function(e) {
                return e.getSeconds();
              }
            },
            {
              seq: 'MMMM',
              expr: '[^\\s0-9]*',
              str: function(e) {
                return i.monthNames[e.getMonth()];
              },
              transform: function(e) {
                var n = DayPilot.indexOf(i.monthNames, e, t);
                return n < 0 ? null : n + 1;
              }
            },
            {
              seq: 'MMM',
              expr: '[^\\s0-9]*',
              str: function(e) {
                return i.monthNamesShort[e.getMonth()];
              },
              transform: function(e) {
                var n = DayPilot.indexOf(i.monthNamesShort, e, t);
                return n < 0 ? null : n + 1;
              }
            },
            {
              seq: 'MM',
              expr: '[0-9]{2,2}',
              str: function(e) {
                var t = e.getMonth() + 1;
                return t < 10 ? '0' + t : t;
              }
            },
            {
              seq: 'M',
              expr: '[0-9]{1,2}',
              str: function(e) {
                return e.getMonth() + 1;
              }
            },
            {
              seq: 'dddd',
              expr: '[^\\s0-9]*',
              str: function(e) {
                return i.dayNames[e.getDayOfWeek()];
              }
            },
            {
              seq: 'ddd',
              expr: '[^\\s0-9]*',
              str: function(e) {
                return i.dayNamesShort[e.getDayOfWeek()];
              }
            },
            {
              seq: 'dd',
              expr: '[0-9]{2,2}',
              str: function(e) {
                var t = e.getDay();
                return t < 10 ? '0' + t : t;
              }
            },
            {
              seq: '%d',
              expr: '[0-9]{1,2}',
              str: function(e) {
                return e.getDay();
              }
            },
            {
              seq: 'd',
              expr: '[0-9]{1,2}',
              str: function(e) {
                return e.getDay();
              }
            },
            {
              seq: 'tt',
              expr: '(AM|PM|am|pm)',
              str: function(e) {
                return e.getHours() < 12 ? 'AM' : 'PM';
              },
              transform: function(e) {
                return e.toUpperCase();
              }
            }
          ],
          a = function(e) {
            return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, '\\$&');
          };
        (this.init = function() {
          (this.year = this.findSequence('yyyy')),
            (this.month =
              this.findSequence('MMMM') ||
              this.findSequence('MMM') ||
              this.findSequence('MM') ||
              this.findSequence('M')),
            (this.day = this.findSequence('dd') || this.findSequence('d')),
            (this.hours = this.findSequence('HH') || this.findSequence('H')),
            (this.minutes = this.findSequence('mm') || this.findSequence('m')),
            (this.seconds = this.findSequence('ss') || this.findSequence('s')),
            (this.ampm = this.findSequence('tt')),
            (this.hours12 = this.findSequence('hh') || this.findSequence('h'));
        }),
          (this.findSequence = function(t) {
            function i(e) {
              return parseInt(e);
            }
            return e.indexOf(t) === -1
              ? null
              : {
                  findValue: function(o) {
                    for (var r = a(e), l = null, s = 0; s < n.length; s++) {
                      var d = (n[s].length, t === n[s].seq),
                        c = n[s].expr;
                      d && ((c = '(' + c + ')'), (l = n[s].transform)),
                        (r = r.replace(n[s].seq, c));
                    }
                    r = '^' + r + '$';
                    try {
                      var h = new RegExp(r),
                        u = h.exec(o);
                      return u ? (l = l || i)(u[1]) : null;
                    } catch (e) {
                      throw 'unable to create regex from: ' + r;
                    }
                  }
                };
          }),
          (this.print = function(t) {
            for (
              var i = function(e) {
                  for (var t = 0; t < n.length; t++)
                    if (n[t] && n[t].seq === e) return n[t];
                  return null;
                },
                a = e.length <= 0,
                o = 0,
                r = [];
              !a;

            ) {
              var l = e.substring(o),
                s = /%?(.)\1*/.exec(l);
              if (s && s.length > 0) {
                var d = s[0],
                  c = i(d);
                c ? r.push(c) : r.push(d), (o += d.length), (a = e.length <= o);
              } else a = !0;
            }
            for (var h = 0; h < r.length; h++) {
              var u = r[h];
              'string' != typeof u && (r[h] = u.str(t));
            }
            return r.join('');
          }),
          (this.parse = function(e) {
            var t = this.year.findValue(e);
            if (!t) return null;
            var i = this.month.findValue(e);
            if (DayPilot.Util.isNullOrUndefined(i)) return null;
            if (i > 12 || i < 1) return null;
            var n = this.day.findValue(e),
              a = DayPilot.Date.fromYearMonthDay(t, i).daysInMonth();
            if (n < 1 || n > a) return null;
            var o = this.hours ? this.hours.findValue(e) : 0,
              r = this.minutes ? this.minutes.findValue(e) : 0,
              l = this.seconds ? this.seconds.findValue(e) : 0,
              s = this.ampm ? this.ampm.findValue(e) : null;
            if (this.ampm && this.hours12) {
              var d = this.hours12.findValue(e);
              if (d < 1 || d > 12) return null;
              o = 'PM' === s ? (12 === d ? 12 : d + 12) : 12 === d ? 0 : d;
            }
            if (o < 0 || o > 23) return null;
            if (r < 0 || r > 59) return null;
            if (l < 0 || l > 59) return null;
            var c = new Date();
            return (
              c.setUTCFullYear(t, i - 1, n),
              c.setUTCHours(o),
              c.setUTCMinutes(r),
              c.setUTCSeconds(l),
              c.setUTCMilliseconds(0),
              new DayPilot.Date(c)
            );
          }),
          this.init();
      };
      (DayPilot.Canvas = function(e, t, i, n, a) {
        function o(e, t, i) {
          for (
            var n = t.split(' '), a = [], o = n[0], r = 1;
            r < n.length;
            r++
          ) {
            var l = n[r];
            e.measureText(o + ' ' + l).width < i
              ? (o += ' ' + l)
              : (a.push(o), (o = l));
          }
          return a.push(o), a;
        }
        var n = n || 1,
          r = document.createElement('canvas');
        (r.width = e * n), (r.height = t * n);
        var l = r.getContext('2d');
        l.scale(n, n),
          (this.defaultFileName = 'image.png'),
          'image/jpeg' === i &&
            ((this.defaultFileName = 'image.jpg'), (a = a || 0.92)),
          (this.fillRect = function(e, t) {
            l.save(),
              (l.strokeStyle = 'rgb(0,0,0,0)'),
              (l.fillStyle = t),
              l.fillRect(e.x, e.y, e.w, e.h),
              l.restore();
          }),
          (this.rect = function(e, t) {
            l.save(),
              (l.strokeStyle = t),
              l.beginPath(),
              l.rect(e.x + 0.5, e.y + 0.5, e.w - 1, e.h - 1),
              l.stroke(),
              l.restore();
          }),
          (this.diamond = function(e, t) {
            l.save(),
              (l.strokeStyle = 'rgb(0,0,0,0)'),
              (l.fillStyle = t),
              l.beginPath(),
              l.moveTo(e.x + e.w / 2, e.y + 0.5),
              l.lineTo(e.x + e.w - 0.5, e.y + e.h / 2),
              l.lineTo(e.x + e.w / 2, e.y + e.h - 0.5),
              l.lineTo(e.x + 0.5, e.y + e.h / 2),
              l.closePath(),
              l.fill(),
              l.restore();
          }),
          (this.triangle = function(e, t, i) {
            for (i = i || 0; i < 0; ) i += 360;
            for (; i >= 360; ) i -= 360;
            switch (
              (l.save(),
              (l.strokeStyle = 'rgb(0,0,0,0)'),
              (l.fillStyle = t),
              l.beginPath(),
              i)
            ) {
              case 0:
                l.moveTo(e.x + e.w / 3, e.y + 0.5),
                  l.lineTo(e.x + e.w + 0.5, e.y + e.h / 2),
                  l.lineTo(e.x + e.w / 3, e.y + e.h - 0.5);
                break;
              case 90:
                l.moveTo(e.x - 0.5, e.y + e.h / 3),
                  l.lineTo(e.x + e.w + 0.5, e.y + e.h / 3),
                  l.lineTo(e.x + e.w / 2, e.y + e.h + 0.5);
                break;
              case 180:
                l.moveTo(e.x + (2 * e.w) / 3, e.y + 0.5),
                  l.lineTo(e.x + (2 * e.w) / 3, e.y + e.h),
                  l.lineTo(e.x, e.y + e.h / 2);
                break;
              case 270:
                l.moveTo(e.x + e.w / 2, e.y + e.w / 2 + 0.5),
                  l.lineTo(e.x + e.w - 0.5, e.y + (2 * e.h) / 3),
                  l.lineTo(e.x, e.y + (2 * e.h) / 3);
                break;
              default:
                throw new DayPilot.Exception('Unsupported rotation angle');
            }
            l.closePath(), l.fill(), l.restore();
          }),
          (this.upperLeftCorner = function(e, t) {
            l.save(),
              (l.strokeStyle = 'rgb(0,0,0,0)'),
              (l.fillStyle = t),
              l.beginPath(),
              l.moveTo(e.x, e.y),
              l.lineTo(e.x + e.w, e.y),
              l.lineTo(e.x, e.y + e.h),
              l.closePath(),
              l.fill(),
              l.restore();
          }),
          (this.upperRightCorner = function(e, t) {
            l.save(),
              (l.strokeStyle = 'rgb(0,0,0,0)'),
              (l.fillStyle = t),
              l.beginPath(),
              l.moveTo(e.x, e.y),
              l.lineTo(e.x + e.w, e.y),
              l.lineTo(e.x + e.w, e.y + e.h),
              l.closePath(),
              l.fill(),
              l.restore();
          }),
          (this.textWidth = function(e, t) {
            l.save(), (l.font = t.style + ' ' + t.size + ' ' + t.family);
            var i = l.measureText(e).width + 1;
            return l.restore(), i;
          }),
          (this.text = function(e, t, i, n, a, r) {
            if (t) {
              if (('number' == typeof t && (t = '' + t), 'string' != typeof t))
                throw 'String expected, supplied: ' + typeof t;
              (a = a || 'left'), (r = r || 0), (n = n || '#000'), l.save();
              var s = parseInt(i.size),
                d = DayPilot.browser.ff ? 3 : 0;
              (d += 0.2 * s),
                (d += DayPilot.browser.chrome ? 1 : 0),
                (d += DayPilot.browser.ie ? 1 : 0),
                l.rect(e.x + 0.5 + r, e.y + 0.5 + r, e.w - 1 - r, e.h - 1 - r),
                l.clip(),
                (l.fillStyle = n),
                (l.font = i.style + ' ' + i.size + ' ' + i.family),
                (l.textBaseline = 'top'),
                (l.textAlign = a);
              var c = e.x;
              switch (a) {
                case 'center':
                  c += e.w / 2;
                  break;
                case 'right':
                  c += e.w;
              }
              var h = 0;
              c += h;
              var u = 1.2 * parseInt(i.size),
                f = t.split('\n'),
                v = [];
              DayPilot.list(f).each(function(t) {
                var i = o(l, t, e.w);
                DayPilot.list(i).each(function(e) {
                  v.push(e);
                });
              });
              for (var p = e.y + h + r + d, g = 0; g < v.length; g++) {
                var m = v[g];
                l.fillText(m, c + r, p), (p += u);
              }
              l.restore();
            }
          }),
          (this.line = function(e, t, i, n, a) {
            l.save(),
              (l.lineWidth = 1),
              (l.strokeStyle = a),
              l.beginPath(),
              l.moveTo(e + 0.5, t + 0.5),
              l.lineTo(i + 0.5, n + 0.5),
              l.stroke(),
              l.restore();
          }),
          (this.image = function(e, t) {
            if (t) {
              if ('string' == typeof t) {
                var i = t,
                  t = document.createElement('img');
                if (0 !== i.indexOf('data:'))
                  return (
                    (t.onload = function() {
                      l.save(), l.drawImage(t, e.x, e.y), l.restore();
                    }),
                    void (t.src = i)
                  );
                t.src = i;
              }
              l.save(), l.drawImage(t, e.x, e.y), l.restore();
            }
          }),
          (this.getWidth = function() {
            return r.width;
          }),
          (this.getHeight = function() {
            return r.height;
          }),
          (this.getElement = function() {
            return r;
          }),
          (this.getSource = function() {
            return "<img src='" + r.toDataURL(i, a) + "' />";
          }),
          (this.getDataUri = function() {
            return r.toDataURL(i, a);
          }),
          (this.getDefaultFileName = function() {
            return this.defaultFileName;
          }),
          (this.getBlob = function() {
            return r.msToBlob
              ? r.msToBlob()
              : DayPilot.Util.dataUriToBlob(this.getDataUri());
          });
      }),
        (DayPilot.Svg = function(e, t) {
          function i(e, t) {
            var i = null;
            if (e) {
              if ('string' == typeof e) {
                if (0 === e.indexOf('data:')) {
                  var n = {};
                  (n.dataUri = e), t(n);
                }
                i = e;
              } else i = e.src;
              var e = document.createElement('img');
              (e.onload = function() {
                var e = document.createElement('canvas');
                (e.width = this.naturalWidth),
                  (e.height = this.naturalHeight),
                  e.getContext('2d').drawImage(this, 0, 0);
                var i = {};
                (i.dataUri = e.toDataURL('image/png')), t(i);
              }),
                (e.src = i);
            }
          }
          var n = 'http://www.w3.org/2000/svg',
            a = document.createElementNS(n, 'svg');
          a.outerHTML && a.setAttribute('xmlns', n),
            a.setAttribute('viewBox', '0 0 ' + e + ' ' + t),
            (this.defaultFileName = 'image.svg'),
            (this.fillRect = function(e, t) {
              var i = document.createElementNS(n, 'rect');
              i.setAttribute('x', e.x),
                i.setAttribute('y', e.y),
                i.setAttribute('width', e.w),
                i.setAttribute('height', e.h),
                i.setAttribute('fill', t),
                a.appendChild(i);
            }),
            (this.diamond = function(e, t) {
              var i = document.createElementNS(n, 'path'),
                o = '';
              (o += 'M ' + (e.x + e.w / 2) + ' ' + e.y),
                (o += ' '),
                (o += 'L ' + (e.x + e.w) + ' ' + (e.y + e.h / 2)),
                (o += ' '),
                (o += 'L ' + (e.x + e.w / 2) + ' ' + (e.y + e.h)),
                (o += ' '),
                (o += 'L ' + e.x + ' ' + (e.y + e.h / 2)),
                (o += ' Z'),
                i.setAttribute('d', o),
                i.setAttribute('fill', t),
                a.appendChild(i);
            }),
            (this.triangle = function(e, t, i) {
              var o = document.createElementNS(n, 'path'),
                r = '';
              (r += 'M ' + (e.x + e.w / 3) + ' ' + e.y),
                (r += ' '),
                (r += 'L ' + (e.x + e.w) + ' ' + (e.y + e.h / 2)),
                (r += ' '),
                (r += 'L ' + (e.x + e.w / 3) + ' ' + (e.y + e.h)),
                (r += ' Z'),
                o.setAttribute('d', r),
                o.setAttribute('fill', t),
                'number' == typeof i &&
                  o.setAttribute(
                    'transform',
                    'rotate(' +
                      i +
                      ',' +
                      (e.x + e.w / 2) +
                      ',' +
                      (e.y + e.h / 2) +
                      ')'
                  ),
                a.appendChild(o);
            }),
            (this.upperLeftCorner = function(e, t) {
              var i = document.createElementNS(n, 'path'),
                o = '';
              (o += 'M ' + e.x + ' ' + e.y),
                (o += ' '),
                (o += 'L ' + (e.x + e.w) + ' ' + e.y),
                (o += ' '),
                (o += 'L ' + e.x + ' ' + (e.y + e.h)),
                (o += ' Z'),
                i.setAttribute('d', o),
                i.setAttribute('fill', t),
                a.appendChild(i);
            }),
            (this.upperRightCorner = function(e, t) {
              var i = document.createElementNS(n, 'path'),
                o = '';
              (o += 'M ' + e.x + ' ' + e.y),
                (o += ' '),
                (o += 'L ' + (e.x + e.w) + ' ' + e.y),
                (o += ' '),
                (o += 'L ' + (e.x + e.w) + ' ' + (e.y + e.h)),
                (o += ' Z'),
                i.setAttribute('d', o),
                i.setAttribute('fill', t),
                a.appendChild(i);
            }),
            (this.rect = function(e, t) {
              var i = document.createElementNS(n, 'rect');
              i.setAttribute('x', e.x + 0.5),
                i.setAttribute('y', e.y + 0.5),
                i.setAttribute('width', e.w - 1),
                i.setAttribute('height', e.h - 1),
                i.setAttribute('stroke', t),
                i.setAttribute('stroke-width', '1'),
                i.setAttribute('fill', 'transparent'),
                a.appendChild(i);
            }),
            (this.text = function(e, t, i, o, r, l) {
              function s(e, t, r) {
                var l = document.createElementNS(n, 'text');
                l.setAttribute('fill', o),
                  l.setAttribute('font-family', i.family),
                  l.setAttribute('font-size', i.size),
                  l.setAttribute('font-style', i.style),
                  l.setAttribute('x', t),
                  l.setAttribute('y', r),
                  l.setAttribute('dy', '1em'),
                  l.setAttribute('text-anchor', h),
                  l.setAttribute('clip-path', 'url(#' + u.id + ')');
                var s = document.createTextNode(e);
                l.appendChild(s), a.appendChild(l);
              }
              if (('number' == typeof t && (t = '' + t), 'string' != typeof t))
                throw 'String expected';
              var r = r || 'left',
                l = l || 0,
                d = 3,
                c = e.x,
                h = 'start';
              switch (r) {
                case 'center':
                  (c += e.w / 2), (h = 'middle');
                  break;
                case 'right':
                  (c += e.w), (h = 'end');
              }
              var u = document.createElementNS(n, 'clipPath');
              u.id = 'clip' + DayPilot.guid();
              var f = document.createElementNS(n, 'rect');
              f.setAttribute('x', e.x),
                f.setAttribute('y', e.y),
                f.setAttribute('width', e.w),
                f.setAttribute('height', e.h),
                u.appendChild(f),
                a.appendChild(u);
              for (
                var v = 1.2 * parseInt(i.size),
                  p = t.split('\n'),
                  g = e.y + l + d,
                  m = 0;
                m < p.length;
                m++
              ) {
                s(p[m], c + l, g), (g += v);
              }
            }),
            (this.line = function(e, t, i, o, r) {
              var l = document.createElementNS(n, 'line');
              l.setAttribute('x1', e + 0.5),
                l.setAttribute('y1', t + 0.5),
                l.setAttribute('x2', i + 0.5),
                l.setAttribute('y2', o + 0.5),
                l.setAttribute('stroke', r),
                a.appendChild(l);
            }),
            (this.image = function(e, t) {
              function o(t) {
                var i = document.createElementNS(n, 'image');
                i.setAttributeNS(
                  'http://www.w3.org/1999/xlink',
                  'href',
                  t.dataUri
                ),
                  i.setAttribute('x', e.x),
                  i.setAttribute('y', e.y),
                  i.setAttribute('width', e.w),
                  i.setAttribute('height', e.h),
                  a.appendChild(i);
              }
              i(t, o);
            }),
            (this.c = {}),
            (this.textWidth = function(e, t) {
              var i = '#' + e + '#' + JSON.stringify(t),
                n = this.c[i];
              if ('number' == typeof n) return n;
              var a = 'http://www.w3.org/2000/svg',
                o = document.createElementNS(a, 'svg');
              (o.style.position = 'absolute'),
                (o.style.left = '-10000px'),
                (o.style.width = '100px'),
                o.outerHTML && o.setAttribute('xmlns', a),
                o.setAttribute('viewBox', '0 0 100 100');
              var r = document.createElementNS(a, 'text');
              r.setAttribute('font-family', t.family),
                r.setAttribute('font-size', t.size),
                r.setAttribute('font-style', t.style),
                r.setAttribute('x', 0),
                r.setAttribute('y', 0),
                r.setAttribute('dy', '1em');
              var l = document.createTextNode(e);
              r.appendChild(l), o.appendChild(r), document.body.appendChild(o);
              var s = r.getComputedTextLength();
              return (this.c[i] = s), document.body.removeChild(o), s;
            }),
            (this.getWidth = function() {
              return e;
            }),
            (this.getHeight = function() {
              return t;
            }),
            (this.getElement = function() {
              return a;
            }),
            (this.getSource = function() {
              if (a.outerHTML) return a.outerHTML;
              var e = document.createElement('div'),
                t = a.cloneNode(!0);
              return e.appendChild(t), e.innerHTML;
            }),
            (this.getDataUri = function() {
              return (
                'data:application/octet-stream,' +
                encodeURIComponent(this.getSource())
              );
            }),
            (this.getDefaultFileName = function() {
              return this.defaultFileName;
            }),
            (this.getBlob = function() {
              return new Blob([this.getSource()]);
            });
        }),
        (DayPilot.Excel = function() {
          var e = this,
            t = null,
            i = null,
            n = null,
            a = {};
          (a.xmlns = 'urn:schemas-microsoft-com:office:spreadsheet'),
            (a.o = 'urn:schemas-microsoft-com:office:office'),
            (a.x = 'urn:schemas-microsoft-com:office:excel'),
            (a.ss = 'urn:schemas-microsoft-com:office:spreadsheet'),
            (a.html = 'http://www.w3.org/TR/REC-html40'),
            (this.init = function() {
              (t = document.implementation.createDocument(
                a.xmlns,
                'Workbook',
                null
              )),
                t.documentElement.setAttribute('xmlns:o', a.o),
                t.documentElement.setAttribute('xmlns:x', a.x),
                t.documentElement.setAttribute('xmlns:ss', a.ss),
                t.documentElement.setAttribute('xmlns:html', a.html);
              var o = t.createElement('x:ExcelWorkbook');
              t.documentElement.appendChild(o),
                (i = t.createElement('ss:Styles')),
                t.documentElement.appendChild(i),
                (n = e.styles.create()),
                n.setId('Default'),
                n.setName('Normal');
            }),
            (this.worksheets = []),
            (this.worksheets.create = function(t) {
              var i = e.el(a.ss, 'Worksheet'),
                n = new o(i);
              return n.setName(t), this.push(n), n;
            }),
            (this.styles = []),
            (this.styles.create = function(e) {
              var n = t.createElement('ss:Style');
              i.appendChild(n);
              var a = new r(n);
              return this.push(a), a;
            }),
            (this.styles.getDefault = function() {
              return n;
            }),
            (this.el = function(e, i) {
              var n = t.createElementNS(e, i);
              return t.documentElement.appendChild(n), n;
            }),
            (this.getSource = function() {
              return (
                '<?xml version="1.0"?>' +
                new XMLSerializer().serializeToString(t)
              );
            }),
            (this.getDataUri = function() {
              return (
                'data:application/vnd.ms-excel,' +
                encodeURIComponent(this.getSource())
              );
            }),
            (this.getElement = function() {
              return t;
            }),
            (this.getDefaultFileName = function() {
              return 'spreadsheet.xls';
            }),
            (this.getBlob = function() {
              return new Blob([this.getSource()]);
            });
          var o = function(e) {
              var i = t.createElement('Table');
              e.appendChild(i);
              var n = t.createElement('x:WorksheetOptions');
              e.appendChild(n),
                (this.rows = []),
                (this.setName = function(t) {
                  e.setAttribute('ss:Name', t);
                }),
                (this.cell = function(e, n) {
                  for (; n >= this.rows.length; ) {
                    var o = t.createElement('Row');
                    i.appendChild(o), this.rows.push(new a(o));
                  }
                  return this.rows[n].cell(e);
                }),
                (this.enableGridlines = function(e) {
                  var i = DayPilot.list(n.childNodes).find(function(e) {
                    return 'x:DoNotDisplayGridlines' === e.tagName;
                  });
                  if (!i && !e) {
                    var a = t.createElement('x:DoNotDisplayGridlines');
                    n.appendChild(a);
                  }
                  i && e && n.removeChild(i);
                });
              var a = function(e) {
                (this.cells = []),
                  (this.getElement = function() {
                    return e;
                  }),
                  (this.cell = function(n) {
                    for (; n >= this.cells.length; ) {
                      var a = t.createElement('Cell');
                      e.appendChild(a), this.cells.push(new i(a));
                    }
                    return this.cells[n];
                  });
                var i = function(e) {
                  (this.setText = function(i) {
                    var n = t.createElement('Data');
                    n.setAttribute('ss:Type', 'String');
                    var a = t.createTextNode(i);
                    for (n.appendChild(a); e.firstChild; )
                      e.removeChild(e.firstChild);
                    return e.appendChild(n), this;
                  }),
                    (this.setColspan = function(t) {
                      return (
                        t > 1
                          ? e.setAttribute('ss:MergeAcross', t - 1)
                          : e.removeAttribute('ss:MergeAcross'),
                        this
                      );
                    }),
                    (this.setRowspan = function(t) {
                      return (
                        t > 1
                          ? e.setAttribute('ss:MergeDown', t - 1)
                          : e.removeAttribute('ss:MergeDown'),
                        this
                      );
                    }),
                    (this.setStyle = function(t) {
                      if (!(t instanceof r))
                        throw 'Invalid argument, Style expected';
                      return e.setAttribute('ss:StyleID', t.getId()), this;
                    });
                };
              };
            },
            r = function(e) {
              var i = DayPilot.guid();
              e.setAttribute('ss:ID', i);
              var n = t.createElement('ss:Alignment');
              e.appendChild(n);
              var a = t.createElement('ss:Interior');
              e.appendChild(a);
              var o = t.createElement('ss:Borders');
              e.appendChild(o),
                (this.setHorizontalAlignment = function(e) {
                  n.setAttribute('ss:Horizontal', e);
                }),
                (this.setVerticalAlignment = function(e) {
                  n.setAttribute('ss:Vertical', e);
                }),
                (this.setBackColor = function(e) {
                  var t = DayPilot.Util.normalizeColor(e);
                  a.setAttribute('ss:Color', t),
                    a.setAttribute('ss:Pattern', 'Solid');
                }),
                (this.setBorderColor = function(e) {
                  function i(e, i) {
                    var n = t.createElement('ss:Border');
                    return (
                      n.setAttribute('ss:Position', e),
                      n.setAttribute('ss:LineStyle', 'Continuous'),
                      n.setAttribute(
                        'ss:Color',
                        DayPilot.Util.normalizeColor(i)
                      ),
                      n
                    );
                  }
                  this.clearBorders();
                  var n = i('Left', e);
                  o.appendChild(n);
                  var a = i('Right', e);
                  o.appendChild(a);
                  var r = i('Top', e);
                  o.appendChild(r);
                  var l = i('Bottom', e);
                  o.appendChild(l);
                }),
                (this.clearBorders = function() {
                  for (; o.firstChild; ) o.removeChild(o.firstChild);
                }),
                (this.getId = function() {
                  return i;
                }),
                (this.setId = function(t) {
                  (i = t), e.setAttribute('ss:ID', i);
                }),
                (this.setName = function(t) {
                  e.setAttribute('ss:Name', t);
                });
            };
          this.init();
        }),
        (DayPilot.Export = function(e) {
          (this.toElement = function() {
            return e.getElement();
          }),
            (this.dimensions = function() {
              return { width: e.getWidth(), height: e.getHeight() };
            }),
            (this.toHtml = function() {
              return e.getSource();
            }),
            (this.toDataUri = function() {
              return e.getDataUri();
            }),
            (this.toBlob = function() {
              return e.getBlob();
            }),
            (this.print = function(t) {
              (t = t || {}), (t.orientation = t.orientation || 'portrait');
              var i = document.createElement('iframe');
              i.setAttribute('width', 0),
                i.setAttribute('height', 0),
                i.setAttribute('frameborder', 0),
                i.setAttribute('src', 'about:blank'),
                (i.onload = function() {
                  var n = i.contentWindow.document;
                  if (
                    (n.body.appendChild(e.getElement()),
                    'landscape' === t.orientation)
                  ) {
                    var a = DayPilot.sheet(n);
                    a.add('@page', 'size: landscape;'), a.commit();
                  }
                  i.contentWindow.document.execCommand('print', !1, null) ||
                    (i.contentWindow.focus(), i.contentWindow.print()),
                    setTimeout(function() {
                      document.body.removeChild(i);
                    }, 10);
                }),
                document.body.appendChild(i);
            }),
            (this.download = function(t) {
              var t = t || e.getDefaultFileName(),
                i = e.getBlob();
              DayPilot.Util.downloadBlob(i, t);
            });
        }),
        (DayPilot.Exception = function(e) {
          return new Error(e);
        }),
        (DayPilot.Locale = function(e, t) {
          if (
            ((this.id = e),
            (this.dayNames = [
              'Sunday',
              'Monday',
              'Tuesday',
              'Wednesday',
              'Thursday',
              'Friday',
              'Saturday'
            ]),
            (this.dayNamesShort = ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa']),
            (this.monthNames = [
              'January',
              'February',
              'March',
              'April',
              'May',
              'June',
              'July',
              'August',
              'September',
              'October',
              'November',
              'December'
            ]),
            (this.monthNamesShort = [
              'Jan',
              'Feb',
              'Mar',
              'Apr',
              'May',
              'Jun',
              'Jul',
              'Aug',
              'Sep',
              'Oct',
              'Nov',
              'Dec'
            ]),
            (this.datePattern = 'M/d/yyyy'),
            (this.timePattern = 'H:mm'),
            (this.dateTimePattern = 'M/d/yyyy H:mm'),
            (this.timeFormat = 'Clock12Hours'),
            (this.weekStarts = 0),
            t)
          )
            for (var i in t) this[i] = t[i];
        }),
        (DayPilot.Locale.all = {}),
        (DayPilot.Locale.find = function(e) {
          if (!e) return null;
          var t = e.toLowerCase();
          return (
            t.length > 2 && (t = DayPilot.Util.replaceCharAt(t, 2, '-')),
            DayPilot.Locale.all[t]
          );
        }),
        (DayPilot.Locale.register = function(e) {
          DayPilot.Locale.all[e.id] = e;
        }),
        DayPilot.Locale.register(
          new DayPilot.Locale('ca-es', {
            dayNames: [
              'diumenge',
              'dilluns',
              'dimarts',
              'dimecres',
              'dijous',
              'divendres',
              'dissabte'
            ],
            dayNamesShort: ['dg', 'dl', 'dt', 'dc', 'dj', 'dv', 'ds'],
            monthNames: [
              'gener',
              'febrer',
              'mar�',
              'abril',
              'maig',
              'juny',
              'juliol',
              'agost',
              'setembre',
              'octubre',
              'novembre',
              'desembre',
              ''
            ],
            monthNamesShort: [
              'gen.',
              'febr.',
              'mar�',
              'abr.',
              'maig',
              'juny',
              'jul.',
              'ag.',
              'set.',
              'oct.',
              'nov.',
              'des.',
              ''
            ],
            timePattern: 'H:mm',
            datePattern: 'dd/MM/yyyy',
            dateTimePattern: 'dd/MM/yyyy H:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 1
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('cs-cz', {
            dayNames: [
              'ned�le',
              'pond�l�',
              '�ter�',
              'st�eda',
              '�tvrtek',
              'p�tek',
              'sobota'
            ],
            dayNamesShort: ['ne', 'po', '�t', 'st', '�t', 'p�', 'so'],
            monthNames: [
              'leden',
              '�nor',
              'b�ezen',
              'duben',
              'kv�ten',
              '�erven',
              '�ervenec',
              'srpen',
              'z���',
              '��jen',
              'listopad',
              'prosinec',
              ''
            ],
            monthNamesShort: [
              'I',
              'II',
              'III',
              'IV',
              'V',
              'VI',
              'VII',
              'VIII',
              'IX',
              'X',
              'XI',
              'XII',
              ''
            ],
            timePattern: 'H:mm',
            datePattern: 'd. M. yyyy',
            dateTimePattern: 'd. M. yyyy H:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 1
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('da-dk', {
            dayNames: [
              'sondag',
              'mandag',
              'tirsdag',
              'onsdag',
              'torsdag',
              'fredag',
              'lordag'
            ],
            dayNamesShort: ['so', 'ma', 'ti', 'on', 'to', 'fr', 'lo'],
            monthNames: [
              'januar',
              'februar',
              'marts',
              'april',
              'maj',
              'juni',
              'juli',
              'august',
              'september',
              'oktober',
              'november',
              'december',
              ''
            ],
            monthNamesShort: [
              'jan',
              'feb',
              'mar',
              'apr',
              'maj',
              'jun',
              'jul',
              'aug',
              'sep',
              'okt',
              'nov',
              'dec',
              ''
            ],
            timePattern: 'HH:mm',
            datePattern: 'dd-MM-yyyy',
            dateTimePattern: 'dd-MM-yyyy HH:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 1
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('de-at', {
            dayNames: [
              'Sonntag',
              'Montag',
              'Dienstag',
              'Mittwoch',
              'Donnerstag',
              'Freitag',
              'Samstag'
            ],
            dayNamesShort: ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],
            monthNames: [
              'J�nner',
              'Februar',
              'M�rz',
              'April',
              'Mai',
              'Juni',
              'Juli',
              'August',
              'September',
              'Oktober',
              'November',
              'Dezember',
              ''
            ],
            monthNamesShort: [
              'J�n',
              'Feb',
              'M�r',
              'Apr',
              'Mai',
              'Jun',
              'Jul',
              'Aug',
              'Sep',
              'Okt',
              'Nov',
              'Dez',
              ''
            ],
            timePattern: 'HH:mm',
            datePattern: 'dd.MM.yyyy',
            dateTimePattern: 'dd.MM.yyyy HH:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 1
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('de-ch', {
            dayNames: [
              'Sonntag',
              'Montag',
              'Dienstag',
              'Mittwoch',
              'Donnerstag',
              'Freitag',
              'Samstag'
            ],
            dayNamesShort: ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],
            monthNames: [
              'Januar',
              'Februar',
              'M�rz',
              'April',
              'Mai',
              'Juni',
              'Juli',
              'August',
              'September',
              'Oktober',
              'November',
              'Dezember',
              ''
            ],
            monthNamesShort: [
              'Jan',
              'Feb',
              'Mrz',
              'Apr',
              'Mai',
              'Jun',
              'Jul',
              'Aug',
              'Sep',
              'Okt',
              'Nov',
              'Dez',
              ''
            ],
            timePattern: 'HH:mm',
            datePattern: 'dd.MM.yyyy',
            dateTimePattern: 'dd.MM.yyyy HH:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 1
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('de-de', {
            dayNames: [
              'Sonntag',
              'Montag',
              'Dienstag',
              'Mittwoch',
              'Donnerstag',
              'Freitag',
              'Samstag'
            ],
            dayNamesShort: ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],
            monthNames: [
              'Januar',
              'Februar',
              'M�rz',
              'April',
              'Mai',
              'Juni',
              'Juli',
              'August',
              'September',
              'Oktober',
              'November',
              'Dezember',
              ''
            ],
            monthNamesShort: [
              'Jan',
              'Feb',
              'Mrz',
              'Apr',
              'Mai',
              'Jun',
              'Jul',
              'Aug',
              'Sep',
              'Okt',
              'Nov',
              'Dez',
              ''
            ],
            timePattern: 'HH:mm',
            datePattern: 'dd.MM.yyyy',
            dateTimePattern: 'dd.MM.yyyy HH:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 1
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('de-lu', {
            dayNames: [
              'Sonntag',
              'Montag',
              'Dienstag',
              'Mittwoch',
              'Donnerstag',
              'Freitag',
              'Samstag'
            ],
            dayNamesShort: ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],
            monthNames: [
              'Januar',
              'Februar',
              'M�rz',
              'April',
              'Mai',
              'Juni',
              'Juli',
              'August',
              'September',
              'Oktober',
              'November',
              'Dezember',
              ''
            ],
            monthNamesShort: [
              'Jan',
              'Feb',
              'Mrz',
              'Apr',
              'Mai',
              'Jun',
              'Jul',
              'Aug',
              'Sep',
              'Okt',
              'Nov',
              'Dez',
              ''
            ],
            timePattern: 'HH:mm',
            datePattern: 'dd.MM.yyyy',
            dateTimePattern: 'dd.MM.yyyy HH:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 1
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('en-au', {
            dayNames: [
              'Sunday',
              'Monday',
              'Tuesday',
              'Wednesday',
              'Thursday',
              'Friday',
              'Saturday'
            ],
            dayNamesShort: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
            monthNames: [
              'January',
              'February',
              'March',
              'April',
              'May',
              'June',
              'July',
              'August',
              'September',
              'October',
              'November',
              'December',
              ''
            ],
            monthNamesShort: [
              'Jan',
              'Feb',
              'Mar',
              'Apr',
              'May',
              'Jun',
              'Jul',
              'Aug',
              'Sep',
              'Oct',
              'Nov',
              'Dec',
              ''
            ],
            timePattern: 'h:mm tt',
            datePattern: 'd/MM/yyyy',
            dateTimePattern: 'd/MM/yyyy h:mm tt',
            timeFormat: 'Clock12Hours',
            weekStarts: 1
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('en-ca', {
            dayNames: [
              'Sunday',
              'Monday',
              'Tuesday',
              'Wednesday',
              'Thursday',
              'Friday',
              'Saturday'
            ],
            dayNamesShort: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
            monthNames: [
              'January',
              'February',
              'March',
              'April',
              'May',
              'June',
              'July',
              'August',
              'September',
              'October',
              'November',
              'December',
              ''
            ],
            monthNamesShort: [
              'Jan',
              'Feb',
              'Mar',
              'Apr',
              'May',
              'Jun',
              'Jul',
              'Aug',
              'Sep',
              'Oct',
              'Nov',
              'Dec',
              ''
            ],
            timePattern: 'h:mm tt',
            datePattern: 'yyyy-MM-dd',
            dateTimePattern: 'yyyy-MM-dd h:mm tt',
            timeFormat: 'Clock12Hours',
            weekStarts: 0
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('en-gb', {
            dayNames: [
              'Sunday',
              'Monday',
              'Tuesday',
              'Wednesday',
              'Thursday',
              'Friday',
              'Saturday'
            ],
            dayNamesShort: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
            monthNames: [
              'January',
              'February',
              'March',
              'April',
              'May',
              'June',
              'July',
              'August',
              'September',
              'October',
              'November',
              'December',
              ''
            ],
            monthNamesShort: [
              'Jan',
              'Feb',
              'Mar',
              'Apr',
              'May',
              'Jun',
              'Jul',
              'Aug',
              'Sep',
              'Oct',
              'Nov',
              'Dec',
              ''
            ],
            timePattern: 'HH:mm',
            datePattern: 'dd/MM/yyyy',
            dateTimePattern: 'dd/MM/yyyy HH:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 1
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('en-us', {
            dayNames: [
              'Sunday',
              'Monday',
              'Tuesday',
              'Wednesday',
              'Thursday',
              'Friday',
              'Saturday'
            ],
            dayNamesShort: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
            monthNames: [
              'January',
              'February',
              'March',
              'April',
              'May',
              'June',
              'July',
              'August',
              'September',
              'October',
              'November',
              'December',
              ''
            ],
            monthNamesShort: [
              'Jan',
              'Feb',
              'Mar',
              'Apr',
              'May',
              'Jun',
              'Jul',
              'Aug',
              'Sep',
              'Oct',
              'Nov',
              'Dec',
              ''
            ],
            timePattern: 'h:mm tt',
            datePattern: 'M/d/yyyy',
            dateTimePattern: 'M/d/yyyy h:mm tt',
            timeFormat: 'Clock12Hours',
            weekStarts: 0
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('es-es', {
            dayNames: [
              'domingo',
              'lunes',
              'martes',
              'mi�rcoles',
              'jueves',
              'viernes',
              's�bado'
            ],
            dayNamesShort: ['D', 'L', 'M', 'X', 'J', 'V', 'S'],
            monthNames: [
              'enero',
              'febrero',
              'marzo',
              'abril',
              'mayo',
              'junio',
              'julio',
              'agosto',
              'septiembre',
              'octubre',
              'noviembre',
              'diciembre',
              ''
            ],
            monthNamesShort: [
              'ene.',
              'feb.',
              'mar.',
              'abr.',
              'may.',
              'jun.',
              'jul.',
              'ago.',
              'sep.',
              'oct.',
              'nov.',
              'dic.',
              ''
            ],
            timePattern: 'H:mm',
            datePattern: 'dd/MM/yyyy',
            dateTimePattern: 'dd/MM/yyyy H:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 1
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('es-mx', {
            dayNames: [
              'domingo',
              'lunes',
              'martes',
              'mi�rcoles',
              'jueves',
              'viernes',
              's�bado'
            ],
            dayNamesShort: ['do.', 'lu.', 'ma.', 'mi.', 'ju.', 'vi.', 's�.'],
            monthNames: [
              'enero',
              'febrero',
              'marzo',
              'abril',
              'mayo',
              'junio',
              'julio',
              'agosto',
              'septiembre',
              'octubre',
              'noviembre',
              'diciembre',
              ''
            ],
            monthNamesShort: [
              'ene.',
              'feb.',
              'mar.',
              'abr.',
              'may.',
              'jun.',
              'jul.',
              'ago.',
              'sep.',
              'oct.',
              'nov.',
              'dic.',
              ''
            ],
            timePattern: 'hh:mm tt',
            datePattern: 'dd/MM/yyyy',
            dateTimePattern: 'dd/MM/yyyy hh:mm tt',
            timeFormat: 'Clock12Hours',
            weekStarts: 0
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('eu-es', {
            dayNames: [
              'igandea',
              'astelehena',
              'asteartea',
              'asteazkena',
              'osteguna',
              'ostirala',
              'larunbata'
            ],
            dayNamesShort: ['ig', 'al', 'as', 'az', 'og', 'or', 'lr'],
            monthNames: [
              'urtarrila',
              'otsaila',
              'martxoa',
              'apirila',
              'maiatza',
              'ekaina',
              'uztaila',
              'abuztua',
              'iraila',
              'urria',
              'azaroa',
              'abendua',
              ''
            ],
            monthNamesShort: [
              'urt.',
              'ots.',
              'mar.',
              'api.',
              'mai.',
              'eka.',
              'uzt.',
              'abu.',
              'ira.',
              'urr.',
              'aza.',
              'abe.',
              ''
            ],
            timePattern: 'H:mm',
            datePattern: 'yyyy/MM/dd',
            dateTimePattern: 'yyyy/MM/dd H:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 1
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('fi-fi', {
            dayNames: [
              'sunnuntai',
              'maanantai',
              'tiistai',
              'keskiviikko',
              'torstai',
              'perjantai',
              'lauantai'
            ],
            dayNamesShort: ['su', 'ma', 'ti', 'ke', 'to', 'pe', 'la'],
            monthNames: [
              'tammikuu',
              'helmikuu',
              'maaliskuu',
              'huhtikuu',
              'toukokuu',
              'kes�kuu',
              'hein�kuu',
              'elokuu',
              'syyskuu',
              'lokakuu',
              'marraskuu',
              'joulukuu',
              ''
            ],
            monthNamesShort: [
              'tammi',
              'helmi',
              'maalis',
              'huhti',
              'touko',
              'kes�',
              'hein�',
              'elo',
              'syys',
              'loka',
              'marras',
              'joulu',
              ''
            ],
            timePattern: 'H:mm',
            datePattern: 'd.M.yyyy',
            dateTimePattern: 'd.M.yyyy H:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 1
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('fr-be', {
            dayNames: [
              'dimanche',
              'lundi',
              'mardi',
              'mercredi',
              'jeudi',
              'vendredi',
              'samedi'
            ],
            dayNamesShort: ['di', 'lu', 'ma', 'me', 'je', 've', 'sa'],
            monthNames: [
              'janvier',
              'f�vrier',
              'mars',
              'avril',
              'mai',
              'juin',
              'juillet',
              'aout',
              'septembre',
              'octobre',
              'novembre',
              'd�cembre',
              ''
            ],
            monthNamesShort: [
              'janv.',
              'f�vr.',
              'mars',
              'avr.',
              'mai',
              'juin',
              'juil.',
              'aout',
              'sept.',
              'oct.',
              'nov.',
              'd�c.',
              ''
            ],
            timePattern: 'HH:mm',
            datePattern: 'dd-MM-yy',
            dateTimePattern: 'dd-MM-yy HH:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 1
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('fr-ca', {
            dayNames: [
              'dimanche',
              'lundi',
              'mardi',
              'mercredi',
              'jeudi',
              'vendredi',
              'samedi'
            ],
            dayNamesShort: ['di', 'lu', 'ma', 'me', 'je', 've', 'sa'],
            monthNames: [
              'janvier',
              'f�vrier',
              'mars',
              'avril',
              'mai',
              'juin',
              'juillet',
              'aout',
              'septembre',
              'octobre',
              'novembre',
              'd�cembre',
              ''
            ],
            monthNamesShort: [
              'janv.',
              'f�vr.',
              'mars',
              'avr.',
              'mai',
              'juin',
              'juil.',
              'aout',
              'sept.',
              'oct.',
              'nov.',
              'd�c.',
              ''
            ],
            timePattern: 'HH:mm',
            datePattern: 'yyyy-MM-dd',
            dateTimePattern: 'yyyy-MM-dd HH:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 0
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('fr-ch', {
            dayNames: [
              'dimanche',
              'lundi',
              'mardi',
              'mercredi',
              'jeudi',
              'vendredi',
              'samedi'
            ],
            dayNamesShort: ['di', 'lu', 'ma', 'me', 'je', 've', 'sa'],
            monthNames: [
              'janvier',
              'f�vrier',
              'mars',
              'avril',
              'mai',
              'juin',
              'juillet',
              'aout',
              'septembre',
              'octobre',
              'novembre',
              'd�cembre',
              ''
            ],
            monthNamesShort: [
              'janv.',
              'f�vr.',
              'mars',
              'avr.',
              'mai',
              'juin',
              'juil.',
              'aout',
              'sept.',
              'oct.',
              'nov.',
              'd�c.',
              ''
            ],
            timePattern: 'HH:mm',
            datePattern: 'dd.MM.yyyy',
            dateTimePattern: 'dd.MM.yyyy HH:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 1
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('fr-fr', {
            dayNames: [
              'dimanche',
              'lundi',
              'mardi',
              'mercredi',
              'jeudi',
              'vendredi',
              'samedi'
            ],
            dayNamesShort: ['di', 'lu', 'ma', 'me', 'je', 've', 'sa'],
            monthNames: [
              'janvier',
              'f�vrier',
              'mars',
              'avril',
              'mai',
              'juin',
              'juillet',
              'aout',
              'septembre',
              'octobre',
              'novembre',
              'd�cembre',
              ''
            ],
            monthNamesShort: [
              'janv.',
              'f�vr.',
              'mars',
              'avr.',
              'mai',
              'juin',
              'juil.',
              'aout',
              'sept.',
              'oct.',
              'nov.',
              'd�c.',
              ''
            ],
            timePattern: 'HH:mm',
            datePattern: 'dd/MM/yyyy',
            dateTimePattern: 'dd/MM/yyyy HH:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 1
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('fr-lu', {
            dayNames: [
              'dimanche',
              'lundi',
              'mardi',
              'mercredi',
              'jeudi',
              'vendredi',
              'samedi'
            ],
            dayNamesShort: ['di', 'lu', 'ma', 'me', 'je', 've', 'sa'],
            monthNames: [
              'janvier',
              'f�vrier',
              'mars',
              'avril',
              'mai',
              'juin',
              'juillet',
              'aout',
              'septembre',
              'octobre',
              'novembre',
              'd�cembre',
              ''
            ],
            monthNamesShort: [
              'janv.',
              'f�vr.',
              'mars',
              'avr.',
              'mai',
              'juin',
              'juil.',
              'aout',
              'sept.',
              'oct.',
              'nov.',
              'd�c.',
              ''
            ],
            timePattern: 'HH:mm',
            datePattern: 'dd/MM/yyyy',
            dateTimePattern: 'dd/MM/yyyy HH:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 1
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('gl-es', {
            dayNames: [
              'domingo',
              'luns',
              'martes',
              'm�rcores',
              'xoves',
              'venres',
              's�bado'
            ],
            dayNamesShort: ['do', 'lu', 'ma', 'm�', 'xo', 've', 's�'],
            monthNames: [
              'xaneiro',
              'febreiro',
              'marzo',
              'abril',
              'maio',
              'xuno',
              'xullo',
              'agosto',
              'setembro',
              'outubro',
              'novembro',
              'decembro',
              ''
            ],
            monthNamesShort: [
              'xan',
              'feb',
              'mar',
              'abr',
              'maio',
              'xuno',
              'xul',
              'ago',
              'set',
              'out',
              'nov',
              'dec',
              ''
            ],
            timePattern: 'H:mm',
            datePattern: 'dd/MM/yyyy',
            dateTimePattern: 'dd/MM/yyyy H:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 1
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('it-it', {
            dayNames: [
              'domenica',
              'lunedi',
              'martedi',
              'mercoledi',
              'giovedi',
              'venerdi',
              'sabato'
            ],
            dayNamesShort: ['do', 'lu', 'ma', 'me', 'gi', 've', 'sa'],
            monthNames: [
              'gennaio',
              'febbraio',
              'marzo',
              'aprile',
              'maggio',
              'giugno',
              'luglio',
              'agosto',
              'settembre',
              'ottobre',
              'novembre',
              'dicembre',
              ''
            ],
            monthNamesShort: [
              'gen',
              'feb',
              'mar',
              'apr',
              'mag',
              'giu',
              'lug',
              'ago',
              'set',
              'ott',
              'nov',
              'dic',
              ''
            ],
            timePattern: 'HH:mm',
            datePattern: 'dd/MM/yyyy',
            dateTimePattern: 'dd/MM/yyyy HH:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 1
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('it-ch', {
            dayNames: [
              'domenica',
              'lunedi',
              'martedi',
              'mercoledi',
              'giovedi',
              'venerdi',
              'sabato'
            ],
            dayNamesShort: ['do', 'lu', 'ma', 'me', 'gi', 've', 'sa'],
            monthNames: [
              'gennaio',
              'febbraio',
              'marzo',
              'aprile',
              'maggio',
              'giugno',
              'luglio',
              'agosto',
              'settembre',
              'ottobre',
              'novembre',
              'dicembre',
              ''
            ],
            monthNamesShort: [
              'gen',
              'feb',
              'mar',
              'apr',
              'mag',
              'giu',
              'lug',
              'ago',
              'set',
              'ott',
              'nov',
              'dic',
              ''
            ],
            timePattern: 'HH:mm',
            datePattern: 'dd.MM.yyyy',
            dateTimePattern: 'dd.MM.yyyy HH:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 1
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('ja-jp', {
            dayNames: ['???', '???', '???', '???', '???', '???', '???'],
            dayNamesShort: ['?', '?', '?', '?', '?', '?', '?'],
            monthNames: [
              '1?',
              '2?',
              '3?',
              '4?',
              '5?',
              '6?',
              '7?',
              '8?',
              '9?',
              '10?',
              '11?',
              '12?',
              ''
            ],
            monthNamesShort: [
              '1',
              '2',
              '3',
              '4',
              '5',
              '6',
              '7',
              '8',
              '9',
              '10',
              '11',
              '12',
              ''
            ],
            timePattern: 'H:mm',
            datePattern: 'yyyy/MM/dd',
            dateTimePattern: 'yyyy/MM/dd H:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 0
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('nb-no', {
            dayNames: [
              'sondag',
              'mandag',
              'tirsdag',
              'onsdag',
              'torsdag',
              'fredag',
              'lordag'
            ],
            dayNamesShort: ['so', 'ma', 'ti', 'on', 'to', 'fr', 'lo'],
            monthNames: [
              'januar',
              'februar',
              'mars',
              'april',
              'mai',
              'juni',
              'juli',
              'august',
              'september',
              'oktober',
              'november',
              'desember',
              ''
            ],
            monthNamesShort: [
              'jan',
              'feb',
              'mar',
              'apr',
              'mai',
              'jun',
              'jul',
              'aug',
              'sep',
              'okt',
              'nov',
              'des',
              ''
            ],
            timePattern: 'HH:mm',
            datePattern: 'dd.MM.yyyy',
            dateTimePattern: 'dd.MM.yyyy HH:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 1
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('nl-nl', {
            dayNames: [
              'zondag',
              'maandag',
              'dinsdag',
              'woensdag',
              'donderdag',
              'vrijdag',
              'zaterdag'
            ],
            dayNamesShort: ['zo', 'ma', 'di', 'wo', 'do', 'vr', 'za'],
            monthNames: [
              'januari',
              'februari',
              'maart',
              'april',
              'mei',
              'juni',
              'juli',
              'augustus',
              'september',
              'oktober',
              'november',
              'december',
              ''
            ],
            monthNamesShort: [
              'jan',
              'feb',
              'mrt',
              'apr',
              'mei',
              'jun',
              'jul',
              'aug',
              'sep',
              'okt',
              'nov',
              'dec',
              ''
            ],
            timePattern: 'HH:mm',
            datePattern: 'd-M-yyyy',
            dateTimePattern: 'd-M-yyyy HH:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 1
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('nl-be', {
            dayNames: [
              'zondag',
              'maandag',
              'dinsdag',
              'woensdag',
              'donderdag',
              'vrijdag',
              'zaterdag'
            ],
            dayNamesShort: ['zo', 'ma', 'di', 'wo', 'do', 'vr', 'za'],
            monthNames: [
              'januari',
              'februari',
              'maart',
              'april',
              'mei',
              'juni',
              'juli',
              'augustus',
              'september',
              'oktober',
              'november',
              'december',
              ''
            ],
            monthNamesShort: [
              'jan',
              'feb',
              'mrt',
              'apr',
              'mei',
              'jun',
              'jul',
              'aug',
              'sep',
              'okt',
              'nov',
              'dec',
              ''
            ],
            timePattern: 'H:mm',
            datePattern: 'd/MM/yyyy',
            dateTimePattern: 'd/MM/yyyy H:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 1
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('nn-no', {
            dayNames: [
              'sondag',
              'mandag',
              'tysdag',
              'onsdag',
              'torsdag',
              'fredag',
              'laurdag'
            ],
            dayNamesShort: ['so', 'ma', 'ty', 'on', 'to', 'fr', 'la'],
            monthNames: [
              'januar',
              'februar',
              'mars',
              'april',
              'mai',
              'juni',
              'juli',
              'august',
              'september',
              'oktober',
              'november',
              'desember',
              ''
            ],
            monthNamesShort: [
              'jan',
              'feb',
              'mar',
              'apr',
              'mai',
              'jun',
              'jul',
              'aug',
              'sep',
              'okt',
              'nov',
              'des',
              ''
            ],
            timePattern: 'HH:mm',
            datePattern: 'dd.MM.yyyy',
            dateTimePattern: 'dd.MM.yyyy HH:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 1
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('pt-br', {
            dayNames: [
              'domingo',
              'segunda-feira',
              'ter�a-feira',
              'quarta-feira',
              'quinta-feira',
              'sexta-feira',
              's�bado'
            ],
            dayNamesShort: ['D', 'S', 'T', 'Q', 'Q', 'S', 'S'],
            monthNames: [
              'janeiro',
              'fevereiro',
              'mar�o',
              'abril',
              'maio',
              'junho',
              'julho',
              'agosto',
              'setembro',
              'outubro',
              'novembro',
              'dezembro',
              ''
            ],
            monthNamesShort: [
              'jan',
              'fev',
              'mar',
              'abr',
              'mai',
              'jun',
              'jul',
              'ago',
              'set',
              'out',
              'nov',
              'dez',
              ''
            ],
            timePattern: 'HH:mm',
            datePattern: 'dd/MM/yyyy',
            dateTimePattern: 'dd/MM/yyyy HH:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 0
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('pl-pl', {
            dayNames: [
              'niedziela',
              'poniedzia�ek',
              'wtorek',
              '�roda',
              'czwartek',
              'pi�tek',
              'sobota'
            ],
            dayNamesShort: ['N', 'Pn', 'Wt', '�r', 'Cz', 'Pt', 'So'],
            monthNames: [
              'stycze�',
              'luty',
              'marzec',
              'kwiecie�',
              'maj',
              'czerwiec',
              'lipiec',
              'sierpie�',
              'wrzesie�',
              'pa�dziernik',
              'listopad',
              'grudzie�',
              ''
            ],
            monthNamesShort: [
              'sty',
              'lut',
              'mar',
              'kwi',
              'maj',
              'cze',
              'lip',
              'sie',
              'wrz',
              'pa�',
              'lis',
              'gru',
              ''
            ],
            timePattern: 'HH:mm',
            datePattern: 'yyyy-MM-dd',
            dateTimePattern: 'yyyy-MM-dd HH:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 1
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('pt-pt', {
            dayNames: [
              'domingo',
              'segunda-feira',
              'ter�a-feira',
              'quarta-feira',
              'quinta-feira',
              'sexta-feira',
              's�bado'
            ],
            dayNamesShort: ['D', 'S', 'T', 'Q', 'Q', 'S', 'S'],
            monthNames: [
              'janeiro',
              'fevereiro',
              'mar�o',
              'abril',
              'maio',
              'junho',
              'julho',
              'agosto',
              'setembro',
              'outubro',
              'novembro',
              'dezembro',
              ''
            ],
            monthNamesShort: [
              'jan',
              'fev',
              'mar',
              'abr',
              'mai',
              'jun',
              'jul',
              'ago',
              'set',
              'out',
              'nov',
              'dez',
              ''
            ],
            timePattern: 'HH:mm',
            datePattern: 'dd/MM/yyyy',
            dateTimePattern: 'dd/MM/yyyy HH:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 0
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('ro-ro', {
            dayNames: [
              'duminic�',
              'luni',
              'mar?i',
              'miercuri',
              'joi',
              'vineri',
              's�mb�t�'
            ],
            dayNamesShort: ['D', 'L', 'Ma', 'Mi', 'J', 'V', 'S'],
            monthNames: [
              'ianuarie',
              'februarie',
              'martie',
              'aprilie',
              'mai',
              'iunie',
              'iulie',
              'august',
              'septembrie',
              'octombrie',
              'noiembrie',
              'decembrie',
              ''
            ],
            monthNamesShort: [
              'ian.',
              'feb.',
              'mar.',
              'apr.',
              'mai.',
              'iun.',
              'iul.',
              'aug.',
              'sep.',
              'oct.',
              'nov.',
              'dec.',
              ''
            ],
            timePattern: 'H:mm',
            datePattern: 'dd.MM.yyyy',
            dateTimePattern: 'dd.MM.yyyy H:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 1
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('ru-ru', {
            dayNames: [
              '???????????',
              '???????????',
              '???????',
              '?????',
              '???????',
              '???????',
              '???????'
            ],
            dayNamesShort: ['??', '??', '??', '??', '??', '??', '??'],
            monthNames: [
              '??????',
              '???????',
              '????',
              '??????',
              '???',
              '????',
              '????',
              '??????',
              '????????',
              '???????',
              '??????',
              '???????',
              ''
            ],
            monthNamesShort: [
              '???',
              '???',
              '???',
              '???',
              '???',
              '???',
              '???',
              '???',
              '???',
              '???',
              '???',
              '???',
              ''
            ],
            timePattern: 'H:mm',
            datePattern: 'dd.MM.yyyy',
            dateTimePattern: 'dd.MM.yyyy H:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 1
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('sk-sk', {
            dayNames: [
              'nede�a',
              'pondelok',
              'utorok',
              'streda',
              '�tvrtok',
              'piatok',
              'sobota'
            ],
            dayNamesShort: ['ne', 'po', 'ut', 'st', '�t', 'pi', 'so'],
            monthNames: [
              'janu�r',
              'febru�r',
              'marec',
              'apr�l',
              'm�j',
              'j�n',
              'j�l',
              'august',
              'september',
              'okt�ber',
              'november',
              'december',
              ''
            ],
            monthNamesShort: [
              '1',
              '2',
              '3',
              '4',
              '5',
              '6',
              '7',
              '8',
              '9',
              '10',
              '11',
              '12',
              ''
            ],
            timePattern: 'H:mm',
            datePattern: 'd.M.yyyy',
            dateTimePattern: 'd.M.yyyy H:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 1
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('sv-se', {
            dayNames: [
              's�ndag',
              'mandag',
              'tisdag',
              'onsdag',
              'torsdag',
              'fredag',
              'l�rdag'
            ],
            dayNamesShort: ['s�', 'ma', 'ti', 'on', 'to', 'fr', 'l�'],
            monthNames: [
              'januari',
              'februari',
              'mars',
              'april',
              'maj',
              'juni',
              'juli',
              'augusti',
              'september',
              'oktober',
              'november',
              'december',
              ''
            ],
            monthNamesShort: [
              'jan',
              'feb',
              'mar',
              'apr',
              'maj',
              'jun',
              'jul',
              'aug',
              'sep',
              'okt',
              'nov',
              'dec',
              ''
            ],
            timePattern: 'HH:mm',
            datePattern: 'yyyy-MM-dd',
            dateTimePattern: 'yyyy-MM-dd HH:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 1
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('tr-tr', {
            dayNames: [
              'Pazar',
              'Pazartesi',
              'Sali',
              '�ar�amba',
              'Per�embe',
              'Cuma',
              'Cumartesi'
            ],
            dayNamesShort: ['Pz', 'Pt', 'Sa', '�a', 'Pe', 'Cu', 'Ct'],
            monthNames: [
              'Ocak',
              '�ubat',
              'Mart',
              'Nisan',
              'Mayis',
              'Haziran',
              'Temmuz',
              'Agustos',
              'Eyl�l',
              'Ekim',
              'Kasim',
              'Aralik',
              ''
            ],
            monthNamesShort: [
              'Oca',
              '�ub',
              'Mar',
              'Nis',
              'May',
              'Haz',
              'Tem',
              'Agu',
              'Eyl',
              'Eki',
              'Kas',
              'Ara',
              ''
            ],
            timePattern: 'HH:mm',
            datePattern: 'd.M.yyyy',
            dateTimePattern: 'd.M.yyyy HH:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 1
          })
        ),
        DayPilot.Locale.register(
          new DayPilot.Locale('zh-cn', {
            dayNames: ['???', '???', '???', '???', '???', '???', '???'],
            dayNamesShort: ['?', '?', '?', '?', '?', '?', '?'],
            monthNames: [
              '??',
              '??',
              '??',
              '??',
              '??',
              '??',
              '??',
              '??',
              '??',
              '??',
              '???',
              '???',
              ''
            ],
            monthNamesShort: [
              '1?',
              '2?',
              '3?',
              '4?',
              '5?',
              '6?',
              '7?',
              '8?',
              '9?',
              '10?',
              '11?',
              '12?',
              ''
            ],
            timePattern: 'H:mm',
            datePattern: 'yyyy/M/d',
            dateTimePattern: 'yyyy/M/d H:mm',
            timeFormat: 'Clock24Hours',
            weekStarts: 1
          })
        ),
        (DayPilot.Locale.US = DayPilot.Locale.find('en-us')),
        (DayPilot.Switcher = function(e) {
          function t(e, t, n) {
            var a = {};
            (a.start = e),
              (a.end = t),
              (a.day = n),
              (a.target = i.active.control),
              (a.preventDefault = function() {
                this.preventDefault.value = !0;
              });
            var o = i.l;
            (o &&
              o.start === a.start &&
              o.end === a.end &&
              o.day === a.day &&
              o.target === a.target) ||
              ((i.l = a),
              ('function' == typeof i.onChange &&
                (i.onChange(a), a.preventDefault.value)) ||
                ('function' == typeof i.onTimeRangeSelect &&
                  (i.onTimeRangeSelect(a), a.preventDefault.value)) ||
                (i.active.sendNavigate(i.day),
                'function' == typeof i.onChanged && i.onChanged(a),
                'function' == typeof i.onTimeRangeSelected &&
                  i.onTimeRangeSelected(a)));
          }
          var i = this;
          (this.views = []),
            (this.triggers = []),
            (this.navigator = {}),
            (this.selectedClass = null),
            (this.active = null),
            (this.day = DayPilot.Date.today()),
            (this.onChange = null),
            (this.onChanged = null),
            (this.navigator.updateMode = function(e) {
              var t = i.navigator.control;
              t && ((t.selectMode = e), t.select(i.day));
            }),
            (this.addView = function(e, t) {
              var n;
              if ('string' == typeof e) {
                if (((n = document.getElementById(e)), !n))
                  throw 'Element not found: ' + e;
              } else n = e;
              var a = n,
                o = {};
              return (
                (o.isView = !0),
                (o.id = a.id),
                (o.control = a),
                (o.options = t || {}),
                (o.hide = function() {
                  a.hide
                    ? a.hide()
                    : a.nav && a.nav.top
                    ? (a.nav.top.style.display = 'none')
                    : (a.style.display = 'none');
                }),
                (o.sendNavigate = function(e) {
                  (function() {
                    return (
                      !!a.backendUrl ||
                      !('function' != typeof WebForm_DoCallback || !a.uniqueID)
                    );
                  })()
                    ? a.commandCallBack &&
                      a.commandCallBack('navigate', { day: e })
                    : ((a.startDate = e), a.update());
                }),
                (o.show = function() {
                  i.f(),
                    a.show
                      ? a.show()
                      : a.nav && a.nav.top
                      ? (a.nav.top.style.display = '')
                      : (a.style.display = '');
                }),
                (o.selectMode = function() {
                  if (o.options.navigatorSelectMode)
                    return o.options.navigatorSelectMode;
                  if (a.isCalendar)
                    switch (a.viewType) {
                      case 'Day':
                        return 'day';
                      case 'Week':
                        return 'week';
                      case 'WorkWeek':
                        return 'week';
                      default:
                        return 'day';
                    }
                  else if (a.isMonth)
                    switch (a.viewType) {
                      case 'Month':
                        return 'month';
                      case 'Weeks':
                        return 'week';
                      default:
                        return 'day';
                    }
                  return 'day';
                }),
                this.views.push(o),
                o
              );
            }),
            (this.addTrigger = function(e, t) {
              var n;
              if ('string' == typeof e) {
                if (((n = document.getElementById(e)), !n))
                  throw 'Element not found: ' + e;
              } else n = e;
              var a = this.g(t);
              a || (a = this.addView(t));
              var o = {};
              return (
                (o.isTrigger = !0),
                (o.element = n),
                (o.id = n.id),
                (o.view = a),
                (o.onClick = function(e) {
                  i.show(o),
                    i.j(o),
                    (e = e || window.event),
                    e &&
                      (e.preventDefault
                        ? e.preventDefault()
                        : (e.returnValue = !1));
                }),
                DayPilot.re(n, 'click', o.onClick),
                this.triggers.push(o),
                o
              );
            }),
            (this.addButton = this.addTrigger),
            (this.select = function(e) {
              var t = this.k(e);
              t
                ? t.onClick()
                : this.triggers.length > 0 && this.triggers[0].onClick();
            }),
            (this.k = function(e) {
              for (var t = 0; t < this.triggers.length; t++) {
                var i = this.triggers[t];
                if (i.id === e) return i;
              }
              return null;
            }),
            (this.j = function(e) {
              if (this.selectedClass) {
                for (var t = 0; t < this.triggers.length; t++) {
                  var i = this.triggers[t];
                  DayPilot.Util.removeClass(i.element, this.selectedClass);
                }
                DayPilot.Util.addClass(e.element, this.selectedClass);
              }
            }),
            (this.addNavigator = function(e) {
              (i.navigator.control = e),
                (e.timeRangeSelectedHandling = 'JavaScript'),
                (e.onTimeRangeSelected = function() {
                  var n, a, o;
                  if (1 === e.api)
                    (n = arguments[0]), (a = arguments[1]), (o = arguments[2]);
                  else {
                    var r = arguments[0];
                    (n = r.start), (a = r.end), (o = r.day);
                  }
                  (i.day = o), t(n, a, o);
                });
            }),
            (this.show = function(e) {
              var t, n;
              if (e.isTrigger) (n = e), (t = n.view);
              else if (((t = e.isView ? e : this.g(e)), this.active === t))
                return;
              if (i.onSelect) {
                var a = {};
                (a.source = n ? n.element : null),
                  (a.target = t.control),
                  i.onSelect(a);
              }
              (this.active = t), t.show();
              var o = t.selectMode();
              i.navigator.updateMode(o);
            }),
            (this.g = function(e) {
              for (var t = 0; t < this.views.length; t++)
                if (this.views[t].control === e) return this.views[t];
              return null;
            }),
            (this.f = function() {
              for (var e = 0; e < this.views.length; e++) this.views[e].hide();
            }),
            (this.events = {}),
            (this.events.load = function(e, t, n) {
              if (!i.active || !i.active.control)
                throw 'DayPilot.Switcher.events.load(): Active view not found';
              i.active.control.events.load(e, t, n);
            }),
            (this.l = null),
            (this.m = function() {
              if (e)
                for (var t in e)
                  'triggers' === t
                    ? DayPilot.list(e.triggers).each(function(e) {
                        i.addTrigger(e.id, e.view);
                      })
                    : 'navigator' === t
                    ? i.addNavigator(e.navigator)
                    : (i[t] = e[t]);
            }),
            this.m();
        }),
        (function() {
          if (!DayPilot.Global.defaultCss) {
            var e = DayPilot.sheet();
            e.add('.bubble_default_main', 'cursor: default;'),
              e.add(
                '.bubble_default_main_inner',
                'border-radius: 5px;font-size: 12px;padding: 4px;color: #666;background: #eeeeee; background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #ccc;-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);'
              ),
              e.add(
                '.calendar_default_main',
                'border: 1px solid #c0c0c0; font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;'
              ),
              e.add(
                '.calendar_default_main *, .calendar_default_main *:before, .calendar_default_main *:after',
                'box-sizing: content-box;'
              ),
              e.add(
                '.calendar_default_rowheader_inner,.calendar_default_cornerright_inner,.calendar_default_corner_inner,.calendar_default_colheader_inner,.calendar_default_alldayheader_inner',
                'color: #333;background: #f3f3f3;'
              ),
              e.add(
                '.calendar_default_cornerright_inner',
                'position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;\tborder-bottom: 1px solid #c0c0c0;'
              ),
              e.add(
                '.calendar_default_rowheader_inner',
                'font-size: 16pt;text-align: right; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0; padding: 3px;'
              ),
              e.add(
                '.calendar_default_corner_inner',
                'position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;'
              ),
              e.add(
                '.calendar_default_rowheader_minutes',
                'font-size:10px;vertical-align: super;padding-left: 2px;padding-right: 2px;'
              ),
              e.add(
                '.calendar_default_colheader_inner',
                'position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0; display: flex; align-items: center; justify-content: center;'
              ),
              e.add(
                '.calendar_default_cell_inner',
                'position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #ddd;border-bottom: 1px solid #ddd; background: #f9f9f9;'
              ),
              e.add(
                '.calendar_default_cell_business .calendar_default_cell_inner',
                'background: #fff'
              ),
              e.add(
                '.calendar_default_alldayheader_inner',
                'text-align: center;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;'
              ),
              e.add(
                '.calendar_default_message',
                'opacity: 0.9;filter: alpha(opacity=90);\tpadding: 10px; color: #ffffff;background: #ffa216;'
              ),
              e.add(
                '.calendar_default_alldayevent_inner,.calendar_default_event_inner',
                'color: #666; border: 1px solid #999;'
              ),
              e.add(
                '.calendar_default_event_bar',
                'top: 0px;bottom: 0px;left: 0px;width: 4px;background-color: #9dc8e8;'
              ),
              e.add(
                '.calendar_default_event_bar_inner',
                'position: absolute;width: 4px;background-color: #1066a8;'
              ),
              e.add(
                '.calendar_default_alldayevent_inner,.calendar_default_event_inner',
                'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
              ),
              e.add(
                '.calendar_default_selected .calendar_default_event_inner',
                'background: #ddd;'
              ),
              e.add(
                '.calendar_default_alldayevent_inner',
                'position: absolute;top: 2px;bottom: 2px;left: 2px;right: 2px;overflow:hidden;padding: 2px;margin-right: 1px;font-size: 12px;'
              ),
              e.add(
                '.calendar_default_event_withheader .calendar_default_event_inner',
                'padding-top: 15px;'
              ),
              e.add('.calendar_default_event', 'cursor: default;'),
              e.add(
                '.calendar_default_event_inner',
                'position: absolute;overflow: hidden;top: 0px;bottom: 0px;left: 0px;right: 0px;padding: 2px 2px 2px 6px;font-size: 12px;'
              ),
              e.add(
                '.calendar_default_shadow_inner',
                'position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color: #666666; opacity: 0.5;filter: alpha(opacity=50);'
              ),
              e.add(
                '.calendar_default_event_delete',
                "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)'; cursor: pointer;"
              ),
              e.add(
                '.calendar_default_event_delete:hover',
                'opacity: 1;-ms-filter: none;'
              ),
              e.add(
                '.calendar_default_scroll_up',
                'background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAB3RJTUUH2wESDiYcrhwCiQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAARnQU1BAACxjwv8YQUAAACcSURBVHjaY2AgF9wWsTW6yGMlhi7OhC7AyMDQzMnBXIpFHAFuCtuaMTP+P8nA8P/b1x//FfW/HHuF1UQmxv+NUP1c3OxMVVhNvCVi683E8H8LXOY/w9+fTH81tF8fv4NiIpBRj+YoZtZ/LDUoJmKYhsVUpv0MDiyMDP96sIYV0FS2/8z9ICaLlOhvS4b/jC//MzC8xBG0vJeF7GQBlK0xdiUzCtsAAAAASUVORK5CYII=);'
              ),
              e.add(
                '.calendar_default_scroll_down',
                'background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAACqSURBVChTY7wpam3L9J+xmQEP+PGPKZZxP4MDi4zI78uMDIwa2NT+Z2DYovrmiC+TI8OBP/8ZmEqwGvif4e8vxr+FIDkmEKH25vBWBgbG0+iK/zEwLtF+ffwOXCGI8Y+BoRFFIdC030x/WmBiYBNhpgLdswNJ8RSYaSgmgk39z1gPUfj/29ef/9rwhQTDHRHbrbdEbLvRFcGthkkAra/9/uMvhkK8piNLAgCRpTnNn4AEmAAAAABJRU5ErkJggg==);'
              ),
              e.add('.calendar_default_now', 'background-color: red;'),
              e.add(
                '.calendar_default_now:before',
                "content: ''; top: -5px; border-width: 5px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute; -moz-transform: scale(.9999);"
              ),
              e.add(
                '.calendar_default_shadow_forbidden .calendar_default_shadow_inner',
                'background-color: red;'
              ),
              e.add(
                '.calendar_default_shadow_top',
                'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
              ),
              e.add(
                '.calendar_default_shadow_bottom',
                'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
              ),
              e.add(
                '.calendar_default_crosshair_vertical, .calendar_default_crosshair_horizontal, .calendar_default_crosshair_left, .calendar_default_crosshair_top',
                'background-color: gray; opacity: 0.2; filter: alpha(opacity=20)'
              ),
              e.add(
                '.calendar_default_loading',
                'background-color: orange; color: white; padding: 2px;'
              ),
              e.add('.calendar_default_scroll', 'background-color: #f3f3f3;'),
              e.add(
                '.menu_default_main',
                'font-family: Tahoma, Arial, Helvetica, Sans-Serif;font-size: 12px;border: 1px solid #dddddd;background-color: white;padding: 0px;cursor: default;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAABCAIAAABG0om7AAAAKXRFWHRDcmVhdGlvbiBUaW1lAHBvIDEwIDUgMjAxMCAyMjozMzo1OSArMDEwMGzy7+IAAAAHdElNRQfaBQoUJAesj4VUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAABGdBTUEAALGPC/xhBQAAABVJREFUeNpj/P//PwO1weMnT2RlZAAYuwX/4oA3BgAAAABJRU5ErkJggg==);background-repeat: repeat-y;xborder-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);'
              ),
              e.add(
                '.menu_default_main, .menu_default_main *, .menu_default_main *:before, .menu_default_main *:after',
                'box-sizing: content-box;'
              ),
              e.add(
                '.menu_default_title',
                'background-color: #f2f2f2;border-bottom: 1px solid gray;padding: 4px 4px 4px 37px;'
              ),
              e.add(
                '.menu_default_main a',
                'padding: 2px 2px 2px 35px;color: black;text-decoration: none;cursor: default;'
              ),
              e.add(
                '.menu_default_main a img',
                'margin-left: 6px;margin-top: 2px;'
              ),
              e.add(
                '.menu_default_item_text',
                'display: block;height: 20px;line-height: 20px; overflow:hidden;padding-left: 2px;padding-right: 20px;'
              ),
              e.add('.menu_default_main a:hover', 'background-color: #f3f3f3;'),
              e.add(
                '.menu_default_main div div',
                'border-top: 1px solid #dddddd;margin-top: 2px;margin-bottom: 2px;margin-left: 28px;'
              ),
              e.add(
                '.menu_default_main a.menu_default_item_disabled',
                'color: #ccc'
              ),
              e.add(
                '.menu_default_item_haschildren.menu_default_item_haschildren_active',
                'background: #eeeeee;background: -webkit-gradient(linear, left top, left bottom, from(#efefef), to(#e6e6e6));background: -webkit-linear-gradient(top, #efefef 0%, #e6e6e6);background: -moz-linear-gradient(top, #efefef 0%, #e6e6e6);background: -ms-linear-gradient(top, #efefef 0%, #e6e6e6);background: -o-linear-gradient(top, #efefef 0%, #e6e6e6);background: linear-gradient(top, #efefef 0%, #e6e6e6);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#efefef", endColorStr="#e6e6e6");'
              ),
              e.add(
                '.menu_default_item_haschildren a:before',
                "content: ''; border-width: 6px; border-color: transparent transparent transparent black; border-style: solid; width: 0px; height:0px; position: absolute; right: 5px; margin-top: 4px;"
              ),
              e.add(
                '.menu_default_item_icon',
                'position: absolute; top:0px; left: 0px; padding: 2px 2px 2px 8px;'
              ),
              e.add(
                '.menu_default_item a i',
                'height: 20px;line-height: 20px;'
              ),
              e.add(
                '.menubar_default_main',
                'border-bottom: 1px solid #ccc; font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;'
              ),
              e.add(
                '.menubar_default_item',
                'display: inline-block;  padding: 6px 10px; cursor: default;'
              ),
              e.add(
                '.menubar_default_item:hover',
                'background-color: #f2f2f2;'
              ),
              e.add(
                '.menubar_default_item_active',
                'background-color: #f2f2f2;'
              ),
              e.add(
                '.month_default_main',
                'border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;color: #333;'
              ),
              e.add(
                '.month_default_main *, .month_default_main *:before, .month_default_main *:after',
                'box-sizing: content-box;'
              ),
              e.add(
                '.month_default_cell_inner',
                'border-right: 1px solid #ddd;border-bottom: 1px solid #ddd;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;background-color: #f9f9f9;'
              ),
              e.add(
                '.month_default_cell_business .month_default_cell_inner',
                'background-color: #fff;'
              ),
              e.add(
                '.month_default_cell_header',
                'text-align: right;padding-right: 2px;'
              ),
              e.add(
                '.month_default_header_inner',
                'text-align: center; vertical-align: middle;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;cursor: default;color: #333;background: #f3f3f3; overflow:hidden;'
              ),
              e.add(
                '.month_default_message',
                'padding: 10px;opacity: 0.9;filter: alpha(opacity=90);color: #ffffff;background: #ffa216;background: -webkit-gradient(linear, left top, left bottom, from(#ffa216), to(#ff8400));background: -webkit-linear-gradient(top, #ffa216 0%, #ff8400);background: -moz-linear-gradient(top, #ffa216 0%, #ff8400);background: -ms-linear-gradient(top, #ffa216 0%, #ff8400);background: -o-linear-gradient(top, #ffa216 0%, #ff8400);background: linear-gradient(top, #ffa216 0%, #ff8400);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffa216", endColorStr="#ff8400");'
              ),
              e.add(
                '.month_default_event_inner',
                'position: absolute;top: 0px;bottom: 0px;left: 1px;right: 1px;overflow:hidden;padding: 2px;padding-left: 5px;font-size: 12px;color: #333;background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #999;border-radius: 0px;'
              ),
              e.add(
                '.month_default_event_continueright .month_default_event_inner',
                'border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-right-style: dotted;'
              ),
              e.add(
                '.month_default_event_continueleft .month_default_event_inner',
                'border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-left-style: dotted;'
              ),
              e.add(
                '.month_default_selected .month_default_event_inner',
                'background: #ddd;'
              ),
              e.add(
                '.month_default_shadow_inner',
                'background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;'
              ),
              e.add(
                '.month_default_event_delete',
                "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"
              ),
              e.add(
                '.month_default_event_delete:hover',
                'opacity: 1;-ms-filter: none;'
              ),
              e.add(
                '.month_default_event_timeleft',
                'color: #ccc; font-size: 8pt'
              ),
              e.add(
                '.month_default_event_timeright',
                'color: #ccc; font-size: 8pt; text-align: right;'
              ),
              e.add(
                '.month_default_loading',
                'background-color: orange; color: white; padding: 2px;'
              ),
              e.add(
                '.navigator_default_main',
                'border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;'
              ),
              e.add(
                '.navigator_default_main *, .navigator_default_main *:before, .navigator_default_main *:after',
                'box-sizing: content-box;'
              ),
              e.add(
                '.navigator_default_month',
                'font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 11px;'
              ),
              e.add('.navigator_default_day', 'color: black;'),
              e.add('.navigator_default_weekend', 'background-color: #f0f0f0;'),
              e.add('.navigator_default_dayheader', 'color: black;'),
              e.add(
                '.navigator_default_line',
                'border-bottom: 1px solid #c0c0c0;'
              ),
              e.add('.navigator_default_dayother', 'color: gray;'),
              e.add('.navigator_default_todaybox', 'border: 1px solid red;'),
              e.add(
                '.navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright',
                'border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;'
              ),
              e.add('.navigator_default_busy', 'font-weight: bold;'),
              e.add('.navigator_default_cell', 'text-align: center;'),
              e.add(
                '.navigator_default_select .navigator_default_cell_box',
                'background-color: #FFE794; opacity: 0.5;'
              ),
              e.add('.navigator_default_title', 'text-align: center;'),
              e.add(
                '.navigator_default_titleleft, .navigator_default_titleright',
                'text-align: center;'
              ),
              e.add('.navigator_default_dayheader', 'text-align: center;'),
              e.add('.navigator_default_weeknumber', 'text-align: center;'),
              e.add('.navigator_default_cell_text', 'cursor: pointer;'),
              e.add(
                '.scheduler_default_main *, .scheduler_default_main *:before, .scheduler_default_main *:after',
                'box-sizing: content-box;'
              ),
              e.add(
                '.scheduler_default_main',
                'box-sizing: content-box; border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;'
              ),
              e.add(
                '.scheduler_default_selected .scheduler_default_event_inner',
                'background: #ddd;'
              ),
              e.add(
                '.scheduler_default_timeheader',
                'cursor: default;color: #333;'
              ),
              e.add(
                '.scheduler_default_message',
                'opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;'
              ),
              e.add(
                '.scheduler_default_timeheadergroup,.scheduler_default_timeheadercol',
                'color: #333;background: #f3f3f3;'
              ),
              e.add(
                '.scheduler_default_rowheader,.scheduler_default_corner',
                'color: #333;background: #f3f3f3;'
              ),
              e.add(
                '.scheduler_default_rowheader.scheduler_default_rowheader_selected',
                'background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;'
              ),
              e.add(
                '.scheduler_default_rowheader_inner',
                'position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #e0e0e0;padding: 2px;display: flex; align-items: center;'
              ),
              e.add(
                '.scheduler_default_timeheadergroup_inner',
                'position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;'
              ),
              e.add(
                '.scheduler_default_timeheadercol_inner',
                'position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;'
              ),
              e.add(
                '.scheduler_default_timeheader_float',
                'display: flex; align-items: center; justify-content: center;'
              ),
              e.add(
                '.scheduler_default_divider, .scheduler_default_splitter',
                'background-color: #c0c0c0;'
              ),
              e.add(
                '.scheduler_default_divider_horizontal',
                'background-color: #c0c0c0;'
              ),
              e.add(
                '.scheduler_default_matrix_vertical_line',
                'background-color: #eee;'
              ),
              e.add(
                '.scheduler_default_matrix_vertical_break',
                'background-color: #999;'
              ),
              e.add(
                '.scheduler_default_matrix_horizontal_line',
                'background-color: #eee;'
              ),
              e.add(
                '.scheduler_default_resourcedivider',
                'background-color: #c0c0c0;'
              ),
              e.add(
                '.scheduler_default_shadow_inner',
                'background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;'
              ),
              e.add('.scheduler_default_event', 'font-size:12px;color:#333;'),
              e.add(
                '.scheduler_default_event_inner',
                'position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:2px 2px 2px 2px;overflow:hidden;border:1px solid #ccc; display: flex; align-items: center;'
              ),
              e.add(
                '.scheduler_default_event_bar',
                'top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;'
              ),
              e.add(
                '.scheduler_default_event_bar_inner',
                'position:absolute;height:4px;background-color:#1066a8;'
              ),
              e.add(
                '.scheduler_default_event_inner',
                'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
              ),
              e.add(
                '.scheduler_default_event_float',
                'display: flex; align-items: center;'
              ),
              e.add(
                '.scheduler_default_event_float_inner',
                'padding:2px 2px 2px 8px; position: relative;'
              ),
              e.add(
                '.scheduler_default_event_float_inner:after',
                'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:4px;left:-4px;'
              ),
              e.add(
                '.scheduler_default_columnheader_inner',
                'font-weight: bold;'
              ),
              e.add(
                '.scheduler_default_columnheader_splitter',
                'box-sizing: border-box; border-right: 1px solid #c0c0c0;'
              ),
              e.add(
                '.scheduler_default_columnheader_splitter:hover',
                'background-color: #c0c0c0;'
              ),
              e.add(
                '.scheduler_default_columnheader_cell_inner',
                'padding: 2px;'
              ),
              e.add('.scheduler_default_cell', 'background-color: #f9f9f9;'),
              e.add(
                '.scheduler_default_cell.scheduler_default_cell_business',
                'background-color: #fff;'
              ),
              e.add(
                '.scheduler_default_cell.scheduler_default_cell_business.scheduler_default_cell_selected,.scheduler_default_cell.scheduler_default_cell_selected',
                'background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;'
              ),
              e.add(
                '.scheduler_default_tree_image_no_children',
                'background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);'
              ),
              e.add(
                '.scheduler_default_tree_image_expand',
                'background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);'
              ),
              e.add(
                '.scheduler_default_tree_image_collapse',
                'background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);'
              ),
              e.add(
                '.scheduler_default_event_delete',
                "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"
              ),
              e.add(
                '.scheduler_default_event_delete:hover',
                'opacity: 1;-ms-filter: none;'
              ),
              e.add(
                '.scheduler_default_rowmove_handle',
                'background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;'
              ),
              e.add(
                '.scheduler_default_rowmove_source',
                'background-color: black; opacity: 0.2;'
              ),
              e.add(
                '.scheduler_default_rowmove_position_before, .scheduler_default_rowmove_position_after',
                'background-color: #999; height: 2px;'
              ),
              e.add(
                '.scheduler_default_rowmove_position_child',
                'margin-left: 10px; background-color: #999; height: 2px;'
              ),
              e.add(
                '.scheduler_default_rowmove_position_child:before',
                "content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"
              ),
              e.add(
                '.scheduler_default_rowmove_position_forbidden',
                'background-color: red; height: 2px; margin-left: 10px;'
              ),
              e.add(
                '.scheduler_default_rowmove_position_forbidden:before',
                "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"
              ),
              e.add(
                '.scheduler_default_link_horizontal',
                'border-bottom-style: solid; border-bottom-color: red'
              ),
              e.add(
                '.scheduler_default_link_vertical',
                'border-right-style: solid; border-right-color: red'
              ),
              e.add(
                '.scheduler_default_link_arrow_right:before',
                "content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;"
              ),
              e.add(
                '.scheduler_default_link_arrow_left:before',
                "content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"
              ),
              e.add(
                '.scheduler_default_link_arrow_down:before',
                "content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"
              ),
              e.add(
                '.scheduler_default_link_arrow_up:before',
                "content: ''; border-width: 6px; border-color: transparent transparent red transparent; border-style: solid; width: 0px; height:0px; position: absolute;"
              ),
              e.add(
                '.scheduler_default_shadow_overlap .scheduler_default_shadow_inner',
                'background-color: red;'
              ),
              e.add(
                '.scheduler_default_block',
                'background-color: gray; opacity: 0.5; filter: alpha(opacity=50);'
              ),
              e.add(
                '.scheduler_default_main .scheduler_default_event_group',
                'box-sizing: border-box; font-size:12px; color:#666; padding:4px 2px 2px 2px; overflow:hidden; border:1px solid #ccc; background-color: #fff;'
              ),
              e.add(
                '.scheduler_default_main .scheduler_default_header_icon',
                'box-sizing: border-box; border: 1px solid #c0c0c0; background-color: #f5f5f5; color: #000;'
              ),
              e.add(
                '.scheduler_default_header_icon:hover',
                'background-color: #ccc;'
              ),
              e.add(
                '.scheduler_default_header_icon_hide:before',
                "content: '\\00AB';"
              ),
              e.add(
                '.scheduler_default_header_icon_show:before',
                "content: '\\00BB';"
              ),
              e.add(
                '.scheduler_default_row_new .scheduler_default_rowheader_inner',
                'padding-left: 10px; color: #666; cursor: text; background-position: 0px 5px; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);'
              ),
              e.add(
                '.scheduler_default_row_new .scheduler_default_rowheader_inner:hover',
                'background: white; color: white;'
              ),
              e.add('.scheduler_default_rowheader textarea', 'padding: 3px;'),
              e.add('.scheduler_default_rowheader_scroll', 'cursor: default;'),
              e.add(
                '.scheduler_default_shadow_forbidden .scheduler_default_shadow_inner',
                'background-color: red;'
              ),
              e.add(
                '.scheduler_default_event_moving_source',
                'opacity: 0.5; filter: alpha(opacity=50);'
              ),
              e.add(
                '.scheduler_default_linkpoint',
                'background-color: white; border: 1px solid gray; border-radius: 5px;'
              ),
              e.add(
                '.scheduler_default_linkpoint.scheduler_default_linkpoint_hover',
                'background-color: black;'
              ),
              e.add(
                '.scheduler_default_event.scheduler_default_event_version .scheduler_default_event_inner',
                'background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;'
              ),
              e.add(
                '.scheduler_default_crosshair_vertical, .scheduler_default_crosshair_horizontal, .scheduler_default_crosshair_left, .scheduler_default_crosshair_top',
                'background-color: gray; opacity: 0.2; filter: alpha(opacity=20)'
              ),
              e.add(
                '.scheduler_default_link_dot',
                'border-radius: 10px; background-color: red'
              ),
              e.add(
                '.scheduler_default_task_milestone .scheduler_default_event_inner',
                'position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: #38761d; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;'
              ),
              e.add(
                '.scheduler_default_event_left',
                'white-space: nowrap; padding-top: 5px; color: #666; cursor: default;'
              ),
              e.add(
                '.scheduler_default_event_right',
                'white-space: nowrap; padding-top: 5px; color: #666; cursor: default;'
              ),
              e.add('.scheduler_default_main:focus', 'outline: none;'),
              e.add(
                '.scheduler_default_cell_focus',
                'outline: red 2px solid; z-index: 100; opacity: 0.5;'
              ),
              e.add(
                '.scheduler_default_selectionrectangle',
                'background-color: #0000ff; border: 1px solid #000033; opacity: 0.4;'
              ),
              e.add(
                '.scheduler_default_link_shadow',
                'border:1px solid black;'
              ),
              e.add(
                '.scheduler_default_link_shadow_circle',
                'background-color:black;'
              ),
              e.add(
                '.scheduler_default_event_move_left',
                'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee"); display: flex; align-items: center;'
              ),
              e.add(
                '.scheduler_default_event_move_right',
                'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee"); display: flex; align-items: center;'
              ),
              e.add(
                '.scheduler_default_link_hover',
                'box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)'
              ),
              e.add(
                '.gantt_default_selected .gantt_default_event_inner',
                'background: #ddd;'
              ),
              e.add(
                '.gantt_default_main',
                'border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;'
              ),
              e.add(
                '.gantt_default_main *, .gantt_default_main *:before, .gantt_default_main *:after',
                'box-sizing: content-box;'
              ),
              e.add(
                '.gantt_default_timeheader',
                'cursor: default;color: #666;'
              ),
              e.add(
                '.gantt_default_message',
                'opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;'
              ),
              e.add(
                '.gantt_default_timeheadergroup,.gantt_default_timeheadercol',
                'color: #333;background: #f3f3f3;'
              ),
              e.add(
                '.gantt_default_rowheader,.gantt_default_corner',
                'color: #333;background: #f3f3f3;'
              ),
              e.add(
                '.gantt_default_rowheader.gantt_default_rowheader_selected',
                'background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;'
              ),
              e.add(
                '.gantt_default_rowheader_inner',
                'position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;padding: 2px;'
              ),
              e.add(
                '.gantt_default_timeheadergroup, .gantt_default_timeheadercol',
                'text-align: center;'
              ),
              e.add(
                '.gantt_default_timeheadergroup_inner',
                'position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;border-bottom: 1px solid #aaa;'
              ),
              e.add(
                '.gantt_default_timeheadercol_inner',
                'position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;'
              ),
              e.add(
                '.gantt_default_divider, .gantt_default_splitter',
                'background-color: #aaa;'
              ),
              e.add(
                '.gantt_default_divider_horizontal',
                'background-color: #aaa;'
              ),
              e.add(
                '.gantt_default_matrix_vertical_line',
                'background-color: #eee;'
              ),
              e.add(
                '.gantt_default_matrix_vertical_break',
                'background-color: #000;'
              ),
              e.add(
                '.gantt_default_matrix_horizontal_line',
                'background-color: #eee;'
              ),
              e.add(
                '.gantt_default_resourcedivider',
                'background-color: #aaa;'
              ),
              e.add(
                '.gantt_default_shadow_inner',
                'background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;'
              ),
              e.add('.gantt_default_event', 'font-size:12px;color:#666;'),
              e.add(
                '.gantt_default_event_inner',
                'position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;'
              ),
              e.add(
                '.gantt_default_event_bar',
                'top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;'
              ),
              e.add(
                '.gantt_default_event_bar_inner',
                'position:absolute;height:4px;background-color:#1066a8;'
              ),
              e.add(
                '.gantt_default_event_inner',
                'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
              ),
              e.add(
                '.gantt_default_event_float_inner',
                'padding:6px 2px 2px 8px;'
              ),
              e.add(
                '.gantt_default_event_float_inner:after',
                'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;'
              ),
              e.add('.gantt_default_columnheader_inner', 'font-weight: bold;'),
              e.add(
                '.gantt_default_columnheader_splitter',
                'background-color: #666;opacity: 0.5;filter: alpha(opacity=50);'
              ),
              e.add('.gantt_default_columnheader_cell_inner', 'padding: 2px;'),
              e.add('.gantt_default_cell', 'background-color: #f9f9f9;'),
              e.add(
                '.gantt_default_cell.gantt_default_cell_business',
                'background-color: #fff;'
              );
            e.add(
              '.gantt_default_cell.gantt_default_cell_business.gantt_default_cell_selected,.gantt_default_cell.gantt_default_cell_selected',
              'background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;'
            );
            e.add(
              '.gantt_default_tree_image_no_children',
              'background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);'
            ),
              e.add(
                '.gantt_default_tree_image_expand',
                'background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);'
              ),
              e.add(
                '.gantt_default_tree_image_collapse',
                'background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);'
              ),
              e.add(
                '.gantt_default_event_move_left',
                'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
              ),
              e.add(
                '.gantt_default_event_move_right',
                'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
              ),
              e.add(
                '.gantt_default_event_delete',
                "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"
              ),
              e.add(
                '.gantt_default_event_delete:hover',
                'opacity: 1;-ms-filter: none;'
              ),
              e.add(
                '.gantt_default_rowmove_handle',
                'background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;'
              ),
              e.add(
                '.gantt_default_rowmove_source',
                'background-color: black; opacity: 0.2;'
              ),
              e.add(
                '.gantt_default_rowmove_position_before, .gantt_default_rowmove_position_after',
                'background-color: #999; height: 2px;'
              ),
              e.add(
                '.gantt_default_rowmove_position_child',
                'margin-left: 10px; background-color: #999; height: 2px;'
              ),
              e.add(
                '.gantt_default_rowmove_position_child:before',
                "content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"
              ),
              e.add(
                '.gantt_default_rowmove_position_forbidden',
                'background-color: red; height: 2px; margin-left: 10px;'
              ),
              e.add(
                '.gantt_default_rowmove_position_forbidden:before',
                "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"
              ),
              e.add(
                '.gantt_default_task_group .gantt_default_event_inner',
                'position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: #1155cc; filter: none; border: 0px none;'
              ),
              e.add(
                '.gantt_default_task_group.gantt_default_event:before',
                "content:''; border-color: transparent transparent transparent #1155cc; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"
              ),
              e.add(
                '.gantt_default_task_group.gantt_default_event:after',
                "content:''; border-color: transparent #1155cc transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;"
              ),
              e.add(
                '.gantt_default_task_milestone .gantt_default_event_inner',
                'position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: #38761d; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;'
              ),
              e.add(
                '.gantt_default_browser_ie8 .gantt_default_task_milestone .gantt_default_event_inner',
                '-ms-filter: "progid:DXImageTransform.Microsoft.Matrix(SizingMethod=\'auto expand\', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476);"'
              ),
              e.add(
                '.gantt_default_event_left',
                'white-space: nowrap; padding-top: 5px; color: #666; cursor: default;'
              ),
              e.add(
                '.gantt_default_event_right',
                'white-space: nowrap; padding-top: 5px; color: #666; cursor: default;'
              ),
              e.add(
                '.gantt_default_link_horizontal',
                'border-bottom-style: solid; border-bottom-color: red;'
              ),
              e.add(
                '.gantt_default_link_vertical',
                'border-right-style: solid; border-right-color: red;'
              ),
              e.add(
                '.gantt_default_link_arrow_right:before',
                "content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;"
              ),
              e.add(
                '.gantt_default_link_arrow_left:before',
                "content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"
              ),
              e.add(
                '.gantt_default_link_arrow_down:before',
                "content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"
              ),
              e.add(
                '.gantt_default_link_arrow_up:before',
                "content: ''; border-width: 6px; border-color: transparent transparent red transparent; border-style: solid; width: 0px; height:0px; position: absolute;"
              ),
              e.add(
                '.gantt_default_shadow_overlap .gantt_default_shadow_inner',
                'background-color: red;'
              ),
              e.add(
                '.gantt_default_block',
                'background-color: gray; opacity: 0.5; filter: alpha(opacity=50);'
              ),
              e.add(
                '.gantt_default_link_hover',
                'box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)'
              ),
              e.add(
                '.gantt_default_main .gantt_default_header_icon',
                'box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;'
              ),
              e.add(
                '.gantt_default_header_icon:hover',
                'background-color: #ccc;'
              ),
              e.add(
                '.gantt_default_header_icon_hide:before',
                "content: '\\00AB';"
              ),
              e.add(
                '.gantt_default_header_icon_show:before',
                "content: '\\00BB';"
              ),
              e.add(
                '.gantt_default_row_new .gantt_default_rowheader_inner',
                'cursor: text; background-position: 0 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);'
              ),
              e.add(
                '.gantt_default_row_new .gantt_default_rowheader_inner:hover',
                'background: white;'
              ),
              e.add('.gantt_default_rowheader textarea', 'padding: 5px;'),
              e.add('.gantt_default_rowheader_scroll', 'cursor: default;'),
              e.add(
                '.gantt_default_shadow_forbidden .gantt_default_shadow_inner',
                'background-color: red;'
              ),
              e.add(
                '.gantt_default_event_moving_source',
                'opacity: 0.5; filter: alpha(opacity=50);'
              ),
              e.add(
                '.gantt_default_event.gantt_default_event_version .gantt_default_event_inner',
                'background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;'
              ),
              e.add(
                '.gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event:before',
                'border:0;'
              ),
              e.add(
                '.gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before',
                'content:"";border-color: transparent #fff transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;left:-4px;'
              ),
              e.add(
                '.gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner',
                'padding-left: 8px;'
              ),
              e.add(
                '.gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before',
                'content:"";border-color: transparent #000 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;left:-4px;'
              ),
              e.add(
                '.gantt_default_task_group.gantt_default_event_continueright.gantt_default_event:after',
                'border:0;'
              ),
              e.add(
                '.gantt_default_task_group.gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after',
                'content:"";border-color: transparent transparent transparent #fff;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;right:-2px;'
              ),
              e.add(
                '.gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner',
                'padding-right: 8px;'
              ),
              e.add(
                '.gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after',
                'content:"";border-color: transparent transparent transparent #000;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;right:-2px;'
              ),
              e.add(
                '.gantt_default_linkpoint',
                'background-color: white; border: 1px solid gray; border-radius: 5px;'
              ),
              e.add(
                '.gantt_default_linkpoint.gantt_default_linkpoint_hover',
                'background-color: black;'
              ),
              e.add(
                '.gantt_default_crosshair_vertical, .gantt_default_crosshair_horizontal, .gantt_default_crosshair_left, .gantt_default_crosshair_top',
                'background-color: gray; opacity: 0.2; filter: alpha(opacity=20)'
              ),
              e.add(
                '.gantt_default_selectionrectangle',
                'background-color: #0000ff; border: 1px solid #000033; opacity: 0.4;'
              ),
              e.add(
                '.kanban_default_main *, .kanban_default_main *:before, .kanban_default_main *:after',
                'box-sizing: content-box;'
              ),
              e.add(
                '.kanban_default_main',
                'box-sizing: content-box; border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;'
              ),
              e.add(
                '.kanban_default_selected .kanban_default_event_inner',
                'background: #ddd;'
              ),
              e.add(
                '.kanban_default_timeheader',
                'cursor: default;color: #333;'
              ),
              e.add(
                '.kanban_default_message',
                'opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;'
              ),
              e.add(
                '.kanban_default_colheadercell',
                'color: #333;background: #f3f3f3;'
              ),
              e.add(
                '.kanban_default_rowheader,.kanban_default_corner',
                'color: #333;background: #f3f3f3;'
              ),
              e.add(
                '.kanban_default_rowheader.kanban_default_rowheader_selected',
                'background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;'
              ),
              e.add(
                '.kanban_default_rowheader_inner',
                'position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #f3f3f3;padding: 2px;'
              ),
              e.add('.kanban_default_colheadercell', 'text-align: center;'),
              e.add(
                '.kanban_default_colheadercell_inner',
                'position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;'
              ),
              e.add(
                '.kanban_default_divider, .kanban_default_splitter',
                'background-color: #c0c0c0;'
              ),
              e.add(
                '.kanban_default_divider_horizontal',
                'background-color: #c0c0c0;'
              ),
              e.add(
                '.kanban_default_matrix_vertical_line',
                'background-color: #eee;'
              ),
              e.add(
                '.kanban_default_matrix_vertical_break',
                'background-color: #000;'
              ),
              e.add(
                '.kanban_default_matrix_horizontal_line',
                'background-color: #eee;'
              ),
              e.add(
                '.kanban_default_rowheaderdivider',
                'background-color: #c0c0c0;'
              ),
              e.add(
                '.kanban_default_shadow_inner',
                'background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;'
              ),
              e.add('.kanban_default_card', 'font-size:12px;color:#333;'),
              e.add(
                '.kanban_default_card_inner',
                'position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;'
              ),
              e.add(
                '.kanban_default_card_inner',
                'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
              ),
              e.add('.kanban_default_cell', 'background-color: #fff;'),
              e.add(
                '.kanban_default_cell.kanban_default_cell_selected',
                'background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;'
              ),
              e.add(
                '.kanban_default_tree_image_no_children',
                'background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);'
              ),
              e.add(
                '.kanban_default_tree_image_expand',
                'background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);'
              ),
              e.add(
                '.kanban_default_tree_image_collapse',
                'background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);'
              ),
              e.add(
                '.kanban_default_card_delete',
                "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"
              ),
              e.add(
                '.kanban_default_card_delete:hover',
                'opacity: 1;-ms-filter: none;'
              ),
              e.add(
                '.kanban_default_rowmove_source',
                'background-color: black; opacity: 0.2;'
              ),
              e.add(
                '.kanban_default_rowmove_position_before, .kanban_default_rowmove_position_after',
                'background-color: #999; height: 2px;'
              ),
              e.add(
                '.kanban_default_rowmove_position_forbidden',
                'background-color: red; height: 2px; margin-left: 10px;'
              ),
              e.add(
                '.kanban_default_rowmove_position_forbidden:before',
                "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"
              ),
              e.add(
                '.kanban_default_block',
                'background-color: gray; opacity: 0.5; filter: alpha(opacity=50);'
              ),
              e.add(
                '.kanban_default_main .kanban_default_header_icon',
                'box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;'
              ),
              e.add(
                '.kanban_default_header_icon:hover',
                'background-color: #ccc;'
              ),
              e.add(
                '.kanban_default_header_icon_hide:before',
                "content: '\\00AB';"
              ),
              e.add(
                '.kanban_default_header_icon_show:before',
                "content: '\\00BB';"
              ),
              e.add(
                '.kanban_default_row_new .kanban_default_rowheader_inner',
                'cursor: text; background-position: 0px 5px; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);'
              ),
              e.add(
                '.kanban_default_row_new .kanban_default_rowheader_inner:hover',
                'background: white;'
              ),
              e.add('.kanban_default_rowheader textarea', 'padding: 3px;'),
              e.add('.kanban_default_rowheader_scroll', 'cursor: default;'),
              e.add(
                '.kanban_default_card_moving_source',
                'opacity: 0.5; filter: alpha(opacity=50);'
              ),
              e.add(
                '.kanban_default_card .kanban_default_card_inner',
                'padding: 5px 5px 5px 10px;'
              ),
              e.add('.kanban_default_cell', 'background-color: #fff;'),
              e.add(
                '.kanban_default_rowmove_handle',
                'opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;'
              ),
              e.add(
                '.kanban_default_card_header',
                'font-size: 120%; font-weight: bold;'
              ),
              e.add(
                '.kanban_default_card_bar',
                'background-color: #cc0000; cursor:move;'
              ),
              e.add(
                '.kanban_default_cell.kanban_default_collapsed',
                'background-color: #eee;'
              ),
              e.add(
                '.kanban_default_swimlane_collapse',
                'cursor:pointer; border: 1px solid #ccc; text-align:center;'
              ),
              e.add(
                '.kanban_default_swimlane_collapse:before',
                "content: '^';"
              ),
              e.add(
                '.kanban_default_swimlane_expand',
                'cursor:pointer; border: 1px solid #ccc; text-align:center;'
              ),
              e.add('.kanban_default_swimlane_expand:before', "content: '>';"),
              e.add(
                '.kanban_default_columnmove_handle',
                'opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;'
              ),
              e.add(
                '.kanban_default_columnmove_position',
                'background-color: #333;'
              ),
              e.add(
                '.kanban_default_crosshair_vertical, .kanban_default_crosshair_horizontal, .kanban_default_crosshair_left, .kanban_default_crosshair_top',
                'background-color: gray; opacity: 0.2; filter: alpha(opacity=20)'
              ),
              e.commit(),
              (DayPilot.Global.defaultCss = !0);
          }
        })();
      var o = function(e) {
        var t = this;
        (this.id = e),
          (this.widths = []),
          (this.titles = []),
          (this.height = null),
          (this.splitterWidth = 3),
          (this.css = {}),
          (this.css.title = null),
          (this.css.titleInner = null),
          (this.css.splitter = null),
          (this.enabled = !0),
          (this.blocks = []),
          (this.drag = {}),
          (this.updated = function() {}),
          (this.updating = function() {});
        var i = {};
        (i.splitterWidth = function() {
          return t.enabled ? t.splitterWidth : 1;
        }),
          (this.init = function() {
            var n;
            if (!e) throw 'error: id not provided';
            if ('string' == typeof e) n = document.getElementById(e);
            else {
              if (!e.appendChild) throw 'error: invalid object provided';
              n = e;
            }
            (this.div = n), (this.blocks = []);
            for (var a = 0; a < this.widths.length; a++) {
              var o = document.createElement('div');
              (o.style.display = 'inline-block'),
                null !== t.height
                  ? (o.style.height = t.height + 'px')
                  : (o.style.height = '100%'),
                (o.style.width = this.widths[a] - i.splitterWidth() + 'px'),
                (o.style.overflow = 'hidden'),
                (o.style.verticalAlign = 'top'),
                (o.style.position = 'relative'),
                o.setAttribute('unselectable', 'on'),
                (o.className = this.css.title),
                n.appendChild(o);
              var r = document.createElement('div');
              (r.innerHTML = this.titles[a]),
                r.setAttribute('unselectable', 'on'),
                (r.className = this.css.titleInner),
                o.appendChild(r);
              var l = document.createElement('div');
              (l.style.display = 'inline-block'),
                null !== t.height
                  ? (l.style.height = t.height + 'px')
                  : (l.style.height = '100%'),
                (l.style.width = i.splitterWidth() + 'px'),
                (l.style.position = 'relative'),
                l.appendChild(document.createElement('div')),
                t.enabled && (l.style.cursor = 'col-resize'),
                l.setAttribute('unselectable', 'on'),
                (l.className = this.css.splitter);
              var s = {};
              (s.index = a),
                (s.width = this.widths[a]),
                (l.data = s),
                (l.onmousedown = function(e) {
                  if (t.enabled) {
                    var i = DayPilot.page(e);
                    i &&
                      ((t.drag.start = i),
                      (t.drag.data = this.data),
                      (t.div.style.cursor = 'col-resize'),
                      (e = e || window.event),
                      e.preventDefault
                        ? e.preventDefault()
                        : (e.returnValue = !1));
                  }
                }),
                n.appendChild(l);
              var d = {};
              (d.section = o), (d.handle = l), this.blocks.push(d);
            }
            this.registerGlobalHandlers();
          }),
          (this.updateWidths = function() {
            for (var e = 0; e < this.blocks.length; e++) {
              var t = this.blocks[e],
                i = this.widths[e];
              (t.handle.data.width = i), this.n(e);
            }
          }),
          (this.n = function(e) {
            var t = this.blocks[e],
              n = this.widths[e];
            t.section.style.width = n - i.splitterWidth() + 'px';
          }),
          (this.totalWidth = function() {
            for (var e = 0, t = 0; t < this.widths.length; t++)
              e += this.widths[t];
            return e;
          }),
          (this.gMouseMove = function(e) {
            if (t.drag.start) {
              var i = t.drag.data,
                n = DayPilot.page(e);
              if (n) {
                var a = n.x - t.drag.start.x,
                  o = i.index;
                (t.widths[o] = Math.max(5, i.width + a)), t.n(o);
                var r = {};
                (r.widths = this.widths), (r.index = i.index), t.updating(r);
              }
            }
          }),
          (this.gMouseUp = function(e) {
            if (t.drag.start) {
              (t.drag.start = null),
                (document.body.style.cursor = ''),
                (t.div.style.cursor = '');
              var i = t.drag.data;
              i.width = t.widths[i.index];
              var n = {};
              (n.widths = this.widths), (n.index = i.index), t.updated(n);
            }
          }),
          (this.dispose = function() {
            DayPilot.list(this.blocks).each(function(e) {
              (e.handle.onmousedown = null),
                DayPilot.de(e.section),
                DayPilot.de(e.handle);
            }),
              this.unregisterGlobalHandlers();
          }),
          (this.registerGlobalHandlers = function() {
            DayPilot.re(document, 'mousemove', this.gMouseMove),
              DayPilot.re(document, 'mouseup', this.gMouseUp);
          }),
          (this.unregisterGlobalHandlers = function() {
            DayPilot.ue(document, 'mousemove', this.gMouseMove),
              DayPilot.ue(document, 'mouseup', this.gMouseUp);
          });
      };
      DayPilot.Splitter = o;
    }
  })(),
  (function() {
    'undefined' != typeof Sys &&
      Sys.Application &&
      Sys.Application.notifyScriptLoaded &&
      Sys.Application.notifyScriptLoaded();
  })(),
  'undefined' == typeof DayPilot)
)
  var DayPilot = {};
if (
  ('undefined' == typeof DayPilot.Global && (DayPilot.Global = {}),
  (function() {
    if ('undefined' == typeof DayPilot.Bubble) {
      var e = {};
      (e.mouseMove = function(t) {
        if ('undefined' != typeof e) {
          e.mouse = e.mousePosition(t);
          var i = e.active;
          if (i && i.p.showPosition) {
            var n = i.p.showPosition,
              a = e.mouse;
            n.clientX !== a.clientX || n.clientY !== a.clientY;
          }
        }
      }),
        (e.touchPosition = function(e) {
          if (!e || !e.touches) return null;
          var t = e.touches[0],
            i = {};
          return (
            (i.x = t.pageX),
            (i.y = t.pageY),
            (i.clientX = t.clientX),
            (i.clientY = t.clientY),
            i
          );
        }),
        (e.mousePosition = function(e) {
          var t = DayPilot.mo3(null, e);
          return e && ((t.clientY = e.clientY), (t.clientX = e.clientX)), t;
        }),
        (DayPilot.Bubble = function(t) {
          this.v = '2019.3.3913';
          var i = this,
            n = {};
          if (
            ((this.cssOnly = !0),
            (this.hideAfter = 500),
            (this.loadingText = 'Loading...'),
            (this.animated = !0),
            (this.animation = 'fast'),
            (this.position = 'EventTop'),
            (this.hideOnClick = !0),
            (this.showAfter = 500),
            (this.showLoadingLabel = !0),
            (this.zIndex = 10),
            (this.theme = 'bubble_default'),
            (this.onLoad = null),
            (this.onDomAdd = null),
            (this.onDomRemove = null),
            (this.p = function() {}),
            (this.callBack = function(e) {
              this.aspnet()
                ? WebForm_DoCallback(
                    this.uniqueID,
                    JSON.stringify(e),
                    this.updateView,
                    this,
                    this.callbackError,
                    !0
                  )
                : e.calendar.internal.bubbleCallBack
                ? e.calendar.internal.bubbleCallBack(e, this)
                : e.calendar.bubbleCallBack(e, this);
            }),
            (this.callbackError = function(e, t) {
              alert(e);
            }),
            (this.updateView = function(t, a) {
              if (i !== a) throw 'Callback object mismatch (internal error)';
              if (!t) return i.removeDiv(), void i.removeShadow();
              var o = null,
                r = null,
                l = null;
              if (
                ('string' == typeof t
                  ? (r = t)
                  : 'object' == typeof t &&
                    ((o = t), (r = t.html), (l = t.element)),
                (e.active = i),
                i)
              ) {
                var s = !1;
                n.div &&
                  (l
                    ? ((n.div.firstChild.innerHTML = ''),
                      n.div.firstChild.appendChild(l),
                      (n.div.domArgs = o),
                      (s = !0))
                    : r && ((n.div.firstChild.innerHTML = r), (s = !0))),
                  s && (i.adjustPosition(), i.animated || i.addShadow());
              }
            }),
            (this.init = function() {}),
            (this.aspnet = function() {
              return 'undefined' != typeof WebForm_DoCallback;
            }),
            (this.rounded = function() {
              return 'Rounded' === this.corners;
            }),
            (this.showEvent = function(t, i) {
              var n = new e.CallBackArgs(
                t.calendar || t.root,
                'Event',
                t,
                t.bubbleHtml ? t.bubbleHtml() : null
              );
              i ? this.show(n) : this.showOnMouseOver(n);
            }),
            (this.showCell = function(t) {
              e.cancelShowing();
              var i = new e.CallBackArgs(
                t.calendar || t.root,
                'Cell',
                t,
                t.staticBubbleHTML ? t.staticBubbleHTML() : null
              );
              this.showOnMouseOver(i);
            }),
            (this.showTime = function(t) {
              var i = new e.CallBackArgs(
                t.calendar || t.root,
                'Time',
                t,
                t.staticBubbleHTML ? t.staticBubbleHTML() : null
              );
              this.showOnMouseOver(i);
            }),
            (this.showResource = function(t, i) {
              var n = {};
              (n.calendar = t.calendar),
                (n.id = t.id),
                (n.name = t.name),
                (n.start = t.start),
                t.bubbleHtml
                  ? (n.bubbleHtml = function() {
                      return t.bubbleHtml;
                    })
                  : t.data &&
                    t.data.bubbleHtml &&
                    (n.bubbleHtml = function() {
                      return t.data.bubbleHtml;
                    }),
                (n.toJSON = function() {
                  var e = {};
                  return (e.id = this.id), e;
                });
              var a = new e.CallBackArgs(
                n.calendar || n.root,
                'Resource',
                n,
                n.bubbleHtml ? n.bubbleHtml() : null
              );
              (a.div = t.div), i ? this.show(a) : this.showOnMouseOver(a);
            }),
            (this.q = function(e) {
              return {};
            }),
            (this.showHtml = function(t, i) {
              var n = new e.CallBackArgs(null, 'Html', null, t);
              (n.div = i), this.show(n);
            }),
            (this.show = function(t) {
              var a = this.animated;
              if (
                ((this.p.showPosition = e.mouse), (e.showing = null), !e.mouse)
              )
                return void setTimeout(function() {
                  i.show(t);
                }, 100);
              var o = this.getDiv(t);
              if ('EventTop' === this.position && o) {
                var r = 2,
                  l = DayPilot.abs(o, !0);
                if (!l) return;
                (this.p.mouse = e.mouse),
                  (this.p.mouse.x = l.x),
                  (this.p.mouse.y = l.y),
                  (this.p.mouse.h = l.h + r),
                  (this.p.mouse.w = l.w);
              } else this.p.mouse = e.mouse;
              var s;
              try {
                s = JSON.stringify(t.object);
              } catch (e) {
                return;
              }
              if (
                !(
                  (e.active === this && this.p.sourceId === s) ||
                  ('undefined' != typeof DayPilot.Menu && DayPilot.Menu.active)
                )
              ) {
                i.cssOnly ||
                  ((i.cssOnly = !0),
                  DayPilot.Util.log(
                    'DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.'
                  )),
                  e.hideActive(),
                  (e.active = this),
                  (this.p.sourceId = s);
                var d = document.createElement('div');
                d.setAttribute('unselectable', 'on'),
                  (d.style.position = 'absolute'),
                  this.showLoadingLabel || (d.style.display = 'none'),
                  this.cssOnly
                    ? (d.className = this.r('_main'))
                    : (this.width && (d.style.width = this.width),
                      (d.style.cursor = 'default')),
                  (d.style.top = '0px'),
                  (d.style.left = '0px'),
                  (d.style.zIndex = this.zIndex + 1),
                  a && (d.style.visibility = 'hidden'),
                  this.hideOnClick &&
                    (d.onclick = function() {
                      e.hideActive();
                    }),
                  (d.onmousemove = function(t) {
                    e.cancelShowing(), e.cancelHiding();
                    var t = t || window.event;
                    t.cancelBubble = !0;
                  }),
                  (d.oncontextmenu = function() {
                    return !1;
                  }),
                  (d.onmouseout = function() {
                    i.delayedHide();
                  });
                var c = document.createElement('div');
                d.appendChild(c),
                  this.cssOnly
                    ? (c.className = this.r('_main_inner'))
                    : ((c.style.padding = '4px'),
                      this.border && (c.style.border = this.border),
                      this.rounded() &&
                        ((c.style.MozBorderRadius = '5px'),
                        (c.style.webkitBorderRadius = '5px'),
                        (c.style.borderRadius = '5px')),
                      (c.style.backgroundColor = this.backgroundColor)),
                  (c.innerHTML = this.loadingText),
                  document.body.appendChild(d),
                  (n.div = d);
                var h = {};
                (h.source = t.object),
                  (h.async = !1),
                  (h.html = t.staticHTML),
                  (h.loaded = function() {
                    this.async && i.s(h);
                  }),
                  this.showLoadingLabel &&
                    !a &&
                    (this.adjustPosition(), this.addShadow()),
                  t.staticHTML && 'function' != typeof this.onLoad
                    ? i.s(h)
                    : 'function' == typeof this.onLoad
                    ? (this.onLoad(h), h.async || i.s(h))
                    : 'function' == typeof i.onDomAdd
                    ? i.s(h)
                    : this.t(t) && this.callBack(t);
              }
            }),
            (this.s = function(e) {
              var t = {};
              (t.source = e.source),
                (t.html = e.html),
                (t.element = null),
                'function' == typeof i.onDomAdd && i.onDomAdd(t),
                i.updateView(t, i);
            }),
            (this.getDiv = function(e) {
              return e.div
                ? e.div
                : 'Event' === e.type &&
                  e.calendar &&
                  e.calendar.internal.findEventDiv
                ? e.calendar.internal.findEventDiv(e.object)
                : void 0;
            }),
            (this.r = function(e) {
              var t = this.theme || this.cssClassPrefix;
              return t ? t + e : '';
            }),
            (this.loadingElement = null),
            (this.loadingStart = function(e) {}),
            (this.loadingStop = function() {}),
            (this.adjustPosition = function() {
              var t = this.animated,
                a = this.position,
                o = 10;
              if (n.div && this.p.mouse) {
                if (!this.p.mouse.x || !this.p.mouse.y)
                  return void e.hideActive();
                var r = n.div;
                r.style.display = '';
                var l = r.offsetHeight,
                  s = r.offsetWidth;
                r.style.display = 'none';
                var d = DayPilot.wd(),
                  c = d.width,
                  h = d.height,
                  u = 'bottom',
                  f = 'left';
                if ('Mouse' === a) {
                  var v = 0;
                  if (this.p.mouse.clientY > h - l + o) {
                    this.p.mouse.clientY - (h - l) + o;
                    v = this.p.mouse.y - l - 10;
                  } else v = this.p.mouse.y + 22;
                  if (
                    ('number' == typeof v &&
                      (r.style.top = Math.max(v, 0) + 'px'),
                    this.p.mouse.clientX > c - s + o)
                  ) {
                    var p = this.p.mouse.clientX - (c - s) + o;
                    r.style.left = this.p.mouse.x - p + 'px';
                  } else r.style.left = this.p.mouse.x + 'px';
                } else if ('EventTop' === a) {
                  var g = 2,
                    v = this.p.mouse.y - l - g,
                    m = d.scrollTop;
                  v < m &&
                    ((v = this.p.mouse.y + this.p.mouse.h + g), (u = 'top')),
                    'number' == typeof v &&
                      (r.style.top = Math.max(v, 0) + 'px');
                  var y = this.p.mouse.x;
                  this.p.mouse.x + s + o > c &&
                    ((y = c - s - o), (f = 'right')),
                    (r.style.left = y + 'px');
                }
                if (((r.style.display = ''), t)) {
                  r.style.display = '';
                  var b = {};
                  (b.color = r.firstChild.style.color),
                    (b.overflow = r.style.overflow),
                    (r.firstChild.style.color = 'transparent'),
                    (r.style.overflow = 'hidden'),
                    this.removeShadow(),
                    DayPilot.pop(r, {
                      finished: function() {
                        (r.firstChild.style.color = b.color),
                          (r.style.overflow = b.overflow),
                          i.addShadow();
                      },
                      vertical: u,
                      horizontal: f,
                      animation: i.animation
                    });
                }
              }
            }),
            (this.delayedHide = function() {
              e.showing === this && e.cancelShowing();
              var t = e.active;
              if (t === this && (e.cancelHiding(), t.hideAfter > 0)) {
                var i = t.hideAfter;
                e.timeoutHide = window.setTimeout(e.hideActive, i);
              }
            }),
            (this.showOnMouseOver = function(t) {
              e.active === this && e.cancelHiding();
              var n = function(e) {
                return function() {
                  i.show(e);
                };
              };
              clearTimeout(e.timeoutShow),
                (e.timeoutShow = window.setTimeout(n(t), this.showAfter)),
                (e.showing = this);
            }),
            (this.hideOnMouseOut = function() {
              this.delayedHide();
            }),
            (this.t = function(e) {
              return (
                !!e.calendar.backendUrl ||
                !('function' != typeof WebForm_DoCallback || !this.uniqueID)
              );
            }),
            (this.addShadow = function() {
              if (this.useShadow && !this.cssOnly && n.div) {
                var e = n.div;
                this.shadows && this.shadows.length > 0 && this.removeShadow(),
                  (this.shadows = []);
                for (var t = 0; t < 5; t++) {
                  var i = document.createElement('div');
                  i.setAttribute('unselectable', 'on'),
                    (i.style.position = 'absolute'),
                    (i.style.width = e.offsetWidth + 'px'),
                    (i.style.height = e.offsetHeight + 'px'),
                    (i.style.top = e.offsetTop + t + 'px'),
                    (i.style.left = e.offsetLeft + t + 'px'),
                    (i.style.zIndex = this.zIndex),
                    (i.style.filter = 'alpha(opacity:10)'),
                    (i.style.opacity = 0.1),
                    (i.style.backgroundColor = '#000000'),
                    this.rounded() &&
                      ((i.style.MozBorderRadius = '5px'),
                      (i.style.webkitBorderRadius = '5px'),
                      (i.style.borderRadius = '5px')),
                    document.body.appendChild(i),
                    this.shadows.push(i);
                }
              }
            }),
            (this.removeShadow = function() {
              if (this.shadows) {
                for (var e = 0; e < this.shadows.length; e++)
                  document.body.removeChild(this.shadows[e]);
                this.shadows = [];
              }
            }),
            (this.removeDiv = function() {
              if (n.div) {
                var e = n.div.domArgs;
                (n.div.domArgs = null),
                  'function' == typeof i.onDomRemove && i.onDomRemove(e),
                  document.body.removeChild(n.div),
                  (n.div = null);
              }
            }),
            t)
          )
            for (var a in t) this[a] = t[a];
          this.init();
        }),
        (DayPilot.Bubble.touchPosition = function(t) {
          t.touches && (e.mouse = e.touchPosition(t));
        }),
        (e.cancelShowing = function() {
          (e.showing = null),
            e.timeoutShow &&
              (window.clearTimeout(e.timeoutShow), (e.timeoutShow = null));
        }),
        (e.cancelHiding = function() {
          e.timeoutHide && window.clearTimeout(e.timeoutHide);
        }),
        (e.hideActive = function() {
          e.cancelHiding();
          var t = e.active;
          t && (t.removeDiv(), t.removeShadow()), (e.active = null);
        }),
        (e.CallBackArgs = function(e, t, i, n) {
          (this.calendar = e),
            (this.type = t),
            (this.object = i),
            (this.staticHTML = n),
            (this.toJSON = function() {
              var e = {};
              return (
                (e.uid = this.calendar.uniqueID),
                (e.type = this.type),
                (e.object = i),
                e
              );
            });
        }),
        DayPilot.re(document, 'mousemove', e.mouseMove),
        (DayPilot.Bubble.hideActive = e.hideActive),
        (DayPilot.Bubble.cancelShowing = e.cancelShowing),
        (DayPilot.Bubble.hide = function() {
          e.hideActive();
        }),
        'undefined' != typeof Sys &&
          Sys.Application &&
          Sys.Application.notifyScriptLoaded &&
          Sys.Application.notifyScriptLoaded();
    }
  })(),
  'undefined' == typeof DayPilot)
)
  var DayPilot = {};
if (
  ('undefined' == typeof DayPilot.Global && (DayPilot.Global = {}),
  (function() {
    if ('undefined' == typeof DayPilot.Calendar) {
      var e = 10;
      DayPilot.Calendar = function(i, n) {
        this.v = '2019.3.3913';
        var a = !1;
        if (
          (this instanceof DayPilot.Calendar &&
            !this.u &&
            ((a = !0), (this.u = !0)),
          !a)
        )
          throw "DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'";
        var o = this;
        (this.uniqueID = null),
          (this.clientName = i),
          (this.id = i),
          (this.isCalendar = !0),
          (this.allDayEnd = 'DateTime'),
          (this.allDayEventHeight = 25),
          (this.allowEventOverlap = !0),
          (this.allowMultiSelect = !0),
          (this.api = 2),
          (this.autoRefreshCommand = 'refresh'),
          (this.autoRefreshEnabled = !1),
          (this.autoRefreshInterval = 60),
          (this.autoRefreshMaxCount = 20),
          (this.backendUrl = null),
          'function' == typeof DayPilot.Bubble
            ? (this.bubble = new DayPilot.Bubble())
            : (this.bubble = null),
          (this.cellBubble = null),
          (this.columnBubble = null),
          (this.businessBeginsHour = 9),
          (this.businessEndsHour = 18),
          (this.cellHeight = 30),
          (this.cellDuration = 30),
          (this.clientState = {}),
          (this.columnMarginRight = 5),
          (this.columnWidth = 200),
          (this.columnWidthSpec = 'Auto'),
          (this.columnsLoadMethod = 'GET'),
          (this.contextMenu = null),
          (this.contextMenuSelection = null),
          (this.cornerHtml = ''),
          (this.crosshairType = 'Header'),
          (this.cssOnly = !0),
          (this.dayBeginsHour = 0),
          (this.dayEndsHour = 24),
          (this.days = 1),
          (this.doubleClickTimeout = 300),
          (this.durationBarVisible = !0),
          (this.eventArrangement = 'Cascade'),
          (this.eventsLoadMethod = 'GET'),
          (this.headerHeight = 30),
          (this.headerLevels = 1),
          (this.height = 300),
          (this.heightSpec = 'BusinessHours'),
          (this.hideFreeCells = !1),
          (this.hideUntilInit = !0),
          (this.headerDateFormat = null),
          (this.hourWidth = 60),
          (this.initEventEnabled = !1),
          (this.initScrollPos = null),
          (this.loadingLabelText = 'Loading...'),
          (this.loadingLabelVisible = !0),
          (this.locale = 'en-us'),
          (this.messageHideAfter = 5e3),
          (this.moveBy = 'Full'),
          (this.notifyCommit = 'Immediate'),
          (this.rtl = !1),
          (this.scrollLabelsVisible = !1),
          (this.showToolTip = !0),
          (this.showAllDayEvents = !1),
          (this.showEventStartEnd = !1),
          (this.showHeader = !0),
          (this.showHours = !0),
          (this.showCurrentTime = !0),
          (this.showCurrentTimeMode = 'Day'),
          (this.showCurrentTimeOffset = 0),
          (this.startDate = DayPilot.Date.today()),
          (this.cssClassPrefix = 'calendar_default'),
          (this.tapAndHoldTimeout = 300),
          (this.theme = null),
          (this.timeFormat = 'Auto'),
          (this.timeHeaderCellDuration = 60),
          (this.timeRangeSelectingStartEndEnabled = !1),
          (this.timeRangeSelectingStartEndFormat = 'Auto'),
          (this.eventMovingStartEndEnabled = !1),
          (this.eventMovingStartEndFormat = 'Auto'),
          (this.eventResizingStartEndEnabled = !1),
          (this.eventResizingStartEndFormat = 'Auto'),
          (this.useEventBoxes = 'Always'),
          (this.viewType = 'Days'),
          (this.visible = !0),
          (this.weekStarts = 'Auto'),
          (this.width = null),
          (this.eventClickHandling = 'Enabled'),
          (this.eventDoubleClickHandling = 'Disabled'),
          (this.eventRightClickHandling = 'ContextMenu'),
          (this.eventDeleteHandling = 'Disabled'),
          (this.eventEditHandling = 'Update'),
          (this.eventHoverHandling = 'Bubble'),
          (this.eventResizeHandling = 'Update'),
          (this.eventMoveHandling = 'Update'),
          (this.eventSelectHandling = 'Update'),
          (this.eventTapAndHoldHandling = 'Move'),
          (this.headerClickHandling = 'Enabled'),
          (this.timeRangeTapAndHoldHandling = 'Select'),
          (this.timeRangeSelectedHandling = 'Enabled'),
          (this.timeRangeDoubleClickHandling = 'Disabled'),
          (this.timeRangeRightClickHandling = 'ContextMenu'),
          (this.onAutoRefresh = null),
          (this.onColumnFilter = null),
          (this.onTimeRangeRightClick = null),
          (this.onTimeRangeRightClicked = null),
          (this.onTimeRangeDoubleClick = null),
          (this.onTimeRangeDoubleClicked = null),
          (this.onTimeRangeSelect = null),
          (this.onTimeRangeSelected = null),
          (this.onTimeRangeSelecting = null),
          (this.onEventFilter = null),
          (this.onEventMove = null),
          (this.onEventMoved = null),
          (this.onEventMoving = null),
          (this.onEventResize = null),
          (this.onEventResized = null),
          (this.onEventResizing = null),
          (this.onEventSelect = null),
          (this.onEventSelected = null),
          (this.onEventEdit = null),
          (this.onEventEdited = null),
          (this.onEventDelete = null),
          (this.onEventDeleted = null),
          (this.onHeaderClick = null),
          (this.onHeaderClicked = null),
          (this.onEventRightClick = null),
          (this.onEventRightClicked = null),
          (this.onEventDoubleClick = null),
          (this.onEventDoubleClicked = null),
          (this.onEventClick = null),
          (this.onEventClicked = null),
          (this.onBeforeEventRender = null),
          (this.onBeforeEventExport = null),
          (this.onAfterEventRender = null),
          (this.onBeforeCellRender = null),
          (this.onBeforeCellExport = null),
          (this.onBeforeCornerRender = null),
          (this.onBeforeHeaderRender = null),
          (this.onBeforeHeaderExport = null),
          (this.onBeforeTimeHeaderRender = null),
          (this.z = !0),
          (this.A = e),
          (this.B = !0),
          (this.C = !0),
          (this.D = !0),
          (this.E = {}),
          (this.E.pixels = {}),
          (this.E.events = []),
          (this.elements = {}),
          (this.elements.events = []),
          (this.elements.separators = []),
          (this.elements.selection = []),
          (this.events = {}),
          (this.nav = {}),
          (this.F = 0),
          (this.G = !1),
          (this.members = {}),
          (this.members.obsolete = [
            'Init',
            'cleanSelection',
            'cssClassPrefix',
            'cssOnly',
            'clientName',
            'uniqueID'
          ]),
          (this.members.ignore = [
            'internal',
            'nav',
            'debug',
            'temp',
            'elements',
            'members',
            'onCallbackError'
          ]),
          (this.members.noCssOnly = []),
          (this.H = 'javasc'),
          (this.I = {}),
          (this.I.ie =
            navigator &&
            navigator.userAgent &&
            navigator.userAgent.indexOf('MSIE') !== -1),
          (this.I.ie9 =
            navigator &&
            navigator.userAgent &&
            navigator.userAgent.indexOf('MSIE 9') !== -1),
          (this.I.ielt9 = (function() {
            var e = document.createElement('div');
            return (
              (e.innerHTML = '<!--[if lt IE 9]><i></i><![endif]-->'),
              1 === e.getElementsByTagName('i').length
            );
          })()),
          (this.I.ff =
            navigator &&
            navigator.userAgent &&
            navigator.userAgent.indexOf('Firefox') !== -1),
          (this.clearSelection = function() {
            return this.selectedCells
              ? ((t.topSelectedCell = null),
                (t.bottomSelectedCell = null),
                (DayPilot.Global.selecting = null),
                this.J(),
                void (this.selectedCells = []))
              : void (this.selectedCells = []);
          }),
          (this.J = function() {
            this.selectedCells &&
              (DayPilot.de(o.elements.selection),
              (o.elements.selection = []),
              (o.nav.activeSelection = null));
          }),
          (this.cleanSelection = this.clearSelection),
          (this.K = function(e, t, i) {
            var n = {};
            (n.action = e),
              (n.parameters = i),
              (n.data = t),
              (n.header = this.L());
            var a = 'JSON' + JSON.stringify(n);
            __doPostBack(o.uniqueID, a);
          }),
          (this.M = function(e, t, i, n) {
            if (!this.t())
              return void o.debug.message(
                'Callback invoked without the server-side backend specified. Callback canceled.',
                'warning'
              );
            'undefined' == typeof n && (n = 'CallBack'), o.N();
            var a = {};
            (a.action = e),
              (a.type = n),
              (a.parameters = t),
              (a.data = i),
              (a.header = this.L());
            var r = 'JSON' + JSON.stringify(a);
            this.backendUrl
              ? DayPilot.request(this.backendUrl, this.O, r, this.P)
              : 'function' == typeof WebForm_DoCallback &&
                WebForm_DoCallback(
                  this.uniqueID,
                  r,
                  this.Q,
                  this.clientName,
                  this.onCallbackError,
                  !0
                );
          }),
          (this.t = function() {
            return ('javasc' !== o.H && o.H.indexOf('DCODE') === -1) || o.devsb;
          }),
          (this.R = function() {
            return !('function' != typeof WebForm_DoCallback || !this.uniqueID);
          }),
          (this.P = function(e) {
            if ('function' == typeof o.onAjaxError) {
              var t = {};
              (t.request = e), o.onAjaxError(t);
            } else 'function' == typeof o.ajaxError && o.ajaxError(e);
          }),
          (this.dispose = function() {
            var e = o;
            e.nav.top &&
              (e.S(),
              e.T(),
              e.nav.messageClose && (e.nav.messageClose.onclick = null),
              e.nav.hourTable && (e.nav.hourTable.oncontextmenu = null),
              e.nav.hourTable && (e.nav.hourTable.onmousemove = null),
              e.nav.header && (e.nav.header.oncontextmenu = null),
              e.nav.corner && (e.nav.corner.oncontextmenu = null),
              (e.nav.zoom.onmousemove = null),
              (e.nav.zoom.oncontextmenu = null),
              (e.nav.scroll.onscroll = null),
              (e.nav.scroll.root = null),
              DayPilot.pu(e.nav.loading),
              e.U(),
              e.V(),
              (e.nav.select = null),
              (e.nav.cornerRight = null),
              (e.nav.scrollable = null),
              (e.nav.bottomLeft = null),
              (e.nav.bottomRight = null),
              (e.nav.allday = null),
              (e.nav.zoom = null),
              (e.nav.loading = null),
              (e.nav.events = null),
              (e.nav.header = null),
              (e.nav.hourTable = null),
              (e.nav.scrolltop = null),
              (e.nav.scroll = null),
              (e.nav.vsph = null),
              (e.nav.main = null),
              (e.nav.message = null),
              (e.nav.messageClose = null),
              e.nav.top.removeAttribute('style'),
              e.nav.top.removeAttribute('class'),
              (e.nav.top.innerHTML = ''),
              (e.nav.top.dp = null),
              (e.nav.top = null),
              DayPilot.ue(window, 'resize', e.W),
              t.unregister(e));
          }),
          (this.X = function() {
            this.nav.top.dispose = this.dispose;
          }),
          (this.O = function(e) {
            o.Q(e.responseText);
          }),
          (this.L = function() {
            var e = {};
            return (
              (e.v = this.v),
              (e.control = 'dpc'),
              (e.id = this.id),
              (e.clientState = o.clientState),
              (e.columns = this.Y()),
              (e.days = o.days),
              (e.startDate = o.startDate),
              (e.cellDuration = o.cellDuration),
              (e.cssClassPrefix = o.cssClassPrefix),
              (e.heightSpec = o.heightSpec),
              (e.businessBeginsHour = o.businessBeginsHour),
              (e.businessEndsHour = o.businessEndsHour),
              (e.viewType = o.viewType),
              (e.dayBeginsHour = o.dayBeginsHour),
              (e.dayEndsHour = o.dayEndsHour),
              (e.headerLevels = o.headerLevels),
              (e.eventHeaderVisible = o.eventHeaderVisible),
              (e.timeFormat = o.timeFormat),
              (e.timeHeaderCellDuration = o.timeHeaderCellDuration),
              (e.locale = o.locale),
              (e.scrollY = o.scrollPos),
              (e.showAllDayEvents = o.showAllDayEvents),
              (e.tagFields = o.tagFields),
              (e.weekStarts = o.weekStarts),
              (e.selected = o.multiselect.events()),
              (e.hashes = o.hashes),
              e
            );
          }),
          (this.Z = function() {
            this._(), DayPilot.Areas.hideAll();
          }),
          (this.Y = function() {
            var e = [];
            if (((e.ignoreToJSON = !0), !this.aa)) return e;
            for (var t = 0; t < this.aa.length; t++) {
              var i = this.aa[t],
                n = this.ba(i);
              e.push(n);
            }
            return e;
          }),
          (this.ba = function(e) {
            var t = {};
            return (
              (t.Value = e.id),
              (t.Name = e.name),
              (t.ToolTip = e.toolTip),
              (t.Date = e.start),
              (t.Children = this.ca(e.children)),
              t
            );
          }),
          (this.ca = function(e) {
            var t = [];
            if (((t.ignoreToJSON = !0), !e)) return t;
            for (var i = 0; i < e.length; i++) t.push(this.ba(e[i]));
            return t;
          }),
          (this.Q = function(e, t) {
            var e = JSON.parse(e);
            if (e.BubbleGuid) {
              var i = e.BubbleGuid,
                n = this.bubbles[i];
              return (
                delete this.bubbles[i],
                o.da(),
                void (
                  'undefined' != typeof e.Result.BubbleHTML &&
                  n.updateView(e.Result.BubbleHTML, n)
                )
              );
            }
            if (e.CallBackRedirect)
              return void (document.location.href = e.CallBackRedirect);
            if (
              ('undefined' != typeof e.ClientState &&
                (o.clientState = e.ClientState),
              'None' === e.UpdateType)
            )
              return (
                o.da(),
                o.ea(e.CallBackData, !0),
                void (e.Message && o.message(e.Message))
              );
            if (e.VsUpdate) {
              var a = document.createElement('input');
              (a.type = 'hidden'),
                (a.name = o.id + '_vsupdate'),
                (a.id = a.name),
                (a.value = e.VsUpdate),
                (o.nav.vsph.innerHTML = ''),
                o.nav.vsph.appendChild(a);
            }
            if (
              (o.T(),
              o.multiselect.clear(!0),
              (o.multiselect.fa = e.SelectedEvents),
              'undefined' != typeof e.TagFields && (o.tagFields = e.TagFields),
              'undefined' != typeof e.SortDirections &&
                (o.sortDirections = e.SortDirections),
              'Full' === e.UpdateType &&
                ((o.colors = e.Colors),
                (o.palette = e.Palette),
                (o.dirtyColors = e.DirtyColors),
                (o.cellProperties = e.CellProperties),
                (o.cellConfig = e.CellConfig),
                o.ga() === o.columns
                  ? (o.columns = e.Columns)
                  : (o.columns.list = e.Columns),
                (o.days = e.Days),
                (o.startDate = new DayPilot.Date(e.StartDate).getDatePart()),
                (o.cellDuration = e.CellDuration),
                (o.heightSpec = e.HeightSpec ? e.HeightSpec : o.heightSpec),
                (o.businessBeginsHour = e.BusinessBeginsHour
                  ? e.BusinessBeginsHour
                  : o.businessBeginsHour),
                (o.businessEndsHour = e.BusinessEndsHour
                  ? e.BusinessEndsHour
                  : o.businessEndsHour),
                (o.viewType = e.ViewType),
                (o.headerLevels = e.HeaderLevels),
                (o.backColor = e.BackColor ? e.BackColor : o.backColor),
                (o.nonBusinessBackColor = e.NonBusinessBackColor
                  ? e.NonBusinessBackColor
                  : o.nonBusinessBackColor),
                (o.eventHeaderVisible = e.EventHeaderVisible
                  ? e.EventHeaderVisible
                  : o.eventHeaderVisible),
                (o.timeFormat = e.TimeFormat ? e.TimeFormat : o.timeFormat),
                (o.timeHeaderCellDuration =
                  'undefined' != typeof e.TimeHeaderCellDuration
                    ? e.TimeHeaderCellDuration
                    : o.timeHeaderCellDuration),
                (o.locale = e.Locale ? e.Locale : o.locale),
                (o.dayBeginsHour =
                  'undefined' != typeof e.DayBeginsHour
                    ? e.DayBeginsHour
                    : o.dayBeginsHour),
                (o.dayEndsHour =
                  'undefined' != typeof e.DayEndsHour
                    ? e.DayEndsHour
                    : o.dayEndsHour),
                (o.cornerHtml = e.CornerHTML),
                (o.hours = e.Hours),
                o.ha(),
                o.ia()),
              e.Hashes)
            )
              for (var r in e.Hashes) o.hashes[r] = e.Hashes[r];
            if (
              (o.ja(e.Events),
              o.ka(),
              ('Full' === e.UpdateType || o.hideFreeCells) &&
                (o.la(),
                o.ma(),
                o.na(),
                o.oa(),
                o.pa(),
                o.qa(),
                o.ra(),
                o.sa(),
                o.clearSelection(),
                o.ta(),
                'undefined' != typeof e.ScrollY
                  ? o.scrollToY(e.ScrollY)
                  : o.scrollToY(o.initScrollPos)),
              o.va(),
              o.wa(),
              o.xa(),
              o.ya(),
              'Parent100Pct' === o.heightSpec && o.W(),
              'HoldForever' !== o.timeRangeSelectedHandling &&
                o.clearSelection(),
              o.za(),
              o.todo && o.todo.del)
            ) {
              var l = o.todo.del;
              l.parentNode.removeChild(l), (o.todo.del = null);
            }
            o.ea(e.CallBackData, !0),
              o.da(),
              o.Aa(),
              e.Message && o.message(e.Message);
          }),
          (this.ea = function(e, t) {
            var i = function(e, t) {
              return function() {
                if (o.Ba()) {
                  if ('function' == typeof o.onAfterRender) {
                    var i = {};
                    (i.isCallBack = t), (i.data = e), o.onAfterRender(i);
                  }
                } else o.afterRender && o.afterRender(e, t);
              };
            };
            window.setTimeout(i(e, t), 0);
          }),
          (this.Ca = function(e, t) {
            var i = o.nav.events,
              n = i.rows[0].cells.length,
              a = i.clientWidth / n,
              r = Math.floor(o.coords.x / a);
            r < 0 && (r = 0),
              r >= n && (r = n - 1),
              o.rtl && (r = o.Da.length - r - 1);
            var l = i.rows[0].cells[r],
              s = 0,
              d = 0,
              c = 0;
            if ('undefined' != typeof e.duration) {
              var h = e.duration;
              (c =
                Math.floor((o.coords.y - s + o.cellHeight / 2) / o.cellHeight) *
                  o.cellHeight +
                s),
                (d = (h * o.cellHeight) / (60 * o.cellDuration)),
                (d = Math.max(d, o.cellHeight));
            } else {
              var u = e.event;
              (d = u.part.height), (c = u.part.top);
            }
            var f = document.createElement('div');
            f.setAttribute('unselectable', 'on'),
              (f.style.position = 'absolute'),
              (f.style.width = '100%'),
              (f.style.height = d + 'px'),
              (f.style.left = '0px'),
              (f.style.top = c + 'px'),
              (f.style.zIndex = o.A),
              (f.exclude = !0);
            var v = document.createElement('div');
            return (
              f.appendChild(v),
              (f.className = o.r('_shadow')),
              (v.className = this.r('_shadow_inner')),
              l.events.appendChild(f),
              f
            );
          }),
          (this.Ea = function() {
            return this.Fa() / 36e5;
          }),
          (this.Ga = function() {
            return this.businessBeginsHour > this.businessEndsHour
              ? 24 - this.businessBeginsHour + this.businessEndsHour
              : this.businessEndsHour - this.businessBeginsHour;
          }),
          (this.Ha = function() {
            return this.dayBeginsHour >= this.dayEndsHour
              ? 24 - this.dayBeginsHour + this.dayEndsHour
              : this.dayEndsHour - this.dayBeginsHour;
          }),
          (this.Fa = function(e) {
            var t = 0;
            if ('BusinessHoursNoScroll' === this.heightSpec) t = this.Ga();
            else if (this.hideFreeCells && !e) {
              var i = ((this.Ia - 1) * this.cellDuration) / this.cellHeight,
                n = Math.ceil(i / 60),
                a =
                  this.businessBeginsHour > this.businessEndsHour
                    ? this.businessEndsHour + 24
                    : this.businessEndsHour;
              t = Math.max(this.dayBeginsHour + n, a) - this.Ja();
            } else t = this.Ha();
            return 60 * t * 60 * 1e3;
          }),
          (this.message = function(e, t, i, n) {
            if (e) {
              var a,
                t = t || this.messageHideAfter || 2e3,
                r = this.Ka(),
                l = this.showHours ? this.hourWidth : 0,
                s = DayPilot.sw(o.La());
              if (o.rtl) {
                var d = l;
                (l = s), (s = d);
              }
              if (this.nav.message)
                (a = o.nav.message), (this.nav.message.style.top = r + 'px');
              else {
                (a = document.createElement('div')),
                  (a.style.position = 'absolute'),
                  (a.style.left = l + 'px'),
                  (a.style.top = r + 'px'),
                  (a.style.right = '0px'),
                  (a.style.display = 'none'),
                  (a.onmousemove = function() {
                    a.messageTimeout &&
                      !a.status &&
                      clearTimeout(a.messageTimeout);
                  }),
                  (a.onmouseout = function() {
                    'none' !== o.nav.message.style.display &&
                      (a.messageTimeout = setTimeout(o.Ma, 500));
                  });
                var c = document.createElement('div');
                (c.onclick = function() {
                  o.nav.message.style.display = 'none';
                }),
                  (c.className = this.r('_message')),
                  a.appendChild(c);
                var h = document.createElement('div');
                (h.style.position = 'absolute'),
                  (h.className = this.r('_message_close')),
                  (h.onclick = function() {
                    o.nav.message.style.display = 'none';
                  }),
                  a.appendChild(h),
                  this.nav.top.insertBefore(a, this.nav.loading),
                  (this.nav.message = a),
                  (this.nav.messageClose = h);
              }
              this.nav.cornerRight
                ? (this.nav.message.style.right = s + 'px')
                : (this.nav.message.style.right = '0px');
              var u = function() {
                if (o.nav.message) {
                  o.nav.message.firstChild.innerHTML = e;
                  var i = function() {
                    a.messageTimeout = setTimeout(o.Ma, t);
                  };
                  DayPilot.fade(o.nav.message, 0.2, i);
                }
              };
              clearTimeout(a.messageTimeout),
                'none' !== this.nav.message.style.display
                  ? DayPilot.fade(o.nav.message, -0.2, u)
                  : u();
            }
          }),
          (this.message.show = function(e) {
            o.message(e);
          }),
          (this.message.hide = function() {
            o.Ma();
          }),
          (this.Ma = function() {
            var e = function() {
              o.nav.message.style.display = 'none';
            };
            DayPilot.fade(o.nav.message, -0.2, e);
          }),
          (this.oa = function() {
            this.nav.message && (this.nav.message.style.top = this.Ka() + 'px');
          }),
          (this.Na = function() {
            return this.Fa() / (6e4 * this.cellDuration);
          }),
          (this.eventClickPostBack = function(e, t) {
            this.K('EventClick', t, e);
          }),
          (this.eventClickCallBack = function(e, t) {
            this.M('EventClick', e, t);
          }),
          (this.Oa = function(e) {
            var t = this,
              e = e || window.event,
              i = e.ctrlKey,
              n = e.metaKey;
            if (
              ('undefined' != typeof DayPilot.Bubble &&
                DayPilot.Bubble.hideActive(),
              'Disabled' === o.eventDoubleClickHandling)
            )
              return void o.Pa(t, i, n, e);
            if (o.timeouts) {
              for (var a in o.timeouts) window.clearTimeout(o.timeouts[a]);
              o.timeouts = [];
            } else o.timeouts = [];
            var r = function(e, t, i, n) {
              return function() {
                o.Pa(e, t, i, n);
              };
            };
            o.timeouts.push(
              window.setTimeout(r(this, i, n, e), o.doubleClickTimeout)
            );
          }),
          (this.Pa = function(e, t, i, n) {
            var a = e.event;
            if (a.client.clickEnabled())
              if (o.Ba()) {
                var r = {};
                if (
                  ((r.e = a),
                  (r.ctrl = t),
                  (r.meta = i),
                  (r.originalEvent = n),
                  (r.preventDefault = function() {
                    this.preventDefault.value = !0;
                  }),
                  'function' == typeof o.onEventClick &&
                    (o.onEventClick(r), r.preventDefault.value))
                )
                  return;
                switch (o.eventClickHandling) {
                  case 'PostBack':
                    o.eventClickPostBack(a);
                    break;
                  case 'CallBack':
                    o.eventClickCallBack(a);
                    break;
                  case 'Edit':
                    o.Qa(e);
                    break;
                  case 'Select':
                    o.Ra(e, a, t, i);
                    break;
                  case 'Bubble':
                    o.bubble && o.bubble.showEvent(a);
                    break;
                  case 'ContextMenu':
                    var l = a.client.contextMenu();
                    l ? l.show(a) : o.contextMenu && o.contextMenu.show(a);
                }
                'function' == typeof o.onEventClicked && o.onEventClicked(r);
              } else
                switch (o.eventClickHandling) {
                  case 'PostBack':
                    o.eventClickPostBack(a);
                    break;
                  case 'CallBack':
                    o.eventClickCallBack(a);
                    break;
                  case 'JavaScript':
                    o.onEventClick(a);
                    break;
                  case 'Edit':
                    o.Qa(e);
                    break;
                  case 'Select':
                    o.Ra(e, a, t, i);
                    break;
                  case 'Bubble':
                    o.bubble && o.bubble.showEvent(a);
                    break;
                  case 'ContextMenu':
                    var l = a.client.contextMenu();
                    l ? l.show(a) : o.contextMenu && o.contextMenu.show(a);
                }
          }),
          (this.eventDoubleClickPostBack = function(e, t) {
            this.K('EventDoubleClick', t, e);
          }),
          (this.eventDoubleClickCallBack = function(e, t) {
            this.M('EventDoubleClick', e, t);
          }),
          (this.Sa = function(e) {
            if (
              ('undefined' != typeof DayPilot.Bubble &&
                DayPilot.Bubble.hideActive(),
              o.timeouts)
            ) {
              for (var t in o.timeouts) window.clearTimeout(o.timeouts[t]);
              o.timeouts = null;
            }
            var i = this.event,
              e = e || window.event;
            if (o.Ba()) {
              var n = {};
              if (
                ((n.e = i),
                (n.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                'function' == typeof o.onEventDoubleClick &&
                  (o.onEventDoubleClick(n), n.preventDefault.value))
              )
                return;
              switch (o.eventDoubleClickHandling) {
                case 'PostBack':
                  o.eventDoubleClickPostBack(i);
                  break;
                case 'CallBack':
                  o.eventDoubleClickCallBack(i);
                  break;
                case 'Edit':
                  i.allday() || o.Qa(this);
                  break;
                case 'Select':
                  i.allday() || o.Ra(this, i, e.ctrlKey);
                  break;
                case 'Bubble':
                  o.bubble && o.bubble.showEvent(i);
              }
              'function' == typeof o.onEventDoubleClicked &&
                o.onEventDoubleClicked(n);
            } else
              switch (o.eventDoubleClickHandling) {
                case 'PostBack':
                  o.eventDoubleClickPostBack(i);
                  break;
                case 'CallBack':
                  o.eventDoubleClickCallBack(i);
                  break;
                case 'JavaScript':
                  o.onEventDoubleClick(i);
                  break;
                case 'Edit':
                  i.allday() || o.Qa(this);
                  break;
                case 'Select':
                  i.allday() || o.Ra(this, i, e.ctrlKey);
                  break;
                case 'Bubble':
                  o.bubble && o.bubble.showEvent(i);
              }
          }),
          (this.eventRightClickPostBack = function(e, t) {
            this.K('EventRightClick', t, e);
          }),
          (this.eventRightClickCallBack = function(e, t) {
            this.M('EventRightClick', e, t);
          }),
          (this.Ta = function(e) {
            var t = this.event;
            if (
              (e.stopPropagation && e.stopPropagation(),
              !t.client.rightClickEnabled())
            )
              return !1;
            if (o.Ba()) {
              var i = {};
              if (
                ((i.e = t),
                (i.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                'function' == typeof o.onEventRightClick &&
                  (o.onEventRightClick(i), i.preventDefault.value))
              )
                return !1;
              switch (o.eventRightClickHandling) {
                case 'PostBack':
                  o.eventRightClickPostBack(t);
                  break;
                case 'CallBack':
                  o.eventRightClickCallBack(t);
                  break;
                case 'ContextMenu':
                  var n = t.client.contextMenu();
                  n
                    ? n.show(t)
                    : o.contextMenu && o.contextMenu.show(this.event);
                  break;
                case 'Bubble':
                  o.bubble && o.bubble.showEvent(t);
              }
              'function' == typeof o.onEventRightClicked &&
                o.onEventRightClicked(i);
            } else
              switch (o.eventRightClickHandling) {
                case 'PostBack':
                  o.eventRightClickPostBack(t);
                  break;
                case 'CallBack':
                  o.eventRightClickCallBack(t);
                  break;
                case 'JavaScript':
                  o.onEventRightClick(t);
                  break;
                case 'ContextMenu':
                  var n = t.client.contextMenu();
                  n
                    ? n.show(t)
                    : o.contextMenu && o.contextMenu.show(this.event);
                  break;
                case 'Bubble':
                  o.bubble && o.bubble.showEvent(t);
              }
            return e.preventDefault && e.preventDefault(), !1;
          });
        this.headerClickPostBack = function(e, t) {
          this.K('HeaderClick', t, e);
        };
        (this.headerClickCallBack = function(e, t) {
          this.M('HeaderClick', e, t);
        }),
          (this.Ua = function(e) {
            var i = this.data,
              n = new t.Column(i.id, i.name, i.start);
            if (o.Ba()) {
              var a = {};
              if (
                ((a.header = {}),
                (a.header.id = i.id),
                (a.header.name = i.name),
                (a.header.start = i.start),
                (a.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                'function' == typeof o.onHeaderClick &&
                  (o.onHeaderClick(a), a.preventDefault.value))
              )
                return;
              switch (o.headerClickHandling) {
                case 'PostBack':
                  o.headerClickPostBack(n);
                  break;
                case 'CallBack':
                  o.headerClickCallBack(n);
              }
              'function' == typeof o.onHeaderClicked && o.onHeaderClicked(a);
            } else
              switch (o.headerClickHandling) {
                case 'PostBack':
                  o.headerClickPostBack(n);
                  break;
                case 'CallBack':
                  o.headerClickCallBack(n);
                  break;
                case 'JavaScript':
                  o.onHeaderClick(n);
              }
          }),
          (this.Va = function() {
            if ('undefined' != typeof DayPilot.Bubble && o.columnBubble)
              if ('Resources' === o.viewType) {
                var e = {};
                (e.calendar = o),
                  (e.start = this.data.start),
                  (e.name = this.data.name),
                  (e.id = this.data.id),
                  (e.toJSON = function() {
                    var e = {};
                    return (
                      (e.id = this.id),
                      (e.start = this.start),
                      (e.name = this.name),
                      e
                    );
                  }),
                  o.columnBubble.showResource(e);
              } else {
                var i = new DayPilot.Date(this.data.start),
                  n = i.addDays(1),
                  a = {};
                (a.calendar = o),
                  (a.start = i),
                  (a.end = n),
                  (a.toJSON = function() {
                    var e = {};
                    return (e.start = this.start), (e.end = this.end), e;
                  }),
                  o.columnBubble.showTime(a);
              }
            var r = this,
              l = r.firstChild;
            if (!l.active) {
              var s = r.data,
                d = new t.Column(s.id, s.name, s.start);
              (d.areas = r.data.areas), DayPilot.Areas.showAreas(l, d);
            }
          }),
          (this.Wa = function(e) {
            'undefined' != typeof DayPilot.Bubble &&
              o.columnBubble &&
              o.columnBubble.hideOnMouseOut(),
              DayPilot.Areas.hideAreas(this.firstChild, e);
          }),
          (this.eventDeletePostBack = function(e, t) {
            this.K('EventDelete', t, e);
          }),
          (this.eventDeleteCallBack = function(e, t) {
            this.M('EventDelete', e, t);
          }),
          (this.Xa = function(e) {
            var t;
            if (
              ((t = e && e.isEvent ? e : e.parentNode.parentNode.event),
              'undefined' != typeof DayPilot.Bubble &&
                (DayPilot.Bubble.hideActive(), DayPilot.Bubble.cancelShowing()),
              o.Ba())
            ) {
              var i = {};
              if (
                ((i.e = t),
                (i.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                'function' == typeof o.onEventDelete &&
                  (o.onEventDelete(i), i.preventDefault.value))
              )
                return;
              switch (o.eventDeleteHandling) {
                case 'PostBack':
                  o.eventDeletePostBack(t);
                  break;
                case 'CallBack':
                  o.eventDeleteCallBack(t);
                  break;
                case 'Update':
                  o.events.remove(t);
              }
              'function' == typeof o.onEventDeleted && o.onEventDeleted(i);
            } else
              switch (o.eventDeleteHandling) {
                case 'PostBack':
                  o.eventDeletePostBack(t);
                  break;
                case 'CallBack':
                  o.eventDeleteCallBack(t);
                  break;
                case 'JavaScript':
                  o.onEventDelete(t);
              }
          }),
          (this.eventResizePostBack = function(e, t, i, n) {
            if (!t) throw 'newStart is null';
            if (!i) throw 'newEnd is null';
            var a = {};
            (a.e = e),
              (a.newStart = t),
              (a.newEnd = i),
              this.K('EventResize', n, a);
          }),
          (this.eventResizeCallBack = function(e, t, i, n) {
            if (!t) throw 'newStart is null';
            if (!i) throw 'newEnd is null';
            var a = {};
            (a.e = e),
              (a.newStart = t),
              (a.newEnd = i),
              this.M('EventResize', a, n);
          }),
          (this.Ya = function(e, t, i, n) {
            if ('PostBack' === e) o.postBack2(t, i, n);
            else if ('CallBack' === e) o.M(t, i, n, 'CallBack');
            else if ('Immediate' === e) o.M(t, i, n, 'Notify');
            else if ('Queue' === e)
              o.queue.add(new DayPilot.Action(this, t, i, n));
            else {
              if ('Notify' !== e) throw 'Invalid event invocation type';
              'Notify' === l.notifyType()
                ? o.M(t, i, n, 'Notify')
                : o.queue.add(new DayPilot.Action(o, t, i, n));
            }
          }),
          (this.Ja = function(e) {
            if ('BusinessHoursNoScroll' === this.heightSpec)
              return this.businessBeginsHour;
            if (this.hideFreeCells && !e) {
              var t = (this.Za * this.cellDuration) / this.cellHeight,
                i = Math.floor(t / 60);
              return (
                (i = Math.max(0, i)),
                Math.min(this.dayBeginsHour + i, this.businessBeginsHour)
              );
            }
            return this.dayBeginsHour;
          }),
          (this.visibleStart = function() {
            if ('Resources' === o.viewType) {
              if (o.Da.isEmpty()) return DayPilot.Date.today();
              var e = DayPilot.list(o.Da).map(function(e) {
                  return e.start.getTime();
                }),
                t = Math.min.apply(null, e);
              return new DayPilot.Date(t);
            }
            return this.Da[0].start;
          }),
          (this.visibleEnd = function() {
            if ('Resources' === o.viewType) {
              if (o.Da.isEmpty()) return DayPilot.Date.today().addDays(1);
              var e = DayPilot.list(o.Da).map(function(e) {
                  return e.start.getTime();
                }),
                t = Math.max.apply(null, e);
              return new DayPilot.Date(t).addDays(1);
            }
            var i = this.Da,
              t = i.length - 1;
            return i[t].start.addDays(1);
          }),
          (this.Ba = function() {
            return 2 === o.api;
          }),
          (this.$a = function(e, t) {
            var i = e.start(),
              n = i.getDatePart(),
              a = Math.floor(t / o.cellHeight),
              r = a * o.cellDuration,
              l = 60 * r * 1e3,
              s = 60 * o.Ja() * 60 * 1e3;
            return n.addTime(l + s);
          }),
          (this._a = function(e, t) {
            var i = Math.floor(t / o.cellHeight),
              n = i * o.cellDuration,
              a = 60 * n * 1e3,
              r = 60 * o.Ja() * 60 * 1e3;
            return o.Da[e.part.dayIndex].start.addTime(a + r);
          }),
          (this.ab = function(e, t, i, n) {
            if ('Disabled' !== this.eventResizeHandling) {
              var a, r;
              if (
                ('top' === n
                  ? ((a = o.$a(e, i)), (r = e.end()))
                  : 'bottom' === n && ((a = e.start()), (r = o._a(e, i + t))),
                o.Ba())
              ) {
                var l = {};
                if (
                  ((l.e = e),
                  (l.newStart = a),
                  (l.newEnd = r),
                  (l.preventDefault = function() {
                    this.preventDefault.value = !0;
                  }),
                  'function' == typeof o.onEventResize &&
                    (o.onEventResize(l), l.preventDefault.value))
                )
                  return;
                switch (o.eventResizeHandling) {
                  case 'PostBack':
                    o.eventResizePostBack(e, a, r);
                    break;
                  case 'CallBack':
                    o.eventResizeCallBack(e, a, r);
                    break;
                  case 'Notify':
                    o.eventResizeNotify(e, a, r);
                    break;
                  case 'Update':
                    e.start(a), e.end(r), o.events.update(e);
                }
                'function' == typeof o.onEventResized && o.onEventResized(l);
              } else
                switch (o.eventResizeHandling) {
                  case 'PostBack':
                    o.eventResizePostBack(e, a, r);
                    break;
                  case 'CallBack':
                    o.eventResizeCallBack(e, a, r);
                    break;
                  case 'JavaScript':
                    o.onEventResize(e, a, r);
                    break;
                  case 'Notify':
                    o.eventResizeNotify(e, a, r);
                }
            }
          }),
          (this.eventResizeNotify = function(e, t, i, n) {
            var a = new DayPilot.Event(e.copy(), this);
            e.start(t),
              e.end(i),
              e.commit(),
              o.update(),
              this.bb('Notify', a, t, i, n);
          }),
          (this.bb = function(e, t, i, n, a) {
            var o = {};
            (o.e = t),
              (o.newStart = i),
              (o.newEnd = n),
              this.Ya(e, 'EventResize', o, a);
          }),
          (this.eventMovePostBack = function(e, t, i, n, a) {
            if (!t) throw 'newStart is null';
            if (!i) throw 'newEnd is null';
            var o = {};
            (o.e = e),
              (o.newStart = t),
              (o.newEnd = i),
              (o.newResource = n),
              this.K('EventMove', a, o);
          }),
          (this.eventMoveCallBack = function(e, t, i, n, a) {
            if (!t) throw 'newStart is null';
            if (!i) throw 'newEnd is null';
            var o = {};
            (o.e = e),
              (o.newStart = t),
              (o.newEnd = i),
              (o.newResource = n),
              this.M('EventMove', o, a);
          }),
          (this.cb = function(e, t, i) {
            var n = 0,
              a = Math.floor((i - n) / o.cellHeight),
              r = o.cellDuration,
              l = a * r * 60 * 1e3,
              s = e.start(),
              d = e.end(),
              c = new Date();
            s instanceof DayPilot.Date && (s = s.toDate()),
              c.setTime(
                Date.UTC(s.getUTCFullYear(), s.getUTCMonth(), s.getUTCDate())
              );
            var h =
                'Never' !== o.useEventBoxes
                  ? s.getTime() -
                    (c.getTime() +
                      3600 * s.getUTCHours() * 1e3 +
                      Math.floor(s.getUTCMinutes() / r) * r * 60 * 1e3)
                  : 0,
              u = d.getTime() - s.getTime(),
              f = 3600 * o.Ja() * 1e3;
            'undefined' == typeof t && (t = e.part.dayIndex);
            var v = this.Da[t],
              p = v.start.getTime(),
              g = new Date();
            g.setTime(p + l + h + f);
            var m = new DayPilot.Date(g);
            return { start: m, end: m.addTime(u), resource: v.id };
          }),
          (this.db = function(e, t, i, n, a) {
            if ('Disabled' !== o.eventMoveHandling) {
              var r = o.cb(e, t, i),
                l = r.start,
                s = r.end,
                d = r.resource,
                c = !!a;
              if (o.Ba()) {
                var h = {};
                if (
                  ((h.e = e),
                  (h.newStart = r.start),
                  (h.newEnd = r.end),
                  (h.newResource = r.resource),
                  (h.external = c),
                  (h.ctrl = !1),
                  n && (h.ctrl = n.ctrlKey),
                  (h.shift = !1),
                  n && (h.shift = n.shiftKey),
                  (h.preventDefault = function() {
                    this.preventDefault.value = !0;
                  }),
                  'function' == typeof o.onEventMove &&
                    (o.onEventMove(h), h.preventDefault.value))
                )
                  return;
                switch (o.eventMoveHandling) {
                  case 'PostBack':
                    o.eventMovePostBack(e, l, s, d);
                    break;
                  case 'CallBack':
                    o.eventMoveCallBack(e, l, s, d);
                    break;
                  case 'Notify':
                    o.eventMoveNotify(e, l, s, d);
                    break;
                  case 'Update':
                    e.start(l),
                      e.end(s),
                      e.resource(d),
                      c ? (e.commit(), o.events.add(e)) : o.events.update(e),
                      o.eb();
                }
                'function' == typeof o.onEventMoved && o.onEventMoved(h);
              } else
                switch (o.eventMoveHandling) {
                  case 'PostBack':
                    o.eventMovePostBack(e, l, s, d);
                    break;
                  case 'CallBack':
                    o.eventMoveCallBack(e, l, s, d);
                    break;
                  case 'JavaScript':
                    o.onEventMove(
                      e,
                      l,
                      s,
                      d,
                      c,
                      !!n && n.ctrlKey,
                      !!n && n.shiftKey
                    );
                    break;
                  case 'Notify':
                    o.eventMoveNotify(e, l, s, d, null);
                }
            }
          }),
          (this.eventMoveNotify = function(e, t, i, n, a) {
            var r = new DayPilot.Event(e.copy(), this);
            e.start(t),
              e.end(i),
              e.resource(n),
              e.commit(),
              o.update(),
              this.fb('Notify', r, t, i, n, a);
          }),
          (this.fb = function(e, t, i, n, a, o) {
            var r = {};
            (r.e = t),
              (r.newStart = i),
              (r.newEnd = n),
              (r.newResource = a),
              this.Ya(e, 'EventMove', r, o);
          }),
          (this.eb = function() {
            if (o.todo && o.todo.del) {
              var e = o.todo.del;
              e.parentNode.removeChild(e), (o.todo.del = null);
            }
          }),
          (this.gb = function(e, t) {
            var i = o.hb(t),
              n = {};
            (n.args = e), (n.guid = i), o.M('Bubble', n);
          }),
          (this.hb = function(e) {
            var t = DayPilot.guid();
            return (
              this.bubbles || (this.bubbles = []), (this.bubbles[t] = e), t
            );
          }),
          (this.eventMenuClickPostBack = function(e, t, i) {
            var n = {};
            (n.e = e), (n.command = t), this.K('EventMenuClick', i, n);
          }),
          (this.eventMenuClickCallBack = function(e, t, i) {
            var n = {};
            (n.e = e), (n.command = t), this.M('EventMenuClick', n, i);
          }),
          (this.ib = function(e, t, i) {
            switch (i) {
              case 'PostBack':
                o.eventMenuClickPostBack(t, e);
                break;
              case 'CallBack':
                o.eventMenuClickCallBack(t, e);
            }
          }),
          (this.timeRangeMenuClickPostBack = function(e, t, i) {
            var n = {};
            (n.selection = e),
              (n.command = t),
              this.K('TimeRangeMenuClick', i, n);
          }),
          (this.timeRangeMenuClickCallBack = function(e, t, i) {
            var n = {};
            (n.selection = e),
              (n.command = t),
              this.M('TimeRangeMenuClick', n, i);
          }),
          (this.jb = function(e, t, i) {
            switch (i) {
              case 'PostBack':
                o.timeRangeMenuClickPostBack(t, e);
                break;
              case 'CallBack':
                o.timeRangeMenuClickCallBack(t, e);
            }
          }),
          (this.timeRangeSelectedPostBack = function(e, t, i, n) {
            var a = {};
            (a.start = e),
              (a.end = t),
              (a.resource = i),
              this.K('TimeRangeSelected', n, a);
          }),
          (this.timeRangeSelectedCallBack = function(e, t, i, n) {
            var a = {};
            (a.start = e),
              (a.end = t),
              (a.resource = i),
              this.M('TimeRangeSelected', a, n);
          }),
          (this.kb = function(e, t, i) {
            (e = new DayPilot.Date(e)), (t = new DayPilot.Date(t));
            var n = i;
            if (o.Ba()) {
              var a = {};
              if (
                ((a.start = e),
                (a.end = t),
                (a.resource = n),
                (a.control = o),
                (a.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                (a.toJSON = function() {
                  return DayPilot.Util.copyProps(a, {}, [
                    'start',
                    'end',
                    'resource'
                  ]);
                }),
                'function' == typeof o.onTimeRangeSelect &&
                  (o.onTimeRangeSelect(a), a.preventDefault.value))
              )
                return;
              switch (o.timeRangeSelectedHandling) {
                case 'PostBack':
                  o.timeRangeSelectedPostBack(e, t, n);
                  break;
                case 'CallBack':
                  o.timeRangeSelectedCallBack(e, t, n);
              }
              'function' == typeof o.onTimeRangeSelected &&
                o.onTimeRangeSelected(a);
            } else
              switch (o.timeRangeSelectedHandling) {
                case 'PostBack':
                  o.timeRangeSelectedPostBack(e, t, i);
                  break;
                case 'CallBack':
                  o.timeRangeSelectedCallBack(e, t, i);
                  break;
                case 'JavaScript':
                  o.onTimeRangeSelected(e, t, i);
              }
          }),
          (this.timeRangeDoubleClickPostBack = function(e, t, i, n) {
            var a = {};
            (a.start = e),
              (a.end = t),
              (a.resource = i),
              this.K('TimeRangeDoubleClick', n, a);
          }),
          (this.timeRangeDoubleClickCallBack = function(e, t, i, n) {
            var a = {};
            (a.start = e),
              (a.end = t),
              (a.resource = i),
              this.M('TimeRangeDoubleClick', a, n);
          }),
          (this.lb = function(e, t, i) {
            if (o.Ba()) {
              var n = i,
                a = {};
              if (
                ((a.start = e),
                (a.end = t),
                (a.resource = n),
                (a.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                'function' == typeof o.onTimeRangeDoubleClick &&
                  (o.onTimeRangeDoubleClick(a), a.preventDefault.value))
              )
                return;
              switch (o.timeRangeDoubleClickHandling) {
                case 'PostBack':
                  o.timeRangeDoubleClickPostBack(e, t, n);
                  break;
                case 'CallBack':
                  o.timeRangeDoubleClickCallBack(e, t, n);
              }
              'function' == typeof o.onTimeRangeDoubleClicked &&
                o.onTimeRangeDoubleClicked(a);
            } else
              switch (o.timeRangeDoubleClickHandling) {
                case 'PostBack':
                  o.timeRangeDoubleClickPostBack(e, t, i);
                  break;
                case 'CallBack':
                  o.timeRangeDoubleClickCallBack(e, t, i);
                  break;
                case 'JavaScript':
                  o.onTimeRangeDoubleClick(e, t, i);
              }
          }),
          (this.eventEditPostBack = function(e, t, i) {
            var n = {};
            (n.e = e), (n.newText = t), this.K('EventEdit', i, n);
          }),
          (this.eventEditCallBack = function(e, t, i) {
            var n = {};
            (n.e = e), (n.newText = t), this.M('EventEdit', n, i);
          }),
          (this.mb = function(e, t) {
            if (o.Ba()) {
              var i = {};
              if (
                ((i.e = e),
                (i.newText = t),
                (i.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                'function' == typeof o.onEventEdit &&
                  (o.onEventEdit(i), i.preventDefault.value))
              )
                return;
              switch (o.eventEditHandling) {
                case 'PostBack':
                  o.eventEditPostBack(e, t);
                  break;
                case 'CallBack':
                  o.eventEditCallBack(e, t);
                  break;
                case 'Update':
                  e.text(t), o.events.update(e);
              }
              if (
                'function' == typeof o.onEventEdited &&
                (o.onEventEdited(i), i.preventDefault.value)
              )
                return;
            } else
              switch (o.eventEditHandling) {
                case 'PostBack':
                  o.eventEditPostBack(e, t);
                  break;
                case 'CallBack':
                  o.eventEditCallBack(e, t);
                  break;
                case 'JavaScript':
                  o.onEventEdit(e, t);
              }
          }),
          (this.eventSelectPostBack = function(e, t, i) {
            var n = {};
            (n.e = e), (n.change = t), this.K('EventSelect', i, n);
          }),
          (this.eventSelectCallBack = function(e, t, i) {
            var n = {};
            (n.e = e), (n.change = t), this.M('EventSelect', n, i);
          }),
          (this.nb = function(e, t, i, n) {
            var a = o.multiselect,
              r = a.isSelected(t);
            if (i || n || !r || 1 !== a.ob.length)
              if (o.Ba()) {
                a.previous = a.events();
                var l = {};
                if (
                  ((l.e = t),
                  (l.selected = a.isSelected(t)),
                  (l.ctrl = i),
                  (l.meta = n),
                  (l.preventDefault = function() {
                    this.preventDefault.value = !0;
                  }),
                  'function' == typeof o.onEventSelect &&
                    (o.onEventSelect(l), l.preventDefault.value))
                )
                  return;
                switch (o.eventSelectHandling) {
                  case 'PostBack':
                    o.eventSelectPostBack(t, s);
                    break;
                  case 'CallBack':
                    'undefined' != typeof WebForm_InitCallback &&
                      ((window.pb = ''),
                      (window.qb = []),
                      WebForm_InitCallback()),
                      o.eventSelectCallBack(t, s);
                    break;
                  case 'Update':
                    a.rb(e, i);
                }
                'function' == typeof o.onEventSelected &&
                  ((l.change = a.isSelected(t) ? 'selected' : 'deselected'),
                  (l.selected = a.isSelected(t)),
                  o.onEventSelected(l));
              } else {
                (a.previous = a.events()), a.rb(e, i);
                var s = a.isSelected(t) ? 'selected' : 'deselected';
                switch (o.eventSelectHandling) {
                  case 'PostBack':
                    o.eventSelectPostBack(t, s);
                    break;
                  case 'CallBack':
                    'undefined' != typeof WebForm_InitCallback &&
                      ((window.pb = ''),
                      (window.qb = []),
                      WebForm_InitCallback()),
                      o.eventSelectCallBack(t, s);
                    break;
                  case 'JavaScript':
                    o.onEventSelect(t, s);
                }
              }
          }),
          (this.commandCallBack = function(e, t) {
            this.S();
            var i = {};
            (i.command = e), this.M('Command', i, t);
          }),
          (this.sb = function(e) {
            if (
              !r.active &&
              !r.using &&
              (clearTimeout(t.selectedTimeout), !DayPilot.Global.selecting)
            ) {
              if (t.editing) return void t.editing.blur();
              if (
                o.selectedCells &&
                'Disabled' !== o.timeRangeDoubleClickHandling
              )
                for (var i = 0; i < o.selectedCells.length; i++)
                  if (this === o.selectedCells[i]) return;
              if ('Disabled' !== o.timeRangeSelectedHandling) {
                DayPilot.Util.mouseButton(e).left &&
                  ((t.firstMousePos = o.coords),
                  (t.firstMousePos.calendar = o),
                  o.clearSelection(),
                  (t.topSelectedCell = this),
                  (t.bottomSelectedCell = this),
                  (t.column = t.getColumn(this)),
                  o.selectedCells.push(this),
                  (t.firstSelected = this),
                  (DayPilot.Global.selecting = { calendar: o }),
                  o.tb());
              }
            }
          }),
          (this.tb = function() {
            this.getSelection() &&
              o.selectedCells &&
              !(function() {
                var e = t.topSelectedCell,
                  i = t.bottomSelectedCell,
                  n = (function() {
                    if (e.data) return e.data.x;
                    for (var t = e.parentNode.cells, i = 0; i < t.length; i++)
                      if (t[i] === e) return i;
                    return -1;
                  })(),
                  a = o.timeRangeSelectingStartEndFormat;
                'Auto' === a &&
                  (a = 'Clock24Hours' === l.timeFormat() ? 'H:mm' : 'h:mm tt');
                var r = o.Da[n];
                if (r) {
                  var s = {};
                  if (
                    ((s.start = e.start),
                    (s.end = i.end),
                    (s.duration = new DayPilot.Duration(s.start, s.end)),
                    (s.resource = r.id),
                    (s.allowed = !0),
                    (s.html = null),
                    (s.cssClass = null),
                    (s.top = {}),
                    (s.top.width = null),
                    (s.top.space = 5),
                    (s.top.html = s.start.toString(a, l.locale())),
                    (s.top.enabled = o.timeRangeSelectingStartEndEnabled),
                    (s.bottom = {}),
                    (s.bottom.width = null),
                    (s.bottom.space = 5),
                    (s.bottom.html = s.end.toString(a, l.locale())),
                    (s.bottom.enabled = o.timeRangeSelectingStartEndEnabled),
                    DayPilot.Global.selecting)
                  ) {
                    var d = DayPilot.Global.selecting.args;
                    if (
                      !d ||
                      d.start !== s.start ||
                      d.end !== s.end ||
                      d.resource != s.resource
                    ) {
                      if (!o.allowEventOverlap) {
                        var c = {
                          id: null,
                          start: s.start,
                          end: s.end,
                          resource: s.resource
                        };
                        o.events.ub(c) && (s.allowed = !1);
                      }
                      o.vb(s.start, s.end, s.resource) && (s.allowed = !1),
                        'function' == typeof o.onTimeRangeSelecting &&
                          s.allowed &&
                          o.onTimeRangeSelecting(s),
                        (DayPilot.Global.selecting.args = s);
                      var h = o.wb(e.start, r.start).boxTop - o.xb(),
                        u = o.wb(i.end, r.start).boxBottom - o.xb(),
                        f = u - h,
                        v = (function() {
                          if (o.nav.activeSelection)
                            return o.nav.activeSelection;
                          var e = document.createElement('div');
                          (e.style.zIndex = o.A),
                            (e.style.position = 'absolute'),
                            (e.style.left = '0px'),
                            (e.style.width = '100%'),
                            (e.ondblclick = function(e) {
                              if (
                                'Disabled' !== o.timeRangeDoubleClickHandling
                              ) {
                                clearTimeout(o.yb);
                                var t = o.getSelection();
                                t && o.lb(t.start, t.end, t.resource);
                              }
                            });
                          var t = document.createElement('div');
                          return (
                            (t.className = o.r('_shadow_inner')),
                            e.appendChild(t),
                            o.nav.events.rows[0].cells[n].selection.appendChild(
                              e
                            ),
                            o.elements.selection.push(e),
                            (o.nav.activeSelection = e),
                            e
                          );
                        })();
                      (v.className = o.r('_shadow')),
                        (v.firstChild.innerHTML = ''),
                        (v.style.top = h + 'px'),
                        (v.style.height = f + 'px');
                      var p = v.firstChild;
                      s.html && (p.innerHTML = s.html),
                        s.cssClass && DayPilot.Util.addClass(v, s.cssClass),
                        s.allowed ||
                          DayPilot.Util.addClass(v, o.r('_shadow_forbidden')),
                        o.zb(v, n, s);
                    }
                  }
                }
              })();
          }),
          (this.Ab = function(e) {
            DayPilot.de(e),
              DayPilot.de(o.nav.indicatorTop),
              DayPilot.de(o.nav.indicatorBottom);
          }),
          (this.zb = function(e, t, i) {
            var n = o.nav.events.rows[0].cells,
              a = n[t].events,
              r = t === n.length - 1;
            if (
              (DayPilot.de(o.nav.indicatorTop),
              DayPilot.de(o.nav.indicatorBottom),
              i.top.enabled)
            ) {
              var l = document.createElement('div');
              (l.style.zIndex = o.A),
                (l.style.position = 'absolute'),
                (l.style.top = e.offsetTop + 'px'),
                r
                  ? (l.style.right = '0px')
                  : (l.style.left = e.offsetWidth + i.top.space + 'px'),
                i.top.width
                  ? (l.style.width = i.top.width + 'px')
                  : (l.style.whiteSpace = 'nowrap'),
                i.top.html && (l.innerHTML = i.top.html),
                (l.className = o.r('_shadow_top')),
                a.appendChild(l),
                o.elements.selection.push(l),
                (o.nav.indicatorTop = l);
            }
            if (i.bottom.enabled) {
              var s = document.createElement('div');
              (s.style.zIndex = o.A),
                (s.style.position = 'absolute'),
                (s.style.top = e.offsetTop + e.offsetHeight + 'px'),
                r
                  ? (s.style.right = '0px')
                  : (s.style.left = e.offsetWidth + i.bottom.space + 'px'),
                i.bottom.width
                  ? (s.style.width = i.bottom.width + 'px')
                  : (s.style.whiteSpace = 'nowrap'),
                i.bottom.html && (s.innerHTML = i.bottom.html),
                (s.className = o.r('_shadow_bottom')),
                a.appendChild(s);
              var d = s.offsetHeight;
              (s.style.top = e.offsetTop + e.offsetHeight - d + 'px'),
                o.elements.selection.push(s),
                (o.nav.indicatorBottom = s);
            }
          }),
          (this.Bb = function(e) {
            'undefined' != typeof DayPilot.Bubble &&
              o.cellBubble &&
              o.cellBubble.hideOnMouseOut();
          }),
          (this.Cb = function(e) {
            if (
              'undefined' != typeof t &&
              !r.active &&
              !r.using &&
              'undefined' != typeof DayPilot.Bubble &&
              o.cellBubble
            ) {
              var i = t.getColumn(this),
                n = o.Da[i].id,
                a = {};
              (a.calendar = o),
                (a.start = this.start),
                (a.end = this.end),
                (a.resource = n),
                (a.toJSON = function() {
                  var e = {};
                  return (
                    (e.start = this.start),
                    (e.end = this.end),
                    (e.resource = this.resource),
                    e
                  );
                }),
                o.cellBubble.showCell(a);
            }
          }),
          (this.getSelection = function() {
            if (!t.topSelectedCell) return null;
            if (!t.bottomSelectedCell) return null;
            var e = t.topSelectedCell.start,
              i = t.bottomSelectedCell.end,
              n = t.topSelectedCell.resource;
            return new DayPilot.Selection(e, i, n, o);
          }),
          (this.Db = function(e) {}),
          (this.Eb = function(e) {
            if ('Fixed' === o.columnWidthSpec || o.B) {
              if (!o.nav.bottomLeft) return;
              (o.nav.bottomLeft.scrollTop = o.nav.bottomRight.scrollTop),
                o.nav.upperRight &&
                  (o.nav.upperRight.scrollLeft = o.nav.bottomRight.scrollLeft),
                (o.nav.scrollLayer.scrollLeft = o.nav.bottomRight.scrollLeft);
            }
            var t = o.Fb();
            (o.scrollPos = t.scrollTop),
              (o.Gb = t.clientHeight),
              (o.nav.scrollpos.value = o.scrollPos),
              o.za();
          }),
          (this.za = function() {
            if (this.scrollLabelsVisible && this.Hb) {
              if (
                this.nav &&
                this.nav.main &&
                this.nav.main.rows &&
                this.nav.main.rows.length > 0 &&
                this.nav.main.rows[0].cells.length > 0
              ) {
                for (
                  var e = (this.Da, this.showHours ? this.hourWidth : 0),
                    t = this.nav.main.rows[0].cells[0].clientWidth,
                    i = 1,
                    n = 0;
                  n < this.nav.scrollUp.length;
                  n++
                ) {
                  var a = this.nav.scrollUp[n],
                    r = this.nav.scrollDown[n],
                    l = Math.floor(e + n * t + t / 2 - 5 + i);
                  l < 0 && (l = 0),
                    (l -= o.nav.bottomRight.scrollLeft),
                    a && a.style && (a.style.left = l + 'px'),
                    r && r.style && (r.style.left = l + 'px');
                }
                for (
                  var s = this.xb(), n = 0;
                  n < this.nav.scrollUp.length;
                  n++
                ) {
                  var d = this.nav.scrollUp[n],
                    c = this.nav.scrollDown[n],
                    h = this.Hb[n].minEnd - s,
                    u = this.Hb[n].maxStart - s;
                  d &&
                    c &&
                    (h <= o.scrollPos && parseInt(d.style.left) >= o.hourWidth
                      ? ((d.style.top = this.Ka() + 'px'),
                        (d.style.display = ''))
                      : (d.style.display = 'none'),
                    u >= o.scrollPos + o.Gb &&
                    parseInt(c.style.left) >= o.hourWidth
                      ? ((c.style.top = this.Ka() + this.Gb - 10 + 'px'),
                        (c.style.display = ''))
                      : (c.style.display = 'none'));
                }
              }
            }
          }),
          (this.Ib = function(e) {
            var t = e.parentNode,
              i = 0,
              n = e.offsetTop,
              a = e.parentNode.offsetWidth,
              o = e.offsetHeight;
            e.event.allday() && ((i = e.offsetLeft), (a = e.offsetWidth));
            var r = document.createElement('textarea');
            (r.style.boxSizing = 'border-box'),
              (r.style.position = 'absolute'),
              (r.style.width = a + 'px'),
              (r.style.height = o + 'px');
            var l = DayPilot.gs(e, 'fontFamily');
            l || (l = DayPilot.gs(e, 'font-family')), (r.style.fontFamily = l);
            var s = DayPilot.gs(e, 'fontSize');
            return (
              s || (s = DayPilot.gs(e, 'font-size')),
              (r.style.fontSize = s),
              (r.style.left = i + 'px'),
              (r.style.top = n + 'px'),
              (r.style.border = '1px solid black'),
              (r.style.padding = '0px'),
              (r.style.marginTop = '0px'),
              (r.style.backgroundColor = 'white'),
              (r.value = DayPilot.tr(e.event.text())),
              (r.event = e.event),
              t.appendChild(r),
              r
            );
          }),
          (this.Ra = function(e, t, i, n) {
            o.nb(e, t, i, n);
          }),
          (this.multiselect = {}),
          (this.multiselect.fa = []),
          (this.multiselect.ob = []),
          (this.multiselect.Jb = []),
          (this.multiselect.Kb = []),
          (this.multiselect.Lb = function() {
            var e = o.multiselect;
            return JSON.stringify(e.events());
          }),
          (this.multiselect.events = function() {
            var e = o.multiselect,
              t = [];
            t.ignoreToJSON = !0;
            for (var i = 0; i < e.ob.length; i++) t.push(e.ob[i]);
            return t;
          }),
          (this.multiselect.Mb = function() {
            o.nav.select.value = o.multiselect.Lb();
          }),
          (this.multiselect.rb = function(e, t) {
            var i = o.multiselect;
            if (i.isSelected(e.event))
              if (o.allowMultiSelect)
                if (t) i.remove(e.event, !0);
                else {
                  var n = i.ob.length;
                  i.clear(!0), n > 1 && i.add(e.event, !0);
                }
              else i.clear(!0);
            else
              o.allowMultiSelect && t
                ? i.add(e.event, !0)
                : (i.clear(!0), i.add(e.event, !0));
            i.redraw(), i.Mb();
          }),
          (this.multiselect.Nb = function(e) {
            var t = o.multiselect;
            return t.Ob(e, t.fa);
          }),
          (this.multiselect.Pb = function() {
            for (var e = o.multiselect, t = [], i = 0; i < e.ob.length; i++) {
              var n = e.ob[i];
              t.push(n.value());
            }
            alert(t.join('\n'));
          }),
          (this.multiselect.add = function(e, t) {
            var i = o.multiselect;
            i.Qb(e) === -1 && i.ob.push(e), i.Mb(), t || i.redraw();
          }),
          (this.multiselect.remove = function(e, t) {
            var i = o.multiselect,
              n = i.Qb(e);
            n !== -1 && i.ob.splice(n, 1), i.Mb(), t || i.redraw();
          }),
          (this.multiselect.clear = function(e) {
            var t = o.multiselect;
            (t.ob = []), t.Mb(), e || t.redraw();
          }),
          (this.multiselect.redraw = function() {
            for (
              var e = o.multiselect, t = 0;
              t < o.elements.events.length;
              t++
            ) {
              var i = o.elements.events[t];
              e.isSelected(i.event) ? e.Rb(i) : e.Sb(i);
            }
          }),
          (this.multiselect.Rb = function(e) {
            var t = o.multiselect,
              i = o.r('_selected'),
              n = t.Tb(e);
            DayPilot.Util.addClass(n, i), t.Jb.push(e);
          }),
          (this.multiselect.Tb = function(e) {
            return e;
          }),
          (this.multiselect.Ub = function() {
            for (var e = o.multiselect, t = 0; t < e.Jb.length; t++) {
              var i = e.Jb[t];
              e.Sb(i, !0);
            }
            e.Jb = [];
          }),
          (this.multiselect.Sb = function(e, t) {
            var i = o.multiselect,
              n = o.r('_selected'),
              a = i.Tb(e);
            if ((DayPilot.Util.removeClass(a, n), !t)) {
              var r = DayPilot.indexOf(i.Jb, e);
              r !== -1 && i.Jb.splice(r, 1);
            }
          }),
          (this.multiselect.isSelected = function(e) {
            return o.multiselect.Ob(e, o.multiselect.ob);
          }),
          (this.multiselect.Qb = function(e) {
            return DayPilot.indexOf(o.multiselect.ob, e);
          }),
          (this.multiselect.Ob = function(e, t) {
            if (!t) return !1;
            for (var i = 0; i < t.length; i++) {
              var n = t[i];
              if (e === n) return !0;
              if ('function' == typeof n.value) {
                if (
                  null !== n.value() &&
                  null !== e.value() &&
                  n.value() === e.value()
                )
                  return !0;
                if (
                  null === n.value() &&
                  null === e.value() &&
                  n.recurrentMasterId() === e.recurrentMasterId() &&
                  e.start().toStringSortable() === n.start()
                )
                  return !0;
              } else {
                if (
                  null !== n.value &&
                  null !== e.value() &&
                  n.value === e.value()
                )
                  return !0;
                if (
                  null === n.value &&
                  null === e.value() &&
                  n.recurrentMasterId === e.recurrentMasterId() &&
                  e.start().toStringSortable() === n.start
                )
                  return !0;
              }
            }
            return !1;
          }),
          (this.Qa = function(e) {
            if (t.editing) return void t.editing.blur();
            var i = this.Ib(e);
            (t.editing = i),
              DayPilot.re(i, DayPilot.touch.start, function(e) {
                e.stopPropagation();
              }),
              (i.onblur = function() {
                if (e.event) {
                  var n = (e.event.value(), e.event.tag(), e.event.text()),
                    a = i.value;
                  (t.editing = null),
                    (i.onblur = null),
                    DayPilot.de(i),
                    n !== a && ((e.style.display = 'none'), o.mb(e.event, a));
                }
              }),
              (i.onkeypress = function(e) {
                if (13 === (window.event ? event.keyCode : e.keyCode))
                  return this.onblur(), e.preventDefault(), !1;
              }),
              (i.onkeyup = function(e) {
                return (
                  27 === (window.event ? event.keyCode : e.keyCode) &&
                    ((i.onblur = null),
                    i.parentNode && i.parentNode.removeChild(i),
                    (t.editing = !1)),
                  !0
                );
              }),
              i.select(),
              i.focus();
          }),
          (this.Vb = function() {
            return 'Resources' !== o.viewType && (!o.ga() || !o.t());
          }),
          (this.ga = function() {
            return DayPilot.isArray(o.columns) ? o.columns : o.columns.list;
          }),
          (this.columns = {}),
          (this.columns.list = []),
          (this.columns.Wb = !1),
          (this.columns.filter = function(e) {
            (o.Xb.params = e), o.G && o.Yb();
          }),
          (this.columns.load = function(e, t, i) {
            if (!e)
              throw new DayPilot.Exception(
                "columns.load(): 'url' parameter required"
              );
            var n = function(e) {
                var t = {};
                (t.exception = e.exception),
                  (t.request = e.request),
                  'function' == typeof i && i(t);
              },
              a = function(e) {
                var i,
                  a = e.request;
                try {
                  i = JSON.parse(a.responseText);
                } catch (e) {
                  var r = {};
                  return (r.exception = e), void n(r);
                }
                if (DayPilot.isArray(i)) {
                  var l = {};
                  if (
                    ((l.preventDefault = function() {
                      this.preventDefault.value = !0;
                    }),
                    (l.data = i),
                    'function' == typeof t && t(l),
                    l.preventDefault.value)
                  )
                    return;
                  (o.columns.list = i), o.G && o.update();
                }
              };
            o.columnsLoadMethod && 'POST' === o.columnsLoadMethod.toUpperCase()
              ? DayPilot.ajax({ method: 'POST', url: e, success: a, error: n })
              : DayPilot.ajax({ method: 'GET', url: e, success: a, error: n });
          }),
          (this.ha = function() {
            if (o.Vb()) {
              var e = this.Zb();
              this.Da = this.$b(e);
            } else
              (this.aa = this.$b(this.ga() || [])),
                (this.Da = this._b(this.headerLevels, !0));
          }),
          (this.bc = function() {
            var e = this.startDate.getDatePart(),
              t = this.days;
            switch (this.viewType) {
              case 'Day':
                t = 1;
                break;
              case 'Week':
                (t = 7), (e = e.firstDayOfWeek(l.weekStarts()));
                break;
              case 'WorkWeek':
                for (
                  t = 5, e = e.firstDayOfWeek(l.weekStarts());
                  1 !== e.dayOfWeek();

                )
                  e = e.addDays(1);
            }
            var i = e.addDays(t),
              n = {};
            return (n.start = e), (n.end = i), (n.days = t), n;
          }),
          (this.Zb = function() {
            for (
              var e = [], t = this.bc(), i = t.start, n = t.days, a = 0;
              a < n;
              a++
            ) {
              var r = {};
              r.start = i.addDays(a);
              var s = l.locale().datePattern;
              o.headerDateFormat && (s = o.headerDateFormat),
                (r.name = r.start.toString(s, l.locale())),
                (r.html = r.name),
                e.push(r);
            }
            return e;
          }),
          (this.Xb = {}),
          (this.cc = function(e, t) {
            var i = {};
            (i.id = e.id),
              (i.start = new DayPilot.Date(
                e.start || o.startDate
              ).getDatePart()),
              (i.name = e.name),
              (i.html = e.html || e.name),
              (i.toolTip = e.toolTip),
              (i.backColor = e.backColor),
              (i.areas = e.areas),
              (i.parent = t);
            var n = !e.children || 0 === e.children.length;
            if ('function' == typeof o.onColumnFilter && o.Xb.params)
              if (n) {
                var t = i.parent,
                  a = {};
                (a.visible = !0),
                  (a.column = {
                    id: e.id,
                    name: e.name,
                    start: e.start,
                    data: e
                  }),
                  (a.filter = o.Xb.params),
                  o.onColumnFilter(a),
                  a.visible ? t && t.dc() : (i.hidden = !0);
              } else i.hidden = !0;
            return (
              (i.dc = function() {
                (i.hidden = !1), i.parent && i.parent.dc();
              }),
              (i.getChildren = function(e, t) {
                var i = [];
                if (e <= 1) return this.hidden || i.push(this), i;
                if (!this.children || 0 === this.children.length)
                  return t ? this.hidden || i.push(this) : i.push('empty'), i;
                for (var n = 0; n < this.children.length; n++)
                  for (
                    var a = this.children[n],
                      o = a.getChildren(e - 1, t),
                      r = 0;
                    r < o.length;
                    r++
                  )
                    i.push(o[r]);
                return i;
              }),
              (i.getChildrenCount = function(e) {
                var t = 0;
                if (!this.children || this.children.length <= 0 || e <= 1) {
                  return !this.hidden ? 1 : 0;
                }
                for (var i = 0; i < this.children.length; i++)
                  t += this.children[i].getChildrenCount(e - 1);
                return t;
              }),
              (i.putIntoBlock = function(e) {
                for (var t = 0; t < this.blocks.length; t++) {
                  var i = this.blocks[t];
                  if (i.overlapsWith(e.part.top, e.part.height))
                    return (
                      i.events.push(e),
                      (i.min = Math.min(i.min, e.part.top)),
                      (i.max = Math.max(i.max, e.part.top + e.part.height)),
                      t
                    );
                }
                var i = [];
                return (
                  (i.lines = []),
                  (i.events = []),
                  (i.overlapsWith = function(e, t) {
                    return !(e + t - 1 < this.min || e > this.max - 1);
                  }),
                  (i.putIntoLine = function(e) {
                    for (var t = 0; t < this.lines.length; t++) {
                      var i = this.lines[t];
                      if (i.isFree(e.part.top, e.part.height))
                        return i.push(e), t;
                    }
                    var i = [];
                    return (
                      (i.isFree = function(e, t) {
                        for (
                          var i = e + t - 1, n = this.length, a = 0;
                          a < n;
                          a++
                        ) {
                          var o = this[a];
                          if (
                            !(
                              i < o.part.top ||
                              e > o.part.top + o.part.height - 1
                            )
                          )
                            return !1;
                        }
                        return !0;
                      }),
                      i.push(e),
                      this.lines.push(i),
                      this.lines.length - 1
                    );
                  }),
                  i.events.push(e),
                  (i.min = e.part.top),
                  (i.max = e.part.top + e.part.height),
                  this.blocks.push(i),
                  this.blocks.length - 1
                );
              }),
              (i.putIntoLine = function(e) {
                for (var t = 0; t < this.lines.length; t++) {
                  var i = this.lines[t];
                  if (i.isFree(e.part.top, e.part.height)) return i.push(e), t;
                }
                var i = [];
                return (
                  (i.isFree = function(e, t) {
                    for (
                      var i = e + t - 1, n = this.length, a = 0;
                      a < n;
                      a++
                    ) {
                      var o = this[a];
                      if (
                        !(i < o.part.top || e > o.part.top + o.part.height - 1)
                      )
                        return !1;
                    }
                    return !0;
                  }),
                  i.push(e),
                  this.lines.push(i),
                  this.lines.length - 1
                );
              }),
              e.children && (i.children = this.$b(e.children, i)),
              i
            );
          }),
          (this.$b = function(e, t) {
            var i = DayPilot.list();
            return (
              DayPilot.list(e).each(function(e) {
                var n = o.cc(e, t);
                i.push(n);
              }),
              i
            );
          }),
          (this._b = function(e, t) {
            for (
              var i = this.Vb() ? this.Da : this.aa, n = DayPilot.list(), a = 0;
              a < i.length;
              a++
            )
              for (var o = i[a].getChildren(e, t), r = 0; r < o.length; r++)
                n.push(o[r]);
            return n;
          }),
          (this.ya = function() {
            if (this.showAllDayEvents) {
              var e = this.nav.header;
              if (e) {
                e.style.display = 'none';
                for (
                  var t = this.Da.length, i = 0;
                  i < this.ec.lines.length;
                  i++
                )
                  for (var n = this.ec.lines[i], a = 0; a < n.length; a++) {
                    var r = n[a],
                      s = r.cache || r.data,
                      d = document.createElement('div');
                    (d.event = r),
                      d.setAttribute('unselectable', 'on'),
                      (d.style.position = 'absolute'),
                      o.rtl
                        ? (d.style.right = (100 * r.part.colStart) / t + '%')
                        : (d.style.left = (100 * r.part.colStart) / t + '%'),
                      (d.style.width = (100 * r.part.colWidth) / t + '%'),
                      (d.style.height = l.allDayEventHeight() + 'px'),
                      (d.className = this.r('_alldayevent')),
                      (d.style.top =
                        this.headerLevels * l.headerHeight() +
                        i * l.allDayEventHeight() +
                        'px'),
                      s.cssClass && DayPilot.Util.addClass(d, s.cssClass),
                      (d.style.textAlign = 'left'),
                      (d.style.lineHeight = '1.2'),
                      r.client.clickEnabled() && (d.onclick = this.Oa),
                      r.client.doubleClickEnabled() && (d.ondblclick = this.Sa),
                      r.client.clickEnabled() || r.client.doubleClickEnabled()
                        ? (d.style.cursor = 'pointer')
                        : (d.style.cursor = 'default'),
                      DayPilot.re(d, 'contextmenu', this.Ta),
                      (d.onmousemove = function(e) {
                        var t = this;
                        if (!t.active) {
                          var i = [];
                          r.client.deleteEnabled() &&
                            i.push({
                              action: 'JavaScript',
                              v: 'Hover',
                              w: 17,
                              h: 17,
                              top: 3,
                              right: 3,
                              css: o.r('_event_delete'),
                              js: function(e) {
                                o.Xa(e);
                              }
                            });
                          var n = s.areas;
                          n && n.length > 0 && (i = i.concat(n)),
                            DayPilot.Areas.showAreas(t, t.event, null, i),
                            DayPilot.Util.addClass(
                              t,
                              o.r('_alldayevent_hover')
                            );
                        }
                        'undefined' != typeof DayPilot.Bubble &&
                          o.bubble &&
                          'Disabled' !== o.eventHoverHandling &&
                          o.bubble.showEvent(this.event);
                      }),
                      (d.onmouseout = function(e) {
                        var t = this;
                        DayPilot.Util.removeClass(t, o.r('_alldayevent_hover')),
                          DayPilot.Areas.hideAreas(this, e),
                          o.bubble && o.bubble.hideOnMouseOut();
                      }),
                      this.showToolTip &&
                        !this.bubble &&
                        d.setAttribute('title', r.client.toolTip());
                    var c = r.start().getTime() === r.part.start.getTime(),
                      h = r.end().getTime() === r.part.end.getTime(),
                      u = s.backColor,
                      f = document.createElement('div');
                    if (
                      (f.setAttribute('unselectable', 'on'),
                      (f.className = this.r('_alldayevent_inner')),
                      u && (f.style.background = u),
                      s.fontColor && (f.style.color = s.fontColor),
                      s.borderColor && (f.style.borderColor = s.borderColor),
                      o.rtl
                        ? (c ||
                            DayPilot.Util.addClass(
                              d,
                              this.r('_alldayevent_continueright')
                            ),
                          h ||
                            DayPilot.Util.addClass(
                              d,
                              this.r('_alldayevent_continueleft')
                            ))
                        : (c ||
                            DayPilot.Util.addClass(
                              d,
                              this.r('_alldayevent_continueleft')
                            ),
                          h ||
                            DayPilot.Util.addClass(
                              d,
                              this.r('_alldayevent_continueright')
                            )),
                      r.client.innerHTML()
                        ? (f.innerHTML = r.client.innerHTML())
                        : (f.innerHTML = r.text()),
                      d.appendChild(f),
                      o.Ba())
                    ) {
                      if ('function' == typeof o.onAfterEventRender) {
                        var v = {};
                        (v.e = d.event), (v.div = d), o.onAfterEventRender(v);
                      }
                    } else o.afterEventRender && o.afterEventRender(d.event, d);
                    this.nav.allday.appendChild(d),
                      this.elements.events.push(d);
                  }
                e.style.display = '';
              }
            }
          }),
          (this.T = function(e) {
            if ((o.multiselect.Ub(), this.elements.events))
              for (var t = 0; t < this.elements.events.length; t++) {
                var i = this.elements.events[t],
                  n = i.event;
                if (!n || !e || n.allday()) {
                  if (
                    (n && ((n.div = null), (n.root = null)),
                    (i.onclick = null),
                    (i.onclickSave = null),
                    (i.ondblclick = null),
                    (i.oncontextmenu = null),
                    (i.onmouseover = null),
                    (i.onmouseout = null),
                    (i.onmousemove = null),
                    (i.onmousedown = null),
                    i.firstChild &&
                      i.firstChild.firstChild &&
                      i.firstChild.firstChild.tagName &&
                      'IMG' === i.firstChild.firstChild.tagName.toUpperCase())
                  ) {
                    var a = i.firstChild.firstChild;
                    (a.onmousedown = null),
                      (a.onmousemove = null),
                      (a.onclick = null);
                  }
                  (i.helper = null), (i.event = null), DayPilot.de(i);
                }
              }
            this.elements.events = [];
          }),
          (this.fc = function(e) {
            var t = this.nav.events,
              i = e.cache || e.data,
              n = document.createElement('div');
            n.setAttribute('unselectable', 'on'),
              (n.style.MozUserSelect = 'none'),
              (n.style.KhtmlUserSelect = 'none'),
              (n.style.WebkitUserSelect = 'none'),
              (n.style.position = 'absolute'),
              (n.className = this.r('_event')),
              (n.style.left = e.part.left + '%'),
              (n.style.top = e.part.top - this.xb() + 'px'),
              (n.style.width = e.part.width + '%'),
              (n.style.height = Math.max(e.part.height, 2) + 'px'),
              (n.style.overflow = 'hidden'),
              (n.isFirst = e.part.start.getTime() === e.start().getTime()),
              (n.isLast = e.part.end.getTime() === e.end().getTime()),
              e.client.clickEnabled() && (n.onclick = this.Oa),
              e.client.doubleClickEnabled() && (n.ondblclick = this.Sa),
              DayPilot.re(n, 'contextmenu', this.Ta),
              (n.onmousemove = this.gc),
              (n.onmouseout = this.hc),
              (n.onmousedown = this.ic),
              DayPilot.re(n, DayPilot.touch.start, this.jc.onEventTouchStart),
              DayPilot.re(n, DayPilot.touch.move, this.jc.onEventTouchMove),
              DayPilot.re(n, DayPilot.touch.end, this.jc.onEventTouchEnd);
            i.cssClass && DayPilot.Util.addClass(n, i.cssClass),
              this.showToolTip &&
                !this.bubble &&
                n.setAttribute('title', e.client.toolTip());
            var a = document.createElement('div');
            if (
              (a.setAttribute('unselectable', 'on'),
              (a.className = o.r('_event_inner')),
              (a.innerHTML = e.client.innerHTML()),
              i.fontColor && (a.style.color = i.fontColor),
              i.backColor &&
                ((a.style.background = i.backColor),
                (DayPilot.browser.ie9 || DayPilot.browser.ielt9) &&
                  (a.style.filter = '')),
              i.borderColor && (a.style.borderColor = i.borderColor),
              i.backgroundImage &&
                ((a.style.backgroundImage = 'url(' + i.backgroundImage + ')'),
                i.backgroundRepeat &&
                  (a.style.backgroundRepeat = i.backgroundRepeat)),
              n.appendChild(a),
              e.client.barVisible())
            ) {
              var r = e.part.height - 2,
                l = (100 * e.part.barTop) / r,
                s = Math.ceil((100 * e.part.barHeight) / r);
              'PercentComplete' === this.durationBarMode &&
                ((l = 0), (s = i.complete));
              var d = document.createElement('div');
              d.setAttribute('unselectable', 'on'),
                (d.className = this.r('_event_bar')),
                (d.style.position = 'absolute'),
                i.barBackColor && (d.style.backgroundColor = i.barBackColor);
              var c = document.createElement('div');
              c.setAttribute('unselectable', 'on'),
                (c.className = this.r('_event_bar_inner')),
                (c.style.top = l + '%'),
                0 < s && s <= 1
                  ? (c.style.height = '1px')
                  : (c.style.height = s + '%'),
                i.barColor && (c.style.backgroundColor = i.barColor),
                d.appendChild(c),
                n.appendChild(d);
            }
            if (i.areas)
              for (var h = 0; h < i.areas.length; h++) {
                var u = i.areas[h],
                  f = u.visibility || u.v || 'Visible';
                if ('Visible' === f) {
                  var v = DayPilot.Areas.createArea(n, e, u);
                  n.appendChild(v);
                }
              }
            if (t.rows[0].cells[e.part.dayIndex]) {
              if (
                (t.rows[0].cells[e.part.dayIndex].events.appendChild(n),
                o.kc(n),
                (n.event = e),
                o.multiselect.Nb(e) && o.multiselect.add(n.event, !0),
                o.Ba())
              ) {
                if ('function' == typeof o.onAfterEventRender) {
                  var p = {};
                  (p.e = n.event), (p.div = n), o.onAfterEventRender(p);
                }
              } else o.afterEventRender && o.afterEventRender(n.event, n);
            }
            o.elements.events.push(n);
          }),
          (this.kc = function(e) {
            for (
              var t = e && e.childNodes ? e.childNodes.length : 0, i = 0;
              i < t;
              i++
            )
              try {
                var n = e.childNodes[i];
                1 === n.nodeType &&
                  (n.setAttribute('unselectable', 'on'), this.kc(n));
              } catch (e) {}
          }),
          (this.xa = function() {
            for (var e = new Date(), t = 0; t < this.Da.length; t++) {
              var i = this.Da[t];
              if (i.blocks)
                for (var n = 0; n < i.blocks.length; n++)
                  for (var a = i.blocks[n], o = 0; o < a.lines.length; o++)
                    for (var r = a.lines[o], l = 0; l < r.length; l++) {
                      var s = r[l];
                      if (
                        ((s.part.width = 100 / a.lines.length),
                        (s.part.left = s.part.width * o),
                        'Cascade' === this.eventArrangement)
                      ) {
                        var d = o === a.lines.length - 1;
                        d || (s.part.width = 1.5 * s.part.width);
                      }
                      'Full' === this.eventArrangement &&
                        ((s.part.left = s.part.left / 2),
                        (s.part.width = 100 - s.part.left)),
                        s.allday() || this.fc(s);
                    }
            }
            this.multiselect.redraw();
            var c = new Date();
            c.getTime() - e.getTime();
          }),
          (this.lc = function() {
            this.multiselect.ob = [];
            for (var e = 0; e < this.Da.length; e++)
              for (var t = this.Da[e], i = 0; i < t.lines.length; i++)
                for (var n = t.lines[i], a = 0; a < n.length; a++) {
                  var o = n[a];
                  (o.part.width = 100 / t.lines.length),
                    (o.part.left = o.Width * i),
                    o.allday() || this.fc(o);
                }
          }),
          (this.r = function(e) {
            var t = this.theme || this.cssClassPrefix;
            return t ? t + e : '';
          }),
          (this.nc = function() {
            switch (o.H) {
              case 'aspnet':
                if (!this.R())
                  throw new DayPilot.Exception(
                    'ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/'
                  );
                break;
              case 'netmvc':
                if (!this.backendUrl)
                  throw new DayPilot.Exception(
                    'DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/'
                  );
                break;
              case 'javaxx':
                if (!this.backendUrl)
                  throw new DayPilot.Exception(
                    'DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/'
                  );
            }
          }),
          (this.wa = function() {
            'hidden' === this.nav.top.style.visibility &&
              (this.nav.top.style.visibility = 'visible');
          }),
          (this.oc = function() {
            var e = this.Ka() + this.pc();
            return (
              o.debug.message(
                'Getting totalHeight, headerHeight: ' +
                  this.Ka() +
                  ' scrollable: ' +
                  this.pc()
              ),
              e < 0 ? 0 : e
            );
          }),
          (this.qc = function() {
            if (
              ((this.nav.top.dp = this),
              (this.nav.top.innerHTML = ''),
              (this.nav.top.style.MozUserSelect = 'none'),
              (this.nav.top.style.KhtmlUserSelect = 'none'),
              (this.nav.top.style.WebkitUserSelect = 'none'),
              (this.nav.top.style.WebkitTapHighlightColor = 'rgba(0,0,0,0)'),
              (this.nav.top.style.WebkitTouchCallout = 'none'),
              (this.nav.top.style.position = 'relative'),
              this.width && (this.nav.top.style.width = this.width),
              this.rtl && (this.nav.top.style.direction = 'rtl'),
              'Parent100Pct' === this.heightSpec
                ? (this.nav.top.style.height = '100%')
                : (this.nav.top.style.height = this.oc() + 'px'),
              this.hideUntilInit && (this.nav.top.style.visibility = 'hidden'),
              this.visible || (this.nav.top.style.display = 'none'),
              (this.nav.scroll = document.createElement('div')),
              (this.nav.scroll.style.height = this.pc() + 'px'),
              DayPilot.Util.addClass(this.nav.top, this.r('_main')),
              (this.nav.scroll.style.position = 'relative'),
              this.showHeader)
            ) {
              var e = this.rc();
              this.nav.top.appendChild(e);
            }
            (this.nav.scroll.style.zoom = 1),
              (this.nav.scroll.style.position = 'absolute'),
              (this.nav.scroll.style.left = '0px'),
              (this.nav.scroll.style.right = '0px'),
              (this.nav.scroll.style.top = this.Ka() + 'px'),
              (this.nav.scroll.className = o.r('_scroll'));
            var t = this.sc();
            (this.nav.scrollable = t.firstChild),
              this.nav.scroll.appendChild(t),
              this.nav.top.appendChild(this.nav.scroll),
              (this.nav.vsph = document.createElement('div')),
              (this.nav.vsph.style.display = 'none'),
              this.nav.top.appendChild(this.nav.vsph),
              (this.nav.scrollpos = document.createElement('input')),
              (this.nav.scrollpos.type = 'hidden'),
              (this.nav.scrollpos.id = o.id + '_scrollpos'),
              (this.nav.scrollpos.name = this.nav.scrollpos.id),
              this.nav.top.appendChild(this.nav.scrollpos),
              (this.nav.select = document.createElement('input')),
              (this.nav.select.type = 'hidden'),
              (this.nav.select.id = o.id + '_select'),
              (this.nav.select.name = this.nav.select.id),
              (this.nav.select.value = null),
              this.nav.top.appendChild(this.nav.select),
              (this.nav.scrollLayer = document.createElement('div')),
              (this.nav.scrollLayer.style.position = 'absolute'),
              (this.nav.scrollLayer.style.top = '0px'),
              (this.nav.scrollLayer.style.left = '0px'),
              this.nav.top.appendChild(this.nav.scrollLayer),
              (this.nav.scrollUp = []),
              (this.nav.scrollDown = []),
              (this.nav.loading = document.createElement('div')),
              (this.nav.loading.style.position = 'absolute'),
              (this.nav.loading.style.top = '0px'),
              (this.nav.loading.style.left = this.hourWidth + 5 + 'px'),
              (this.nav.loading.className = o.r('_loading')),
              (this.nav.loading.innerHTML = this.loadingLabelText),
              (this.nav.loading.style.display = 'none'),
              this.nav.top.appendChild(this.nav.loading);
          }),
          (this.tc = function() {
            for (
              var e = 'Fixed' === this.columnWidthSpec,
                t =
                  this.nav.header &&
                  this.nav.header.rows[this.nav.header.rows.length - 1],
                i = this.nav.events.rows[0],
                n = 0;
              n < o.Da.length;
              n++
            ) {
              var a = t && t.cells[n],
                r = i.cells[n],
                l = a && a.firstChild,
                s = o.Da[n];
              if (e) {
                var d = s.width ? s.width : o.columnWidth;
                l && (l.style.width = d + 'px'),
                  r && (r.style.width = d + 'px');
              } else
                o.C ||
                  (l && (l.style.width = null), r && (r.style.width = null));
            }
          }),
          (this.La = function() {
            return this.B ? o.nav.bottomRight : o.nav.scroll;
          }),
          (this.ta = function() {
            var e = 'Fixed' === this.columnWidthSpec;
            if (!e) {
              var t = o.La();
              'Fixed' === this.heightSpec
                ? (t.style.overflowY = 'scroll')
                : 'BusinessHours' === this.heightSpec &&
                  this.Ea() <= this.businessEndsHour - this.businessBeginsHour
                ? (t.style.overflow = 'hidden')
                : 'Full' !== this.heightSpec &&
                  'BusinessHoursNoScroll' !== this.heightSpec
                ? (t.style.overflow = 'auto')
                : (t.style.overflow = 'hidden');
            }
            if (e) {
              var i = 0,
                n = this.Da.length * this.columnWidth;
              n > o.Fb().clientWidth && (i = DayPilot.sw(o.nav.bottomRight)),
                o.nav.headerParent &&
                  (o.nav.headerParent.style.width = n + i + 'px'),
                (o.nav.main.style.width = n + 'px'),
                (o.nav.events.style.width = n + 'px'),
                (o.nav.crosshair.style.width = n + 'px');
            } else
              o.nav.headerParent && (o.nav.headerParent.style.width = '100%'),
                (o.nav.main.style.width = '100%'),
                (o.nav.events.style.width = '100%'),
                (o.nav.crosshair.style.width = '100%');
            this.tc();
          }),
          (this.qa = function() {
            this.D ? this.uc() : DayPilot.pu(this.nav.hourTable),
              this.nav.hoursPlaceholder &&
                ((this.nav.hoursPlaceholder.innerHTML = ''),
                (this.nav.hourTable = this.vc()),
                this.nav.hoursPlaceholder.appendChild(this.nav.hourTable));
          }),
          (this.uc = function() {
            if (this.nav.hourTable)
              for (var e = 0; e < this.nav.hourTable.rows.length; e++) {
                var t = this.nav.hourTable.rows[e],
                  i = t.cells[0].firstChild;
                (i.data = null), (i.onmousemove = null), (i.onmouseout = null);
              }
          }),
          (this.sc = function() {
            var e = document.createElement('div');
            (e.style.zoom = 1),
              (e.style.position = 'relative'),
              (e.onmousemove = this.wc),
              (e.oncontextmenu = this.xc),
              DayPilot.re(e, DayPilot.touch.start, this.jc.onMainTouchStart),
              DayPilot.re(e, DayPilot.touch.move, this.jc.onMainTouchMove),
              DayPilot.re(e, DayPilot.touch.end, this.jc.onMainTouchEnd),
              DayPilot.re(e, 'contextmenu', function(e) {
                var e = e || window.event;
                e.preventDefault ? e.preventDefault() : (e.returnValue = !1);
              }),
              navigator.msPointerEnabled &&
                ((e.style.msTouchAction = 'none'),
                (e.style.touchAction = 'none')),
              (e.daypilotMainD = !0),
              (e.calendar = this);
            var t = null,
              i = null;
            if (this.showHours) {
              var n = document.createElement('div');
              (n.style.cssFloat = 'left'),
                (n.style.styleFloat = 'left'),
                (n.style.width = this.hourWidth + 'px'),
                (n.style.height = this.pc() + 'px'),
                (n.style.overflow = 'hidden'),
                (n.style.position = 'relative'),
                e.appendChild(n),
                (t = n);
              var a = 30,
                r = o.yc() + a;
              (i = document.createElement('div')),
                (i.style.height = r + 'px'),
                n.appendChild(i);
            }
            var l = document.createElement('div');
            (l.style.height = this.pc() + 'px'),
              this.showHours && (l.style.marginLeft = this.hourWidth + 'px'),
              (l.style.position = 'relative'),
              (l.style.overflow = 'auto'),
              e.appendChild(l),
              i &&
                ((this.nav.hourTable = this.vc()),
                i.appendChild(this.nav.hourTable));
            var s = document.createElement('div');
            (s.style.height = '0px'),
              (s.style.position = 'relative'),
              s.appendChild(this.zc());
            var d = document.createElement('div');
            return (
              (d.style.position = 'absolute'),
              (d.style.top = '0px'),
              (d.style.left = '0px'),
              (d.style.width = '100%'),
              (d.style.height = '0px'),
              s.appendChild(d),
              (this.nav.crosshair = d),
              s.appendChild(this.Ac()),
              l.appendChild(s),
              (this.nav.grid = s),
              (this.nav.zoom = e),
              (this.nav.bottomLeft = t),
              (this.nav.bottomRight = l),
              (this.nav.hoursPlaceholder = i),
              e
            );
          }),
          (this.zc = function() {
            if (o.C) {
              var e = document.createElement('div');
              return (o.nav.main = e), e;
            }
            var t = document.createElement('table');
            return (
              (t.cellPadding = '0'),
              (t.cellSpacing = '0'),
              (t.border = '0'),
              'Fixed' === this.columnWidthSpec || (t.style.width = '100%'),
              (t.style.border = '0px none'),
              (t.style.tableLayout = 'fixed'),
              (this.nav.main = t),
              t
            );
          }),
          (this.Bc = function() {
            if ('Fixed' === this.columnWidthSpec) {
              for (var e = 0, t = 0; t < o.Da.length; t++) {
                var i = o.Da[t];
                e += i.width ? i.width : o.columnWidth;
              }
              return e + 'px';
            }
            return '100%';
          }),
          (this.Ac = function() {
            if (o.C) {
              var e = document.createElement('div');
              return (
                (e.style.userSelect = 'none'),
                (e.style.position = 'absolute'),
                (e.style.left = '0px'),
                (e.style.right = '0px'),
                (e.style.top = '0px'),
                (e.style.height = '0px'),
                (o.nav.events = e),
                e
              );
            }
            var t = document.createElement('table');
            (t.style.position = 'absolute'),
              (t.style.top = '0px'),
              (t.cellPadding = '0'),
              (t.cellSpacing = '0'),
              (t.border = '0'),
              (t.style.width = o.Bc()),
              (t.style.border = '0px none'),
              (t.style.tableLayout = 'fixed'),
              (this.nav.events = t);
            for (
              var i = this.Da, n = i.length, a = t.insertRow(-1), r = 0;
              r < n;
              r++
            ) {
              var l = a.insertCell(-1);
              (l.style.padding = '0px'),
                (l.style.border = '0px none'),
                (l.style.height = '0px'),
                (l.style.overflow = 'visible'),
                o.rtl || (l.style.textAlign = 'left'),
                o.Cc(l);
            }
            return t;
          }),
          (this.vc = function() {
            var e = document.createElement('table');
            (e.cellSpacing = '0'),
              (e.cellPadding = '0'),
              (e.border = '0'),
              (e.style.border = '0px none'),
              (e.style.width = this.hourWidth + 'px'),
              (e.oncontextmenu = function() {
                return !1;
              }),
              (e.onmousemove = function() {
                o._();
              });
            for (var t = o.Dc(), i = 0; i < t; i++) this.Ec(e, i);
            return e;
          }),
          (this.Dc = function() {
            return this.Fa() / (60 * this.timeHeaderCellDuration * 1e3);
          }),
          (this.Fc = function() {
            return (
              (60 * this.cellHeight) /
              this.cellDuration /
              (60 / this.timeHeaderCellDuration)
            );
          }),
          (this.Gc = function() {
            return (this.Ja() - this.Ja(!0)) * (60 / this.cellDuration);
          }),
          (this.Hc = function() {
            return this.Ja() - this.Ja(!0);
          }),
          (this.xb = function() {
            return this.Gc() * this.cellHeight;
          }),
          (this.Ec = function(e, t) {
            var i = o.Fc(),
              n = e.insertRow(-1);
            n.style.height = i + 'px';
            var a = n.insertCell(-1);
            (a.valign = 'bottom'),
              a.setAttribute('unselectable', 'on'),
              (a.style.padding = '0px'),
              (a.style.border = '0px none');
            var r = document.createElement('div');
            (r.className = this.r('_rowheader')),
              (r.style.position = 'relative'),
              (r.style.width = this.hourWidth + 'px'),
              (r.style.height = i + 'px'),
              (r.style.overflow = 'hidden'),
              r.setAttribute('unselectable', 'on');
            var l = document.createElement('div');
            (l.className = this.r('_rowheader_inner')),
              l.setAttribute('unselectable', 'on');
            var s = o.Ic(t),
              d = s.html,
              c = s.data;
            c && ((r.data = c), (r.onmousemove = o.Jc), (r.onmouseout = o.Kc)),
              (l.innerHTML = d),
              r.appendChild(l),
              a.appendChild(r);
          }),
          (this.Ic = function(e) {
            var t, i;
            if (this.hours) {
              var n = e + this.Hc();
              (i = this.hours[n]), (t = i.html);
            }
            var a,
              r = this.timeHeaderCellDuration,
              l = this.startDate.addMinutes(r * e + 60 * this.Ja()),
              s = l.getHours(),
              d = s < 12;
            if (
              ((a =
                'Clock12Hours' === this.Lc.timeFormat()
                  ? d
                    ? 'AM'
                    : 'PM'
                  : '00'),
              !t)
            ) {
              var c = document.createElement('div');
              c.setAttribute('unselectable', 'on'),
                'Clock12Hours' === this.Lc.timeFormat() &&
                  ((s %= 12), 0 === s && (s = 12)),
                60 !== this.timeHeaderCellDuration &&
                  (s += ':' + l.toString('mm')),
                (c.innerHTML = s);
              var h = document.createElement('span');
              h.setAttribute('unselectable', 'on'),
                (h.className = this.r('_rowheader_minutes')),
                (h.innerHTML = a),
                c.appendChild(h),
                (t = c.outerHTML);
            }
            if ('function' == typeof o.onBeforeTimeHeaderRender) {
              var u = {};
              (u.header = {}),
                (u.header.hours = s),
                (u.header.minutes = l.getMinutes()),
                (u.header.start = l.toString('HH:mm')),
                (u.header.html = t),
                (u.header.areas = i ? i.areas : null),
                (u.header.time = new DayPilot.Duration(l.getTimePart())),
                o.onBeforeTimeHeaderRender(u),
                null !== u.header.html && (t = u.header.html),
                (i = u.header);
            }
            var f = {};
            return (
              (f.start = l),
              (f.hour = s),
              (f.html = t),
              (f.data = i),
              (f.sup = a),
              f
            );
          }),
          (this.Jc = function(e) {
            o._();
            var t = this;
            t.active || DayPilot.Areas.showAreas(t, t.data);
          }),
          (this.Kc = function(e) {
            DayPilot.Areas.hideAreas(this, e);
          }),
          (this.pc = function() {
            switch (this.heightSpec) {
              case 'Fixed':
                return this.height;
              case 'Parent100Pct':
                return this.height;
              case 'Full':
                return this.yc();
              case 'BusinessHours':
              case 'BusinessHoursNoScroll':
                return (this.Ga() * this.cellHeight * 60) / this.cellDuration;
              default:
                throw "DayPilot.Calendar: Unexpected 'heightSpec' value.";
            }
          }),
          (this.yc = function() {
            return (o.Fa() * this.cellHeight) / (6e4 * o.cellDuration);
          }),
          (this.Ka = function() {
            if (!this.showHeader) return 0;
            var e = this.headerLevels * l.headerHeight();
            return this.showAllDayEvents && l.allDayHeaderHeight()
              ? e + l.allDayHeaderHeight()
              : e;
          }),
          (this.ma = function() {
            if (this.headerHeightAutoFit) {
              for (var e = 0, t = 0; t < this.nav.header.rows.length; t++)
                for (
                  var i = this.nav.header.rows[t], n = 0;
                  n < i.cells.length;
                  n++
                ) {
                  var a = i.cells[n],
                    o = a.firstChild,
                    r = o.firstChild,
                    l = o.style.height;
                  (o.style.height = 'auto'), (r.style.position = 'static');
                  var s = o.offsetHeight;
                  (o.style.height = l),
                    (r.style.position = ''),
                    (e = Math.max(e, s));
                }
              e > this.headerHeight &&
                ((this.E.headerHeight = e), this.ka(), this.la());
            }
          }),
          (this.Mc = function() {
            var e = this.B ? o.nav.bottomRight : o.nav.scroll;
            return DayPilot.sw(e) > 0;
          }),
          (this.rc = function() {
            var e = document.createElement('div'),
              t = 'Fixed' === this.columnWidthSpec;
            t || (e.style.overflow = 'auto'),
              (e.style.position = 'absolute'),
              (e.style.left = '0px'),
              (e.style.right = '0px');
            var i = document.createElement('div');
            (i.style.position = 'relative'), (i.style.zoom = '1');
            var n = null,
              t = 'Fixed' === this.columnWidthSpec;
            if (t || this.B) {
              var a = document.createElement('div');
              if (
                ((a.style.cssFloat = 'left'),
                (a.style.styleFloat = 'left'),
                (a.style.width = this.hourWidth + 'px'),
                this.showHours)
              ) {
                var o = this.Nc();
                (this.nav.corner = o),
                  a.appendChild(o),
                  i.appendChild(a),
                  (this.nav.upperLeft = a);
              }
              var r = document.createElement('div');
              this.showHours && (r.style.marginLeft = this.hourWidth + 'px'),
                (r.style.position = 'relative'),
                (r.style.overflow = 'hidden'),
                (r.style.height = this.Ka() + 'px'),
                i.appendChild(r),
                (this.nav.upperRight = r),
                (n = document.createElement('div')),
                (n.style.position = 'relative'),
                r.appendChild(n);
            } else {
              var l = document.createElement('table');
              (l.cellPadding = '0'),
                (l.cellSpacing = '0'),
                (l.border = '0'),
                (l.style.width = '100%'),
                (l.style.borderCollapse = 'separate'),
                (l.style.border = '0px none');
              var s = l.insertRow(-1);
              if (((this.nav.fullHeader = l), this.showHours)) {
                var d = s.insertCell(-1);
                (d.style.padding = '0px'), (d.style.border = '0px none');
                var o = this.Nc();
                d.appendChild(o), (this.nav.corner = o);
              }
              (d = s.insertCell(-1)),
                (d.style.width = '100%'),
                (d.valign = 'top'),
                (d.style.position = 'relative'),
                (d.style.padding = '0px'),
                (d.style.border = '0px none'),
                (n = document.createElement('div')),
                (n.style.position = 'relative'),
                (n.style.height = this.Ka() + 'px'),
                (n.style.overflow = 'hidden'),
                d.appendChild(n),
                (this.nav.mid = n),
                i.appendChild(l);
            }
            (this.nav.headerParent = n),
              (this.nav.headerParent.onmousemove = function(e) {
                e.insideMainD = !0;
              }),
              this.Oc();
            var c = this.Mc(),
              t = 'Fixed' === this.columnWidthSpec;
            return c && !t && this.Pc(), e.appendChild(i), e;
          }),
          (this.Oc = function() {
            if (((this.nav.unifiedCornerRight = null), o.C))
              (this.nav.header = document.createElement('div')),
                (this.nav.header.style.position = 'relative');
            else {
              (this.nav.header = document.createElement('table')),
                (this.nav.header.cellPadding = '0'),
                (this.nav.header.cellSpacing = '0');
              'Fixed' === this.columnWidthSpec ||
                (this.nav.header.width = '100%'),
                (this.nav.header.style.tableLayout = 'fixed'),
                (this.nav.header.oncontextmenu = function() {
                  return !1;
                });
            }
            this.nav.header.setAttribute('dp-id', 'header'),
              this.nav.headerParent.appendChild(this.nav.header),
              this.nav.allday && DayPilot.de(this.nav.allday);
            var e = document.createElement('div');
            (e.style.position = 'absolute'),
              (e.style.top = '0px'),
              (e.style.height = '0px'),
              e.setAttribute('dp-id', 'allday'),
              'Fixed' === this.columnWidthSpec
                ? (e.style.width = this.Da.length * this.columnWidth + 'px')
                : ((e.style.left = '0px'), (e.style.right = '0px')),
              (this.nav.allday = e),
              this.nav.headerParent.appendChild(e);
          }),
          (this.Pc = function() {
            if (this.nav.fullHeader) {
              var e = this.nav.fullHeader.rows[0],
                t = e.insertCell(-1);
              (t.style.padding = '0px'),
                (t.style.verticalAlign = 'top'),
                t.setAttribute('unselectable', 'on');
              var i = document.createElement('div');
              i.setAttribute('unselectable', 'on'),
                (i.className = this.r('_cornerright')),
                (i.style.overflow = 'hidden'),
                (i.style.position = 'relative'),
                (i.style.width = '16px'),
                (i.style.height = this.Ka() + 'px');
              var n = document.createElement('div');
              (n.className = this.r('_cornerright_inner')),
                i.appendChild(n),
                t.appendChild(i),
                (this.nav.cornerRight = i);
            }
          }),
          (this.Nc = function() {
            var e = document.createElement('div');
            (e.style.position = 'relative'),
              (e.className = this.r('_corner')),
              (e.style.width = this.hourWidth + 'px'),
              (e.style.height = this.Ka() + 'px'),
              (e.style.overflow = 'hidden'),
              (e.oncontextmenu = function() {
                return !1;
              });
            var t = document.createElement('div');
            (t.className = this.r('_corner_inner')),
              t.setAttribute('unselectable', 'on'),
              e.appendChild(t);
            var i = document.createElement('div');
            return (
              (i.style.position = 'absolute'),
              (i.style.padding = '2px'),
              (i.style.top = '0px'),
              (i.style.left = '1px'),
              (i.style.backgroundColor = '#FF6600'),
              (i.style.color = 'white'),
              (i.innerHTML = '\u0044\u0045' + '\u004D\u004F'),
              i.setAttribute('unselectable', 'on'),
              DayPilot.Util.isNullOrUndefined(undefined) && e.appendChild(i),
              e
            );
          }),
          (this.U = function() {
            var e = this.nav.main;
            (e.root = null), (e.onmouseup = null);
            for (var t = 0; t < e.rows.length; t++)
              for (var i = e.rows[t], n = 0; n < i.cells.length; n++) {
                var a = i.cells[n];
                (a.root = null),
                  (a.onmousedown = null),
                  (a.onmousemove = null),
                  (a.onmouseout = null),
                  (a.onmouseup = null),
                  (a.onclick = null),
                  (a.ondblclick = null),
                  (a.oncontextmenu = null);
              }
            this.D || DayPilot.pu(e);
          }),
          (this.na = function() {
            for (
              var e = 0;
              this.nav.scrollUp && e < this.nav.scrollUp.length;
              e++
            )
              this.nav.scrollLayer.removeChild(this.nav.scrollUp[e]);
            for (
              var e = 0;
              this.nav.scrollDown && e < this.nav.scrollDown.length;
              e++
            )
              this.nav.scrollLayer.removeChild(this.nav.scrollDown[e]);
            (this.nav.scrollUp = []), (this.nav.scrollDown = []);
          }),
          (this.Cc = function(e) {
            var t = document.createElement('div');
            (t.style.marginRight = o.columnMarginRight + 'px'),
              (t.style.position = 'relative'),
              (t.style.height = '1px'),
              (t.style.marginTop = '-1px'),
              (e.events = t);
            var i = document.createElement('div');
            (i.style.position = 'relative'),
              (i.style.height = '1px'),
              (i.style.marginTop = '-1px'),
              (e.separators = i);
            var n = document.createElement('div');
            (n.style.position = 'relative'),
              (n.style.height = '1px'),
              (n.style.marginTop = '-1px'),
              (e.selection = n),
              e.appendChild(i),
              e.appendChild(n),
              e.appendChild(t);
          }),
          (this.pa = function() {
            o.C ? o.Qc() : o.Rc();
          }),
          (this.Sc = function() {
            if (this.scrollLabelsVisible)
              for (
                var e = this.Da,
                  t = this.showHours ? this.hourWidth : 0,
                  i = (this.nav.scroll.clientWidth - t) / e.length,
                  n = 0;
                n < e.length;
                n++
              ) {
                var a = document.createElement('div');
                (a.style.position = 'absolute'),
                  (a.style.top = '0px'),
                  (a.style.left = t + 2 + n * i + i / 2 + 'px'),
                  (a.style.display = 'none');
                var o = document.createElement('div');
                (o.style.height = '10px'),
                  (o.style.width = '10px'),
                  (o.className = this.r('_scroll_up')),
                  a.appendChild(o),
                  this.nav.scrollLayer.appendChild(a),
                  this.nav.scrollUp.push(a);
                var r = document.createElement('div');
                (r.style.position = 'absolute'),
                  (r.style.top = '0px'),
                  (r.style.left = t + 2 + n * i + i / 2 + 'px'),
                  (r.style.display = 'none');
                var o = document.createElement('div');
                (o.style.height = '10px'),
                  (o.style.width = '10px'),
                  (o.className = this.r('_scroll_down')),
                  r.appendChild(o),
                  this.nav.scrollLayer.appendChild(r),
                  this.nav.scrollDown.push(r);
              }
          }),
          (this.Tc = function() {
            var e = this.nav.events;
            (e.innerHTML = ''),
              (e.rows = [{ cells: [] }]),
              o.Uc().forEach(function(t, i) {
                var n = document.createElement('div');
                (n.style.height = '1px'),
                  (n.style.overflow = 'visible'),
                  (n.style.position = 'absolute'),
                  (n.style.left = t.left + t.unit),
                  (n.style.width = t.width + t.unit),
                  o.Cc(n),
                  e.appendChild(n),
                  e.rows[0].cells.push(n);
              });
          }),
          (this.Uc = function() {
            function e(e) {
              return DayPilot.browser.ie || DayPilot.browser.edge
                ? Math.floor(100 * e) / 100
                : e;
            }
            var t = o.Da,
              i = 'Fixed' === this.columnWidthSpec,
              n = 0;
            return DayPilot.list.for(t.length, function(a) {
              var r = {},
                l = 0,
                s = '';
              return (
                i
                  ? ((s = 'px'), (l = t[a].width ? t[a].width : o.columnWidth))
                  : ((s = '%'), (l = e(100 / t.length))),
                (r.left = n),
                (r.width = l),
                (r.unit = s),
                (n += l),
                r
              );
            });
          }),
          (this.Qc = function() {
            var e = (this.nav.main, 60 * this.cellDuration * 1e3),
              i = this.Na(),
              n = (this.Hc() * (60 / this.cellDuration), o.Da);
            !(function() {
              (o.elements.cells = []),
                (o.nav.main.innerHTML = ''),
                (o.nav.main.rows = []);
            })(),
              (this.nav.scrollable.daypilotMainD = !0),
              (this.nav.scrollable.calendar = this),
              o.Sc();
            n.length;
            o.Tc();
            for (var a = o.Uc(), r = 0; r < i; r++) {
              var l = r * o.cellHeight;
              o.nav.main.rows.push({ cells: [] });
              for (var s = 0; s < n.length; s++) {
                var d = a[s],
                  c = this.Da[s],
                  h = document.createElement('div');
                (h.style.position = 'absolute'),
                  (h.style.left = d.left + d.unit),
                  (h.style.width = d.width + d.unit),
                  (h.style.top = l + 'px'),
                  (h.start = c.start.addTime(r * e).addHours(this.Ja())),
                  (h.end = h.start.addTime(e)),
                  (h.resource = c.id),
                  (h.data = {}),
                  (h.data.x = s),
                  (h.data.y = r),
                  (h.data.start = h.start),
                  (h.data.end = h.end),
                  (h.data.resource = h.resource),
                  (h.data.calendar = o),
                  this.cellProperties || (this.cellProperties = {});
                var u = {};
                (u.resource = h.resource), (u.start = h.start), (u.end = h.end);
                var f = s + '_' + r;
                if (
                  ((u.cssClass = null),
                  (u.html = null),
                  (u.backImage = null),
                  (u.backRepeat = null),
                  (u.backColor = null),
                  (u.business = this.Vc(h.start, h.end)),
                  this.cellProperties[f] &&
                    DayPilot.Util.copyProps(this.cellProperties[f], u, [
                      'cssClass',
                      'html',
                      'backImage',
                      'backRepeat',
                      'backColor',
                      'business',
                      'areas',
                      'disabled'
                    ]),
                  'function' == typeof this.onBeforeCellRender)
                ) {
                  var v = {};
                  (v.cell = u), this.onBeforeCellRender(v);
                }
                this.cellProperties[f] = u;
                var p,
                  g = o.Wc(s, r);
                (h.root = this),
                  h.setAttribute('unselectable', 'on'),
                  (p = document.createElement('div')),
                  (p.className = o.r('_cell')),
                  (p.style.position = 'relative'),
                  (p.style.height = o.cellHeight + 'px'),
                  (p.style.overflow = 'hidden'),
                  p.setAttribute('unselectable', 'on');
                var m = document.createElement('div');
                (m.className = o.r('_cell_inner')),
                  p.appendChild(m),
                  h.appendChild(p),
                  (h.onmousedown = this.sb),
                  (h.onmousemove = this.Cb),
                  (h.onmouseout = this.Bb),
                  DayPilot.re(h, DayPilot.touch.end, this.jc.onCellTouchEnd),
                  (h.oncontextmenu = function() {
                    return (
                      this.selected ||
                        (o.clearSelection(),
                        (t.column = t.getColumn(this)),
                        o.selectedCells.push(this),
                        (t.firstSelected = this),
                        (t.topSelectedCell = this),
                        (t.bottomSelectedCell = this),
                        o.tb()),
                      'Disabled' === o.timeRangeRightClickHandling,
                      !1
                    );
                  });
                var y = o.Xc(s, r);
                p = h.firstChild;
                'Fixed' === this.columnWidthSpec &&
                  (c.width
                    ? (p.style.width = c.width + 'px')
                    : (p.style.width = this.columnWidth + 'px')),
                  y && (p.firstChild.style.background = y);
                (g ? g.business : this.Vc(h.start, h.end)) &&
                  DayPilot.Util.addClass(p, o.r('_cell_business'));
                var b = p.firstChild;
                if (
                  (b && (b.innerHTML = ''),
                  (p.style.backgroundImage = ''),
                  (p.style.backgroundRepeat = ''),
                  g &&
                    (g.html && (b.innerHTML = g.html),
                    g.cssClass && DayPilot.Util.addClass(p, g.cssClass),
                    g.backImage &&
                      (p.style.backgroundImage = "url('" + g.backImage + "')"),
                    g.backRepeat && (p.style.backgroundRepeat = g.backRepeat),
                    g.areas))
                ) {
                  var w = {};
                  (w.start = h.start),
                    (w.end = h.end),
                    (w.resource = h.resource);
                  var D = DayPilot.list(g.areas).filter(function(e) {
                    return (
                      !(e.end && new DayPilot.Date(e.end) <= h.start) &&
                      !(e.start && new DayPilot.Date(e.start) >= h.end)
                    );
                  });
                  D.forEach(function(e) {
                    if (e.start || e.end) {
                      if (e.start) {
                        var t =
                          new DayPilot.Date(e.start).getTime() -
                          h.start.getTime();
                        e.top = o.Yc(t);
                      }
                      if (e.end) {
                        var i =
                          new DayPilot.Date(e.end).getTime() -
                          h.start.getTime();
                        e.height = o.Yc(i) - e.top;
                      }
                    }
                  }),
                    DayPilot.Areas.attach(p, w, { areas: D });
                }
                o.nav.main.appendChild(h), o.nav.main.rows[r].cells.push(h);
              }
            }
          }),
          (this.Rc = function() {
            var e = this.nav.main,
              i = 60 * this.cellDuration * 1e3,
              n = this.Na(),
              a = (this.Hc() * (60 / this.cellDuration), o.Da),
              r = 0;
            if (e && ((r = o.Fb().scrollTop), this.U(), o.I.ielt9)) {
              DayPilot.de(this.nav.scrollable.parentNode);
              var l = this.sc();
              this.Zc(),
                (this.nav.scrollable = l.firstChild),
                this.nav.scroll.appendChild(l),
                (e = this.nav.main);
            }
            for (
              this.nav.scrollable.daypilotMainD = !0,
                this.nav.scrollable.calendar = this;
              e && e.rows && e.rows.length > 0;

            )
              this.D || DayPilot.pu(e.rows[0]), e.deleteRow(0);
            if (((this.$c = !0), this.scrollLabelsVisible))
              for (
                var a = this.Da,
                  s = this.showHours ? this.hourWidth : 0,
                  d = (this.nav.scroll.clientWidth - s) / a.length,
                  c = 0;
                c < a.length;
                c++
              ) {
                var h = document.createElement('div');
                (h.style.position = 'absolute'),
                  (h.style.top = '0px'),
                  (h.style.left = s + 2 + c * d + d / 2 + 'px'),
                  (h.style.display = 'none');
                var u = document.createElement('div');
                (u.style.height = '10px'),
                  (u.style.width = '10px'),
                  (u.className = this.r('_scroll_up')),
                  h.appendChild(u),
                  this.nav.scrollLayer.appendChild(h),
                  this.nav.scrollUp.push(h);
                var f = document.createElement('div');
                (f.style.position = 'absolute'),
                  (f.style.top = '0px'),
                  (f.style.left = s + 2 + c * d + d / 2 + 'px'),
                  (f.style.display = 'none');
                var u = document.createElement('div');
                (u.style.height = '10px'),
                  (u.style.width = '10px'),
                  (u.className = this.r('_scroll_down')),
                  f.appendChild(u),
                  this.nav.scrollLayer.appendChild(f),
                  this.nav.scrollDown.push(f);
              }
            var v = a.length;
            if (this.cssOnly || this.z) {
              for (var p = this.nav.events; p && p.rows && p.rows.length > 0; )
                this.D || DayPilot.pu(p.rows[0]), p.deleteRow(0);
              for (var g = p.insertRow(-1), m = 0; m < v; m++) {
                var y = g.insertCell(-1);
                (y.style.padding = '0px'),
                  (y.style.border = '0px none'),
                  (y.style.height = '1px'),
                  (y.style.overflow = 'visible');
                var b = 'Fixed' === this.columnWidthSpec;
                b &&
                  (a[m].width
                    ? (y.style.width = a[m].width + 'px')
                    : (y.style.width = this.columnWidth + 'px')),
                  o.rtl || (y.style.textAlign = 'left'),
                  o.Cc(y);
              }
            }
            for (var c = 0; c < n; c++) {
              var g = e.insertRow(-1),
                w = c;
              (g.style.MozUserSelect = 'none'),
                (g.style.KhtmlUserSelect = 'none'),
                (g.style.WebkitUserSelect = 'none');
              for (var m = 0; m < v; m++) {
                var D = this.Da[m],
                  y = g.insertCell(-1);
                (y.start = D.start.addTime(w * i).addHours(this.Ja())),
                  (y.end = y.start.addTime(i)),
                  (y.resource = D.id),
                  this.cellProperties || (this.cellProperties = {});
                var k = {};
                (k.resource = y.resource), (k.start = y.start), (k.end = y.end);
                var P = m + '_' + w;
                if (
                  ((k.cssClass = null),
                  (k.html = null),
                  (k.backImage = null),
                  (k.backRepeat = null),
                  (k.backColor = null),
                  (k.business = this.Vc(y.start, y.end)),
                  this.cellProperties[P] &&
                    DayPilot.Util.copyProps(this.cellProperties[P], k, [
                      'cssClass',
                      'html',
                      'backImage',
                      'backRepeat',
                      'backColor',
                      'business',
                      'areas',
                      'disabled'
                    ]),
                  'function' == typeof this.onBeforeCellRender)
                ) {
                  var x = {};
                  (x.cell = k), this.onBeforeCellRender(x);
                }
                this.cellProperties[P] = k;
                var C,
                  S = o.Wc(m, w);
                (y.root = this),
                  y.setAttribute('unselectable', 'on'),
                  (C = document.createElement('div')),
                  (C.className = o.r('_cell')),
                  (C.style.position = 'relative'),
                  (C.style.height = o.cellHeight + 'px'),
                  (C.style.overflow = 'hidden'),
                  C.setAttribute('unselectable', 'on');
                var E = document.createElement('div');
                (E.className = o.r('_cell_inner')),
                  C.appendChild(E),
                  y.appendChild(C),
                  (y.onmousedown = this.sb),
                  (y.onmousemove = this.Cb),
                  (y.onmouseout = this.Bb),
                  DayPilot.re(y, DayPilot.touch.end, this.jc.onCellTouchEnd),
                  (y.oncontextmenu = function() {
                    return (
                      this.selected ||
                        (o.clearSelection(),
                        (t.column = t.getColumn(this)),
                        o.selectedCells.push(this),
                        (t.firstSelected = this),
                        (t.topSelectedCell = this),
                        (t.bottomSelectedCell = this),
                        o.tb()),
                      'Disabled' === o.timeRangeRightClickHandling,
                      !1
                    );
                  });
                var A = o.Xc(m, w);
                C = y.firstChild;
                var b = 'Fixed' === this.columnWidthSpec;
                b &&
                  (D.width
                    ? (C.style.width = D.width + 'px')
                    : (C.style.width = this.columnWidth + 'px')),
                  A && (C.firstChild.style.background = A);
                (S ? S.business : this.Vc(y.start, y.end)) &&
                  DayPilot.Util.addClass(C, o.r('_cell_business'));
                var T = C.firstChild;
                if (
                  (T && (T.innerHTML = ''),
                  (C.style.backgroundImage = ''),
                  (C.style.backgroundRepeat = ''),
                  S &&
                    (S.html && (T.innerHTML = S.html),
                    S.cssClass && DayPilot.Util.addClass(C, S.cssClass),
                    S.backImage &&
                      (C.style.backgroundImage = "url('" + S.backImage + "')"),
                    S.backRepeat && (C.style.backgroundRepeat = S.backRepeat),
                    S.areas))
                ) {
                  var M = {};
                  (M.start = y.start),
                    (M.end = y.end),
                    (M.resource = y.resource);
                  var H = DayPilot.list(S.areas).filter(function(e) {
                    return (
                      !(e.end && new DayPilot.Date(e.end) <= y.start) &&
                      !(e.start && new DayPilot.Date(e.start) >= y.end)
                    );
                  });
                  H.forEach(function(e) {
                    if (e.start || e.end) {
                      if (e.start) {
                        var t =
                          new DayPilot.Date(e.start).getTime() -
                          y.start.getTime();
                        e.top = o.Yc(t);
                      }
                      if (e.end) {
                        var i =
                          new DayPilot.Date(e.end).getTime() -
                          y.start.getTime();
                        e.height = o.Yc(i) - e.top;
                      }
                    }
                  }),
                    DayPilot.Areas.attach(C, M, { areas: H });
                }
              }
            }
            (e.onmouseup = this.Db),
              (e.root = this),
              (e.style.height = n * o.cellHeight + 'px'),
              (o.nav.scrollable.style.display = ''),
              (o.Fb().scrollTop = r);
          }),
          (this.xc = function(e) {
            if (!r.detected) {
              var t = o.getSelection();
              if (t) {
                var i = {};
                if (
                  ((i.start = t.start),
                  (i.end = t.end),
                  (i.resource = t.resource),
                  (i.preventDefault = function() {
                    this.preventDefault.value = !0;
                  }),
                  'function' == typeof o.onTimeRangeRightClick &&
                    (o.onTimeRangeRightClick(i), i.preventDefault.value))
                )
                  return !1;
                'ContextMenu' === o.timeRangeRightClickHandling &&
                  o.contextMenuSelection &&
                  o.contextMenuSelection.show(o.getSelection()),
                  'function' == typeof o.onTimeRangeRightClicked &&
                    o.onTimeRangeRightClicked(i);
              }
            }
          }),
          (this.Vc = function(e, t) {
            return this.businessBeginsHour < this.businessEndsHour
              ? !(
                  e.getHours() < this.businessBeginsHour ||
                  e.getHours() >= this.businessEndsHour ||
                  6 === e.getDayOfWeek() ||
                  0 === e.getDayOfWeek()
                )
              : e.getHours() >= this.businessBeginsHour ||
                  e.getHours() < this.businessEndsHour;
          }),
          (this.wc = function(e) {
            (e = e || window.event),
              (e.insideMainD = !0),
              window.event &&
                window.event.srcElement &&
                (window.event.srcElement.inside = !0),
              (t.activeCalendar = this);
            var i = o.nav.main;
            o.coords = DayPilot.mo3(i, e);
            var n = DayPilot.mc(e),
              a = o.crosshairType && 'Disabled' !== o.crosshairType,
              r = o.coords.x < o.hourWidth;
            if (
              (DayPilot.Global.moving ||
              DayPilot.Global.resizing ||
              DayPilot.Global.selecting ||
              r
                ? o._()
                : a && o._c(),
              DayPilot.Global.resizing)
            )
              o.ad(n);
            else if (DayPilot.Global.moving) {
              if (!DayPilot.Global.moving.helper)
                return void (t.movingShadow = null);
              if (!t.movingShadow) {
                var s = 3;
                if (!(DayPilot.distance(n, t.originalMouse) > s)) return;
                (t.movingShadow = o.Ca(DayPilot.Global.moving, !o.I.ie)),
                  (t.movingShadow.style.width =
                    t.movingShadow.parentNode.offsetWidth + 1 + 'px');
              }
              if (!o.coords) return;
              var d = o.cellHeight,
                c = 0,
                h = t.moveOffsetY;
              h || (h = d / 2), 'Top' === this.moveBy && (h = 0);
              var u = Math.floor((o.coords.y - h - c + d / 2) / d) * d + c;
              u < c && (u = c);
              var f = o.nav.main,
                v = o.C ? o.Na() * o.cellHeight : f.clientHeight,
                p = parseInt(t.movingShadow.style.height);
              u + p > v && (u = v - p);
              var g = f.clientWidth / f.rows[0].cells.length,
                m = Math.floor(o.coords.x / g);
              m < 0 && (m = 0), o.rtl && (m = o.Da.length - m - 1);
              var y = t.movingShadow,
                b = DayPilot.Global.moving.event,
                w = o.cb(b, m, u),
                D = o.eventMovingStartEndFormat;
              'Auto' === D &&
                (D = 'Clock24Hours' === l.timeFormat() ? 'H:mm' : 'h:mm tt');
              var k = {};
              (k.e = b),
                (k.start = w.start),
                (k.end = w.end),
                (k.resource = w.resource),
                (k.html = null),
                (k.cssClass = null),
                (k.allowed = !0),
                (k.top = {}),
                (k.top.width = null),
                (k.top.space = 5),
                (k.top.html = k.start.toString(D, l.locale())),
                (k.top.enabled = o.eventMovingStartEndEnabled),
                (k.bottom = {}),
                (k.bottom.width = null),
                (k.bottom.space = 5),
                (k.bottom.html = k.end.toString(D, l.locale())),
                (k.bottom.enabled = o.eventMovingStartEndEnabled),
                (function() {
                  var e = o.bd;
                  if (
                    !(
                      e &&
                      e.start.getTime() === w.start.getTime() &&
                      e.end.getTime() === w.end.getTime() &&
                      e.resource === w.resource
                    )
                  ) {
                    if (
                      ((y.className = o.r('_shadow')),
                      (y.firstChild.innerHTML = ''),
                      (o.bd = k),
                      (y.args = k),
                      !o.allowEventOverlap)
                    ) {
                      var i = {
                        id: b.id(),
                        start: k.start,
                        end: k.end,
                        resource: k.resource
                      };
                      o.events.ub(i) &&
                        (DayPilot.Util.addClass(y, o.r('_shadow_forbidden')),
                        (k.allowed = !1));
                    }
                    o.vb(k.start, k.end, k.resource) &&
                      (DayPilot.Util.addClass(y, o.r('_shadow_forbidden')),
                      (k.allowed = !1)),
                      DayPilot.Util.removeClass(y, o.r('_shadow_forbidden')),
                      'function' == typeof o.onEventMoving &&
                        k.allowed &&
                        o.onEventMoving(k),
                      k.html && (y.firstChild.innerHTML = k.html),
                      k.cssClass && DayPilot.Util.addClass(y, k.cssClass),
                      k.allowed ||
                        DayPilot.Util.addClass(y, o.r('_shadow_forbidden')),
                      (t.movingShadow.style.top = u + 'px');
                    var n = o.nav.events;
                    m < n.rows[0].cells.length &&
                      m >= 0 &&
                      t.movingShadow.column !== m &&
                      ((t.movingShadow.column = m),
                      t.moveShadow(n.rows[0].cells[m]));
                    var a = m,
                      r = y;
                    o.zb(r, a, k);
                  }
                })();
            } else if (t.firstMousePos) {
              var P = o.cd(o.coords.x),
                x = Math.floor(o.coords.y / o.cellHeight),
                C = o.nav.main.rows[x].cells[P];
              if (!DayPilot.Global.selecting) {
                var S = t.firstMousePos,
                  E = o.coords;
                (S.x === E.x && S.y === E.y) ||
                  (DayPilot.Global.selecting = { calendar: o });
              }
              if (!DayPilot.Global.selecting) return;
              var n = o.coords,
                A = t.getColumn(C);
              A !== t.column && (C = o.nav.main.rows[x].cells[t.column]);
              var T = DayPilot.Global.selecting;
              if (T.last && T.last.x === P && T.last.y === x) return;
              (T.last = { x: P, y: x }),
                n.y < t.firstMousePos.y
                  ? ((o.selectedCells = t.getCellsBelow(C)),
                    (t.topSelectedCell = o.selectedCells[0]),
                    (t.bottomSelectedCell = t.firstSelected))
                  : ((o.selectedCells = t.getCellsAbove(C)),
                    (t.topSelectedCell = t.firstSelected),
                    (t.bottomSelectedCell = o.selectedCells[0])),
                o.tb();
            }
            if (t.drag) {
              if (
                (t.gShadow && document.body.removeChild(t.gShadow),
                (t.gShadow = null),
                !t.movingShadow && o.coords)
              ) {
                var y = o.Ca(t.drag, !1);
                if (y) {
                  t.movingShadow = y;
                  var E = DayPilot.Date.today(),
                    e = {
                      id: t.drag.id,
                      start: E,
                      end: E.addSeconds(t.drag.duration),
                      text: t.drag.text
                    },
                    M = t.drag.data;
                  if (M) {
                    var H = ['duration', 'element', 'remove', 'id', 'text'];
                    for (var _ in M) DayPilot.contains(H, _) || (e[_] = M[_]);
                  }
                  var R = new DayPilot.Event(e, o);
                  (R.external = !0),
                    (DayPilot.Global.moving = {}),
                    (DayPilot.Global.moving.event = R),
                    (DayPilot.Global.moving.helper = {});
                }
              }
              e.cancelBubble = !0;
            }
          }),
          (this.dd = function(e) {
            t.movingShadow.offsetTop,
              DayPilot.Global.moving.event,
              t.movingShadow.column;
          }),
          (this.vb = function(e, t, i) {
            return o.ed(e, t, i).some(function(e) {
              return e.disabled;
            });
          }),
          (this.ed = function(e, t, i) {
            var n = [];
            for (var a in o.cellProperties) {
              var r = o.cellProperties[a];
              (!i || i === r.resource) &&
                DayPilot.Util.overlaps(e, t, r.start, r.end) &&
                n.push(r);
            }
            return n;
          }),
          (this.ad = function(e) {
            if (!DayPilot.Global.resizing.event)
              return (
                (DayPilot.Global.resizing = null),
                DayPilot.de(t.resizingShadow),
                void (t.resizingShadow = null)
              );
            t.resizingShadow ||
              (t.resizingShadow = o.Ca(DayPilot.Global.resizing, !1));
            var i = DayPilot.Global.resizing.event.calendar.cellHeight,
              n = 0,
              a = e.y - t.originalMouse.y,
              r = DayPilot.Global.resizing.event,
              s = r.start(),
              d = r.end();
            if ('bottom' === DayPilot.Global.resizing.dpBorder) {
              var c =
                Math.floor((t.originalHeight + t.originalTop + a + i / 2) / i) *
                  i -
                t.originalTop +
                n;
              c < i && (c = i);
              var h = o.C ? o.Na() * o.cellHeight : o.nav.main.clientHeight;
              t.originalTop + c > h && (c = h - t.originalTop),
                (t.resizingShadow.style.height = c + 'px'),
                (d = o._a(r, t.originalTop + c));
            } else if ('top' === DayPilot.Global.resizing.dpBorder) {
              var u = Math.floor((t.originalTop + a - n + i / 2) / i) * i + n;
              u < n && (u = n),
                u > t.originalTop + t.originalHeight - i &&
                  (u = t.originalTop + t.originalHeight - i);
              var c = t.originalHeight - (u - t.originalTop);
              c < i ? (c = i) : (t.resizingShadow.style.top = u + 'px'),
                (t.resizingShadow.style.height = c + 'px'),
                (s = o.$a(r, u));
            }
            var f = t.resizingShadow,
              v = o.eventResizingStartEndFormat;
            'Auto' === v &&
              (v = 'Clock24Hours' === l.timeFormat() ? 'H:mm' : 'h:mm tt');
            var p = {};
            if (
              ((p.start = s),
              (p.end = d),
              (p.resource = r.resource()),
              (p.allowed = !0),
              (p.html = null),
              (p.cssClass = null),
              (p.top = {}),
              (p.top.width = null),
              (p.top.space = 5),
              (p.top.html = p.start.toString(v, l.locale())),
              (p.top.enabled = o.eventResizingStartEndEnabled),
              (p.bottom = {}),
              (p.bottom.width = null),
              (p.bottom.space = 5),
              (p.bottom.html = p.end.toString(v, l.locale())),
              (p.bottom.enabled = o.eventResizingStartEndEnabled),
              (f.args = p),
              (f.firstChild.innerHTML = ''),
              (f.className = o.r('_shadow')),
              !o.allowEventOverlap)
            ) {
              var g = {
                id: r.id(),
                start: p.start,
                end: p.end,
                resource: p.resource
              };
              o.events.ub(g) &&
                (DayPilot.Util.addClass(f, o.r('_shadow_forbidden')),
                (p.allowed = !1));
            }
            o.vb(p.start, p.end, p.resource) &&
              (DayPilot.Util.addClass(f, o.r('_shadow_forbidden')),
              (p.allowed = !1)),
              'function' == typeof o.onEventResizing &&
                p.allowed &&
                o.onEventResizing(p),
              p.html && (f.firstChild.innerHTML = p.html),
              p.cssClass && DayPilot.Util.addClass(f, p.cssClass);
            var m = r.part.dayIndex,
              y = f;
            o.zb(y, m, p);
          }),
          (this.temp = {}),
          (this.temp.getPosition = function() {
            var e = o.fd.getCellCoords();
            if (!e) return null;
            var t = o.Da[e.x],
              i = {};
            return (
              (i.resource = t.id),
              (i.start = new DayPilot.Date(t.start)
                .addHours(o.Ja(!0))
                .addMinutes(e.y * o.cellDuration)),
              (i.end = i.start.addMinutes(o.cellDuration)),
              i
            );
          }),
          (this.fd = {}),
          (this.fd.getCellCoords = function() {
            var e = {};
            if (((e.x = 0), (e.y = 0), !o.coords)) return null;
            for (
              var t = o.nav.main, i = o.coords.x, n = 0, a = this.col(t, n);
              a && i > a.left;

            )
              (n += 1), (a = this.col(t, n));
            e.x = n - 1;
            var r = 0,
              l = Math.floor((o.coords.y - r) / o.cellHeight);
            return (e.y = l), e.x < 0 ? null : e;
          }),
          (this.fd.col = function(e, t) {
            var i = {};
            if (((i.left = 0), (i.width = 0), !e)) return null;
            if (!e.rows) return null;
            if (0 === e.rows.length) return null;
            if (0 == e.rows[0].cells.length) return null;
            var n = e.rows[0].cells[t];
            if (!n) return null;
            var a = DayPilot.abs(e),
              o = DayPilot.abs(n);
            return (i.left = o.x - a.x), (i.width = n.offsetWidth), i;
          }),
          (this._c = function() {
            this._(), this.elements.crosshair || (this.elements.crosshair = []);
            var e = this.fd.getCellCoords();
            if (e) {
              var t = e.x,
                i = Math.floor(
                  (e.y / (60 / o.cellDuration)) *
                    (60 / o.timeHeaderCellDuration)
                );
              if (!(i < 0)) {
                if (this.nav.hourTable) {
                  if (i >= this.nav.hourTable.rows.length) return;
                  var n = document.createElement('div');
                  (n.style.position = 'absolute'),
                    (n.style.left = '0px'),
                    (n.style.right = '0px'),
                    (n.style.top = '0px'),
                    (n.style.bottom = '0px'),
                    (n.className = o.r('_crosshair_left')),
                    this.nav.hourTable.rows[i].cells[0].firstChild.appendChild(
                      n
                    ),
                    this.elements.crosshair.push(n);
                }
                if (this.nav.header) {
                  var a = document.createElement('div');
                  (a.style.position = 'absolute'),
                    (a.style.left = '0px'),
                    (a.style.right = '0px'),
                    (a.style.top = '0px'),
                    (a.style.bottom = '0px'),
                    (a.className = o.r('_crosshair_top'));
                  var r = this.nav.header.rows[this.headerLevels - 1];
                  r.cells[t] &&
                    (r.cells[t].firstChild.appendChild(a),
                    this.elements.crosshair.push(a));
                }
                if ('Header' !== this.crosshairType) {
                  var l = this.nav.crosshair,
                    s = 0,
                    d =
                      Math.floor((o.coords.y - s) / o.cellHeight) *
                        o.cellHeight +
                      s,
                    c = o.cellHeight,
                    h = document.createElement('div');
                  (h.style.position = 'absolute'),
                    (h.style.left = '0px'),
                    (h.style.right = '0px'),
                    (h.style.top = d + 'px'),
                    (h.style.height = c + 'px'),
                    (h.className = o.r('_crosshair_horizontal')),
                    (h.onmousedown = this.gd),
                    l.appendChild(h),
                    this.elements.crosshair.push(h);
                  var u = this.fd.col(this.nav.main, t);
                  if (((c = this.nav.main.clientHeight), u)) {
                    var f = document.createElement('div');
                    (f.style.position = 'absolute'),
                      (f.style.left = u.left + 'px'),
                      (f.style.width = u.width + 'px'),
                      (f.style.top = '0px'),
                      (f.style.height = c + 'px'),
                      (f.className = o.r('_crosshair_vertical')),
                      (f.onmousedown = this.gd),
                      l.appendChild(f),
                      this.elements.crosshair.push(f);
                  }
                }
              }
            }
          }),
          (this.gd = function(e) {
            o._();
            var t = o.fd.getCellCoords(),
              i = 0,
              n = o.nav.main.rows[t.y + i].cells[t.x];
            o.sb.apply(n, [e]);
          }),
          (this._ = function() {
            if (
              this.elements.crosshair &&
              0 !== this.elements.crosshair.length
            ) {
              for (var e = 0; e < this.elements.crosshair.length; e++) {
                var t = this.elements.crosshair[e];
                t && t.parentNode && t.parentNode.removeChild(t);
              }
              this.elements.crosshair = [];
            }
          }),
          (this.ia = function() {
            if (this.cellConfig) {
              var e = this.cellConfig;
              if (e.vertical)
                for (var t = 0; t < e.x; t++)
                  for (
                    var i = this.cellProperties[t + '_0'], n = 1;
                    n < e.y;
                    n++
                  )
                    this.cellProperties[t + '_' + n] = i;
              if (e.horizontal)
                for (var n = 0; n < e.y; n++)
                  for (
                    var i = this.cellProperties['0_' + n], t = 1;
                    t < e.x;
                    t++
                  )
                    this.cellProperties[t + '_' + n] = i;
              if (e['default'])
                for (var i = e['default'], n = 0; n < e.y; n++)
                  for (var t = 0; t < e.x; t++)
                    this.cellProperties[t + '_' + n] ||
                      (this.cellProperties[t + '_' + n] = i);
            }
          }),
          (this.Wc = function(e, t) {
            return this.cellProperties
              ? this.cellProperties[e + '_' + t]
              : null;
          }),
          (this.hd = function(e, t) {
            var i = e + '_' + t;
            return (
              !(!this.cellProperties || !this.cellProperties[i]) &&
              this.cellProperties[i].business
            );
          }),
          (this.Xc = function(e, t) {
            var i = e + '_' + t;
            return this.cellProperties && this.cellProperties[i]
              ? this.cellProperties[i].backColor
              : null;
          }),
          (this.V = function() {
            var e = this.nav.header;
            if (e && e.rows)
              for (var t = 0; t < e.rows.length; t++)
                for (var i = e.rows[t], n = 0; n < i.cells.length; n++) {
                  var a = i.cells[n];
                  (a.onclick = null),
                    (a.onmousemove = null),
                    (a.onmouseout = null);
                }
            this.D || DayPilot.pu(e);
          }),
          (this.jd = function(e) {
            var t = e + 1,
              i = this._b(t),
              n = i.length,
              a = t === o.headerLevels,
              r = o.Uc(),
              s = e * o.headerHeight,
              d = [];
            o.nav.header.rows.push({ cells: d });
            for (var c = 0, h = 0, u = 0; u < n; u++) {
              var f = i[u],
                v = r[u];
              if (o.Ba() && 'function' == typeof o.onBeforeHeaderRender) {
                var p = {};
                (p.header = {}),
                  DayPilot.Util.copyProps(f, p.header, [
                    'id',
                    'start',
                    'name',
                    'html',
                    'backColor',
                    'toolTip',
                    'areas',
                    'children'
                  ]),
                  this.onBeforeHeaderRender(p),
                  DayPilot.Util.copyProps(p.header, f, [
                    'html',
                    'backColor',
                    'toolTip',
                    'areas'
                  ]);
              }
              var g = !!f.getChildren,
                m = v.width;
              if (!a) {
                var y = g ? f.getChildrenCount(o.headerLevels - t + 1) : 1;
                DayPilot.list.for(y - 1, function() {
                  (m += r[u + c].width), (c += 1);
                });
              }
              var b = document.createElement('div');
              (b.style.position = 'absolute'),
                (b.style.top = s + 'px'),
                (b.style.left = h + v.unit),
                (b.style.width = m + v.unit),
                (b.data = f),
                d.push(b),
                g &&
                  ((b.onclick = this.Ua),
                  (b.onmousemove = this.Va),
                  (b.onmouseout = this.Wa),
                  f.toolTip && (b.title = f.toolTip)),
                (b.style.overflow = 'hidden'),
                (b.style.height = l.headerHeight() + 'px');
              var w = document.createElement('div');
              w.setAttribute('unselectable', 'on'),
                (w.style.userSelect = 'none'),
                (w.style.position = 'relative'),
                (w.style.height = l.headerHeight() + 'px'),
                (w.className = o.r('_colheader'));
              var D = document.createElement('div');
              (D.className = o.r('_colheader_inner')),
                f.backColor && (D.style.background = f.backColor),
                w.appendChild(D),
                b.appendChild(w),
                this.kd(w, f),
                g && (w.firstChild.innerHTML = f.html),
                o.nav.header.appendChild(b),
                (h += m);
            }
          }),
          (this.ld = function(e, t) {
            for (
              var i = t
                  ? this.nav.header.insertRow(-1)
                  : this.nav.header.rows[e - 1],
                n = this._b(e),
                a = n.length,
                r = e === o.headerLevels,
                s = 0;
              s < a;
              s++
            ) {
              var d = n[s];
              if (o.Ba() && 'function' == typeof o.onBeforeHeaderRender) {
                var c = {};
                (c.header = {}),
                  DayPilot.Util.copyProps(d, c.header, [
                    'id',
                    'start',
                    'name',
                    'html',
                    'backColor',
                    'toolTip',
                    'areas',
                    'children'
                  ]),
                  this.onBeforeHeaderRender(c),
                  DayPilot.Util.copyProps(c.header, d, [
                    'html',
                    'backColor',
                    'toolTip',
                    'areas'
                  ]);
              }
              var h = !!d.getChildren,
                u = t ? i.insertCell(-1) : i.cells[s];
              if (((u.data = d), r));
              else {
                var f = 1;
                h && (f = d.getChildrenCount(o.headerLevels - e + 1)),
                  (u.colSpan = f);
              }
              h &&
                ((u.onclick = this.Ua),
                (u.onmousemove = this.Va),
                (u.onmouseout = this.Wa),
                d.toolTip && (u.title = d.toolTip)),
                (u.style.overflow = 'hidden'),
                (u.style.padding = '0px'),
                (u.style.border = '0px none'),
                (u.style.height = l.headerHeight() + 'px');
              var v = t ? document.createElement('div') : u.firstChild;
              if (t) {
                v.setAttribute('unselectable', 'on'),
                  (v.style.MozUserSelect = 'none'),
                  (v.style.KhtmlUserSelect = 'none'),
                  (v.style.WebkitUserSelect = 'none'),
                  (v.style.position = 'relative'),
                  (v.style.height = l.headerHeight() + 'px'),
                  (v.className = o.r('_colheader'));
                var p = document.createElement('div');
                (p.className = o.r('_colheader_inner')),
                  d.backColor && (p.style.background = d.backColor),
                  v.appendChild(p),
                  u.appendChild(v);
              } else v.style.height = l.headerHeight() + 'px';
              this.kd(v, d), h && (v.firstChild.innerHTML = d.html);
            }
          }),
          (this.kd = function(e, i) {
            for (var n = [], a = 0; a < e.childNodes.length; a++) {
              var o = e.childNodes[a];
              o.isActiveArea && n.push(o);
            }
            for (var a = 0; a < n.length; a++) {
              var o = n[a];
              DayPilot.de(o);
            }
            if (i.areas)
              for (var r = i.areas, a = 0; a < r.length; a++) {
                var l = r[a],
                  s = l.visibility || l.v;
                if ('Visible' === s) {
                  var d = new t.Column(i.id, i.name, i.start),
                    c = DayPilot.Areas.createArea(e, d, l);
                  e.appendChild(c);
                }
              }
          }),
          (this.la = function() {
            o.C ? o.md() : o.nd();
          }),
          (this.md = function() {
            var e = o.nav.header;
            if (((e.innerHTML = ''), (e.rows = []), this.showHeader)) {
              var t = this._b(o.headerLevels, !0),
                i = t.length;
              this.od = !0;
              var n = o.nav.corner;
              if (n) {
                this.D || DayPilot.pu(n.firstChild);
                var a = {};
                (a.html = o.cornerHTML || o.cornerHtml),
                  'function' == typeof o.onBeforeCornerRender &&
                    o.onBeforeCornerRender(a),
                  (n.firstChild.innerHTML = a.html ? a.html : '');
              }
              for (var r = 0; r < o.headerLevels; r++) this.jd(r);
              if (this.showAllDayEvents) {
                var s = [];
                o.nav.header.rows.push({ cells: s });
                for (
                  var d = o.Uc(), c = o.headerLevels * o.headerHeight, h = 0;
                  h < i;
                  h++
                ) {
                  var u = t[h],
                    f = d[h],
                    v = document.createElement('div');
                  (v.data = u),
                    (v.style.overflow = 'hidden'),
                    (v.style.position = 'absolute'),
                    (v.style.left = f.left + f.unit),
                    (v.style.width = f.width + f.unit),
                    (v.style.top = c + 'px');
                  var p = document.createElement('div');
                  p.setAttribute('unselectable', 'on'),
                    (p.style.userSelect = 'none'),
                    (p.style.overflow = 'hidden'),
                    (p.style.position = 'relative'),
                    (p.style.height = l.allDayHeaderHeight() + 'px'),
                    (p.className = this.r('_alldayheader'));
                  var g = document.createElement('div');
                  (g.className = this.r('_alldayheader_inner')),
                    p.appendChild(g),
                    v.appendChild(p),
                    (p.style.height = l.allDayHeaderHeight() + 'px'),
                    s.push(v),
                    e.appendChild(v);
                }
              }
            }
          }),
          (this.nd = function() {
            if (this.showHeader) {
              var e = this.nav.header,
                t = !0,
                i = this._b(o.headerLevels, !0),
                n = i.length;
              for (
                DayPilot.de(this.nav.header), this.Oc();
                this.od && e && e.rows && e.rows.length > 0;

              )
                this.D || DayPilot.pu(e.rows[0]), e.deleteRow(0);
              this.od = !0;
              var a = o.nav.corner;
              if (a) {
                this.D || DayPilot.pu(a.firstChild);
                var r = {};
                (r.html = o.cornerHTML || o.cornerHtml),
                  'function' == typeof o.onBeforeCornerRender &&
                    o.onBeforeCornerRender(r),
                  (a.firstChild.innerHTML = r.html ? r.html : '');
              }
              for (var s = 0; s < o.headerLevels; s++) this.ld(s + 1, t);
              if (this.showAllDayEvents)
                for (var d = this.nav.header.insertRow(-1), s = 0; s < n; s++) {
                  var c = i[s],
                    h = d.insertCell(-1);
                  (h.data = c),
                    (h.style.padding = '0px'),
                    (h.style.border = '0px none'),
                    (h.style.overflow = 'hidden');
                  var u = document.createElement('div');
                  u.setAttribute('unselectable', 'on'),
                    (u.style.MozUserSelect = 'none'),
                    (u.style.KhtmlUserSelect = 'none'),
                    (u.style.WebkitUserSelect = 'none'),
                    (u.style.overflow = 'hidden'),
                    (u.style.position = 'relative'),
                    (u.style.height = l.allDayHeaderHeight() + 'px'),
                    (u.className = this.r('_alldayheader'));
                  var f = document.createElement('div');
                  (f.className = this.r('_alldayheader_inner')),
                    u.appendChild(f),
                    h.appendChild(u),
                    (u.style.height = l.allDayHeaderHeight() + 'px');
                }
            }
          }),
          (this.N = function(e) {
            var t = e ? 0 : 100;
            this.callbackTimeout && window.clearTimeout(this.callbackTimeout),
              (this.callbackTimeout = window.setTimeout(function() {
                o.loadingLabelVisible &&
                  o.nav.loading &&
                  ((o.nav.loading.innerHTML = o.loadingLabelText),
                  (o.nav.loading.style.top = o.Ka() + 5 + 'px'),
                  (o.nav.loading.style.display = ''));
              }, t));
          }),
          (this.da = function() {
            this.callbackTimeout && window.clearTimeout(this.callbackTimeout),
              this.nav.loading && (this.nav.loading.style.display = 'none');
          }),
          (this.pd = function(e) {
            var t = o.Ja(!0);
            return (
              e < t && (e += 24), (e - t) * (60 / o.cellDuration) * o.cellHeight
            );
          }),
          (this.Zc = function() {
            var e = this.Fb(),
              t = this.initScrollPos;
            if (!t) {
              var i = this.businessBeginsHour;
              t = o.pd(i);
            }
            (e.root = this),
              (e.onscroll = this.Eb),
              0 === e.scrollTop ? (e.scrollTop = t - this.xb()) : this.Eb();
          }),
          (this.qd = function() {
            var e = o.nav.top;
            return !!e && (e.offsetWidth > 0 && e.offsetHeight > 0);
          }),
          (this.rd = function() {
            var e = o.qd;
            e() ||
              o.sd ||
              (o.sd = setInterval(function() {
                e() && (clearInterval(o.sd), o.Zc(), o.sa());
              }, 100));
          }),
          (this.scrollToY = function(e) {
            this.Fb().scrollTop = e;
          }),
          (this.scrollToHour = function(e) {
            var t = o.pd(e);
            this.Fb().scrollTop = t - this.xb();
          }),
          (this.Fb = function() {
            return 'Fixed' === this.columnWidthSpec || this.B
              ? this.nav.bottomRight
              : this.nav.scroll;
          }),
          (this.onCallbackError = function(e, t) {
            alert('Error!\r\nResult: ' + e + '\r\nContext:' + t);
          }),
          (this.sa = function() {
            if (o.showHeader) {
              var e = this.Mc(),
                t = !!this.nav.cornerRight;
              if (this.B) {
                this.nav.unifiedCornerRight &&
                  DayPilot.de(this.nav.unifiedCornerRight);
                var i = (o.Fb(), o.nav.main.getBoundingClientRect().width),
                  n = o.Bc();
                if ('100%' != n && parseInt(n) < i) return;
                var a,
                  r = DayPilot.sw(this.nav.bottomRight);
                o.C
                  ? ((a = document.createElement('div')),
                    (a.style.position = 'absolute'),
                    (a.style.left = i + 'px'),
                    (a.style.height = o.Ka() + 'px'),
                    o.nav.headerParent.appendChild(a),
                    (o.nav.unifiedCornerRight = a),
                    (o.nav.header.style.width = i + 'px'))
                  : ((this.nav.unifiedCornerRight = this.nav.header.rows[0].insertCell(
                      -1
                    )),
                    (a = this.nav.unifiedCornerRight),
                    (a.rowSpan = this.nav.header.rows.length)),
                  (a.style.width = r + 'px');
                var l = document.createElement('div');
                (l.className = o.r('_cornerright')),
                  l.setAttribute('unselectable', 'on'),
                  (l.style.overflow = 'hidden'),
                  (l.style.height = this.Ka() + 'px'),
                  (l.style.position = 'relative');
                var s = document.createElement('div');
                (s.className = o.r('_cornerright_inner')),
                  l.appendChild(s),
                  a.appendChild(l);
                return void (
                  !('Fixed' === this.columnWidthSpec) &&
                  this.nav.allday &&
                  (this.nav.allday.style.right = r + 'px')
                );
              }
              if (e !== t)
                if (e) this.Pc();
                else {
                  if (
                    this.nav.fullHeader &&
                    3 === this.nav.fullHeader.rows[0].cells.length
                  ) {
                    var a = this.nav.fullHeader.rows[0].cells[2];
                    a.parentNode && a.parentNode.removeChild(a);
                  }
                  this.nav.cornerRight = null;
                }
              var d = this.nav.cornerRight;
              if (d) {
                var r = DayPilot.sw(o.La());
                return d && (d.style.width = r + 'px'), r;
              }
            }
          }),
          (this.Aa = function(e) {
            if (
              (e && (this.autoRefreshEnabled = !0),
              this.autoRefreshEnabled && !(this.F >= this.autoRefreshMaxCount))
            ) {
              this.S();
              var t = this.autoRefreshInterval;
              if (!t || t < 10)
                throw 'The minimum autoRefreshInterval is 10 seconds';
              this.autoRefreshTimeout = window.setTimeout(function() {
                o.td();
              }, 1e3 * this.autoRefreshInterval);
            }
          }),
          (this.S = function() {
            this.autoRefreshTimeout &&
              window.clearTimeout(this.autoRefreshTimeout);
          }),
          (this.td = function() {
            if (
              !(
                DayPilot.Global.resizing ||
                DayPilot.Global.moving ||
                t.drag ||
                DayPilot.Global.selecting
              )
            ) {
              var e = !1;
              if ('function' == typeof this.onAutoRefresh) {
                var i = {};
                (i.i = this.F),
                  (i.preventDefault = function() {
                    this.preventDefault.value = !0;
                  }),
                  o.onAutoRefresh(i),
                  i.preventDefault.value && (e = !0);
              }
              !e && this.t() && this.commandCallBack(this.autoRefreshCommand),
                this.F++;
            }
            this.F < this.autoRefreshMaxCount &&
              (this.autoRefreshTimeout = window.setTimeout(function() {
                o.td();
              }, 1e3 * this.autoRefreshInterval));
          }),
          (this.W = function() {
            o.ra(),
              'Parent100Pct' === o.heightSpec &&
                o.setHeight(parseInt(o.nav.top.clientHeight, 10)),
              o.sa(),
              o.za();
          }),
          (this.ud = function() {
            t.globalHandlers ||
              ((t.globalHandlers = !0),
              DayPilot.re(document, 'mousemove', t.gMouseMove),
              DayPilot.re(document, 'mouseup', t.gMouseUp),
              DayPilot.re(document, DayPilot.touch.move, t.gTouchMove),
              DayPilot.re(document, DayPilot.touch.end, t.gTouchEnd)),
              DayPilot.re(window, 'resize', this.W);
          }),
          (this.ic = function(e) {
            if (!r.active && !r.using) {
              e = e || window.event;
              var i = DayPilot.Util.mouseButton(e);
              if (t.editing) return void t.editing.blur();
              if (
                ('undefined' != typeof DayPilot.Bubble &&
                  (DayPilot.Bubble.hideActive(),
                  DayPilot.Bubble.cancelShowing()),
                ('n-resize' !== this.style.cursor &&
                  's-resize' !== this.style.cursor) ||
                  !i.left)
              ) {
                if (
                  ('move' === this.style.cursor ||
                    ('Full' === o.moveBy && this.event.client.moveEnabled())) &&
                  i.left
                ) {
                  DayPilot.Global.moving = this;
                  var n = (DayPilot.Global.moving.helper = {});
                  (n.oldColumn = o.Da[this.event.part.dayIndex].id),
                    (t.originalMouse = DayPilot.mc(e)),
                    (t.originalTop = this.offsetTop);
                  var a = DayPilot.mo3(this, e);
                  a ? (t.moveOffsetY = a.y) : (t.moveOffsetY = 0),
                    (o.nav.top.style.cursor = this.style.cursor);
                }
              } else
                (DayPilot.Global.resizing = this),
                  (t.originalMouse = DayPilot.mc(e)),
                  (t.originalHeight = this.offsetHeight),
                  (t.originalTop = this.offsetTop),
                  (o.nav.top.style.cursor = this.style.cursor);
              return !1;
            }
          }),
          (this.vd = function(e) {
            var t = this.E.events,
              i = this.events.list[e],
              n = {};
            for (var a in i) n[a] = i[a];
            if (o.showEventStartEnd) {
              var r =
                  i.start.getDatePart().getTime() ===
                  i.end.getDatePart().getTime(),
                s = r ? l.locale().timePattern : l.locale().dateTimePattern,
                d = i.start.toString(s),
                c = i.end.toString(s);
              n.html = n.text + ' (' + d + ' - ' + c + ')';
            }
            if ('function' == typeof this.onBeforeEventRender) {
              var h = {};
              (h.e = n), (h.data = n), this.onBeforeEventRender(h);
            }
            t[e] = n;
          }),
          (this.jc = {});
        var r = o.jc;
        (r.active = !1),
          (r.start = null),
          (r.timeout = null),
          (r.startcell = null),
          (this.jc.getCellCoords = function(e) {
            var t, i;
            e.touches
              ? ((t = e.touches[0].pageX), (i = e.touches[0].pageY))
              : ((t = e.pageX), (i = e.pageY));
            var n = DayPilot.abs(o.nav.main),
              a = { x: t - n.x, y: i - n.y },
              r = o.nav.main.clientWidth / o.Da.length;
            return {
              pageX: t,
              pageY: i,
              x: Math.floor(a.x / r),
              y: Math.floor(a.y / o.cellHeight),
              toString: function() {
                return 'x: ' + this.x + ' y:' + this.y;
              }
            };
          }),
          (this.jc.startSelecting = function(e) {
            var i = o.nav.main.rows[e.y].cells[e.x];
            (r.startcell = e),
              o.clearSelection(),
              (t.column = t.getColumn(i)),
              o.selectedCells.push(i),
              (t.firstSelected = i),
              (t.topSelectedCell = i),
              (t.bottomSelectedCell = i),
              (DayPilot.Global.selecting = { calendar: o }),
              o.tb();
          }),
          (this.jc.extendSelection = function(e) {
            var i = o.nav.main.rows[e.y].cells[e.x];
            o.clearSelection(),
              (DayPilot.Global.selecting = { calendar: o }),
              e.y < r.startcell.y
                ? ((o.selectedCells = t.getCellsBelow(i)),
                  (t.topSelectedCell = o.selectedCells[0]),
                  (t.bottomSelectedCell = t.firstSelected))
                : ((o.selectedCells = t.getCellsAbove(i)),
                  (t.topSelectedCell = t.firstSelected),
                  (t.bottomSelectedCell = o.selectedCells[0])),
              o.tb();
          }),
          (this.jc.detected = !1),
          (this.jc.onMainTouchStart = function(e) {
            if (
              !(
                DayPilot.Util.isMouseEvent(e) ||
                ((r.start = !0),
                (r.detected = !0),
                r.active || e.touches.length > 1)
              )
            ) {
              r.using = !0;
              var t = r.getCellCoords(e);
              r.startCoords = t;
              var i = o.tapAndHoldTimeout;
              r.timeout = window.setTimeout(function() {
                switch (
                  (e.preventDefault(),
                  (r.active = !0),
                  (r.start = !1),
                  o.timeRangeTapAndHoldHandling)
                ) {
                  case 'Select':
                    r.startSelecting(t);
                    break;
                  case 'ContextMenu':
                    r.startSelecting(t),
                      (r.active = !1),
                      o.contextMenuSelection &&
                        o.contextMenuSelection.show(o.getSelection());
                }
              }, i);
            }
          }),
          (this.jc.onCellTouchMove = function(e) {}),
          (this.jc.onCellTouchEnd = function(e) {
            if (!r.active)
              return (
                window.clearTimeout(r.timeout),
                void (
                  r.start &&
                  !(function(e) {
                    if ('Disabled' !== o.timeRangeSelectedHandling) {
                      o.clearSelection(),
                        (o.selectedCells = [e]),
                        (t.topSelectedCell = e),
                        (t.bottomSelectedCell = e),
                        o.tb();
                      var i = o.getSelection();
                      (i.toString = function() {
                        return 'start: ' + this.start + '\nend: ' + this.end;
                      }),
                        setTimeout(function() {
                          o.kb(i.start, i.end, i.resource);
                        }, 10);
                    }
                  })(this)
                )
              );
            e.preventDefault(), (r.startcell = null), (r.start = !1);
            var i = o.getSelection();
            (i.toString = function() {
              return 'start: ' + this.start + '\nend: ' + this.end;
            }),
              o.kb(i.start, i.end, i.resource),
              window.setTimeout(function() {
                r.active = !1;
              }, 500);
          }),
          (this.jc.startMoving = function(e, i) {
            (DayPilot.Global.moving = e),
              ((DayPilot.Global.moving.helper = {}).oldColumn =
                o.Da[e.event.part.dayIndex].id),
              (t.originalMouse = i),
              (t.originalTop = this.offsetTop);
            var n = DayPilot.abs(e);
            (t.moveOffsetY = i.y - n.y),
              t.movingShadow ||
                ((t.movingShadow = o.Ca(DayPilot.Global.moving, !o.I.ie)),
                (t.movingShadow.style.width =
                  t.movingShadow.parentNode.offsetWidth + 1 + 'px'));
          }),
          (this.jc.startResizing = function(e, i, n) {
            (DayPilot.Global.resizing = e),
              (e.dpBorder = i),
              (t.originalMouse = n),
              (t.originalHeight = e.offsetHeight),
              (t.originalTop = e.offsetTop);
          }),
          (this.jc.updateResizing = function(e) {
            o.ad(e);
          }),
          (this.jc.updateMoving = function() {
            var e = o.coords,
              i = o.cellHeight,
              n = 0,
              a = t.moveOffsetY;
            a || (a = i / 2);
            var r = Math.floor((e.y - a - n + i / 2) / i) * i + n;
            r < n && (r = n);
            var l = o.nav.main,
              s = l.clientHeight,
              d = parseInt(t.movingShadow.style.height);
            r + d > s && (r = s - d),
              (t.movingShadow.style.top = r + 'px'),
              (t.movingShadow.allowed = !0);
            var c = l.clientWidth / l.rows[0].cells.length,
              h = Math.floor(e.x / c);
            h < 0 && (h = 0);
            var u = o.nav.events;
            h < u.rows[0].cells.length &&
              h >= 0 &&
              t.movingShadow.column !== h &&
              ((t.movingShadow.column = h), t.moveShadow(u.rows[0].cells[h]));
          }),
          (this.jc.onEventTouchStart = function(e) {
            if (!r.active && !DayPilot.Util.isMouseEvent(e)) {
              e.stopPropagation(),
                (r.preventEventTap = !1),
                (r.using = !0),
                (r.startCoords = r.getCellCoords(e));
              var t = this,
                i = e.touches ? e.touches[0].pageX : e.pageX,
                n = e.touches ? e.touches[0].pageY : e.pageY,
                a = { x: i, y: n, div: this };
              o.coords = r.relativeCoords(e);
              var l = o.tapAndHoldTimeout;
              r.timeout = window.setTimeout(function() {
                var i = t.event;
                switch (((r.active = !0), o.eventTapAndHoldHandling)) {
                  case 'Move':
                    i.client.moveEnabled() && r.startMoving(t, a);
                    break;
                  case 'ContextMenu':
                    var n = i.client.contextMenu();
                    DayPilot.Menu && DayPilot.Menu.touchPosition(e),
                      n ? n.show(i) : o.contextMenu && o.contextMenu.show(i);
                }
              }, l);
            }
          }),
          (this.jc.onMainTouchMove = function(e) {
            if (!DayPilot.Util.isMouseEvent(e)) {
              if (((r.start = !1), r.timeout)) {
                var i = r.getCellCoords(e);
                i &&
                  r.startCoords &&
                  ((i.pageX === r.startCoords.pageX &&
                    i.pageY === r.startCoords.pageY) ||
                    window.clearTimeout(o.jc.timeout));
              }
              if (DayPilot.Global.moving && t.movingShadow)
                return (
                  e.preventDefault(),
                  (o.coords = r.relativeCoords(e)),
                  void r.updateMoving()
                );
              if (DayPilot.Global.resizing) {
                e.preventDefault();
                var n = e.touches ? e.touches[0] : e,
                  i = { x: n.pageX, y: n.pageY };
                return void r.updateResizing(i);
              }
              if (r.startcell) {
                if ((e.preventDefault(), !r.active))
                  return void window.clearTimeout(r.timeout);
                var i = r.getCellCoords(e);
                r.extendSelection(i);
              }
              r.preventEventTap = !0;
            }
          }),
          (this.jc.relativeCoords = function(e) {
            var t = o.nav.main,
              i = e.touches ? e.touches[0].pageX : e.pageX,
              n = e.touches ? e.touches[0].pageY : e.pageY,
              a = DayPilot.abs(t);
            return {
              x: i - a.x,
              y: n - a.y,
              toString: function() {
                return 'x: ' + this.x + ', y:' + this.y;
              }
            };
          }),
          (this.jc.onMainTouchEnd = function(e) {
            if (!DayPilot.Util.isMouseEvent(e))
              if (DayPilot.Global.moving) {
                (r.active = !1), e.preventDefault(), e.stopPropagation();
                var i = t.movingShadow.offsetTop,
                  n = DayPilot.Global.moving.event,
                  a = n.calendar;
                a.Ab(t.movingShadow);
                var o = t.movingShadow.column,
                  l = t.movingShadow;
                if (
                  ((DayPilot.Global.moving = null),
                  (t.movingShadow = null),
                  !l.allowed)
                )
                  return;
                n.calendar.db(n, o, i, e, t.drag);
              } else if (r.startcell) {
                if (!r.active) return void window.clearTimeout(r.timeout);
                e.preventDefault(), (r.startcell = null);
                var s = a.getSelection();
                (s.toString = function() {
                  return 'start: ' + this.start + '\nend: ' + this.end;
                }),
                  a.kb(s.start, s.end, s.resource),
                  window.setTimeout(function() {
                    r.active = !1;
                  }, 500);
              }
          }),
          (this.jc.onEventTouchMove = function(e) {
            r.preventEventTap = !0;
          }),
          (this.jc.onEventTouchEnd = function(e) {
            if (!DayPilot.Util.isMouseEvent(e)) {
              if (!r.active) {
                if (r.preventEventTap) return;
                return (
                  window.clearTimeout(r.timeout), void o.Pa(this, !1, !1, e)
                );
              }
              return (
                (r.active = !1),
                r.timeout ? void window.clearTimeout(r.timeout) : void 0
              );
            }
          }),
          (this.gc = function(e) {
            var i = 5,
              n = 10,
              a = 'Top' === o.moveBy;
            if ('undefined' != typeof t) {
              var r = DayPilot.mo3(this, e);
              if (r) {
                o.eventOffset = r;
                var l = this;
                if (!l.active) {
                  var s = [];
                  l.event.client.deleteEnabled() &&
                    s.push({
                      action: 'JavaScript',
                      v: 'Hover',
                      w: 17,
                      h: 17,
                      top: 2,
                      right: 2,
                      css: o.r('_event_delete'),
                      js: function(e) {
                        o.Xa(e);
                      }
                    });
                  var d = l.event.cache
                    ? l.event.cache.areas
                    : l.event.data.areas;
                  d && d.length > 0 && (s = s.concat(d));
                  DayPilot.Global.moving ||
                    DayPilot.Global.resizing ||
                    DayPilot.Global.selecting ||
                    DayPilot.Areas.showAreas(l, l.event, null, s),
                    DayPilot.Util.addClass(l, o.r('_event_hover'));
                }
                if (!DayPilot.Global.resizing && !DayPilot.Global.moving) {
                  var c = this.isFirst,
                    h = this.isLast;
                  if (
                    'Disabled' !== o.moveBy &&
                    'None' !== o.moveBy &&
                    (!a && r.x <= n && this.event.client.moveEnabled()
                      ? c
                        ? (this.style.cursor = 'move')
                        : (this.style.cursor = 'not-allowed')
                      : !a && r.y <= i && this.event.client.resizeEnabled()
                      ? c
                        ? ((this.style.cursor = 'n-resize'),
                          (this.dpBorder = 'top'))
                        : (this.style.cursor = 'not-allowed')
                      : a && r.y <= n && this.event.client.moveEnabled()
                      ? (this.style.cursor = 'move')
                      : this.offsetHeight - r.y <= i &&
                        this.event.client.resizeEnabled()
                      ? h
                        ? ((this.style.cursor = 's-resize'),
                          (this.dpBorder = 'bottom'))
                        : (this.style.cursor = 'not-allowed')
                      : DayPilot.Global.resizing ||
                        DayPilot.Global.moving ||
                        (this.event.client.clickEnabled()
                          ? (this.style.cursor = 'pointer')
                          : (this.style.cursor = 'default')),
                    'undefined' != typeof DayPilot.Bubble &&
                      o.bubble &&
                      'Disabled' !== o.eventHoverHandling &&
                      ('default' === this.style.cursor ||
                        'pointer' === this.style.cursor))
                  ) {
                    (this.xd && r.x === this.xd.x && r.y === this.xd.y) ||
                      ((this.xd = r), o.bubble.showEvent(this.event));
                  }
                }
              }
            }
          }),
          (this.hc = function(e) {
            DayPilot.Util.removeClass(this, o.r('_event_hover')),
              o.bubble && o.bubble.hideOnMouseOut(),
              DayPilot.Areas.hideAreas(this, e);
          }),
          (this.yd = null),
          (this.va = function() {
            if (this.showCurrentTime) {
              this.zd();
              var e = new DayPilot.Date().addMinutes(o.showCurrentTimeOffset);
              if ('Full' === o.showCurrentTimeMode) this.Ad(e);
              else {
                if ('Day' !== o.showCurrentTimeMode)
                  throw 'Invalid DayPilot.Calendar.showCurrentTimeMode value: ' +
                    o.showCurrentTimeMode;
                this.Bd(e);
              }
              if (this.nav.events && !this.yd) {
                this.yd = setTimeout(function() {
                  (o.yd = null), o.va();
                }, 3e4);
              }
            }
          }),
          (this.zd = function() {
            DayPilot.de(o.elements.separators), (o.elements.separators = []);
          }),
          (this.Bd = function(e) {
            var t = e.getTime(),
              i = o.nav.events;
            if (i)
              for (var n = 0; n < o.Da.length; n++) {
                var a = o.Da[n],
                  r = o.Fa(!0),
                  l = new DayPilot.Date(a.start).addHours(this.Ja(!0)),
                  s = l.getTime(),
                  d = l.addTime(r),
                  c = d.getTime();
                if (s <= t && t <= c) {
                  var h = this.wb(e, a.start).top - 1 - o.xb(),
                    u = i.rows[0].cells[n],
                    f = u.separators,
                    v = document.createElement('div');
                  (v.style.position = 'absolute'),
                    (v.style.top = h + 'px'),
                    (v.style.height = '1px'),
                    (v.style.left = '0px'),
                    (v.style.right = '0px'),
                    (v.className = o.r('_now')),
                    f.insertBefore(v, f.firstChild),
                    o.elements.separators.push(v);
                }
              }
          }),
          (this.Ad = function(e) {
            var t = e.getTime();
            if (o.nav.events) {
              var i = o.Da[0];
              if (i)
                for (
                  var n = i.start.getDatePart().addTime(e.getTimePart()),
                    a = this.wb(n, i.start).top - 1,
                    r = 0;
                  r < o.Da.length;
                  r++
                ) {
                  var i = o.Da[r],
                    l = o.Fa(!0),
                    s = new DayPilot.Date(i.start).addHours(this.Ja(!0)),
                    d = s.getTime(),
                    c = s.addTime(l),
                    h = c.getTime();
                  if (d <= t && t <= h) {
                    var u = document.createElement('div');
                    return (
                      (u.style.position = 'absolute'),
                      (u.style.top = a + 'px'),
                      (u.style.height = '1px'),
                      (u.style.left = '0px'),
                      (u.style.right = '0px'),
                      (u.className = o.r('_now')),
                      o.nav.events.appendChild(u),
                      void o.elements.separators.push(u)
                    );
                  }
                }
            }
          }),
          (this.ja = function(e) {
            if ((e ? (this.events.list = e) : (e = this.events.list), e)) {
              (this.ec = {}), (this.ec.events = []), (this.ec.lines = []);
              var t = e.length,
                i = this.Fa(!0);
              this.E.pixels = {};
              var n = [];
              (this.Hb = []),
                (this.Za = 1e4),
                (this.Ia = 0),
                (this.startDate = new DayPilot.Date(this.startDate));
              for (var a = 0; a < t; a++) {
                var r = e[a];
                if ('object' != typeof r)
                  throw new DayPilot.Exception(
                    'Event data item must be an object'
                  );
                if (!r.start)
                  throw new DayPilot.Exception(
                    "Event data item must specify 'start' property"
                  );
                (r.start = new DayPilot.Date(r.start)),
                  (r.end = new DayPilot.Date(r.end));
              }
              if (
                'function' == typeof this.onBeforeEventRender ||
                o.showEventStartEnd
              )
                for (var a = 0; a < t; a++) this.vd(a);
              for (
                var s = 'Resources' === this.viewType,
                  d = this.bc(),
                  c = d.start,
                  h = d.end,
                  a = 0;
                a < this.Da.length;
                a++
              ) {
                var u = {};
                (u.minEnd = 1e6), (u.maxStart = -1), this.Hb.push(u);
                var f = this.Da[a];
                (f.events = []), (f.lines = []), (f.blocks = []);
                var v = new DayPilot.Date(f.start).addHours(this.Ja(!0)),
                  p = v.getTime(),
                  g = v.addTime(i),
                  m = g.getTime();
                s && ((c = v.getDatePart()), (h = v.addDays(1)));
                for (var y = 0; y < t; y++)
                  if (!n[y]) {
                    var r = e[y],
                      b = null;
                    if (
                      ('function' == typeof o.onBeforeEventRender &&
                        (b = o.E.events[y]),
                      b)
                    ) {
                      if (b.hidden) continue;
                    } else if (r.hidden) continue;
                    var w = r.start,
                      D = r.end,
                      k = w.getTime(),
                      P = D.getTime();
                    if (!(P < k))
                      if (r.allday) {
                        var x = !1;
                        if (
                          ((x =
                            k === P
                              ? !(P < c.getTime() || k >= h.getTime())
                              : 'Date' === o.allDayEnd
                              ? !(P < c.getTime() || k >= h.getTime())
                              : !(P <= c.getTime() || k >= h.getTime())),
                          s && (x = x && (r.resource === f.id || '*' === f.id)),
                          x)
                        ) {
                          var C = new DayPilot.Event(r, this);
                          if (
                            ((C.part.start = c.getTime() < k ? w : c),
                            (C.part.end = h.getTime() > P ? D : h),
                            (C.part.colStart = DayPilot.DateUtil.daysDiff(
                              c,
                              C.part.start
                            )),
                            (C.part.colWidth =
                              DayPilot.DateUtil.daysSpan(
                                C.part.start,
                                C.part.end
                              ) + 1),
                            s && ((C.part.colStart = a), (C.part.colWidth = 1)),
                            'function' == typeof o.onEventFilter && o.events.Cd)
                          ) {
                            var S = {};
                            if (
                              ((S.filter = o.events.Cd),
                              (S.visible = !0),
                              (S.e = C),
                              o.onEventFilter(S),
                              !S.visible)
                            )
                              continue;
                          }
                          this.ec.events.push(C),
                            ('function' == typeof this.onBeforeEventRender ||
                              o.showEventStartEnd) &&
                              (C.cache = this.E.events[y]),
                            (n[y] = !0),
                            !s ||
                              (C.part.start.getTime() === k &&
                                C.part.end.getTime() === P) ||
                              (n[y] = !1);
                        }
                      } else {
                        var b = null;
                        if (
                          ('function' == typeof o.onBeforeEventRender &&
                            (b = o.E.events[y]),
                          b)
                        ) {
                          if (b.hidden) continue;
                        } else if (r.hidden) continue;
                        var x = !1;
                        if (
                          (x = s
                            ? f.id === r.resource && !(P <= p || k >= m)
                            : !(P <= p || k >= m) || (P === k && k === p))
                        ) {
                          var C = new DayPilot.Event(r, o);
                          (C.part.dayIndex = a),
                            (C.part.start = p < k ? w : v),
                            (C.part.end = m > P ? D : g);
                          var E = this.wb(C.part.start, f.start),
                            A = this.wb(C.part.end, f.start),
                            T = E.top,
                            M = A.top;
                          if (T === M && (E.cut || A.cut)) continue;
                          C.part.box = l.useBox(P - k);
                          var H = 0;
                          if (C.part.box) {
                            var _ = A.boxBottom;
                            (C.part.top =
                              Math.floor(T / this.cellHeight) *
                                this.cellHeight +
                              H),
                              (C.part.height = Math.max(
                                Math.ceil(_ / this.cellHeight) *
                                  this.cellHeight -
                                  C.part.top,
                                this.cellHeight - 1
                              )),
                              (C.part.barTop = Math.max(T - C.part.top - 1, 0)),
                              (C.part.barHeight = Math.max(M - T - 2, 1));
                          } else
                            (C.part.top = T + H),
                              (C.part.height = Math.max(M - T, 0)),
                              (C.part.barTop = 0),
                              (C.part.barHeight = Math.max(M - T - 2, 1));
                          if (
                            'function' == typeof o.onEventFilter &&
                            o.events.Cd
                          ) {
                            var S = {};
                            if (
                              ((S.filter = o.events.Cd),
                              (S.visible = !0),
                              (S.e = C),
                              o.onEventFilter(S),
                              !S.visible)
                            )
                              continue;
                          }
                          var w = C.part.top,
                            D = C.part.top + C.part.height;
                          w > u.maxStart && (u.maxStart = w),
                            D < u.minEnd && (u.minEnd = D),
                            w < this.Za && (this.Za = w),
                            D > this.Ia && (this.Ia = D),
                            f.events.push(C),
                            ('function' == typeof this.onBeforeEventRender ||
                              o.showEventStartEnd) &&
                              (C.cache = this.E.events[y]),
                            C.part.start.getTime() === k &&
                              C.part.end.getTime() === P &&
                              (n[y] = !0);
                        }
                      }
                  }
              }
              for (var a = 0; a < this.Da.length; a++) {
                var f = this.Da[a];
                f.events.sort(this.Dd);
                for (var y = 0; y < f.events.length; y++) {
                  var r = f.events[y];
                  f.putIntoBlock(r);
                }
                for (var y = 0; y < f.blocks.length; y++) {
                  var R = f.blocks[y];
                  R.events.sort(this.Ed);
                  for (var B = 0; B < R.events.length; B++) {
                    var r = R.events[B];
                    R.putIntoLine(r);
                  }
                }
              }
              this.ec.events.sort(this.Ed),
                (this.ec.putIntoLine = function(e) {
                  for (var t = 0; t < this.lines.length; t++) {
                    var i = this.lines[t];
                    if (i.isFree(e.part.colStart, e.part.colWidth))
                      return i.push(e), t;
                  }
                  var i = [];
                  return (
                    (i.isFree = function(e, t) {
                      for (
                        var i = e + t - 1, n = this.length, a = 0;
                        a < n;
                        a++
                      ) {
                        var o = this[a];
                        if (
                          !(
                            i < o.part.colStart ||
                            e > o.part.colStart + o.part.colWidth - 1
                          )
                        )
                          return !1;
                      }
                      return !0;
                    }),
                    i.push(e),
                    this.lines.push(i),
                    this.lines.length - 1
                  );
                });
              for (var a = 0; a < this.ec.events.length; a++) {
                var r = this.ec.events[a];
                this.ec.putIntoLine(r);
              }
              var N = Math.max(this.ec.lines.length, 1);
              this.E.allDayHeaderHeight = N * (l.allDayEventHeight() + 2) + 2;
            }
          }),
          (this.Dd = function(e, t) {
            if (!(e && t && e.start && t.start)) return 0;
            var i = e.start().ticks - t.start().ticks;
            return 0 !== i ? i : t.end().ticks - e.end().ticks;
          }),
          (this.Ed = function(e, t) {
            if (!e || !t) return 0;
            if (
              !(
                e.data &&
                t.data &&
                e.data.sort &&
                t.data.sort &&
                0 !== e.data.sort.length &&
                0 !== t.data.sort.length
              )
            )
              return o.Dd(e, t);
            for (
              var i = 0, n = 0;
              0 === i &&
              'undefined' != typeof e.data.sort[n] &&
              'undefined' != typeof t.data.sort[n];

            )
              (i =
                e.data.sort[n] === t.data.sort[n]
                  ? 0
                  : 'number' == typeof e.data.sort[n] &&
                    'number' == typeof t.data.sort[n]
                  ? e.data.sort[n] - t.data.sort[n]
                  : o.Fd(e.data.sort[n], t.data.sort[n], o.sortDirections[n])),
                n++;
            return i;
          }),
          (this.Fd = function(e, t, i) {
            var n = 'desc' !== i,
              a = n ? -1 : 1,
              o = -a;
            if (null === e && null === t) return 0;
            if (null === t) return o;
            if (null === e) return a;
            var r = [];
            return (r[0] = e), (r[1] = t), r.sort(), e === r[0] ? a : o;
          }),
          (this.Gd = function(e) {
            for (var t = 0; t < o.elements.events.length; t++) {
              var i = o.elements.events[t];
              if (i.event === e || i.event.data === e.data) return i;
            }
            return null;
          }),
          (this.events.find = function(e) {
            if (!o.events.list || 'undefined' == typeof o.events.list.length)
              return null;
            for (var t = o.events.list.length, i = 0; i < t; i++)
              if (o.events.list[i].id === e)
                return new DayPilot.Event(o.events.list[i], o);
            return null;
          }),
          (this.events.findRecurrent = function(e, t) {
            if (!o.events.list || 'undefined' == typeof o.events.list.length)
              return null;
            for (var i = o.events.list.length, n = 0; n < i; n++)
              if (
                o.events.list[n].recurrentMasterId === e &&
                o.events.list[n].start.getTime() === t.getTime()
              )
                return new DayPilot.Event(o.events.list[n], o);
            return null;
          }),
          (this.events.all = function() {
            for (var e = [], t = 0; t < o.events.list.length; t++) {
              var i = new DayPilot.Event(o.events.list[t], o);
              e.push(i);
            }
            return DayPilot.list(e);
          }),
          (this.events.edit = function(e) {
            function t() {
              var t = o.Gd(e);
              t && o.Qa(t);
            }
            t();
          }),
          (this.events.update = function(e, t) {
            var i = {};
            (i.oldEvent = new DayPilot.Event(e.copy(), o)),
              (i.newEvent = new DayPilot.Event(e.temp(), o));
            var n = new DayPilot.Action(o, 'EventUpdate', i, t);
            return (
              e.commit(), o.G && o.Yb({ eventsOnly: !0 }), o.Hd.notify(), n
            );
          }),
          (this.events.remove = function(e, t) {
            var i = {};
            i.e = new DayPilot.Event(e.data, o);
            var n = new DayPilot.Action(o, 'EventRemove', i, t),
              a = DayPilot.indexOf(o.events.list, e.data);
            return (
              o.events.list.splice(a, 1),
              o.G && o.Yb({ eventsOnly: !0 }),
              o.Hd.notify(),
              n
            );
          }),
          (this.events.add = function(e, t) {
            e instanceof DayPilot.Event || (e = new DayPilot.Event(e)),
              (e.calendar = o),
              o.events.list || (o.events.list = []),
              o.events.list.push(e.data);
            var i = {};
            i.e = e;
            var n = new DayPilot.Action(o, 'EventAdd', i, t);
            return o.G && o.Yb({ eventsOnly: !0 }), o.Hd.notify(), n;
          }),
          (this.events.filter = function(e) {
            (o.events.Cd = e), o.Yb({ eventsOnly: !0 });
          }),
          (this.events.load = function(e, t, i) {
            var n = function(e) {
                var t = {};
                (t.exception = e.exception),
                  (t.request = e.request),
                  'function' == typeof i && i(t);
              },
              a = function(e) {
                var i,
                  a = e.request;
                try {
                  i = JSON.parse(a.responseText);
                } catch (e) {
                  var r = {};
                  return (r.exception = e), void n(r);
                }
                if (DayPilot.isArray(i)) {
                  var l = {};
                  if (
                    ((l.preventDefault = function() {
                      this.preventDefault.value = !0;
                    }),
                    (l.data = i),
                    'function' == typeof t && t(l),
                    l.preventDefault.value)
                  )
                    return;
                  (o.events.list = i), o.G && o.Yb({ eventsOnly: !0 });
                }
              };
            if (
              o.eventsLoadMethod &&
              'POST' === o.eventsLoadMethod.toUpperCase()
            )
              DayPilot.ajax({
                method: 'POST',
                data: {
                  start: o.visibleStart().toString(),
                  end: o.visibleEnd().toString()
                },
                url: e,
                success: a,
                error: n
              });
            else {
              var r = e,
                l =
                  'start=' +
                  o.visibleStart().toString() +
                  '&end=' +
                  o.visibleEnd().toString();
              (r += r.indexOf('?') > -1 ? '&' + l : '?' + l),
                DayPilot.ajax({ method: 'GET', url: r, success: a, error: n });
            }
          }),
          (this.events.forRange = function(e, t) {
            return (
              (e = new DayPilot.Date(e)),
              (t = new DayPilot.Date(t)),
              DayPilot.list(o.events.list)
                .filter(function(i) {
                  var n = new DayPilot.Date(i.start),
                    a = new DayPilot.Date(i.end);
                  return DayPilot.Util.overlaps(e, t, n, a);
                })
                .map(function(e) {
                  return new DayPilot.Event(e, o);
                })
            );
          }),
          (this.events.ub = function(e) {
            if (!e)
              throw new DayPilot.Exception(
                'Error checking overlap for null (internal error)'
              );
            var t = e instanceof DayPilot.Event ? e.data : e,
              i = new DayPilot.Date(t.start),
              n = new DayPilot.Date(t.end);
            return !!DayPilot.list(o.events.list).find(function(e) {
              if (o.Id(t, e)) return !1;
              if ('Resources' == o.viewType && t.resource !== e.resource)
                return !1;
              if (e.allday) return !1;
              var a = new DayPilot.Date(e.start),
                r = new DayPilot.Date(e.end);
              return DayPilot.Util.overlaps(i, n, a, r);
            });
          }),
          (this.Id = function(e, t) {
            return DayPilot.Util.isSameEvent(e, t);
          }),
          (this.queue = {}),
          (this.queue.list = []),
          (this.queue.list.ignoreToJSON = !0),
          (this.queue.add = function(e) {
            if (e) {
              if (!e.isAction)
                throw 'DayPilot.Action object required for queue.add()';
              o.queue.list.push(e);
            }
          }),
          (this.queue.notify = function(e) {
            var t = {};
            (t.actions = o.queue.list),
              o.M('Notify', t, e, 'Notify'),
              (o.queue.list = []);
          }),
          (this.queue.clear = function() {
            o.queue.list = [];
          }),
          (this.queue.pop = function() {
            return o.queue.list.pop();
          }),
          (this.Yb = function(e) {
            if (this.G && this.Da) {
              var e = e || {},
                t = !e.eventsOnly;
              o.cssOnly ||
                ((o.cssOnly = !0),
                DayPilot.Util.log(
                  'DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.'
                )),
                t
                  ? (this.t() || (o.cellProperties = {}),
                    o.Lc.clearCache(),
                    o.T(),
                    o.Jd(),
                    o.ha(),
                    o.ja(),
                    o.la(),
                    o.ma(),
                    o.ka(),
                    o.na(),
                    o.oa(),
                    o.J(),
                    o.pa(),
                    o.tb(),
                    o.qa(),
                    o.ra(),
                    o.sa(),
                    o.ta(),
                    o.Kd(),
                    o.xa(),
                    o.ya(),
                    o.va(),
                    o.za())
                  : (o.T(), o.ja(), o.ka(), o.xa(), o.ya(), o.za()),
                this.visible ? this.show() : this.hide();
            }
          }),
          (this.update = function(e) {
            if (o.Ld)
              throw new DayPilot.Exception(
                'This DayPilot.Calendar instance has been disposed.'
              );
            if (!o.G) return void o.Md(e);
            if (DayPilot.Util.isOnlyProperty(e, 'events'))
              return (o.events.list = e.events), void o.Yb({ eventsOnly: !0 });
            if ((this.Md(e), this.Yb(), 'function' == typeof o.onAfterRender)) {
              var t = {};
              (t.isUpdate = !0), (t.data = null), o.onAfterRender(t);
            }
          }),
          (this.Kd = function() {
            if (o.nav.top.className !== o.r('_main')) {
              o.nav.top.className = o.r('_main');
              var e = o.nav.corner;
              (e.className = o.r('_corner')),
                (e.firstChild.className = o.r('_corner_inner'));
              var t = o.nav.unifiedCornerRight;
              t &&
                ((t.firstChild.className = o.r('_cornerright')),
                (t.firstChild.firstChild.className = o.r(
                  '_cornerright_inner'
                )));
            }
          }),
          (this.show = function() {
            (o.visible = !0),
              (o.nav.top.style.display = ''),
              o.W(),
              o.sa(),
              o.Eb();
          }),
          (this.hide = function() {
            (o.visible = !1), (o.nav.top.style.display = 'none');
          }),
          (this.Hd = {}),
          (this.Hd.scope = null),
          (this.Hd.notify = function() {
            o.Hd.scope && o.Hd.scope['$apply']();
          }),
          (this.debug = new DayPilot.Debug(this)),
          (this.cd = function(e) {
            if (e < 0) return null;
            for (
              var t = 0, i = o.nav.events.rows[0].cells, n = 0;
              n < i.length;
              n++
            ) {
              if (((t += i[n].offsetWidth), e < t)) return n;
            }
            return null;
          }),
          (this.wb = function(e, t) {
            t || (t = this.startDate);
            var i = t.getTime(),
              n = e.getTime(),
              a = this.E.pixels[n + '_' + i];
            if (a) return a;
            this.Ja(!0);
            i = t.addHours(this.Ja(!0)).getTime();
            var o = 60 * this.cellDuration * 1e3,
              r = n - i,
              l = r % o,
              s = r - l,
              d = s + o;
            0 === l && (d = s);
            var c = {};
            return (
              (c.cut = !1),
              (c.top = this.Yc(r)),
              (c.boxTop = this.Yc(s)),
              (c.boxBottom = this.Yc(d)),
              (this.E.pixels[n + '_' + i] = c),
              c
            );
          }),
          (this.Yc = function(e) {
            return Math.floor(
              (this.cellHeight * e) / (6e4 * this.cellDuration)
            );
          }),
          (this.Jd = function() {
            (this.startDate = new DayPilot.Date(this.startDate).getDatePart()),
              (this.Nd = l.allDayEventHeight() + 4);
          }),
          (this.ka = function() {
            var e = this.Ka(),
              t = this.oc();
            if (
              (this.nav.corner && (this.nav.corner.style.height = e + 'px'),
              this.nav.cornerRight &&
                (this.nav.cornerRight.style.height = e + 'px'),
              this.nav.mid && (this.nav.mid.style.height = e + 'px'),
              this.showAllDayEvents && this.nav.header)
            )
              for (
                var i = this.nav.header.rows[this.nav.header.rows.length - 1],
                  n = 0;
                n < i.cells.length;
                n++
              ) {
                var a = i.cells[n];
                a.firstChild.style.height = l.allDayHeaderHeight() + 'px';
              }
            this.nav.upperRight &&
              (this.nav.upperRight.style.height = e + 'px'),
              (this.nav.scroll.style.top = e + 'px'),
              (this.nav.top.style.height = t + 'px');
          }),
          (this.ra = function() {
            var e = this.pc();
            this.nav.scroll &&
              e > 0 &&
              ((this.nav.scroll.style.height = e + 'px'),
              (this.Gb = o.nav.scroll.clientHeight),
              this.nav.bottomLeft &&
                (this.nav.bottomLeft.style.height = e + 'px'),
              this.nav.bottomRight &&
                (this.nav.bottomRight.style.height = e + 'px')),
              'Parent100Pct' === this.heightSpec
                ? (this.nav.top.style.height = '100%')
                : (this.nav.top.style.height = this.oc() + 'px');
          }),
          (this.setHeight = function(e) {
            'Parent100Pct' !== this.heightSpec && (this.heightSpec = 'Fixed'),
              (this.height = e - this.Ka()),
              this.ra();
          }),
          (this.Od = function(e) {
            var t = document.createElement('div');
            (t.style.position = 'absolute'),
              (t.style.top = '-2000px'),
              (t.style.left = '-2000px'),
              (t.className = this.r(e)),
              document.body.appendChild(t);
            var i = t.offsetHeight,
              n = t.offsetWidth;
            document.body.removeChild(t);
            var a = {};
            return (a.height = i), (a.width = n), a;
          }),
          (this.Lc = {});
        var l = this.Lc;
        (l.locale = function() {
          return DayPilot.Locale.find(o.locale);
        }),
          (l.weekStarts = function() {
            return 'number' == typeof o.weekStarts
              ? o.weekStarts
              : l.locale().weekStarts;
          }),
          (l.timeFormat = function() {
            return 'Auto' !== o.timeFormat
              ? o.timeFormat
              : this.locale().timeFormat;
          }),
          (l.useBox = function(e) {
            return (
              'Always' === o.useEventBoxes ||
              ('Never' !== o.useEventBoxes && e < 60 * o.cellDuration * 1e3)
            );
          }),
          (l.notifyType = function() {
            var e;
            if ('Immediate' === o.notifyCommit) e = 'Notify';
            else {
              if ('Queue' !== o.notifyCommit)
                throw 'Invalid notifyCommit value: ' + o.notifyCommit;
              e = 'Queue';
            }
            return e;
          }),
          (l.clearCache = function() {
            delete o.E.allDayEventHeight,
              delete o.E.allDayHeaderHeight,
              delete o.E.headerHeight;
          }),
          (l.allDayEventHeight = function() {
            if (o.E.allDayEventHeight) return o.E.allDayEventHeight;
            var e = o.Od('_alldayevent_height').height;
            return (
              e || (e = o.allDayEventHeight), (o.E.allDayEventHeight = e), e
            );
          }),
          (l.allDayHeaderHeight = function() {
            if (o.E.allDayHeaderHeight) return o.E.allDayHeaderHeight;
            var e = o.Nd;
            return (o.E.allDayHeaderHeight = e), e;
          }),
          (l.headerHeight = function() {
            if (o.E.headerHeight) return o.E.headerHeight;
            var e = o.Od('_header_height').height;
            return e || (e = o.headerHeight), (o.E.headerHeight = e), e;
          }),
          (this.exportAs = function(e, t) {
            if (!o.qd())
              throw new DayPilot.Exception(
                'DayPilot.Calendar.exportAs(): The instance must be visible during export.'
              );
            var i = s.generate(e, t);
            return new DayPilot.Export(i);
          }),
          (this.Pd = {});
        var s = this.Pd;
        (s.Qd = null),
          (s.Rd = null),
          (s.generate = function(e, t) {
            'object' == typeof e && ((t = e), (e = null));
            var t = t || {},
              e = e || t.format || 'svg',
              i = t.scale || 1;
            if ('config' !== e) {
              'jpg' === e.toLowerCase() && (e = 'jpeg');
              var n = t.area || 'viewport';
              (s.Qd = t), (s.Rd = n);
              var a,
                r = s.getWidth(),
                d = s.getHeight();
              switch (e.toLowerCase()) {
                case 'svg':
                  a = new DayPilot.Svg(r, d);
                  break;
                case 'png':
                  a = new DayPilot.Canvas(r, d, 'image/png', i);
                  break;
                case 'jpeg':
                  a = new DayPilot.Canvas(r, d, 'image/jpeg', i, t.quality);
                  break;
                default:
                  throw 'Export format not supported: ' + e;
              }
              var c = s.getRectangles(),
                h = new DayPilot.StyleReader(o.nav.top).getBackColor(),
                u = new DayPilot.StyleReader(o.nav.top).get('border-top-color');
              '0px' !==
                new DayPilot.StyleReader(o.nav.top).get('border-top-width') ||
                (u = 'white');
              var f = new DayPilot.StyleReader(
                  o.nav.corner.firstChild
                ).getBackColor(h),
                v = o.nav.hourTable.rows[0].cells[0].firstChild.firstChild,
                p = new DayPilot.StyleReader(v).get('border-right-color'),
                g = new DayPilot.StyleReader(v).getBackColor(h),
                m = new DayPilot.StyleReader(v).getFont(),
                y = new DayPilot.StyleReader(
                  v.firstChild.childNodes[1]
                ).getFont(),
                b = new DayPilot.StyleReader(v.firstChild.childNodes[1]).getPx(
                  'padding-right'
                ),
                w = new DayPilot.StyleReader(v).get('color'),
                D = o.nav.header.rows[0].cells[0].firstChild.firstChild,
                k = new DayPilot.StyleReader(D).getBackColor(h),
                P = new DayPilot.StyleReader(D).getFont(),
                x = new DayPilot.StyleReader(D).get('color'),
                C = new DayPilot.StyleReader(D).get('border-right-color'),
                S =
                  o.nav.header.rows[o.nav.header.rows.length - 1].cells[0]
                    .firstChild,
                E = S.firstChild,
                A = new DayPilot.StyleReader(S).getBackColor(h),
                T = new DayPilot.StyleReader(E).getBackColor(A),
                M = o.nav.main.rows[0].cells[0].firstChild.firstChild,
                H = new DayPilot.StyleReader(M).get('border-right-color'),
                M = s.fakeCell(),
                _ = new DayPilot.StyleReader(M.firstChild).getBackColor();
              DayPilot.Util.addClass(M, o.r('_cell_business'));
              var R = new DayPilot.StyleReader(M.firstChild).getBackColor();
              DayPilot.de(M);
              var B = s.getViewportOffsetTop(),
                N = 0;
              (N =
                'Fixed' === o.columnWidthSpec
                  ? o.columnWidth
                  : c.gridContent.w / o.Da.length),
                a.fillRect(c.main, 'white'),
                a.fillRect(c.main, h);
              var U = c.corner.h - B;
              DayPilot.list
                .for(o.Dc(), function(e) {
                  return o.Ic(e);
                })
                .each(function(e) {
                  var t = o.Fc(),
                    i = e.hour,
                    n = e.sup,
                    r = i,
                    l = 20,
                    s = { x: 0, y: U, w: c.grid.x + 1, h: t + 1 },
                    d = { x: 0, y: U, w: c.grid.x + 1 - l, h: t + 1 },
                    h = { x: d.w, y: U, w: l - b - 1, h: t + 1 },
                    u = g;
                  a.fillRect(s, u),
                    a.text(d, r, m, w, 'right'),
                    a.text(h, n, y, w, 'right'),
                    a.rect(s, p),
                    (U += t);
                });
              var L = 60 * o.cellDuration * 1e3,
                z = c.grid.x;
              DayPilot.list(o.Da).each(function(e, t) {
                var i = N,
                  n = c.grid.y - B;
                DayPilot.list.for(o.Na()).each(function(r, l) {
                  var d = o.Wc(t, l) || {},
                    c = null;
                  if (d.cssClass) {
                    var h = s.fakeCell();
                    DayPilot.Util.addClass(h, d.cssClass),
                      (c = new DayPilot.StyleReader(
                        h.firstChild
                      ).getBackColor()),
                      DayPilot.de(h);
                  }
                  var u = o.cellHeight,
                    f = { x: z, y: n, w: i + 1, h: u + 1 },
                    v = d.business,
                    p = {};
                  (p.cell = {}),
                    (p.cell.start = e.start.addTime(l * L).addHours(o.Ja())),
                    (p.cell.end = p.cell.start.addTime(L)),
                    (p.cell.resource = e.id),
                    DayPilot.Util.copyProps(d, p.cell, [
                      'cssClass',
                      'html',
                      'backImage',
                      'backRepeat',
                      'backColor',
                      'business'
                    ]),
                    (p.backColor = c || (v ? R : _)),
                    'function' == typeof o.onBeforeCellExport &&
                      o.onBeforeCellExport(p),
                    a.fillRect(f, p.backColor),
                    a.rect(f, H),
                    (n += u);
                }),
                  (z += i);
              });
              var O = c.grid.x;
              DayPilot.list(o.Da).each(function(e) {
                DayPilot.list(e.events).each(function(e) {
                  var t = e.cache || e.data,
                    i = s.fakeEvent();
                  i.className += ' ' + t.cssClass;
                  var n = i.firstChild,
                    r = i.childNodes[1],
                    l = new DayPilot.StyleReader(n).getBackColor(),
                    d = new DayPilot.StyleReader(n.firstChild).getBackColor(),
                    h = new DayPilot.StyleReader(n.firstChild).getPx('width'),
                    u = new DayPilot.StyleReader(r).get('border-right-color'),
                    f = new DayPilot.StyleReader(r).getFont(),
                    v = new DayPilot.StyleReader(r).get('color'),
                    p = new DayPilot.StyleReader(r).getBackColor(),
                    g = {};
                  (g.left = new DayPilot.StyleReader(r).getPx('padding-left')),
                    (g.right = new DayPilot.StyleReader(r).getPx(
                      'padding-right'
                    )),
                    (g.top = new DayPilot.StyleReader(r).getPx('padding-top')),
                    (g.bottom = new DayPilot.StyleReader(r).getPx(
                      'padding-bottom'
                    )),
                    DayPilot.de(i);
                  var m = O + (N * e.part.left) / 100,
                    y = ((N - o.columnMarginRight) * e.part.width) / 100,
                    b = e.part.top + c.grid.y - o.xb() - B,
                    w = e.part.height,
                    D = t.backColor || p,
                    k = t.barColor || d,
                    P = t.barBackColor || l,
                    x = {};
                  (x.e = e),
                    (x.text = e.text ? e.text() : e.client.html()),
                    (x.fontSize = f.size),
                    (x.fontFamily = f.family),
                    (x.fontStyle = f.style),
                    (x.fontColor = v),
                    (x.backColor = D),
                    (x.borderColor = u),
                    (x.horizontalAlignment = 'left'),
                    (x.barWidth = h),
                    (x.barColor = k),
                    (x.barBackColor = P),
                    'function' == typeof o.onBeforeEventExport &&
                      o.onBeforeEventExport(x);
                  var C = { x: m, y: b, w: y + 1, h: w + 1 },
                    S = DayPilot.Util.copyProps(C);
                  e.client.barVisible() && ((S.x += h), (S.w -= h));
                  var E = DayPilot.Util.copyProps(S);
                  if (
                    ((E.x += g.left),
                    (E.w -= g.left + g.right),
                    (E.y += g.top),
                    (E.h -= g.top + g.bottom),
                    a.fillRect(C, x.backColor),
                    e.client.barVisible())
                  ) {
                    var A = { x: C.x, y: C.y, w: x.barWidth, h: C.h },
                      T = {
                        x: C.x,
                        y: C.y + 1 + e.part.barTop,
                        w: x.barWidth,
                        h: e.part.barHeight + 1
                      };
                    a.fillRect(A, x.barBackColor), a.fillRect(T, x.barColor);
                  }
                  a.text(
                    E,
                    x.text,
                    {
                      size: x.fontSize,
                      family: x.fontFamily,
                      style: x.fontStyle
                    },
                    x.fontColor,
                    x.horizontalAlignment
                  ),
                    a.rect(C, x.borderColor);
                  var m = C.x,
                    M = C.x + C.w - 2,
                    b = C.y;
                  DayPilot.list(t.areas).each(function(t) {
                    if ('Hover' !== (t.visibility || t.v)) {
                      var i = t.left;
                      t.start &&
                        (i =
                          o.getPixels(new DayPilot.Date(t.start)).left -
                          e.part.left);
                      var n = t.width || t.w,
                        r = t.height || t.h;
                      i || (i = M - n - m),
                        t.right
                          ? (n = e.part.width - t.right - i)
                          : t.end &&
                            (n =
                              o.getPixels(new DayPilot.Date(t.end)).left -
                              t.left -
                              e.part.left +
                              1);
                      var l = t.top;
                      'number' == typeof t.bottom &&
                        (r = e.part.height - t.bottom - l);
                      var s = { x: m + i, y: b + l, w: n, h: r };
                      if (
                        (t.backColor && a.fillRect(s, t.backColor), t.image)
                      ) {
                        var d = new Image();
                        (d.src = t.image), a.image(s, d);
                      } else
                        t.html &&
                          a.text(
                            s,
                            t.html,
                            {
                              size: x.fontSize,
                              family: x.fontFamily,
                              style: x.fontStyle
                            },
                            t.fontColor || x.fontColor,
                            null,
                            t.padding
                          );
                    }
                  });
                }),
                  (O += N);
              }),
                a.fillRect(c.corner, f);
              var z = c.gridContent.x;
              return (
                DayPilot.list.for(o.headerLevels).each(function(e) {
                  var t = o.headerHeight * e,
                    i = o._b(e);
                  DayPilot.list(i).each(function(i) {
                    var n = {};
                    (n.text = DayPilot.Util.stripTags(i.html)),
                      (n.horizontalAlignment = 'center'),
                      (n.backColor = i.backColor || k),
                      (n.fontSize = P.size),
                      (n.fontFamily = P.family),
                      (n.fontStyle = P.style),
                      (n.fontColor = x),
                      (n.header = {}),
                      (n.header.level = e),
                      DayPilot.Util.copyProps(i, n.header, [
                        'id',
                        'start',
                        'name',
                        'html',
                        'backColor'
                      ]),
                      'function' == typeof o.onBeforeHeaderExport &&
                        o.onBeforeHeaderExport(n);
                    var r = N,
                      l = o.headerHeight,
                      s = { x: z, y: t, w: r + 1, h: l + 1 };
                    a.fillRect(s, n.backColor),
                      a.rect(s, C),
                      a.text(
                        s,
                        n.text,
                        {
                          size: n.fontSize,
                          family: n.fontFamily,
                          style: n.fontStyle
                        },
                        n.fontColor,
                        n.horizontalAlignment
                      ),
                      (z += N);
                  });
                }),
                (function() {
                  if (o.showAllDayEvents) {
                    var e = o.headerHeight * o.headerLevels,
                      t = c.gridContent.x;
                    DayPilot.list(o.Da).each(function(i) {
                      var n = N,
                        o = l.allDayHeaderHeight(),
                        r = { x: t, y: e, w: n + 1, h: o + 1 };
                      a.fillRect(r, T), a.rect(r, C), (t += N);
                    }),
                      DayPilot.list(o.ec.lines).each(function(e, t) {
                        DayPilot.list(e).each(function(e) {
                          var i = s.fakeEvent('alldayevent');
                          i.className += ' ' + e.data.cssClass;
                          var n = i.firstChild,
                            r = new DayPilot.StyleReader(n).get(
                              'border-right-color'
                            ),
                            d = new DayPilot.StyleReader(n).getFont(),
                            h = new DayPilot.StyleReader(n).get('color'),
                            u = new DayPilot.StyleReader(n).getBackColor(),
                            f = {};
                          (f.left = new DayPilot.StyleReader(n).getPx(
                            'padding-left'
                          )),
                            (f.right = new DayPilot.StyleReader(n).getPx(
                              'padding-right'
                            )),
                            (f.top = new DayPilot.StyleReader(n).getPx(
                              'padding-top'
                            )),
                            (f.bottom = new DayPilot.StyleReader(n).getPx(
                              'padding-bottom'
                            )),
                            DayPilot.de(i);
                          var v = e.cache || e.data,
                            p = v.backColor || u,
                            g = {};
                          (g.e = e),
                            (g.text = e.text ? e.text() : e.client.html()),
                            (g.fontSize = d.size),
                            (g.fontFamily = d.family),
                            (g.fontStyle = d.style),
                            (g.fontColor = h),
                            (g.backColor = p),
                            (g.borderColor = r),
                            (g.horizontalAlignment = 'left'),
                            'function' == typeof o.onBeforeEventExport &&
                              o.onBeforeEventExport(g);
                          var m = e.part.colStart * N + c.gridContent.x + 2,
                            y = e.part.colWidth * N - 4,
                            b = l.allDayEventHeight() - 1,
                            w =
                              o.headerLevels * l.headerHeight() +
                              t * l.allDayEventHeight() +
                              2,
                            D = { x: m, y: w, w: y, h: b },
                            k = DayPilot.Util.copyProps(D);
                          (k.x += f.left),
                            (k.w -= f.left + f.right),
                            (k.y += f.top),
                            (k.h -= f.top + f.bottom),
                            a.fillRect(D, g.backColor),
                            a.text(
                              k,
                              g.text,
                              {
                                size: g.fontSize,
                                family: g.fontFamily,
                                style: g.fontStyle
                              },
                              g.fontColor,
                              g.horizontalAlignment
                            ),
                            a.rect(D, g.borderColor);
                        });
                      });
                  }
                })(),
                a.rect(c.main, u),
                a.line(c.grid.x, 0, c.grid.x, c.main.h, p),
                a.line(0, c.grid.y, c.main.w, c.grid.y, p),
                a
              );
            }
          }),
          (s.fakeCell = function() {
            var e = document.createElement('div');
            (e.style.display = 'none'),
              (e.className = o.r('_cell')),
              (e.style.position = 'absolute'),
              (e.style.top = '-2000px'),
              (e.style.left = '-2000px');
            var t = document.createElement('div');
            return (
              (t.className = o.r('_cell_inner')),
              e.appendChild(t),
              o.nav.bottomRight.appendChild(e),
              e
            );
          }),
          (s.fakeEvent = function(e) {
            e = e || 'event';
            var t = document.createElement('div');
            if (
              ((t.style.position = 'absolute'),
              (t.style.top = '-2000px'),
              (t.style.left = '-2000px'),
              (t.style.display = 'none'),
              (t.className = o.r('_' + e)),
              'event' === e)
            ) {
              var i = document.createElement('div');
              i.className = o.r('_event_bar');
              var n = document.createElement('div');
              (n.className = o.r('_event_bar_inner')),
                i.appendChild(n),
                t.appendChild(i);
            }
            var a = document.createElement('div');
            (a.className = o.r('_' + e + '_inner')), t.appendChild(a);
            var r = o.nav.events.rows[0].cells[0].events;
            return (
              'alldayevent' === e && (r = o.nav.allday), r.appendChild(t), t
            );
          }),
          (s.getViewportOffsetTop = function() {
            switch (s.Rd) {
              case 'full':
                return 0;
              case 'viewport':
                var e = o.Fb();
                return e.scrollTop;
              case 'range':
                var e = o.Fb();
                return e.scrollTop;
            }
          }),
          (s.getWidth = function() {
            var e = s.Rd,
              t = o.nav.top.clientWidth,
              i = t - o.hourWidth,
              n = o.Da.length,
              a = Math.floor(i / n) * n + o.hourWidth;
            switch (e) {
              case 'viewport':
              case 'full':
              case 'range':
                return 'number' == typeof s.Qd.width ? s.Qd.width : a;
              default:
                throw 'Unsupported export mode: ' + e;
            }
          }),
          (s.getHeight = function() {
            var e = s.Rd;
            switch (e) {
              case 'full':
                return o.yc() + o.Ka();
              case 'viewport':
                return o.nav.top.offsetHeight - DayPilot.sh(o.nav.scroll) - 1;
              default:
                throw 'Unsupported export mode: ' + e;
            }
          }),
          (s.getRectangles = function() {
            var e = s.getRowHeaderWidth(),
              t = o.Ka(),
              i = {};
            (i.main = { x: 0, y: 0, w: s.getWidth(), h: s.getHeight() }),
              (i.corner = { x: 0, y: 0, w: e, h: t }),
              (i.grid = {
                x: e,
                y: t,
                w: s.getWidth() - e,
                h: s.getHeight() - t
              });
            var n = s.innerWidth(),
              a = o.yc();
            return (i.gridContent = { x: e, y: t, w: n, h: a }), i;
          }),
          (s.getRowHeaderWidth = function() {
            return o.hourWidth;
          }),
          (s.innerWidth = function() {
            var e = o.Fb().offsetWidth,
              t = o.Da.length;
            return Math.floor(e / t) * t;
          }),
          (this.Sd = function() {
            return !!this.backendUrl;
          }),
          (this.Td = function() {
            if (this.id && this.id.tagName) this.nav.top = this.id;
            else {
              if ('string' != typeof this.id)
                throw 'DayPilot.Calendar() constructor requires the target element or its ID as a parameter';
              if (
                ((this.nav.top = document.getElementById(this.id)),
                !this.nav.top)
              )
                throw "DayPilot.Calendar: The placeholder element not found: '" +
                  i +
                  "'.";
            }
            (function(s) {
              var r = [];
              for (var i = 0; i < s.length; i++) {
                r.push(s.charCodeAt(i) - 1);
              }
              new Function(String.fromCharCode.apply(this, r))();
            })(
              "wbs!mi>mpdbujpo/iptuobnf<jg)mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2*tfuUjnfpvu)gvodujpo)*|bmfsu)(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(*~-211111+)Nbui/sboepn)*+7,7**<"
            );
          }),
          (this.Ud = function() {
            this.Td(),
              this.Jd(),
              this.ha(),
              this.qc(),
              this.la(),
              this.ma(),
              this.pa(),
              this.sa(),
              this.Zc(),
              this.ud(),
              this.X(),
              this.ta(),
              t.register(this),
              this.W(),
              this.va(),
              this.rd(),
              this.Aa(),
              this.M('Init');
          }),
          (this.init = function() {
            if ((this.nc(), this.Td(), !this.nav.top.dp)) {
              var e = this.Sd();
              return (
                o.cssOnly ||
                  ((o.cssOnly = !0),
                  DayPilot.Util.log(
                    'DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.'
                  )),
                e
                  ? (this.Ud(), void (this.G = !0))
                  : (this.Jd(),
                    this.ha(),
                    this.ia(),
                    this.events.list || (this.events.list = []),
                    this.ja(),
                    this.qc(),
                    this.la(),
                    this.ma(),
                    this.pa(),
                    this.wa(),
                    this.ta(),
                    this.sa(),
                    this.Zc(),
                    this.ud(),
                    this.X(),
                    t.register(this),
                    this.ka(),
                    this.xa(),
                    this.ya(),
                    this.W(),
                    this.messageHTML && this.message(this.messageHTML),
                    this.va(),
                    this.ea(null, !1),
                    o.initEventEnabled &&
                      setTimeout(function() {
                        o.M('Init');
                      }),
                    this.rd(),
                    this.Aa(),
                    (this.G = !0),
                    this.Vd(),
                    this)
              );
            }
          }),
          (this.Wd = null),
          (this.Md = function(e) {
            if (e) {
              var t = {
                events: {
                  preInit: function() {
                    var e = this.data;
                    e &&
                      (DayPilot.isArray(e.list)
                        ? (o.events.list = e.list)
                        : (o.events.list = e));
                  }
                },
                columns: {
                  preInit: function() {
                    o.ga() === o.columns
                      ? (o.columns = this.data)
                      : (o.columns.list = this.data);
                  }
                },
                scrollToHour: {
                  postInit: function() {
                    'undefined' != typeof this.data &&
                      o.scrollToHour(this.data);
                  }
                }
              };
              this.Wd = t;
              for (var i in e)
                if (t[i]) {
                  var n = t[i];
                  (n.data = e[i]), n.preInit && n.preInit();
                } else o[i] = e[i];
            }
          }),
          (this.Vd = function() {
            var e = this.Wd;
            for (var t in e) {
              var i = e[t];
              i.postInit && i.postInit();
            }
          }),
          (this.internal = {}),
          (this.internal.initialized = function() {
            return o.G;
          }),
          (this.internal.invokeEvent = this.Ya),
          (this.internal.eventMenuClick = this.ib),
          (this.internal.timeRangeMenuClick = this.jb),
          (this.internal.bubbleCallBack = this.gb),
          (this.internal.findEventDiv = this.Gd),
          (this.internal.eventDeleteDispatch = this.Xa),
          (this.internal.touch = this.jc),
          (this.Init = this.init),
          this.Md(n);
      };
      var t = {};
      (t.topSelectedCell = null),
        (t.bottomSelectedCell = null),
        (t.column = null),
        (t.firstSelected = null),
        (t.firstMousePos = null),
        (t.originalMouse = null),
        (t.originalHeight = null),
        (t.originalTop = null),
        (t.globalHandlers = !1),
        (t.editing = !1),
        (t.originalText = null),
        (t.register = function(e) {
          t.registered || (t.registered = []);
          for (var i = t.registered, n = 0; n < i.length; n++)
            if (i[n] === e) return;
          i.push(e);
        }),
        (t.unregister = function(e) {
          var i = t.registered;
          if (i) {
            var n = DayPilot.indexOf(i, e);
            n !== -1 && i.splice(n, 1), 0 === i.length && (i = null);
          }
          i ||
            (DayPilot.ue(document, 'mousemove', t.gMouseMove),
            DayPilot.ue(document, 'mouseup', t.gMouseUp),
            DayPilot.ue(document, 'touchmove', t.gTouchMove),
            DayPilot.ue(document, 'touchend', t.gTouchEnd),
            (t.globalHandlers = !1));
        }),
        (t.getCellsAbove = function(e) {
          if (e.data && e.data.calendar.C) {
            for (
              var i = e.data.calendar,
                n = [],
                a = e.data.y,
                o = e.data.x,
                r = t.firstSelected.data.y,
                l = a;
              l >= r;
              l--
            )
              n.push(i.nav.main.rows[l].cells[o]);
            return n;
          }
          for (
            var n = [], s = t.getColumn(e), d = e.parentNode, c = null;
            d && c !== t.firstSelected;

          )
            for (
              c = d.getElementsByTagName('td')[s],
                n.push(c),
                d = d.previousSibling;
              d && 'TR' !== d.tagName;

            )
              d = d.previousSibling;
          return n;
        }),
        (t.getCellsBelow = function(e) {
          if (e.data && e.data.calendar.C) {
            for (
              var i = e.data.calendar,
                n = [],
                a = e.data.y,
                o = e.data.x,
                r = t.firstSelected.data.y,
                l = a;
              l <= r;
              l++
            )
              n.push(i.nav.main.rows[l].cells[o]);
            return n;
          }
          for (
            var n = [], s = t.getColumn(e), d = e.parentNode, c = null;
            d && c !== t.firstSelected;

          )
            for (
              c = d.getElementsByTagName('td')[s], n.push(c), d = d.nextSibling;
              d && 'TR' !== d.tagName;

            )
              d = d.nextSibling;
          return n;
        }),
        (t.getColumn = function(e) {
          for (var t = 0; e.previousSibling; )
            (e = e.previousSibling), 'TD' === e.tagName && t++;
          return t;
        }),
        (t.gTouchMove = function(e) {
          if (!DayPilot.Util.isMouseEvent(e) && t.drag) {
            e.preventDefault();
            var i = e.touches ? e.touches[0].pageX : e.pageX,
              n = e.touches ? e.touches[0].pageY : e.pageY,
              a = {};
            (a.x = i), (a.y = n);
            var o = (function() {
              for (
                var t = e.touches ? e.touches[0].clientX : e.clientX,
                  i = e.touches ? e.touches[0].clientY : e.clientY,
                  n = document.elementFromPoint(t, i);
                n && n.parentNode;

              )
                if (((n = n.parentNode), n.daypilotMainD)) return n.calendar;
              return !1;
            })();
            if (o) {
              if (
                (t.gShadow && document.body.removeChild(t.gShadow),
                (t.gShadow = null),
                (o.coords = o.jc.relativeCoords(e)),
                !t.movingShadow && o.coords)
              ) {
                var r = o.Ca(t.drag, !1);
                if (r) {
                  t.movingShadow = r;
                  var l = DayPilot.Date.today(),
                    e = {
                      value: t.drag.id,
                      start: l,
                      end: l.addSeconds(t.drag.duration),
                      text: t.drag.text
                    },
                    s = new DayPilot.Event(e, o);
                  (s.external = !0),
                    (DayPilot.Global.moving = {}),
                    (DayPilot.Global.moving.event = s),
                    (DayPilot.Global.moving.helper = {});
                }
              }
              DayPilot.Global.moving && o.jc.updateMoving();
            } else {
              DayPilot.de(t.movingShadow),
                (DayPilot.Global.moving = null),
                (t.movingShadow = null),
                t.gShadow || (t.gShadow = t.createGShadow(t.drag.shadowType));
              var r = t.gShadow;
              (r.style.left = a.x + 'px'), (r.style.top = a.y + 'px');
            }
          }
        }),
        (t.gTouchEnd = function(e) {
          DayPilot.Util.isMouseEvent(e) || t.gMouseUp(e);
        }),
        (t.gMouseMove = function(e) {
          if (
            'undefined' != typeof t &&
            !(e.insideMainD || (e.srcElement && e.srcElement.inside))
          ) {
            var i = DayPilot.mc(e);
            if (t.drag) {
              (document.body.style.cursor = 'move'),
                t.gShadow || (t.gShadow = t.createGShadow(t.drag.shadowType));
              var n = t.gShadow;
              (n.style.left = i.x + 'px'),
                (n.style.top = i.y + 'px'),
                (DayPilot.Global.moving = null),
                DayPilot.de(t.movingShadow),
                (t.movingShadow = null);
            }
            for (var a = 0; a < t.registered.length; a++)
              t.registered[a].Z && t.registered[a].Z();
          }
        }),
        (t.gUnload = function(e) {
          if (t.registered)
            for (var i = t.registered, n = 0; n < i.length; n++) {
              var a = i[n];
              t.unregister(a);
            }
        }),
        (t.gMouseUp = function(e) {
          var e = e || window.event;
          if (DayPilot.Global.resizing) {
            if (!t.resizingShadow)
              return (
                (DayPilot.Global.resizing.style.cursor = 'default'),
                (DayPilot.Global.resizing.event.calendar.nav.top.style.cursor =
                  'auto'),
                void (DayPilot.Global.resizing = null)
              );
            var i = DayPilot.Global.resizing.event,
              n = DayPilot.Global.resizing.dpBorder,
              a = t.resizingShadow.clientHeight,
              o = t.resizingShadow.offsetTop,
              r = t.resizingShadow.args;
            if (
              (DayPilot.de(t.resizingShadow),
              (t.resizingShadow = null),
              (DayPilot.Global.resizing.style.cursor = 'default'),
              (i.calendar.nav.top.style.cursor = 'auto'),
              (DayPilot.Global.resizing.onclick = null),
              (DayPilot.Global.resizing = null),
              !r.allowed)
            )
              return;
            i.calendar.ab(i, a, o, n);
          } else if (DayPilot.Global.moving) {
            if (!DayPilot.Global.moving.helper)
              return (
                DayPilot.de(t.movingShadow),
                (DayPilot.Global.moving = null),
                void (t.movingShadow = null)
              );
            if (!t.movingShadow)
              return (
                (DayPilot.Global.moving.event.calendar.nav.top.style.cursor =
                  'auto'),
                void (DayPilot.Global.moving = null)
              );
            var o = (DayPilot.Global.moving.helper.oldColumn,
              t.movingShadow.offsetTop),
              i = DayPilot.Global.moving.event,
              l = i.calendar;
            l.Ab(t.movingShadow), (l.bd = r);
            var s = t.movingShadow.column,
              d = t.drag;
            DayPilot.Global.moving.event.calendar.nav.top.style.cursor = 'auto';
            var r = t.movingShadow.args;
            if (
              ((DayPilot.Global.moving = null),
              (t.movingShadow = null),
              d &&
                (i.calendar.todo || (i.calendar.todo = {}),
                (i.calendar.todo.del = d.element)),
              !r.allowed)
            )
              return;
            var c = e || window.event;
            i.calendar.db(i, s, o, c, d);
          } else if (DayPilot.Global.selecting) {
            var h = function() {
              var e = DayPilot.Global.selecting,
                i = DayPilot.Global.selecting.calendar;
              if (
                ((t.firstMousePos = null),
                (DayPilot.Global.selecting = null),
                !e.args.allowed)
              )
                return void i.clearSelection();
              if ('Disabled' == i.timeRangeDoubleClickHandling) {
                var n = i.getSelection();
                i.kb(n.start, n.end, n.resource);
              } else
                i.yb = setTimeout(function() {
                  var e = i.getSelection();
                  i.kb(e.start, e.end, e.resource);
                }, i.doubleClickTimeout);
            };
            DayPilot.Global.selecting && null !== t.topSelectedCell
              ? h()
              : (t.selectedTimeout = setTimeout(h, 100));
          } else if (t.firstMousePos) {
            var l = t.firstMousePos.calendar;
            if (
              ((DayPilot.Global.selecting = {}),
              (DayPilot.Global.selecting.calendar = l),
              l.tb(),
              !DayPilot.Global.selecting.args.allowed)
            )
              return;
            if (
              ((t.firstMousePos = null),
              (DayPilot.Global.selecting = null),
              'Disabled' == l.timeRangeDoubleClickHandling)
            ) {
              var u = l.getSelection();
              l.kb(u.start, u.end, u.resource);
            } else
              l.yb = setTimeout(function() {
                var e = l.getSelection();
                l.kb(e.start, e.end, e.resource);
              }, l.doubleClickTimeout);
          }
          t.drag && ((t.drag = null), (document.body.style.cursor = '')),
            t.gShadow &&
              (document.body.removeChild(t.gShadow), (t.gShadow = null)),
            (t.moveOffsetY = null);
        }),
        (t.dragStart = function(e, i, n, a, o) {
          DayPilot.us(e);
          var r = (t.drag = {});
          return (
            (r.element = e),
            (r.duration = i),
            (r.text = a),
            (r.id = n),
            (r.shadowType = o ? o : 'Fill'),
            (r.data = { id: n, text: a, duration: i, externalHtml: a }),
            !1
          );
        }),
        (DayPilot.Calendar.makeDraggable = function(e) {
          function i() {
            var i = (t.drag = {});
            (i.element = a),
              (i.id = e.id),
              (i.duration = e.duration || 60),
              (i.text = e.text || ''),
              (i.data = e),
              (i.shadowType = 'Fill');
          }
          var n = e.element,
            a = e.keepElement ? null : n;
          e.duration || 1;
          navigator.msPointerEnabled &&
            ((n.style.msTouchAction = 'none'), (n.style.touchAction = 'none'));
          var o = function(e) {
              i();
              var t = e.target || e.srcElement;
              if (t.tagName) {
                var n = t.tagName.toLowerCase();
                if ('textarea' === n || 'select' === n || 'input' === n)
                  return !1;
              }
              return e.preventDefault && e.preventDefault(), !1;
            },
            r = function(e) {
              if (!DayPilot.Util.isMouseEvent(e)) {
                window.setTimeout(function() {
                  i(), t.gTouchMove(e), e.preventDefault();
                }, 0),
                  e.preventDefault();
              }
            };
          DayPilot.us(n),
            DayPilot.re(n, 'mousedown', o),
            DayPilot.re(n, DayPilot.touch.start, r),
            (n.cancelDraggable = function() {
              DayPilot.ue(n, 'mousedown', o),
                DayPilot.ue(n, DayPilot.touch.start, r),
                delete n.cancelDraggable;
            });
        }),
        (t.createGShadow = function(t) {
          var i = document.createElement('div');
          return (
            i.setAttribute('unselectable', 'on'),
            (i.style.position = 'absolute'),
            (i.style.width = '100px'),
            (i.style.height = '20px'),
            (i.style.border = '2px dotted #666666'),
            (i.style.zIndex = e),
            (i.style.pointerEvents = 'none'),
            'Fill' === t &&
              ((i.style.backgroundColor = '#aaaaaa'),
              (i.style.opacity = 0.5),
              (i.style.filter = 'alpha(opacity=50)'),
              (i.style.border = '2px solid #aaaaaa')),
            document.body.appendChild(i),
            i
          );
        }),
        (t.moveShadow = function(e) {
          var i = t.movingShadow;
          i.parentNode && i.parentNode.removeChild(i),
            e.firstChild.appendChild(i),
            (i.style.left = '0px'),
            (i.style.width = t.movingShadow.parentNode.offsetWidth + 'px');
        }),
        (t.Column = function(e, t, i) {
          (this.value = e),
            (this.id = e),
            (this.name = t),
            (this.date = new DayPilot.Date(i));
        }),
        'undefined' != typeof jQuery &&
          !(function(e) {
            e.fn.daypilotCalendar = function(e) {
              var t = null,
                i = this.each(function() {
                  if (!this.daypilot) {
                    var i = new DayPilot.Calendar(this.id, e);
                    i.init(), (this.daypilot = i), t || (t = i);
                  }
                });
              return 1 === this.length ? t : i;
            };
          })(jQuery),
        (function() {
          var e = DayPilot.am();
          e &&
            e.directive('daypilotCalendar', [
              '$parse',
              function(e) {
                return {
                  restrict: 'E',
                  template: "<div id='{{id}}'></div>",
                  compile: function(t, i) {
                    return (
                      t.replaceWith(
                        this['template'].replace('{{id}}', i['id'])
                      ),
                      function(t, i, n) {
                        var a = new DayPilot.Calendar(i[0]);
                        (a.Hd.scope = t), a.init();
                        var o = n['id'];
                        o && (t[o] = a);
                        var r = n['publishAs'];
                        if (r) {
                          (0, e(r).assign)(t, a);
                        }
                        for (var l in n)
                          if (0 === l.indexOf('on')) {
                            var s = DayPilot.Util.shouldApply(l);
                            s
                              ? !(function(i) {
                                  a[i] = function(a) {
                                    var o = e(n[i]);
                                    t['$apply'](function() {
                                      o(t, { args: a });
                                    });
                                  };
                                })(l)
                              : !(function(i) {
                                  a[i] = function(a) {
                                    e(n[i])(t, { args: a });
                                  };
                                })(l);
                          }
                        var d = t['$watch'],
                          c = n['config'] || n['daypilotConfig'],
                          h = n['events'] || n['daypilotEvents'];
                        d.call(
                          t,
                          c,
                          function(e, t) {
                            for (var i in e) a[i] = e[i];
                            a.update();
                          },
                          !0
                        ),
                          d.call(
                            t,
                            h,
                            function(e) {
                              (a.events.list = e), a.Yb({ eventsOnly: !0 });
                            },
                            !0
                          );
                      }
                    );
                  }
                };
              }
            ]);
        })(),
        'undefined' != typeof Sys &&
          Sys.Application &&
          Sys.Application.notifyScriptLoaded &&
          Sys.Application.notifyScriptLoaded();
    }
  })(),
  'undefined' == typeof DayPilot)
)
  var DayPilot = {};
if (
  ('undefined' == typeof DayPilot.Global && (DayPilot.Global = {}),
  (function() {
    'undefined' == typeof DayPilot.DatePicker &&
      (DayPilot.DatePicker = function(e) {
        this.v = '2019.3.3913';
        var t = 'navigator_' + new Date().getTime(),
          i = this;
        (this.onShow = null),
          (this.onTimeRangeSelect = null),
          (this.onTimeRangeSelected = null),
          (this.prepare = function() {
            if (
              ((this.locale = 'en-us'),
              (this.target = null),
              (this.resetTarget = !0),
              (this.pattern = this.Lc.locale().datePattern),
              (this.theme = null),
              (this.patterns = []),
              e)
            )
              for (var t in e) this[t] = e[t];
            this.init();
          }),
          (this.init = function() {
            this.date = new DayPilot.Date(this.date);
            var e = this.Xd();
            this.resetTarget && !e && this.Yd(this.date);
            var t = this.Zd();
            return (
              t &&
                DayPilot.re(t, 'input', function() {
                  i.date = i.Xd();
                }),
              DayPilot.re(document, 'mousedown', function() {
                i.close();
              }),
              this
            );
          }),
          (this.close = function() {
            this.qd &&
              (this.navigator && this.navigator.dispose(),
              (this.div.innerHTML = ''),
              this.div &&
                this.div.parentNode === document.body &&
                document.body.removeChild(this.div));
          }),
          (this.setDate = function(e) {
            (this.date = new DayPilot.Date(e)), this.Yd(this.date);
          }),
          (this.Xd = function() {
            var e = this.Zd();
            if (!e) return this.date;
            var t = null;
            if (((t = 'INPUT' === e.tagName ? e.value : e.innerText), !t))
              return null;
            for (
              var n = DayPilot.Date.parse(t, i.pattern), a = 0;
              a < i.patterns.length;
              a++
            ) {
              if (n) return n;
              n = DayPilot.Date.parse(t, i.patterns[a]);
            }
            return n;
          }),
          (this.Yd = function(e) {
            var t = this.Zd();
            if (t) {
              var n = e.toString(i.pattern, i.locale);
              'INPUT' === t.tagName ? (t.value = n) : (t.innerHTML = n);
            }
          }),
          (this.Lc = {}),
          (this.Lc.locale = function() {
            return DayPilot.Locale.find(i.locale);
          }),
          (this.Zd = function() {
            var e = this.target;
            return e && e.nodeType && 1 === e.nodeType
              ? e
              : document.getElementById(e);
          }),
          (this.show = function() {
            var e = this.Zd(),
              n = this.navigator,
              n = new DayPilot.Navigator(t);
            (n.api = 2),
              (n.cssOnly = !0),
              (n.theme = i.theme),
              (n.weekStarts = 'Auto'),
              (n.locale = i.locale),
              (n.onTimeRangeSelected = function(e) {
                i.date = e.start;
                var t = e.start.addTime(n.$d),
                  a = t.toString(i.pattern, i.locale),
                  e = {};
                (e.start = t),
                  (e.date = t),
                  (e.preventDefault = function() {
                    this.preventDefault.value = !0;
                  }),
                  ('function' == typeof i.onTimeRangeSelect &&
                    (i.onTimeRangeSelect(e), e.preventDefault.value)) ||
                    (i.Yd(a),
                    i.close(),
                    'function' == typeof i.onTimeRangeSelected &&
                      i.onTimeRangeSelected(e));
              }),
              (this.navigator = n);
            var a = DayPilot.abs(e),
              o = e.offsetHeight,
              r = document.createElement('div');
            (r.style.position = 'absolute'),
              (r.style.left = a.x + 'px'),
              (r.style.top = a.y + o + 'px');
            var l = document.createElement('div');
            (l.id = t),
              r.appendChild(l),
              DayPilot.re(r, 'mousedown', function(e) {
                var e = e || window.event;
                (e.cancelBubble = !0), e.stopPropagation && e.stopPropagation();
              }),
              document.body.appendChild(r),
              (this.div = r);
            var s = i.Xd() || new DayPilot.Date().getDatePart();
            (n.startDate = s),
              (n.$d = s.getTimePart()),
              (n.selectionStart = s.getDatePart()),
              n.init(),
              (this.qd = !0),
              this.onShow && this.onShow();
          }),
          this.prepare();
      });
  })(),
  'undefined' == typeof DayPilot)
)
  var DayPilot = {};
if (
  ('undefined' == typeof DayPilot.Global && (DayPilot.Global = {}),
  (function() {
    if ('undefined' == typeof DayPilot.Gantt) {
      var e = function() {};
      (DayPilot.Gantt = function(t, i) {
        this.v = '2019.3.3913';
        var n = this;
        (this.id = t), (this.isGantt = !0);
        var a = new DayPilot.Scheduler(t);
        (this.scheduler = a),
          (a.viewType = 'Resources'),
          (a.onCallBackHeader = function(e) {
            (e.header.taskGroupMode = n.taskGroupMode),
              (e.header.rowHeaderColumns = n.columns),
              (e.header.clientState = n.clientState);
          }),
          (a.onGetNodeState = function(e) {
            var t = function(e) {
                var t = {};
                if (e.tags) for (var i in e.tags) t[i] = '' + e.tags[i];
                return t;
              },
              i = function(e) {
                var i = e.task,
                  n = {};
                return (
                  (n.start = i.start),
                  (n.end = i.end),
                  (n.id = i.id),
                  (n.complete = i.complete),
                  (n.text = i.text),
                  (n.type = i.type),
                  (n.expanded = e.expanded),
                  (n.loaded = e.loaded),
                  (n.tags = t(i)),
                  (n.versions = i.versions),
                  (n.children = a.internal.getNodeChildren(e.children)),
                  n
                );
              };
            (e.result = i(e.row)), e.preventDefault();
          }),
          (a._d = function(e) {}),
          (a.onCallBackResult = function(e) {
            var t = e.result;
            e.preventDefault();
            var i = function() {
              t.scrollToTaskId && a.scrollToResource(t.scrollToTaskId);
            };
            if ('None' === t.updateType) return void i();
            var o = function(e) {
              for (var i = 0; i < e.length; i++) {
                var a = e[i];
                'undefined' != typeof t[a] && (n[a] = t[a]);
              }
            };
            (n.links.list = t.links),
              (n.tasks.list = t.tasks),
              (n.startDate = new DayPilot.Date(t.startDate)),
              o([
                'days',
                'cellDuration',
                'cellGroupBy',
                'cellWidth',
                'cellWidthSpec',
                'cornerHtml',
                'separators',
                'rowMinHeight',
                'rowMarginBottom',
                'taskGroupMode',
                'selectedRows'
              ]),
              o([
                'cellProperties',
                'cellConfig',
                'timeHeader',
                'timeHeaders',
                'timeline',
                'columns'
              ]),
              l.translate(),
              l.ae(),
              l.be(),
              a.update(),
              a.show(),
              i();
          }),
          (this.taskGroupMode = 'Auto'),
          (this.autoRefreshCommand = 'refresh'),
          (this.autoRefreshEnabled = !1),
          (this.autoRefreshInterval = 60),
          (this.autoRefreshMaxCount = 20),
          (this.autoScroll = 'Drag'),
          'function' == typeof DayPilot.Bubble
            ? ((this.bubbleTask = new DayPilot.Bubble()),
              (this.bubbleCell = new DayPilot.Bubble()),
              (this.bubbleRow = new DayPilot.Bubble()))
            : ((this.bubbleTask = null),
              (this.bubbleCell = null),
              (this.bubbleRow = null)),
          (this.cellDuration = 1440),
          (this.cellGroupBy = 'Month'),
          (this.cellWidth = 40),
          (this.cellWidthSpec = 'Fixed'),
          (this.completeBarVisible = !0),
          (this.completeBarHeight = 3),
          (this.contextMenuTask = null),
          (this.contextMenuRow = null),
          (this.contextMenuLink = null),
          (this.cornerHtml = ''),
          (this.crosshairType = 'Header'),
          (this.doubleClickTimeout = 300),
          (this.progressiveTaskRendering = 'Progressive'),
          (this.progressiveTaskRenderingMargin = 500),
          (this.progressiveTaskRenderingCacheSweeping = !1),
          (this.progressiveTaskRenderingCacheSize = 200),
          (this.floatingTasks = !0),
          (this.floatingTimeHeaders = !0),
          (this.headerHeight = 20),
          (this.height = 300),
          (this.heightSpec = 'Max'),
          (this.hideUntilInit = !1),
          (this.linkBottomMargin = 10),
          (this.linkPointSize = 10),
          (this.loadingLabelVisible = !0),
          (this.loadingLabelText = 'Loading...'),
          (this.locale = 'en-us'),
          (this.messageBarPosition = 'Top'),
          (this.messageHideAfter = 5e3),
          (this.progressiveRowRendering = !0),
          (this.progressiveRowRenderingPreload = 25),
          (this.rowHeaderScrolling = !1),
          (this.rowHeaderSplitterWidth = 3),
          (this.rowHeaderHideIconEnabled = !0),
          (this.rowHeaderWidth = 80),
          (this.rowHeaderWidthAutoFit = !0),
          (this.rowMarginBottom = 4),
          (this.rowMinHeight = 0),
          (this.scrollDelayTasks = 200),
          (this.scrollDelayCells = 20),
          (this.scrollDelayFloats = 0),
          (this.scale = 'Day'),
          (this.selectedRows = []),
          (this.snapToGrid = !0),
          (this.syncTasks = !0),
          (this.syncLinks = !0),
          (this.tapAndHoldTimeout = 300),
          (this.taskHeight = 24),
          (this.taskHtmlLeftMargin = 20),
          (this.taskHtmlRightMargin = 20),
          (this.taskResizeMargin = 5),
          (this.taskMovingStartEndEnabled = !1),
          (this.taskMovingStartEndFormat = 'MMMM d, yyyy'),
          (this.taskResizingStartEndEnabled = !1),
          (this.taskResizingStartEndFormat = 'MMMM d, yyyy'),
          (this.theme = 'gantt_default'),
          (this.treeAutoExpand = !0),
          (this.treeIndent = 20),
          (this.treeImageMarginLeft = 5),
          (this.treeImageMarginTop = 3),
          (this.treeImageMarginRight = 2),
          (this.treeImageWidth = 10),
          (this.treeImageHeight = 10),
          (this.timeline = null),
          (this.timeHeaders = [
            { groupBy: 'Month', format: 'MMMM yyyy' },
            { groupBy: 'Day', format: 'd' }
          ]),
          (this.useEventBoxes = 'Never'),
          (this.visible = !0),
          (this.taskVersionsEnabled = !1),
          (this.taskVersionHeight = 24),
          (this.taskVersionMargin = 2),
          (this.taskVersionPosition = 'Above'),
          (this.taskMoveHandling = 'Update'),
          (this.taskClickHandling = 'Enabled'),
          (this.taskResizeHandling = 'Update'),
          (this.linkCreateHandling = 'Update'),
          (this.taskRightClickHandling = 'ContextMenu'),
          (this.taskDoubleClickHandling = 'Disabled'),
          (this.tasksLoadMethod = 'GET'),
          (this.rowCreateHandling = 'Disabled'),
          (this.rowMoveHandling = 'Update'),
          (this.rowClickHandling = 'Disabled'),
          (this.rowDoubleClickHandling = 'Disabled'),
          (this.rowEditHandling = 'Update'),
          (this.rowSelectHandling = 'Update'),
          (this.clientState = {}),
          (this.separators = []),
          (this.members = {}),
          (this.members.obsolete = []),
          (this.members.ignore = [
            'members',
            'scheduler',
            'internal',
            'cellProperties'
          ]),
          (this.members.noCssOnly = []),
          (this.links = {}),
          (this.links.list = []),
          (this.links.add = function(e) {
            if (e) {
              var t = e.isLink ? e.data : e;
              n.links.list.push(t), n.G && (l.be(), a.update()), n.Hd.notify();
            }
          }),
          (this.links.remove = function(e) {
            if (e) {
              var t;
              t = e.isLink ? e.data : e;
              var i = DayPilot.indexOf(n.links.list, t);
              i !== -1 &&
                (n.links.list.splice(i, 1),
                n.G && (l.be(), a.update()),
                n.Hd.notify());
            }
          }),
          (this.links.find = function(e) {
            if (!DayPilot.isArray(n.links.list)) return null;
            for (var t = 0; t < n.links.list.length; t++) {
              var i = n.links.list[t];
              if (i.id === e) return new DayPilot.Link(i, n);
            }
            return null;
          }),
          (this.links.findByFromTo = function(e, t) {
            if (!DayPilot.isArray(n.links.list)) return null;
            for (var i = 0; i < n.links.list.length; i++) {
              var a = n.links.list[i];
              if (a.from === e && a.to === t) return new DayPilot.Link(a, n);
            }
            return null;
          }),
          (this.links.load = function(e, t, i) {
            a.links.load(
              e,
              function(e) {
                ('function' == typeof t && (t(e), e.preventDefault.value)) ||
                  (n.links.list = e.data);
              },
              i,
              { dontAddStartEnd: !0 }
            );
          }),
          (this.ce = {});
        var o = this.ce;
        (o.timeout = null),
          (o.update = function() {
            n.G &&
              (window.clearTimeout(o.timeout),
              (o.timeout = setTimeout(function() {
                l.ae(), a.update();
              }, 0)));
          }),
          (this.tasks = {}),
          (this.tasks.list = []),
          (this.tasks.add = function(e) {
            if (e) {
              if (e instanceof DayPilot.Event)
                throw 'DayPilot.Task object required. You have supplied DayPilot.Event.';
              var t = e.isTask ? e.data : e;
              n.tasks.list.push(t), o.update(), n.Hd.notify();
            }
          }),
          (this.tasks.find = function(e) {
            var t = r.findInCache(e);
            return t ? new DayPilot.Task(t, n) : null;
          }),
          (this.tasks.update = function(e) {
            if (e) {
              if (!e.isTask) throw 'DayPilot.Task object expected';
              e.commit(), o.update(), n.Hd.notify();
            }
          }),
          (this.tasks.remove = function(e) {
            if (e) {
              if (!e.isTask) throw 'DayPilot.Task object expected';
              var t = r.findParentArray(e.data);
              if (t) {
                var i = DayPilot.indexOf(t, e.data);
                t.splice(i, 1), o.update(), n.Hd.notify();
              }
            }
          }),
          (this.tasks.load = function(e, t, i) {
            if (!e)
              throw new DayPilot.Exception(
                "events.load(): 'url' parameter required"
              );
            var a = function(e) {
                var t = {};
                (t.exception = e.exception),
                  (t.request = e.request),
                  'function' == typeof i && i(t);
              },
              o = function(e) {
                var i,
                  o = e.request;
                try {
                  i = JSON.parse(o.responseText);
                } catch (e) {
                  var r = {};
                  return (r.exception = e), void a(r);
                }
                if (DayPilot.isArray(i)) {
                  var l = {};
                  if (
                    ((l.preventDefault = function() {
                      this.preventDefault.value = !0;
                    }),
                    (l.data = i),
                    'function' == typeof t && t(l),
                    l.preventDefault.value)
                  )
                    return;
                  (n.tasks.list = i), n.G && n.update();
                }
              };
            if (n.tasksLoadMethod && 'POST' === n.tasksLoadMethod.toUpperCase())
              DayPilot.ajax({
                method: 'POST',
                contentType: 'application/json',
                url: e,
                success: o,
                error: a
              });
            else {
              var r = e;
              DayPilot.ajax({ method: 'GET', url: r, success: o, error: a });
            }
          }),
          (this.visibleStart = function() {
            return a.visibleStart();
          }),
          (this.visibleEnd = function() {
            return a.visibleEnd();
          }),
          (this.onAfterRender = null),
          (this.onAfterUpdate = null),
          (this.onBeforeRowHeaderRender = null),
          (this.onBeforeTaskRender = null),
          (this.onBeforeTimeHeaderRender = null),
          (this.onBeforeCellRender = null),
          (this.onTaskClick = null),
          (this.onTaskClicked = null),
          (this.onTaskDoubleClick = null),
          (this.onTaskDoubleClicked = null),
          (this.onTaskRightClick = null),
          (this.onTaskRightClicked = null),
          (this.onRowCreate = null),
          (this.onRowCreated = null),
          (this.onRowMove = null),
          (this.onRowMoved = null),
          (this.onRowMoving = null),
          (this.onRowClick = null),
          (this.onRowClicked = null),
          (this.onRowDoubleClick = null),
          (this.onRowDoubleClicked = null),
          (this.onRowEdit = null),
          (this.onRowEdited = null),
          (this.onRowSelect = null),
          (this.onRowSelected = null),
          (this.onTaskMove = null),
          (this.onTaskMoved = null),
          (this.onTaskMoving = null),
          (this.onTaskResize = null),
          (this.onTaskResized = null),
          (this.onTaskResizing = null),
          (this.onLinkCreate = null),
          (this.onLinkCreated = null),
          (this.t = function() {
            return (
              !!this.backendUrl ||
              !('function' != typeof WebForm_DoCallback || !this.uniqueID)
            );
          }),
          (this.ee = function() {
            if (
              ('string' == typeof n.startDate &&
                (n.startDate = new DayPilot.Date(n.startDate)),
              !n.startDate || !n.days)
            ) {
              for (
                var e = DayPilot.Date.today(),
                  t = e.addDays(1),
                  i = null,
                  o = null,
                  r = 0;
                r < n.tasks.list.length;
                r++
              ) {
                var l = n.tasks.list[r];
                (e = new DayPilot.Date(l.start)),
                  (t = new DayPilot.Date(l.end)),
                  (null === i || e.getTime() < i) && (i = e.getTime()),
                  (null === o || t.getTime() > o) && (o = t.getTime());
              }
              i && o
                ? ((e = new DayPilot.Date(i).getDatePart()),
                  (t = new DayPilot.Date(o).getDatePart().addDays(1)),
                  (a.startDate = n.startDate || e),
                  (a.days = n.days || DayPilot.DateUtil.daysDiff(e, t)))
                : ((a.startDate = e), (a.days = 30));
            }
          }),
          (this.commandCallBack = function(e, t) {
            l.translate(), a.commandCallBack(e, t);
          }),
          (this.message = function(e, t, i, n) {
            a.message(e, t, i, n);
          }),
          (this.setHeight = function(e) {
            a.setHeight(e);
          }),
          (this.Sd = function() {
            return !!this.backendUrl;
          }),
          (this.init = function() {
            return (
              l.translate(),
              l.ae(),
              l.be(),
              this.ee(),
              a.init(),
              (this.G = !0),
              this.Vd(),
              this
            );
          }),
          (this.Ld = !1),
          (this.dispose = function() {
            a.dispose(), (n.Ld = !0);
          }),
          (this.update = function(e) {
            if (n.Ld)
              throw new DayPilot.Exception(
                'This DayPilot.Gantt instance has been disposed.'
              );
            n.Md(e), l.translate(), l.ae(), l.be(), n.ee(), a.update();
          }),
          (this.scrollTo = function(e) {
            a.scrollTo(e);
          }),
          (this.scrollToTask = function(e) {
            a.scrollToResource(e);
          }),
          (this.fe = {});
        var r = this.fe;
        (r.cache = {}),
          (r.clearCache = function() {
            r.cache = {};
          }),
          (r.addToCache = function(e, t) {
            var i = e.id;
            if (i) {
              var n = {};
              if (
                ((n.isTaskWrapper = !0),
                (n.data = e),
                (n.parent = t),
                r.cache[i])
              )
                throw 'Duplicate task id detected';
              r.cache[i] = n;
            }
          }),
          (r.findInCache = function(e) {
            return e ? r.cache[e.toString()] : null;
          }),
          (r.getProperty = function(e, t) {
            return e.tags && e.tags[t] ? e.tags[t] : e[t];
          }),
          (r.findParentArray = function(e) {
            return r.findInArray(n.tasks.list, e);
          }),
          (r.findInArray = function(e, t) {
            if (DayPilot.indexOf(e, t) !== -1) return e;
            for (var i = 0; i < e.length; i++) {
              var n = e[i];
              if (n.children && n.children.length > 0) {
                var a = r.findInArray(n.children, t);
                if (a) return a;
              }
            }
            return null;
          }),
          (this.ge = {});
        var l = this.ge;
        (l.translate = function() {
          if (
            ((a.internal.gantt = n),
            (a.durationBarMode = 'PercentComplete'),
            (a.timeRangeSelectedHandling = 'Disabled'),
            (a.treeEnabled = !0),
            (a.rowCreateHtml = ''),
            (a.autoRefreshCommand = n.autoRefreshCommand),
            (a.autoRefreshEnabled = n.autoRefreshEnabled),
            (a.autoRefreshInterval = n.autoRefreshInterval),
            (a.autoRefreshMaxCount = n.autoRefreshMaxCount),
            (a.autoScroll = n.autoScroll),
            (a.backendUrl = n.backendUrl),
            (a.crosshairType = n.crosshairType),
            (a.doubleClickTimeout = n.doubleClickTimeout),
            (a.durationBarVisible = n.completeBarVisible),
            (a.durationBarHeight = n.completeBarHeight),
            (a.dynamicEventRendering = n.progressiveTaskRendering
              ? 'Progressive'
              : 'Disabled'),
            (a.dynamicEventRenderingMargin = n.progressiveTaskRenderingMargin),
            (a.dynamicEventRenderingCacheSweeping =
              n.progressiveTaskRenderingCacheSweeping),
            (a.dynamicEventRenderingCacheSize =
              n.progressiveTaskRenderingCacheSize),
            (a.startDate = new DayPilot.Date(n.startDate)),
            (a.days = n.days),
            (a.cellDuration = n.cellDuration),
            (a.cellGroupBy = n.cellGroupBy),
            (a.cellWidth = n.cellWidth),
            (a.cellWidthSpec = n.cellWidthSpec),
            (a.cornerHtml = n.cornerHtml),
            (a.eventHeight = n.taskHeight),
            (a.eventResizeMargin = n.taskResizeMargin),
            (a.floatingEvents = n.floatingTasks),
            (a.floatingTimeHeaders = n.floatingTimeHeaders),
            (a.headerHeight = n.headerHeight),
            (a.heightSpec = n.heightSpec),
            (a.height = n.height),
            (a.linkBottomMargin = n.linkBottomMargin),
            (a.linkPointSize = n.linkPointSize),
            (a.loadingLabelVisible = n.loadingLabelVisible),
            (a.loadingLabelText = n.loadingLabelText),
            (a.locale = n.locale),
            (a.messageBarPosition = n.messageBarPosition),
            (a.messageHideAfter = n.messageHideAfter),
            (a.rowCreateHandling = n.rowCreateHandling),
            (a.progressiveRowRendering = n.progressiveRowRendering),
            (a.progressiveRowRenderingPreload =
              n.progressiveRowRenderingPreload),
            (a.scale = n.scale),
            (a.scrollDelayEvents = n.scrollDelayTasks),
            (a.scrollDelayCells = n.scrollDelayCells),
            (a.scrollDelayFloats = n.scrollDelayFloats),
            (a.scrollX = n.scrollX),
            (a.scrollY = n.scrollY),
            n.scrollToTaskId && (a.scrollToResourceId = n.scrollToTaskId),
            (a.separators = n.separators),
            (a.tapAndHoldTimeout = n.tapAndHoldTimeout),
            (a.eventHtmlLeftMargin = n.taskHtmlLeftMargin),
            (a.eventHtmlRightMargin = n.taskHtmlRightMargin),
            (a.eventMovingStartEndEnabled = n.taskMovingStartEndEnabled),
            (a.eventMovingStartEndFormat = n.taskMovingStartEndFormat),
            (a.eventResizingStartEndEnabled = n.taskResizingStartEndEnabled),
            (a.eventResizingStartEndFormat = n.taskResizingStartEndFormat),
            (a.hideUntilInit = n.hideUntilInit),
            (a.treeIndent = n.treeIndent),
            (a.treeAutoExpand = n.treeAutoExpand),
            (a.treeImageMarginLeft = n.treeImageMarginLeft),
            (a.treeImageMarginTop = n.treeImageMarginTop),
            (a.treeImageMarginRight = n.treeImageMarginRight),
            (a.treeImageWidth = n.treeImageWidth),
            (a.treeImageHeight = n.treeImageHeight),
            (a.timeHeaders = n.timeHeaders),
            (a.rowHeaderHideIconEnabled = n.rowHeaderHideIconEnabled),
            (a.rowHeaderScrolling = n.rowHeaderScrolling),
            (a.rowHeaderSplitterWidth = n.rowHeaderSplitterWidth),
            (a.rowHeaderWidth = n.rowHeaderWidth),
            (a.rowHeaderWidthAutoFit = n.rowHeaderWidthAutoFit),
            (a.rowMarginBottom = n.rowMarginBottom),
            (a.rowMinHeight = n.rowMinHeight),
            (a.selectedRows = n.selectedRows),
            (a.theme = n.theme),
            (a.useEventBoxes = n.useEventBoxes),
            (a.snapToGrid = n.snapToGrid),
            (a.uniqueID = n.uniqueID),
            (a.bubble = n.bubbleTask),
            (a.cellBubble = n.bubbleCell),
            (a.resourceBubble = n.bubbleRow),
            (a.contextMenu = n.contextMenuTask),
            (a.contextMenuResource = n.contextMenuRow),
            (a.contextMenuLink = n.contextMenuLink),
            (a.syncResourceTree = n.syncTasks),
            (a.syncLinks = n.syncLinks),
            (a.timeline = n.timeline),
            (a.visible = n.visible),
            (a.devsb = n.devsb),
            (a.eventMoveHandling = n.taskMoveHandling),
            (a.eventClickHandling = n.taskClickHandling),
            (a.eventResizeHandling = n.taskResizeHandling),
            (a.linkCreateHandling = n.linkCreateHandling),
            (a.eventRightClickHandling = n.taskRightClickHandling),
            (a.eventDoubleClickHandling = n.taskDoubleClickHandling),
            (a.rowMoveHandling = n.rowMoveHandling),
            (a.rowClickHandling = n.rowClickHandling),
            (a.rowDoubleClickHandling = n.rowDoubleClickHandling),
            (a.rowEditHandling = n.rowEditHandling),
            (a.rowSelectHandling = n.rowSelectHandling),
            (a.eventVersionsEnabled = n.taskVersionsEnabled),
            (a.eventVersionHeight = n.taskVersionHeight),
            (a.eventVersionMargin = n.taskVersionMargin),
            (a.eventVersionPosition = n.taskVersionPosition),
            DayPilot.isArray(n.columns))
          ) {
            a.rowHeaderColumns = [];
            for (var e = 0; e < n.columns.length; e++) {
              var t = n.columns[e],
                i = {};
              DayPilot.Util.copyProps(t, i, ['title', 'width', 'html']),
                a.rowHeaderColumns.push(i);
            }
          }
          n.t() &&
            ((a.timeHeader = n.timeHeader),
            (a.cellProperties = n.cellProperties),
            (a.cellConfig = n.cellConfig)),
            (a.onRowCreate = function(e) {
              'function' == typeof n.onRowCreate && n.onRowCreate(e);
            }),
            (a.onRowCreated = function(e) {
              'function' == typeof n.onRowCreated && n.onRowCreated(e);
            }),
            (a.onAfterRender = function(e) {
              'function' == typeof n.onAfterRender && n.onAfterRender(e);
            }),
            (a.onAfterUpdate = function(e) {
              'function' == typeof n.onAfterUpdate && n.onAfterUpdate(e);
            }),
            (a.onRowHeaderResized = function(e) {
              n.rowHeaderWidth = a.rowHeaderWidth;
            }),
            (a.onAjaxError = function(e) {
              'function' == typeof n.onAjaxError && n.onAjaxError(e);
            }),
            (a.onRowHeaderColumnResized = function(e) {
              for (
                var t = e.column,
                  i = DayPilot.indexOf(a.rowHeaderColumns, t),
                  o = 0;
                o < n.columns.length;
                o++
              ) {
                var r = a.rowHeaderColumns[o];
                n.columns[o].width = r.width;
              }
              if ('function' == typeof n.onColumnResized) {
                var l = {};
                (l.column = n.columns[i]), n.onColumnResized(l);
              }
            }),
            (a.onBeforeRowHeaderRender = function(e) {
              e.task = new DayPilot.Task(e.row.$.row.task, n);
              var t = e.row.$.row.events[0];
              t &&
                'Auto' === n.taskGroupMode &&
                'Group' === t.data.type &&
                ((e.task.data.start = t.data.start),
                (e.task.data.end = t.data.end));
              var i = [];
              if (DayPilot.isArray(n.columns))
                for (var a = 0; a < n.columns.length; a++) {
                  var o = n.columns[a],
                    l = o.property,
                    s = {};
                  (s.value = r.getProperty(e.task.data, l)),
                    e.task.data.row &&
                    e.task.data.row.columns &&
                    e.task.data.row.columns[a]
                      ? (s.html = e.task.data.row.columns[a].html)
                      : (s.html = s.value),
                    i.push(s);
                }
              if (
                ((e.row.columns = i),
                'function' == typeof n.onBeforeRowHeaderRender &&
                  n.onBeforeRowHeaderRender(e),
                DayPilot.isArray(n.columns))
              )
                for (var a = 0; a < n.columns.length; a++) {
                  var d = i[a].html;
                  0 === a ? (e.row.html = d) : (e.row.columns[a - 1].html = d);
                }
            }),
            (a.onBeforeCellRender = function(e) {
              (e.task = n.tasks.find(e.cell.resource)),
                delete e.cell.resource,
                'function' == typeof n.onBeforeCellRender &&
                  n.onBeforeCellRender(e);
            }),
            (a.onBeforeTimeHeaderRender = function(e) {
              'function' == typeof n.onBeforeTimeHeaderRender &&
                n.onBeforeTimeHeaderRender(e);
            }),
            (a.onEventClick = function(e) {
              (e.task = new DayPilot.Task(e.e, n)),
                'function' == typeof n.onTaskClick && n.onTaskClick(e);
            }),
            (a.onEventClicked = function(e) {
              'function' == typeof n.onTaskClicked && n.onTaskClicked(e);
            }),
            (a.onEventDelete = function(e) {
              'function' == typeof n.onTaskDelete && n.onTaskDelete(e);
            }),
            (a.onEventDeleted = function(e) {
              'function' == typeof n.onTaskDeleted && n.onTaskDeleted(e);
            }),
            (a.onEventDoubleClick = function(e) {
              (e.task = new DayPilot.Task(e.e, n)),
                'function' == typeof n.onTaskDoubleClick &&
                  n.onTaskDoubleClick(e);
            }),
            (a.onEventDoubleClicked = function(e) {
              'function' == typeof n.onTaskDoubleClicked &&
                n.onTaskDoubleClicked(e);
            }),
            (a.onEventRightClick = function(e) {
              (e.task = new DayPilot.Task(e.e, n)),
                'function' == typeof n.onTaskRightClick &&
                  n.onTaskRightClick(e);
            }),
            (a.onEventRightClicked = function(e) {
              'function' == typeof n.onTaskRightClicked &&
                n.onTaskRightClicked(e);
            }),
            (a.onRowMoving = function(e) {
              (e.je = e.source),
                (e.ke = e.target),
                (e.source = new DayPilot.Task(e.je.$.row.task, n)),
                (e.target = new DayPilot.Task(e.ke.$.row.task, n)),
                'function' == typeof n.onRowMoving && n.onRowMoving(e);
            }),
            (a.onRowMove = function(e) {
              (e.je = e.source),
                (e.ke = e.target),
                (e.source = new DayPilot.Task(e.je.$.row.task, n)),
                (e.target = new DayPilot.Task(e.ke.$.row.task, n)),
                'function' == typeof n.onRowMove && n.onRowMove(e),
                (e.source = e.je),
                (e.target = e.ke);
            }),
            (a.onRowMoved = function(e) {
              if (
                'Update' === n.rowMoveHandling ||
                'Notify' === n.rowMoveHandling
              ) {
                var t = e.je.$.row.task,
                  i = e.ke.$.row.task,
                  a = e.position;
                if ('forbidden' === a) return;
                var o = e.je.calendar.internal.gantt,
                  l = o.fe.findParentArray(t);
                if (!l) throw 'Cannot find source node parent';
                var s = DayPilot.indexOf(l, t);
                l.splice(s, 1);
                var d = r.findParentArray(i);
                if (!d) throw 'Cannot find target node parent';
                var c = DayPilot.indexOf(d, i);
                switch (a) {
                  case 'before':
                    d.splice(c, 0, t);
                    break;
                  case 'after':
                    d.splice(c + 1, 0, t);
                    break;
                  case 'child':
                    i.children || ((i.children = []), (i.expanded = !0)),
                      i.children.push(t);
                }
                n.Hd.notify(), n.update(), o !== n && o.update();
              }
              (e.source = new DayPilot.Task(e.je.$.row.task, n)),
                (e.target = new DayPilot.Task(e.ke.$.row.task, n)),
                'function' == typeof n.onRowMoved && n.onRowMoved(e);
            }),
            (a.onRowClick = function(e) {
              (e.task = new DayPilot.Task(e.resource.$.row.task, n)),
                'function' == typeof n.onRowClick && n.onRowClick(e);
            }),
            (a.onRowClicked = function(e) {
              'function' == typeof n.onRowClicked && n.onRowClicked(e);
            }),
            (a.onRowDoubleClick = function(e) {
              (e.task = new DayPilot.Task(e.resource.$.row.task, n)),
                'function' == typeof n.onRowDoubleClick &&
                  n.onRowDoubleClick(e);
            }),
            (a.onRowDoubleClicked = function(e) {
              'function' == typeof n.onRowDoubleClicked &&
                n.onRowDoubleClicked(e);
            }),
            (a.onRowEdit = function(e) {
              (e.task = new DayPilot.Task(e.resource.$.row.task, n)),
                'function' == typeof n.onRowEdit && n.onRowEdit(e);
            }),
            (a.onRowEdited = function(e) {
              'function' == typeof n.onRowEdited && n.onRowEdited(e);
            }),
            (a.onRowSelect = function(e) {
              (e.task = new DayPilot.Task(e.row.$.row.task, n)),
                'function' == typeof n.onRowSelect && n.onRowSelect(e);
            }),
            (a.onRowSelected = function(e) {
              'function' == typeof n.onRowSelected && n.onRowSelected(e);
            }),
            (a.onEventMove = function(e) {
              (e.le = e.e),
                (e.task = new DayPilot.Task(e.e, n)),
                'function' == typeof n.onTaskMove && n.onTaskMove(e);
            }),
            (a.onEventMoved = function(e) {
              if ('Auto' === n.taskGroupMode) {
                var t = e.le,
                  i = t.data.task;
                for (i.start = t.start(), i.end = t.end(); t.data.parent; ) {
                  var o = a.events.find(t.data.parent.id),
                    r = l.childrenStartEnd(t.data.parent);
                  o.start(r.start), o.end(r.end), a.events.update(o), (t = o);
                }
              }
              n.Hd.notify(),
                'function' == typeof n.onTaskMoved && n.onTaskMoved(e);
            }),
            (a.onEventMoving = function(e) {
              (e.task = new DayPilot.Task(e.e, n)),
                (e.le = e.e),
                delete e.position,
                delete e.overlapping,
                delete e.resource,
                'function' == typeof n.onTaskMoving && n.onTaskMoving(e);
            }),
            (a.onEventResize = function(e) {
              (e.le = e.e),
                (e.task = new DayPilot.Task(e.e, n)),
                'function' == typeof n.onTaskResize && n.onTaskResize(e);
            }),
            (a.onEventResized = function(e) {
              if ('Auto' === n.taskGroupMode) {
                var t = e.le,
                  i = t.data.task;
                for (i.start = t.start(), i.end = t.end(); t.data.parent; ) {
                  var o = a.events.find(t.data.parent.id),
                    r = l.childrenStartEnd(t.data.parent);
                  o.start(r.start), o.end(r.end), a.events.update(o), (t = o);
                }
              }
              n.Hd.notify(),
                'function' == typeof n.onTaskResized && n.onTaskResized(e);
            }),
            (a.onEventResizing = function(e) {
              (e.task = new DayPilot.Task(e.e, n)),
                (e.le = e.e),
                'function' == typeof n.onTaskResizing && n.onTaskResizing(e);
            }),
            (a.onLinkCreate = function(e) {
              (e.source = n.tasks.find(e.from)),
                (e.target = n.tasks.find(e.to)),
                'function' == typeof n.onLinkCreate && n.onLinkCreate(e);
            }),
            (a.onLinkCreated = function(e) {
              'function' == typeof n.onLinkCreated && n.onLinkCreated(e);
            }),
            (a.onResourceExpand = function(e) {
              var t = e.resource.$.row.task;
              t.row || (t.row = {}), (t.row.collapsed = !1);
            }),
            (a.onResourceCollapse = function(e) {
              var t = e.resource.$.row.task;
              t.row || (t.row = {}), (t.row.collapsed = !0);
            });
        }),
          (l.me = function(e) {
            for (var t = 0; t < a.rowlist.length; t++) {
              var i = a.rowlist[t];
              if (i.task === e) return a.internal.createRowObject(i);
            }
            return null;
          }),
          (l.be = function() {
            a.links.list = n.links.list ? n.links.list : [];
          }),
          (l.ae = function() {
            (a.resources = []),
              (a.events.list = []),
              r.clearCache(),
              l.ne(n.tasks.list, a.resources, null),
              s.sheet && (s.sheet.commit(), (s.sheet = null));
          }),
          (l.oe = function(e) {
            var t = e.type || 'Task';
            e.children && e.children.length && (t = 'Group');
            var i = {};
            for (var a in e) 'children' !== a && (i[a] = e[a]);
            var o = {};
            if (
              ((o.data = i),
              (o.type = t),
              i.box || (i.box = {}),
              'undefined' == typeof i.box.html)
            )
              if ('Task' === o.type) {
                var r = i.complete || 0;
                i.box.text = r + '%';
              } else i.box.text = '';
            return (
              'undefined' == typeof i.box.htmlRight &&
                (i.box.htmlRight = i.text),
              'function' == typeof n.onBeforeTaskRender &&
                n.onBeforeTaskRender(o),
              (o.type = t),
              o
            );
          });
        var s = {};
        (s.keys = {}),
          (s.sheet = null),
          (l.pe = function(e) {
            if (
              e.data.box &&
              !e.data.box.cssClass &&
              e.data.box.backColor &&
              'Task' !== e.type
            ) {
              var t = DayPilot.Util.normalizeColor(e.data.box.backColor),
                i = e.type + '_' + t.replace('#', ''),
                a = n.theme,
                o = n.theme + '_' + i;
              return (
                s.keys[i] ||
                  ((s.keys[i] = !0),
                  s.sheet || (s.sheet = DayPilot.sheet()),
                  'Group' === e.type
                    ? (s.sheet.add(
                        '.' +
                          o +
                          '.' +
                          a +
                          '_task_group .' +
                          a +
                          '_event_inner',
                        'position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: ' +
                          t +
                          '; filter: none; border: 0px none;'
                      ),
                      s.sheet.add(
                        '.' +
                          o +
                          '.' +
                          a +
                          '_task_group.' +
                          a +
                          '_event:before',
                        "content:''; border-color: transparent transparent transparent " +
                          t +
                          '; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;'
                      ),
                      s.sheet.add(
                        '.' + o + '.' + a + '_task_group.' + a + '_event:after',
                        "content:''; border-color: transparent " +
                          t +
                          ' transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;'
                      ))
                    : 'Milestone' === e.type &&
                      (s.sheet.add(
                        '.' +
                          o +
                          '.' +
                          a +
                          '_task_milestone .' +
                          a +
                          '_event_inner',
                        'position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: ' +
                          t +
                          '; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;'
                      ),
                      s.sheet.add(
                        '.' +
                          o +
                          '.' +
                          a +
                          '_browser_ie8 .' +
                          a +
                          '_task_milestone .' +
                          a +
                          '_event_inner',
                        '-ms-filter: "progid:DXImageTransform.Microsoft.Matrix(SizingMethod=\'auto expand\', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476);"'
                      ))),
                o
              );
            }
          }),
          (l.ne = function(t, i, o) {
            if (DayPilot.isArray(t))
              for (var s = 0; s < t.length; s++) {
                var d = t[s];
                r.addToCache(d, o);
                var c = l.oe(d),
                  h = c.data,
                  u = c.type,
                  f = {};
                if (
                  (DayPilot.Util.copyProps(h, f, [
                    'id',
                    'start',
                    'end',
                    'text',
                    'complete',
                    'tags',
                    'versions'
                  ]),
                  DayPilot.Util.copyProps(h.box, f),
                  (f.parent = o),
                  (f.task = d),
                  (f.resource = h.id),
                  (f.commitCallback = (function(e) {
                    return function() {
                      (e.task.start = e.start), (e.task.end = e.end);
                    };
                  })(f)),
                  'Group' == u)
                ) {
                  (f.type = 'Group'), (f.html = '');
                  var v = l.pe(c);
                  if (
                    (v && (f.cssClass = (f.cssClass || '') + ' ' + v),
                    delete f.backColor,
                    'Auto' === n.taskGroupMode)
                  ) {
                    var p = l.childrenStartEnd(d);
                    (f.start = p.start),
                      (f.end = p.end),
                      (f.resizeDisabled = !0),
                      (f.moveDisabled = !0);
                  }
                } else if ('Milestone' === u) {
                  (f.html = ''), (d.end = d.start);
                  var v = l.pe(c);
                  v && (f.cssClass = (f.cssClass || '') + ' ' + v),
                    (h.end = h.start),
                    (f.end = h.start),
                    (f.barHidden = !0),
                    (f.resizeDisabled = !0),
                    (f.type = 'Milestone'),
                    (f.width = n.taskHeight),
                    delete f.backColor;
                } else 'Task' === u && e();
                (f.moveVDisabled = !0),
                  (f.htmlRight = h.box.htmlRight),
                  (f.htmlLeft = h.box.htmlLeft),
                  a.events.list.push(f);
                var g = {};
                (g.task = d),
                  DayPilot.Util.copyProps(h.row, g),
                  (g.name = h.text),
                  (g.id = h.id),
                  (g.children = []),
                  (g.expanded = !h.row || !h.row.collapsed),
                  d.children &&
                    d.children.length &&
                    l.ne(d.children, g.children, d),
                  i.push(g);
              }
          }),
          (l.childrenStartEnd = function(e) {
            if (!e.children || !e.children.length) {
              var t = e.start,
                i = e.end;
              return (
                'Milestone' === e.type && (i = t),
                { start: new DayPilot.Date(t), end: new DayPilot.Date(i) }
              );
            }
            for (var t = null, i = null, n = 0; n < e.children.length; n++) {
              var a = l.childrenStartEnd(e.children[n]);
              (!t || a.start.getTime() < t.getTime()) && (t = a.start),
                (!i || a.end.getTime() > i.getTime()) && (i = a.end);
            }
            return { start: t, end: i };
          }),
          (this.rows = {}),
          (this.rows.expand = function(e) {
            a.rows.expand(e);
          }),
          (this.rows.expandAll = function() {
            a.rows.expandAll();
          }),
          (this.rows.selection = {}),
          (this.rows.selection.add = function(e) {
            a.rows.find(e.data.id);
          }),
          (this.rows.selection.clear = function() {
            a.rows.selection.clear();
          }),
          (this.rows.selection.get = function() {
            return a.rows.selection.get().map(function(e) {
              return new DayPilot.Task(e.$.row.task, n);
            });
          }),
          (this.exportAs = function(e, t) {
            return a.exportAs(e, t);
          }),
          (this.Wd = null),
          (this.Md = function(e) {
            if (e) {
              var t = {
                tasks: {
                  preInit: function() {
                    var e = this.data;
                    e &&
                      (DayPilot.isArray(e.list)
                        ? (n.tasks.list = e.list)
                        : (n.tasks.list = e));
                  }
                },
                links: {
                  preInit: function() {
                    var e = this.data;
                    e &&
                      (DayPilot.isArray(e.list)
                        ? (n.links.list = e.list)
                        : (n.links.list = e));
                  }
                },
                scrollTo: {
                  postInit: function() {
                    this.data && n.scrollTo(this.data);
                  }
                },
                scrollToTask: {
                  postInit: function() {
                    this.data && n.scrollToTask(this.data);
                  }
                }
              };
              this.Wd = t;
              for (var i in e)
                if (t[i]) {
                  var a = t[i];
                  (a.data = e[i]), a.preInit && a.preInit();
                } else n[i] = e[i];
            }
          }),
          (this.Vd = function() {
            var e = this.Wd;
            for (var t in e) {
              var i = e[t];
              i.postInit && i.postInit();
            }
          }),
          (this.internal = {}),
          (this.internal.initialized = function() {
            return n.G;
          }),
          (this.internal.rowObjectForTaskData = l.me),
          (this.internal.loadOptions = n.Md),
          (this.Hd = {}),
          (this.Hd.scope = null),
          (this.Hd.notify = function() {
            n.Hd.scope && n.Hd.scope['$apply']();
          }),
          this.Md(i);
      }),
        'undefined' != typeof jQuery &&
          !(function(e) {
            e.fn.daypilotGantt = function(e) {
              var t = null,
                i = this.each(function() {
                  if (!this.daypilot) {
                    var i = new DayPilot.Gantt(this.id, e);
                    i.init(), (this.daypilot = i), t || (t = i);
                  }
                });
              return 1 === this.length ? t : i;
            };
          })(jQuery),
        (function() {
          var e = DayPilot.am();
          e &&
            e.directive('daypilotGantt', [
              '$parse',
              function(e) {
                return {
                  restrict: 'E',
                  template: "<div id='{{id}}'></div>",
                  compile: function(t, i) {
                    return (
                      t.replaceWith(
                        this['template'].replace('{{id}}', i['id'])
                      ),
                      function(t, i, n) {
                        var a = new DayPilot.Gantt(i[0]);
                        (a.Hd.scope = t), a.init();
                        var o = n['id'];
                        o && (t[o] = a);
                        var r = n['publishAs'];
                        if (r) {
                          (0, e(r).assign)(t, a);
                        }
                        for (var l in n)
                          if (0 === l.indexOf('on')) {
                            var s = DayPilot.Util.shouldApply(l);
                            s
                              ? !(function(i) {
                                  a[i] = function(a) {
                                    var o = e(n[i]);
                                    t['$apply'](function() {
                                      o(t, { args: a });
                                    });
                                  };
                                })(l)
                              : !(function(i) {
                                  a[i] = function(a) {
                                    e(n[i])(t, { args: a });
                                  };
                                })(l);
                          }
                        var d = t['$watch'],
                          c = n['config'] || n['daypilotConfig'];
                        d.call(
                          t,
                          c,
                          function(e, t) {
                            a.Md(e), a.update();
                          },
                          !0
                        );
                      }
                    );
                  }
                };
              }
            ]);
        })(),
        'undefined' != typeof Sys &&
          Sys.Application &&
          Sys.Application.notifyScriptLoaded &&
          Sys.Application.notifyScriptLoaded();
    }
  })(),
  'undefined' == typeof DayPilot)
)
  var DayPilot = {};
if (
  ('undefined' == typeof DayPilot.Global && (DayPilot.Global = {}),
  (function() {
    if ('undefined' == typeof DayPilot.Kanban) {
      var e = function() {};
      (DayPilot.Kanban = function(t, i) {
        this.v = '2019.3.3913';
        var n = this;
        (this.barWidth = 5),
          (this.cardAutoHeight = !0),
          (this.cardHeight = 60),
          (this.cardMarginLeft = 5),
          (this.cardMarginRight = 5),
          (this.cardMarginBottom = 5),
          (this.columnHeaderHeight = 20),
          (this.crosshairType = 'Disabled'),
          (this.height = 300),
          (this.heightSpec = 'Auto'),
          (this.theme = 'kanban_default'),
          (this.cellMarginBottom = 4),
          (this.cellMarginTop = 5),
          (this.columnWidthSpec = 'Auto'),
          (this.columnWidth = 200),
          (this.cornerHtml = null),
          (this.contextMenuCard = null),
          (this.rowMinHeight = 0),
          (this.swimlaneCollapsingEnabled = !1),
          (this.swimlaneHeaderWidth = 80),
          (this.visible = !0),
          (this.swimlanes = {}),
          (this.swimlanes.list = []),
          (this.columns = {}),
          (this.columns.list = []),
          (this.cards = {}),
          (this.cards.list = []),
          (this.cardDeleteHandling = 'Disabled'),
          (this.cardMoveHandling = 'Update'),
          (this.columnMoveHandling = 'Disabled'),
          (this.swimlaneMoveHandling = 'Disabled'),
          (this.cardRightClickHandling = 'ContextMenu'),
          (this.onBeforeCellRender = null),
          (this.onCardClick = null),
          (this.onCardClicked = null),
          (this.onCardRightClick = null),
          (this.onCardRightClicked = null),
          (this.onCardDelete = null),
          (this.onCardDeleted = null),
          (this.onCardMove = null),
          (this.onCardMoved = null),
          (this.onColumnMove = null),
          (this.onColumnMoved = null),
          (this.onHeightChanged = null),
          (this.onSwimlaneMove = null),
          (this.onSwimlaneMoved = null);
        var a = new DayPilot.Scheduler(t);
        this.scheduler = a;
        var o = {},
          r = 15,
          l = 15;
        e();
        var s = new DayPilot.Date('2000-01-01');
        (o.translate = function() {
          var e = a;
          (e.startDate = s),
            (e.scale = 'Day'),
            (e.timeHeaders = [{ groupBy: 'Cell', format: 'd' }]),
            (e.heightSpec = n.heightSpec),
            (e.cellWidthSpec = n.columnWidthSpec),
            (e.cellWidth = n.columnWidth),
            (e.cellsMarkBusiness = !1),
            (e.cornerHtml = n.cornerHtml),
            (e.crosshairType = n.crosshairType),
            (e.dynamicEventRendering = 'Disabled'),
            (e.floatingEvents = !1),
            (e.floatingTimeHeaders = !1),
            (e.rowMinHeight = n.rowMinHeight),
            (e.rowMarginTop = n.cellMarginTop),
            (e.rowMarginBottom = n.cellMarginBottom),
            (e.devsb = n.devsb),
            (e.eventMoveToPosition = !0),
            (e.headerHeight = n.columnHeaderHeight),
            (e.eventResizeHandling = 'Disabled'),
            (e.timeRangeSelectedHandling = 'Disabled'),
            (e.eventHeight = n.cardHeight),
            (e.eventMarginLeft = n.cardMarginLeft),
            (e.eventMarginRight = n.cardMarginRight),
            (e.eventMarginBottom = n.cardMarginBottom),
            (e.eventTextWrappingEnabled = !0),
            (e.durationBarVisible = !1),
            (e.theme = n.theme),
            (e.visible = n.visible),
            (e.rowHeaderWidth = n.swimlaneHeaderWidth),
            (e.contextMenu = n.contextMenuCard),
            (e.eventDeleteHandling = n.cardDeleteHandling),
            (e.eventMoveHandling = n.cardMoveHandling),
            (e.rowMoveHandling = DayPilot.list(n.swimlanes.list).isEmpty()
              ? 'Disabled'
              : n.swimlaneMoveHandling),
            (e.eventRightClickHandling = n.cardRightClickHandling),
            (e.onHeightChanged = n.onHeightChanged),
            e.internal.enableCellStacking(n.cardAutoHeight),
            (e.internal.cssNames.timeheadercol = '_colheadercell'),
            (e.internal.cssNames.timeheadercolInner = '_colheadercell_inner'),
            (e.internal.cssNames.resourcedivider = '_rowheaderdivider'),
            (e.internal.cssNames.event = '_card'),
            (e.internal.cssNames.eventInner = '_card_inner'),
            (e.internal.cssNames.eventDelete = '_card_delete'),
            (e.internal.cssNames.eventMovingSource = '_card_moving_source'),
            n.swimlaneCollapsingEnabled && (e.rowHeaderWidthMarginRight = 15),
            (e.onBeforeTimeHeaderRender = function(e) {
              var t = n.qe(e.header.start);
              if (
                ((e.header.html = t.name),
                (e.header.toolTip = t.toolTip || ''),
                (e.header.areas = DayPilot.list(t.areas).map(function(e) {
                  var t = [];
                  return DayPilot.Util.copyProps(e, t), t;
                })),
                DayPilot.list(e.header.areas).each(function(e) {
                  e.target = new DayPilot.Column(t, n);
                }),
                'Disabled' !== n.columnMoveHandling)
              ) {
                var i = n.theme + '_columnmove_handle';
                e.header.areas.push({
                  left: 0,
                  top: 0,
                  width: 20,
                  height: 20,
                  css: i,
                  mousedown: n.se,
                  action: 'None'
                });
              }
            }),
            (e.onBeforeCellRender = function(t) {
              var i = {};
              (i.cell = {}),
                (i.cell.column = new DayPilot.Column(n.qe(t.cell.start), n)),
                (i.cell.swimlane = null);
              var a = n.te(t.cell.resource);
              a && (i.cell.swimlane = new DayPilot.Swimlane(a, n)),
                (i.cell.areas = []),
                (i.cell.cssClass = null),
                (i.cell.html = null),
                (i.cell.backImage = null),
                (i.cell.backRepeat = null),
                (i.cell.backColor = null),
                'function' == typeof n.onBeforeCellRender &&
                  (n.onBeforeCellRender(i),
                  DayPilot.Util.copyProps(i.cell, t.cell, [
                    'areas',
                    'cssClass',
                    'html',
                    'backImage',
                    'backRepeat',
                    'backColor'
                  ]),
                  DayPilot.list(t.cell.areas).each(function(e) {
                    e.target = {
                      swimlane: i.cell.swimlane,
                      column: i.cell.column
                    };
                  }));
              var o = e.rows.find(t.cell.resource);
              e.resources[o.index].collapsed &&
                (t.cell.cssClass || (t.cell.cssClass = ''),
                (t.cell.cssClass += ' ' + n.theme + '_collapsed'));
            }),
            (e.onEventClick = function(e) {
              var t = new DayPilot.Args(e);
              (t.card = new DayPilot.Card(e.e.data.card, n)),
                'function' == typeof n.onCardClick && n.onCardClick(t),
                (e.wrapped = t);
            }),
            (e.onEventClicked = function(e) {
              var t = e.wrapped;
              'function' == typeof n.onCardClicked && n.onCardClicked(t);
            }),
            (e.onEventRightClick = function(e) {
              var t = new DayPilot.Args(e);
              if (
                ((t.card = new DayPilot.Card(e.e.data.card, n)),
                'function' == typeof n.onCardRightClick &&
                  n.onCardRightClick(t),
                (e.wrapped = t),
                !e.preventDefault.value)
              ) {
                var i = e.e,
                  a = t.card;
                switch (n.cardRightClickHandling) {
                  case 'ContextMenu':
                    var o = i.client.contextMenu();
                    o
                      ? o.show(a)
                      : n.contextMenuCard && n.contextMenuCard.show(a),
                      e.preventDefault();
                }
              }
            }),
            (e.onEventRightClicked = function(e) {
              var t = e.wrapped;
              'function' == typeof n.onCardRightClicked &&
                n.onCardRightClicked(t);
            }),
            (e.onEventDelete = function(e) {
              var t = new DayPilot.Args(e);
              (t.card = new DayPilot.Card(e.e.data.card, n)),
                'function' == typeof n.onCardDelete && n.onCardDelete(t),
                (e.wrapped = t);
            }),
            (e.onEventDeleted = function(e) {
              DayPilot.rfa(n.cards.list, e.e.data.card);
              var t = e.wrapped;
              'function' == typeof n.onCardDeleted && n.onCardDeleted(t);
            }),
            (e.onEventMove = function(e) {
              e.external &&
                (e.e.data.card = {
                  id: e.e.data.id,
                  name: e.e.data.name,
                  text: e.e.data.text,
                  barColor: e.e.data.barColor,
                  barBackColor: e.e.data.barBackColor
                });
              var t = new DayPilot.Args(e);
              (t.card = new DayPilot.Card(e.e.data.card, n)),
                (t.column = new DayPilot.Column(n.qe(e.newStart))),
                (t.position = e.position),
                (t.external = e.external),
                '*' !== e.newResource
                  ? (t.swimlane = new DayPilot.Swimlane(n.te(e.newResource), n))
                  : (t.swimlane = null);
              for (
                var i = a.cells.find(e.newStart, e.newResource)[0].events(),
                  r = e.position,
                  l = null,
                  s = r - 1;
                i[s];

              ) {
                if (i[s].data !== e.e.data) {
                  l = new DayPilot.Card(i[s]);
                  break;
                }
                s -= 1;
              }
              for (var d = null, c = r; i[c]; ) {
                if (i[c].data !== e.e.data) {
                  d = new DayPilot.Card(i[c]);
                  break;
                }
                c += 1;
              }
              if (
                ((t.previous = l),
                (t.next = d),
                'function' == typeof n.onCardMove && n.onCardMove(t),
                (e.wrapped = t),
                e.preventDefault(),
                !t.preventDefault.value)
              ) {
                switch (n.cardMoveHandling) {
                  case 'Update':
                    var h = 0;
                    d
                      ? (h = d.wrapped.data.sort[0])
                      : l && (h = l.wrapped.data.sort[0]),
                      (e.e.data.sort = [h, new DayPilot.Date().toString()]),
                      DayPilot.rfa(n.cards.list, e.e.data.card);
                    var u = 0;
                    d
                      ? (u = DayPilot.indexOf(n.cards.list, d.data))
                      : l && (u = DayPilot.indexOf(n.cards.list, l.data) + 1);
                    var f = n.qe(e.newStart);
                    (e.e.data.card.column = f.id),
                      (e.e.data.card.swimlane = e.newResource),
                      n.cards.list.splice(u, 0, e.e.data.card),
                      o.updateSort(),
                      a.internal.deleteDragSource(),
                      n.update();
                }
                !(function() {
                  var t = e.wrapped,
                    i = DayPilot.list(n.cards.list).find(function(t) {
                      return e.e.data.card === t;
                    });
                  (i.swimlane = t.swimlane ? t.swimlane.data.id : null),
                    (i.column = t.column.data.id),
                    'function' == typeof n.onCardMoved && n.onCardMoved(t);
                })();
              }
            }),
            (e.onBeforeResHeaderRender = function(e) {
              if (n.swimlaneCollapsingEnabled) {
                if (!DayPilot.list(n.swimlanes.list).isEmpty()) {
                  var t = n.theme + '_swimlane_collapse';
                  e.resource.collapsed && (t = n.theme + '_swimlane_expand'),
                    (e.resource.areas = [
                      {
                        right: 0,
                        top: 0,
                        height: l,
                        width: r,
                        action: 'JavaScript',
                        css: t,
                        js: function() {
                          n.ve(e.resource.index);
                        }
                      }
                    ]);
                }
              }
            }),
            (e.onRowMove = function(e) {
              var t = new DayPilot.Args(e);
              (e.wrapped = t),
                (t.swimlane = new DayPilot.Swimlane(e.source.$.row.swimlane));
              var i = 0;
              switch (e.position) {
                case 'before':
                  i = e.target.index;
                  break;
                case 'after':
                  i = e.target.index + 1;
                  break;
                default:
                  throw 'Unexpected target swimlane position: ' + e.position;
              }
              (t.position = i), (t.previous = null);
              for (
                var o = i - 1;
                a.rowlist[o] && a.rowlist[o].swimlane !== t.swimlane.data;

              )
                (t.previous = new DayPilot.Swimlane(a.rowlist[o].swimlane)),
                  (o -= 1);
              t.next = null;
              for (
                var r = i;
                a.rowlist[r] && a.rowlist[r].swimlane !== t.swimlane.data;

              )
                (t.next = new DayPilot.Swimlane(a.rowlist[r].swimlane)),
                  (r += 1);
              'function' == typeof n.onSwimlaneMove && n.onSwimlaneMove(t);
            }),
            (e.onRowMoved = function(e) {
              var t = e.wrapped;
              DayPilot.rfa(n.swimlanes.list, t.swimlane.data);
              var i = 0;
              t.next
                ? (i = DayPilot.indexOf(n.swimlanes.list, t.next.data))
                : t.previous &&
                  (i = DayPilot.indexOf(n.swimlanes.list, t.previous.data) + 1),
                n.swimlanes.list.splice(i, 0, t.swimlane.data),
                'function' == typeof n.onSwimlaneMoved && n.onSwimlaneMoved(t);
            }),
            (e.treePreventParentUsage = !0);
        }),
          (o.loadCards = function() {
            var e = n.theme + '_card_header',
              t = n.theme + '_card_body',
              i = new DayPilot.Date().toString();
            (a.sortDirections = ['asc', 'desc']),
              (a.events.list = DayPilot.list(n.cards.list).map(function(a, o) {
                var r = a.html || a.text || '',
                  l = a.name || '',
                  d = {};
                return (
                  (d.id = a.id),
                  (d.text = a.text),
                  (d.html =
                    "<div class='" +
                    e +
                    "'>" +
                    l +
                    "</div><div class='" +
                    t +
                    "'>" +
                    r +
                    '</div>'),
                  (d.resource = a.swimlane),
                  (d.start = s.addDays(
                    DayPilot.list(n.columns.list).findIndex(function(e) {
                      return a.column === e.id;
                    })
                  )),
                  (d.end = d.start.addDays(1)),
                  (d.card = a),
                  (d.height = a.height),
                  (d.cssClass = a.cssClass),
                  (d.sort = [o, i]),
                  (d.areas = DayPilot.list(a.areas).map(function(e) {
                    var t = {};
                    return (
                      DayPilot.Util.copyProps(e, t),
                      e.js &&
                        (t.js = function(t) {
                          e.js(new DayPilot.Card(t.data.card, n));
                        }),
                      t
                    );
                  })),
                  d.areas.push({
                    left: 0,
                    width: 5,
                    top: 0,
                    bottom: 0,
                    backColor: a.barColor,
                    cssClass: n.theme + '_card_bar'
                  }),
                  d
                );
              }));
          }),
          (o.updateSort = function() {
            var e = new DayPilot.Date().toString();
            DayPilot.list(n.cards.list).each(function(t, i) {
              var n = o.findSchedulerEventData(t);
              n && (n.sort = [i, e]);
            });
          }),
          (o.findSchedulerEventData = function(e) {
            return DayPilot.list(a.events.list).find(function(t) {
              return t.card === e;
            });
          }),
          (o.loadSwimlanes = function() {
            var e = DayPilot.list(n.swimlanes.list);
            (a.resources = e.map(function(e) {
              var t = {};
              return (
                (t.name = e.name),
                (t.id = e.id),
                (t.swimlane = e),
                e.collapsed &&
                  ((t.collapsed = !0),
                  (t.eventHeight = 20),
                  (t.hideEvents = !0)),
                t
              );
            })),
              e.isEmpty() && (a.resources = [{ name: '', id: '*' }]);
          }),
          (o.loadColumns = function() {
            var e = DayPilot.list(n.columns.list);
            a.days = e.length;
          });
        var d = {};
        (d.active = null),
          (d.div = null),
          (d.update = function() {
            d.clear();
            var e = d.findPosition();
            d.draw(e);
          }),
          (d.clear = function() {
            DayPilot.de(d.div), (d.div = null);
          }),
          (d.draw = function(e) {
            var t = 0;
            if (e >= a.itline.length) {
              var i = a.itline[a.itline.length - 1];
              t = i.left + i.width - 3;
            } else t = a.itline[e].left;
            var o = document.createElement('div');
            (o.style.position = 'absolute'),
              (o.style.left = t + 'px'),
              (o.style.width = '3px'),
              (o.style.top = 0),
              (o.style.height = a.headerHeight + 'px'),
              (o.className = n.theme + '_columnmove_position'),
              (d.div = o),
              a.nav.timeHeader.appendChild(o);
          }),
          (d.findPosition = function() {
            if (n.coords.x < 0) return 0;
            var e = DayPilot.list(a.itline).findIndex(function(e) {
              var t = e.left + a.rowHeaderWidth,
                i = e.width;
              return n.coords.x < t + i / 2;
            });
            return e === -1 ? a.itline.length : e;
          }),
          (this.se = function(e) {
            d.active = e;
          }),
          (this.qe = function(e) {
            return n.columns.list[DayPilot.DateUtil.daysDiff(s, e)];
          }),
          (this.te = function(e) {
            return DayPilot.list(n.swimlanes.list).find(function(t) {
              return t.id === e;
            });
          }),
          (this.message = function(e, t, i, n) {
            a.message(e, t, i, n);
          }),
          (this.show = function() {
            (n.visible = !0), a.show();
          }),
          (this.hide = function() {
            (n.visible = !1), a.hide();
          }),
          (this.cards.add = function(e) {
            var t = null;
            (t = e && e instanceof DayPilot.Card ? e.data : e),
              e && (n.cards.list.push(t), n.update());
          }),
          (this.cards.remove = function(e) {
            var t = null;
            (t = e && e instanceof DayPilot.Card ? e.data : e),
              e && (DayPilot.rfa(n.cards.list, t), n.update());
          }),
          (this.cards.update = function(e) {
            n.update();
          }),
          (this.cards.find = function(e) {
            var t = DayPilot.list(n.cards.list).find(function(t) {
              return e === t.id;
            });
            return t ? new DayPilot.Card(t, n) : null;
          }),
          (this.ve = function(e) {
            DayPilot.list(n.swimlanes.list).isEmpty() ||
              (n.swimlanes.list[e].collapsed = !n.swimlanes.list[e].collapsed),
              n.update();
          }),
          (this.init = function() {
            return (
              o.translate(),
              o.loadSwimlanes(),
              o.loadColumns(),
              o.loadCards(),
              a.init(),
              n.ud(),
              (this.G = !0),
              this
            );
          }),
          (this.Ld = !1),
          (this.dispose = function() {
            a.dispose(), (n.Ld = !0);
          }),
          (this.update = function(e) {
            if (n.Ld)
              throw new DayPilot.Exception(
                'This DayPilot.Gantt instance has been disposed.'
              );
            n.Md(e),
              o.translate(),
              o.loadSwimlanes(),
              o.loadColumns(),
              o.loadCards(),
              a.update();
          }),
          (this.ud = function() {
            DayPilot.re(document, 'mouseup', n.we),
              DayPilot.re(document, 'mousemove', n.xe);
          }),
          (this.Hd = {}),
          (this.Hd.scope = null),
          (this.Hd.notify = function() {
            n.Hd.scope && n.Hd.scope['$apply']();
          }),
          (this.Wd = null),
          (this.Md = function(e) {
            if (e) {
              var t = {
                cards: {
                  preInit: function() {
                    var e = this.data;
                    e &&
                      (DayPilot.isArray(e.list)
                        ? (n.cards.list = e.list)
                        : (n.cards.list = e));
                  }
                },
                columns: {
                  preInit: function() {
                    var e = this.data;
                    e &&
                      (DayPilot.isArray(e.list)
                        ? (n.columns.list = e.list)
                        : (n.columns.list = e));
                  }
                },
                swimlanes: {
                  preInit: function() {
                    var e = this.data;
                    e &&
                      (DayPilot.isArray(e.list)
                        ? (n.swimlanes.list = e.list)
                        : (n.swimlanes.list = e));
                  }
                }
              };
              this.Wd = t;
              for (var i in e)
                if (t[i]) {
                  var a = t[i];
                  (a.data = e[i]), a.preInit && a.preInit();
                } else n[i] = e[i];
            }
          }),
          (this.Vd = function() {
            var e = this.Wd;
            for (var t in e) {
              var i = e[t];
              i.postInit && i.postInit();
            }
          }),
          (this.internal = {}),
          (this.internal.loadOptions = n.Md),
          this.Md(i),
          (this.qd = function() {
            var e = dp.nav.top;
            return !!e && (e.offsetWidth > 0 && e.offsetHeight > 0);
          }),
          (this.rd = function() {
            var e = n,
              t = e.qd;
            t() ||
              e.sd ||
              (e.sd = setInterval(function() {
                t() && (e.update(), clearInterval(e.sd));
              }, 100));
          }),
          (this.xe = function(e) {
            (n.coords = DayPilot.mo3(a.nav.top, e)), d.active && d.update();
          }),
          (this.we = function(e) {
            if (d.active) {
              var t = d.active.source,
                i = d.findPosition(),
                a = n.qe(t.start),
                o = new DayPilot.Args();
              (o.column = new DayPilot.Column(a, n)),
                (o.position = i),
                (o.previous = null),
                (o.next = null);
              for (var r = null, l = o.position; 0 !== l && !r; )
                a !== n.columns.list[l - 1] && (r = n.columns.list[l - 1]),
                  (l -= 1);
              r && (o.previous = new DayPilot.Column(r, n));
              var s = null;
              for (l = o.position; l < n.columns.list.length - 1 && !s; )
                a !== n.columns.list[l] && (s = n.columns.list[l]), (l += 1);
              if (
                (s && (o.next = new DayPilot.Column(s, n)),
                'function' == typeof n.onColumnMove && n.onColumnMove(o),
                !o.preventDefault.value)
              ) {
                if ('Update' === n.columnMoveHandling) {
                  DayPilot.rfa(n.columns.list, o.column.data);
                  var c = 0;
                  o.next
                    ? (c = DayPilot.indexOf(n.columns.list, o.next.data))
                    : o.previous &&
                      (c =
                        DayPilot.indexOf(n.columns.list, o.previous.data) + 1),
                    n.columns.list.splice(c, 0, o.column.data),
                    n.update();
                }
                'function' == typeof n.onColumnMoved && n.onColumnMove(o);
              }
              (d.active = null), d.clear();
            }
          });
      }),
        (DayPilot.Kanban.makeDraggable = function(e) {
          DayPilot.Scheduler.makeDraggable(e);
        }),
        (DayPilot.Card = function(e, t) {
          if (e instanceof DayPilot.Event) {
            var i = e;
            (this.data = i.data.card), (this.wrapped = e);
          } else this.data = e;
          this.control = t;
        }),
        (DayPilot.Column = function(e, t) {
          (this.data = e), (this.control = t);
        }),
        (DayPilot.Swimlane = function(e, t) {
          (this.data = e), (this.control = t);
        }),
        (function() {
          var e = DayPilot.am();
          e &&
            e.directive('daypilotKanban', [
              '$parse',
              function(e) {
                return {
                  restrict: 'E',
                  template: "<div id='{{id}}'></div>",
                  compile: function(t, i) {
                    return (
                      t.replaceWith(
                        this['template'].replace('{{id}}', i['id'])
                      ),
                      function(t, i, n) {
                        var a = new DayPilot.Kanban(i[0]);
                        (a.Hd.scope = t), a.init();
                        var o = n['id'];
                        o && (t[o] = a);
                        var r = n['publishAs'];
                        if (r) {
                          (0, e(r).assign)(t, a);
                        }
                        for (var l in n)
                          if (0 === l.indexOf('on')) {
                            var s = DayPilot.Util.shouldApply(l);
                            s
                              ? !(function(i) {
                                  a[i] = function(a) {
                                    var o = e(n[i]);
                                    t['$apply'](function() {
                                      o(t, { args: a });
                                    });
                                  };
                                })(l)
                              : !(function(i) {
                                  a[i] = function(a) {
                                    e(n[i])(t, { args: a });
                                  };
                                })(l);
                          }
                        var d = t['$watch'],
                          c = n['config'] || n['daypilotConfig'];
                        d.call(
                          t,
                          c,
                          function(e, t) {
                            a.Md(e), a.update();
                          },
                          !0
                        );
                      }
                    );
                  }
                };
              }
            ]);
        })();
    }
  })(),
  'undefined' == typeof DayPilot)
)
  var DayPilot = {};
if (
  ('undefined' == typeof DayPilot.Global && (DayPilot.Global = {}),
  (function() {
    if ('undefined' == typeof DayPilot.Menu) {
      var e = function() {},
        t = {};
      (t.mouse = null),
        (t.menu = null),
        (t.handlersRegistered = !1),
        (t.hideTimeout = null),
        (t.waitingSubmenu = null),
        (DayPilot.Menu = function(i) {
          var n = this,
            a = null;
          (this.v = '2019.3.3913'),
            (this.zIndex = 120),
            (this.cssClassPrefix = 'menu_default'),
            (this.cssOnly = !0),
            (this.menuTitle = null),
            (this.showMenuTitle = !1),
            (this.hideOnMouseOut = !1),
            (this.hideAfter = 200),
            (this.theme = null),
            (this.onShow = null),
            (this.p = function() {}),
            i && DayPilot.isArray(i) && (this.items = i),
            (this.show = function(i, o) {
              var o = o || {},
                r = null;
              if (
                (i
                  ? 'string' == typeof i.id || 'number' == typeof i.id
                    ? (r = i.id)
                    : 'function' == typeof i.id
                    ? (r = i.id())
                    : 'function' == typeof i.value && (r = i.value())
                  : (r = null),
                'undefined' != typeof DayPilot.Bubble &&
                  DayPilot.Bubble.hideActive(),
                o.submenu || t.menuClean(),
                (this.p.submenu = null),
                null !== t.mouse)
              ) {
                n.cssOnly ||
                  ((n.cssOnly = !0),
                  DayPilot.Util.log(
                    'DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.'
                  ));
                var l = null;
                if (
                  (i && i.isRow && i.$.row.task
                    ? ((l = new DayPilot.Task(i.$.row.task, i.calendar)),
                      (l.menuType = 'resource'))
                    : (l =
                        i && i.isEvent && i.data.task
                          ? new DayPilot.Task(i, i.calendar)
                          : i),
                  'function' == typeof n.onShow)
                ) {
                  var s = {};
                  if (
                    ((s.source = l),
                    (s.menu = n),
                    (s.preventDefault = function() {
                      s.preventDefault.value = !0;
                    }),
                    n.onShow(s),
                    s.preventDefault.value)
                  )
                    return;
                }
                var d = document.createElement('div');
                if (
                  ((d.style.position = 'absolute'),
                  (d.style.top = '0px'),
                  (d.style.left = '0px'),
                  (d.style.display = 'none'),
                  (d.style.overflow = 'hidden'),
                  (d.style.zIndex = this.zIndex + 1),
                  (d.className = this.applyCssClass('main')),
                  (d.onclick = function(e) {
                    (e.cancelBubble = !0), this.parentNode.removeChild(this);
                  }),
                  this.hideOnMouseOut &&
                    ((d.onmousemove = function(e) {
                      clearTimeout(t.hideTimeout);
                    }),
                    (d.onmouseleave = function(e) {
                      n.delayedHide({ hideParent: !0 });
                    })),
                  !this.items || 0 === this.items.length)
                )
                  throw 'No menu items defined.';
                if (this.showMenuTitle) {
                  var c = document.createElement('div');
                  (c.innerHTML = this.menuTitle),
                    (c.className = this.applyCssClass('title')),
                    d.appendChild(c);
                }
                for (var h = 0; h < this.items.length; h++) {
                  var u = this.items[h],
                    f = document.createElement('div');
                  if (
                    (DayPilot.Util.addClass(f, this.applyCssClass('item')),
                    u.items &&
                      DayPilot.Util.addClass(
                        f,
                        this.applyCssClass('item_haschildren')
                      ),
                    'undefined' != typeof u && !u.hidden)
                  ) {
                    if ('-' === u.text) {
                      var v = document.createElement('div');
                      f.appendChild(v);
                    } else {
                      var p = document.createElement('a');
                      if (
                        ((p.style.position = 'relative'),
                        (p.style.display = 'block'),
                        u.cssClass && DayPilot.Util.addClass(p, u.cssClass),
                        u.disabled)
                      )
                        DayPilot.Util.addClass(
                          p,
                          n.applyCssClass('item_disabled')
                        );
                      else {
                        if (u.onclick || u.onClick) {
                          (p.item = u),
                            (p.onclick = (function(e, t) {
                              return function(i) {
                                if ('function' == typeof e.onClick) {
                                  var n = {};
                                  if (
                                    ((n.item = e),
                                    (n.source = t.source),
                                    (n.originalEvent = i),
                                    (n.preventDefault = function() {
                                      n.preventDefault.value = !0;
                                    }),
                                    e.onClick(n),
                                    n.preventDefault.value)
                                  )
                                    return;
                                }
                                e.onclick && e.onclick.call(t, i);
                              };
                            })(u, p));
                          var g = function(e, i) {
                            return function(n) {
                              n.stopPropagation(), n.preventDefault();
                              var a = function() {
                                window.setTimeout(function() {
                                  i.source.calendar.internal.touch.active = !1;
                                }, 500);
                              };
                              if ('function' == typeof e.onClick) {
                                var o = {};
                                if (
                                  ((o.item = e),
                                  (o.source = i.source),
                                  (o.originalEvent = n),
                                  (o.preventDefault = function() {
                                    o.preventDefault.value = !0;
                                  }),
                                  e.onClick(o),
                                  o.preventDefault.value)
                                )
                                  return void a();
                              }
                              e.onclick && e.onclick.call(i, n),
                                t.menuClean(),
                                a();
                            };
                          };
                          (p.ontouchstart = function(e) {
                            e.stopPropagation(),
                              e.preventDefault(),
                              (p.source.calendar.internal.touch.active = !0);
                          }),
                            (p.ontouchend = g(u, p));
                        }
                        if (u.items && !u.disabled) {
                          var m = function(e, t) {
                            return function(i) {
                              i.preventDefault(),
                                i.stopPropagation(),
                                n.ye(e, t);
                            };
                          };
                          p.ontouchend = m(u, p);
                        }
                        if (u.onclick) e();
                        else if (u.href)
                          (p.href = u.href.replace(/\x7B0\x7D/gim, r)),
                            u.target && p.setAttribute('target', u.target);
                        else if (u.command) {
                          var m = function(e, t) {
                            return function(i) {
                              var n = t.source,
                                a = e;
                              a.action = a.action ? a.action : 'CallBack';
                              var o = n.calendar || n.root;
                              if (n instanceof DayPilot.Link)
                                return void o.internal.linkMenuClick(
                                  a.command,
                                  n,
                                  a.action
                                );
                              if (n instanceof DayPilot.Selection)
                                return void o.internal.timeRangeMenuClick(
                                  a.command,
                                  n,
                                  a.action
                                );
                              if (n instanceof DayPilot.Event)
                                return void o.internal.eventMenuClick(
                                  a.command,
                                  n,
                                  a.action
                                );
                              if (n instanceof DayPilot.Selection)
                                return void o.internal.timeRangeMenuClick(
                                  a.command,
                                  n,
                                  a.action
                                );
                              if (n instanceof DayPilot.Task)
                                return void ('resource' === n.menuType
                                  ? o.internal.resourceHeaderMenuClick(
                                      a.command,
                                      t.menuSource,
                                      a.action
                                    )
                                  : o.internal.eventMenuClick(
                                      a.command,
                                      t.menuSource,
                                      a.action
                                    ));
                              switch (n.menuType) {
                                case 'resource':
                                  return void o.internal.resourceHeaderMenuClick(
                                    a.command,
                                    n,
                                    a.action
                                  );
                                case 'selection':
                                  return void o.internal.timeRangeMenuClick(
                                    a.command,
                                    n,
                                    a.action
                                  );
                                default:
                                  return void o.internal.eventMenuClick(
                                    a.command,
                                    n,
                                    a.action
                                  );
                              }
                              i.preventDefault();
                            };
                          };
                          (p.onclick = m(u, p)), (p.ontouchend = m(u, p));
                        }
                      }
                      (p.source = l), (p.menuSource = i);
                      var y = document.createElement('span');
                      if (
                        ((y.className = n.applyCssClass('item_text')),
                        (y.innerHTML = u.text),
                        p.appendChild(y),
                        u.image)
                      ) {
                        var b = document.createElement('img');
                        (b.src = u.image),
                          (b.style.position = 'absolute'),
                          (b.style.top = '0px'),
                          (b.style.left = '0px'),
                          p.appendChild(b);
                      }
                      if (u.icon) {
                        var w = document.createElement('span');
                        w.className = n.applyCssClass('item_icon');
                        var D = document.createElement('i');
                        (D.className = u.icon),
                          w.appendChild(D),
                          p.appendChild(w);
                      }
                      var k = function(e, i) {
                        return function() {
                          var a = (i.source, e),
                            o = t.waitingSubmenu;
                          if (o) {
                            if (o.parent === a) return;
                            clearTimeout(o.timeout), (t.waitingSubmenu = null);
                          }
                          e.disabled ||
                            ((t.waitingSubmenu = {}),
                            (t.waitingSubmenu.parent = a),
                            (t.waitingSubmenu.timeout = setTimeout(function() {
                              (t.waitingSubmenu = null), n.ye(a, i);
                            }, 300)));
                        };
                      };
                      (p.onmouseover = k(u, p)), f.appendChild(p);
                    }
                    d.appendChild(f);
                  }
                }
                var P = function(e) {
                  window.setTimeout(function() {
                    t.menuClean(), DayPilot.MenuBar.deactivate();
                  }, 100);
                };
                (d.onclick = P),
                  (d.ontouchend = P),
                  (d.onmousedown = function(e) {
                    (e = e || window.event),
                      (e.cancelBubble = !0),
                      e.stopPropagation && e.stopPropagation();
                  }),
                  (d.oncontextmenu = function() {
                    return !1;
                  }),
                  document.body.appendChild(d),
                  (n.p.visible = !0),
                  (n.p.source = i),
                  (d.style.display = '');
                var x = d.offsetHeight,
                  C = d.offsetWidth;
                d.style.display = 'none';
                var S = document.documentElement.clientHeight,
                  E = document.documentElement.clientWidth,
                  A = 'number' == typeof o.windowMargin ? o.windowMargin : 5;
                if (
                  ((function() {
                    var e = o.initiator;
                    if (e) {
                      var t = e.div,
                        i = e.e,
                        n = e.area;
                      if ('Visible' !== (n.visibility || n.v || 'Visible')) {
                        var r = DayPilot.Areas.createArea(t, i, n);
                        t.appendChild(r), (a = r);
                        var l = DayPilot.abs(r);
                        (o.x = l.x), (o.y = l.y + l.h + 2);
                      }
                    }
                  })(),
                  (function() {
                    var e = 'number' == typeof o.x ? o.x : t.mouse.x + 1,
                      i = 'number' == typeof o.y ? o.y : t.mouse.y + 1,
                      n =
                        document.body.scrollTop ||
                        document.documentElement.scrollTop,
                      a =
                        document.body.scrollLeft ||
                        document.documentElement.scrollLeft;
                    if (i - n > S - x && 0 !== S) {
                      var r = i - n - (S - x) + A;
                      d.style.top = i - r + 'px';
                    } else d.style.top = i + 'px';
                    if (
                      ('right' === o.align && (e -= C),
                      e - a > E - C && 0 !== E)
                    ) {
                      var l = e - a - (E - C) + A;
                      d.style.left = e - l + 'px';
                    } else d.style.left = e + 'px';
                  })(),
                  o.parentLink)
                ) {
                  var T = o.parentLink,
                    M = parseInt(
                      new DayPilot.StyleReader(d).get('border-top-width')
                    ),
                    H = DayPilot.abs(o.parentLink.parentNode),
                    _ = H.x + T.offsetWidth,
                    R = H.y - M;
                  _ + C > E && (_ = Math.max(0, H.x - C));
                  var B =
                    document.body.scrollTop +
                    document.documentElement.scrollTop;
                  R + x - B > S && (R = Math.max(0, S - x + B)),
                    (d.style.left = _ + 'px'),
                    (d.style.top = R + 'px');
                }
                (d.style.display = ''),
                  this.addShadow(d),
                  (this.p.div = d),
                  o.submenu || (DayPilot.Menu.active = this);
              }
            }),
            (this.ye = function(e, t) {
              var i = e,
                a = t.source;
              if (
                (!n.p.submenu || n.p.submenu.item !== e) &&
                (n.p.submenu &&
                  n.p.submenu.item !== e &&
                  (DayPilot.Util.removeClass(
                    n.p.submenu.link.parentNode,
                    n.applyCssClass('item_haschildren_active')
                  ),
                  n.p.submenu.menu.hide(),
                  (n.p.submenu = null)),
                e.items)
              ) {
                var o = n.cloneOptions();
                (o.items = e.items),
                  (n.p.submenu = {}),
                  (n.p.submenu.menu = new DayPilot.Menu(o)),
                  (n.p.submenu.menu.ze = n),
                  n.p.submenu.menu.show(a, {
                    submenu: !0,
                    parentLink: t,
                    parentItem: i
                  }),
                  (n.p.submenu.item = e),
                  (n.p.submenu.link = t),
                  DayPilot.Util.addClass(
                    t.parentNode,
                    n.applyCssClass('item_haschildren_active')
                  );
              }
            }),
            (this.applyCssClass = function(e) {
              var t = this.theme || this.cssClassPrefix,
                i = this.cssOnly ? '_' : '';
              return t ? t + i + e : '';
            }),
            (this.cloneOptions = function() {
              return DayPilot.Util.copyProps(o, {}, [
                'cssClassPrefix',
                'theme',
                'hideAfter',
                'hideOnMouseOut',
                'zIndex'
              ]);
            }),
            (this.hide = function(e) {
              (e = e || {}),
                this.p.submenu && this.p.submenu.menu.hide(),
                this.removeShadow(),
                this.p.div &&
                  this.p.div.parentNode === document.body &&
                  document.body.removeChild(this.p.div),
                a && (DayPilot.de(a), (a = null)),
                (n.p.visible = !1),
                (n.p.source = null),
                n.ze && e.hideParent && n.ze.hide(e);
            }),
            (this.delayedHide = function(e) {
              t.hideTimeout = setTimeout(function() {
                n.hide(e);
              }, n.hideAfter);
            }),
            (this.cancelHideTimeout = function() {
              clearTimeout(t.hideTimeout);
            }),
            (this.init = function(e) {
              return t.mouseMove(e), this;
            }),
            (this.addShadow = function(e) {}),
            (this.removeShadow = function() {});
          var o = DayPilot.isArray(i) ? null : i;
          if (o) for (var r in o) this[r] = o[r];
        }),
        (DayPilot.MenuBar = function(e, t) {
          var i = this,
            t = t || {};
          (this.items = []),
            (this.theme = 'menubar_default'),
            (this.windowMargin = 0),
            (this.nav = {}),
            (this.elements = {}),
            (this.elements.items = DayPilot.list()),
            (this.Ae = null);
          for (var n in t) this[n] = t[n];
          (this.Be = function(e) {
            return this.theme + '_' + e;
          }),
            (this.wa = function() {
              this.nav.top = document.getElementById(e);
              var t = this.nav.top;
              (t.className = this.Be('main')),
                DayPilot.list(i.items).each(function(e) {
                  var n = document.createElement('span');
                  (n.innerHTML = e.text),
                    (n.className = i.Be('item')),
                    (n.data = e),
                    (n.onclick = function() {
                      return i.active && i.active.item === e
                        ? void i.Ce()
                        : void (e.children && i.De(n));
                    }),
                    (n.onmousedown = function(e) {
                      e.stopPropagation();
                    }),
                    (n.onmouseover = function() {
                      i.active && i.active.item !== e && i.De(n);
                    }),
                    t.appendChild(n),
                    i.elements.items.push(n);
                });
            }),
            (this.Ce = function() {
              var e = i.Be('item_active');
              i.elements.items.each(function(t) {
                DayPilot.Util.removeClass(t, e);
              }),
                i.active && i.active.menu && i.active.menu.hide(),
                (i.active = null);
            }),
            (this.Ee = function(e) {
              return !!i.active && i.active.item === e.data;
            }),
            (this.De = function(e) {
              if (!i.Ee(e)) {
                i.Ce();
                var t = e.data,
                  n = (i.active = {});
                (n.item = t), (n.div = e);
                var a = i.Be('item_active');
                DayPilot.Util.addClass(e, a);
                var o = DayPilot.abs(e);
                t.children &&
                  ((n.menu = new DayPilot.Menu({ items: t.children })),
                  n.menu.show(null, {
                    x: o.x,
                    y: o.y + o.h,
                    align: t.align,
                    windowMargin: i.windowMargin
                  })),
                  (DayPilot.MenuBar.active = i);
              }
            }),
            (this.init = function() {
              return this.wa(), this;
            });
        }),
        (DayPilot.MenuBar.deactivate = function() {
          DayPilot.MenuBar.active &&
            (DayPilot.MenuBar.active.Ce(), (DayPilot.MenuBar.active = null));
        }),
        (t.menuClean = function() {
          'undefined' != typeof DayPilot.Menu.active &&
            DayPilot.Menu.active &&
            (DayPilot.Menu.active.hide(), (DayPilot.Menu.active = null));
        }),
        (t.mouseDown = function(e) {
          'undefined' != typeof t &&
            (t.menuClean(), DayPilot.MenuBar.deactivate());
        }),
        (t.mouseMove = function(e) {
          'undefined' != typeof t && (t.mouse = t.mousePosition(e));
        }),
        (t.touchMove = function(e) {
          'undefined' != typeof t && (t.mouse = t.touchPosition(e));
        }),
        (t.touchStart = function(e) {
          'undefined' != typeof t && (t.mouse = t.touchPosition(e));
        }),
        (t.touchEnd = function(e) {}),
        (t.touchPosition = function(e) {
          if (!e || !e.touches) return null;
          var t = e.touches[0],
            i = {};
          return (i.x = t.pageX), (i.y = t.pageY), i;
        }),
        (t.mousePosition = function(e) {
          return DayPilot.mo3(document.body, e);
        }),
        (DayPilot.Menu.touchPosition = function(e) {
          e.touches && (t.mouse = t.touchPosition(e));
        }),
        t.handlersRegistered ||
          (DayPilot.re(document, 'mousemove', t.mouseMove),
          DayPilot.re(document, 'mousedown', t.mouseDown),
          DayPilot.re(document, 'touchmove', t.touchMove),
          DayPilot.re(document, 'touchstart', t.touchStart),
          DayPilot.re(document, 'touchend', t.touchEnd),
          (t.handlersRegistered = !0)),
        'undefined' != typeof Sys &&
          Sys.Application &&
          Sys.Application.notifyScriptLoaded &&
          Sys.Application.notifyScriptLoaded();
    }
  })(),
  'undefined' == typeof DayPilot && (DayPilot = {}),
  (function() {
    (DayPilot.ModalStatic = {}),
      (DayPilot.ModalStatic.list = []),
      (DayPilot.ModalStatic.hide = function() {
        if (this.list.length > 0) {
          var e = this.list.pop();
          e && e.hide();
        }
      }),
      (DayPilot.ModalStatic.remove = function(e) {
        for (var t = DayPilot.ModalStatic.list, i = 0; i < t.length; i++)
          if (t[i] === e) return void t.splice(i, 1);
      }),
      (DayPilot.ModalStatic.close = function(e) {
        DayPilot.ModalStatic.result(e), DayPilot.ModalStatic.hide();
      }),
      (DayPilot.ModalStatic.result = function(e) {
        var t = DayPilot.ModalStatic.list;
        t.length > 0 && (t[t.length - 1].result = e);
      }),
      (DayPilot.ModalStatic.displayed = function(e) {
        for (var t = DayPilot.ModalStatic.list, i = 0; i < t.length; i++)
          if (t[i] === e) return !0;
        return !1;
      }),
      (DayPilot.ModalStatic.stretch = function() {
        if (this.list.length > 0) {
          var e = this.list[this.list.length - 1];
          e && e.stretch();
        }
      }),
      (DayPilot.ModalStatic.last = function() {
        var e = DayPilot.ModalStatic.list;
        return e.length > 0 ? e[e.length - 1] : null;
      });
    var e = function() {
        var e = document.createElement('style');
        e.setAttribute('type', 'text/css'),
          e.styleSheet || e.appendChild(document.createTextNode('')),
          (
            document.head || document.getElementsByTagName('head')[0]
          ).appendChild(e);
        var t = !!e.styleSheet,
          i = {};
        return (
          (i.rules = []),
          (i.commit = function() {
            try {
              t && (e.styleSheet.cssText = this.rules.join('\n'));
            } catch (e) {}
          }),
          (i.add = function(i, n, a) {
            if (t) return void this.rules.push(i + '{' + n + '}');
            if (e.sheet.insertRule)
              'undefined' == typeof a && (a = e.sheet.cssRules.length),
                e.sheet.insertRule(i + '{' + n + '}', a);
            else {
              if (!e.sheet.addRule) throw 'No CSS registration method found';
              e.sheet.addRule(i, n, a);
            }
          }),
          i
        );
      },
      t = new e();
    t.add('.modal_default_main', 'border: 10px solid #ccc; max-width: 90%;'),
      t.add('.modal_default_content', 'padding: 10px 0px;'),
      t.add('.modal_default_inner', 'padding: 20px;'),
      t.add('.modal_default_input', 'padding: 10px 0px;'),
      t.add('.modal_default_buttons', 'padding: 10px 0px;'),
      t.add(
        '.modal_default_background',
        'opacity: 0.3; background-color: #000;'
      ),
      t.add('.modal_default_ok', 'padding: 3px; width: 80px;'),
      t.add('.modal_default_cancel', 'padding: 3px; width: 80px;'),
      t.add('.modal_min_main', 'border: 1px solid #ccc; max-width: 90%;'),
      t.add('.modal_min_background', 'opacity: 0.3; background-color: #000;'),
      t.add('.modal_min_ok', 'padding: 3px 10px;'),
      t.add('.modal_min_cancel', 'padding: 3px 10px;'),
      t.commit(),
      (DayPilot.Modal = function(e) {
        (this.autoStretch = !0),
          (this.autoStretchFirstLoadOnly = !1),
          (this.className = null),
          (this.theme = 'modal_default'),
          (this.disposeOnClose = !0),
          (this.dragDrop = !0),
          (this.loadingHtml = null),
          (this.maxHeight = null),
          (this.scrollWithPage = !0),
          (this.useIframe = !0),
          (this.zIndex = 99999),
          (this.left = null),
          (this.width = 800),
          (this.top = 20),
          (this.height = 200),
          (this.closed = null),
          (this.onClosed = null),
          (this.onShow = null);
        var t = this;
        (this.id = '_' + new Date().getTime() + 'n' + 10 * Math.random()),
          (this.Fe = !1),
          (this.Ge = null),
          (this.He = null),
          (this.showHtml = function(e) {
            if (DayPilot.ModalStatic.displayed(this))
              throw 'This modal dialog is already displayed.';
            if ((this.div || this.Ie(), this.Yb(), this.useIframe)) {
              var t = function(e, t) {
                return function() {
                  e.setInnerHTML(e.id + 'iframe', t);
                };
              };
              window.setTimeout(t(this, e), 0);
            } else
              e.nodeType ? this.div.appendChild(e) : (this.div.innerHTML = e);
            this.Yb(), this.Je(), this.Ke();
          }),
          (this.Le = function() {
            return this.corners && 'rounded' === this.corners.toLowerCase();
          }),
          (this.showUrl = function(e) {
            if (DayPilot.ModalStatic.displayed(this))
              throw 'This modal dialog is already displayed.';
            if (this.useIframe) {
              this.div || this.Ie();
              var i = this.loadingHtml;
              i &&
                ((this.iframe.src = 'about:blank'),
                this.setInnerHTML(this.id + 'iframe', i)),
                this.re(this.iframe, 'load', this.Me),
                (this.iframe.src = e),
                this.Yb(),
                this.Je(),
                this.Ke();
            } else
              t.Ne({
                url: e,
                success: function(e) {
                  var i = e.request.responseText;
                  t.showHtml(i);
                },
                error: function(e) {
                  t.showHtml('Error loading the modal dialog');
                }
              });
          }),
          (this.Ke = function() {
            if ('function' == typeof t.onShow) {
              var e = {};
              (e.root = t.Oe()), t.onShow(e);
            }
          }),
          (this.Oe = function() {
            return t.iframe ? t.iframe.contentWindow.document : t.div;
          }),
          (this.Ne = function(e) {
            var t = new XMLHttpRequest();
            if (t) {
              var i = e.method || 'GET',
                n = e.success || function() {},
                a = e.error || function() {},
                o = e.data,
                r = e.url;
              t.open(i, r, !0),
                t.setRequestHeader('Content-type', 'text/plain'),
                (t.onreadystatechange = function() {
                  if (4 === t.readyState)
                    if (200 === t.status || 304 === t.status) {
                      var e = {};
                      (e.request = t), n(e);
                    } else if (a) {
                      var e = {};
                      (e.request = t), a(e);
                    } else
                      window.console && console.log('HTTP error ' + t.status);
                }),
                4 !== t.readyState &&
                  ('object' == typeof o && (o = JSON.stringify(o)), t.send(o));
            }
          }),
          (this.Yb = function() {
            var e = window,
              i = document,
              n = e.pageYOffset
                ? e.pageYOffset
                : i.documentElement && i.documentElement.scrollTop
                ? i.documentElement.scrollTop
                : i.body.scrollTop;
            this.theme && (this.hideDiv.className = this.theme + '_background'),
              this.zIndex && (this.hideDiv.style.zIndex = this.zIndex),
              (this.hideDiv.style.display = ''),
              window.setTimeout(function() {
                t.hideDiv &&
                  (t.hideDiv.onclick = function() {
                    t.hide({ backgroundClick: !0 });
                  });
              }, 500),
              this.theme
                ? (this.div.className = this.theme + '_main')
                : (this.div.className = ''),
              this.className && (this.div.className += ' ' + this.className),
              this.left
                ? (this.div.style.left = this.left + 'px')
                : (this.div.style.marginLeft =
                    '-' + Math.floor(this.width / 2) + 'px'),
              (this.div.style.position = 'absolute'),
              (this.div.style.boxSizing = 'content-box'),
              (this.div.style.top = n + this.top + 'px'),
              (this.div.style.width = this.width + 'px'),
              this.zIndex && (this.div.style.zIndex = this.zIndex),
              this.height &&
                (this.useIframe || !this.autoStretch
                  ? (this.div.style.height = this.height + 'px')
                  : (this.div.style.height = '')),
              this.useIframe &&
                this.height &&
                (this.iframe.style.height = this.height + 'px'),
              (this.div.style.display = ''),
              this.Qe(),
              DayPilot.ModalStatic.list.push(this);
          }),
          (this.Me = function() {
            (t.iframe.contentWindow.modal = t), t.autoStretch && t.stretch();
          }),
          (this.stretch = function() {
            var e = function() {
                return t.Pe().y;
              },
              i = function() {
                return t.Pe().x;
              };
            if (this.useIframe) {
              for (
                var n = i() - 40, a = this.width;
                a < n && this.Re();
                a += 10
              )
                (this.div.style.width = a + 'px'),
                  (this.div.style.marginLeft = '-' + Math.floor(a / 2) + 'px');
              for (
                var o = this.maxHeight || e() - 2 * this.top, r = this.height;
                r < o && this.Se();
                r += 10
              )
                (this.iframe.style.height = r + 'px'),
                  (this.div.style.height = r + 'px');
              this.autoStretchFirstLoadOnly &&
                this.ue(this.iframe, 'load', this.Me);
            } else this.div.style.height = '';
          }),
          (this.Re = function() {
            for (
              var e = this.iframe.contentWindow.document,
                t = 'BackCompat' === e.compatMode ? e.body : e.documentElement,
                i = t.scrollWidth,
                n = e.body.children,
                a = 0;
              a < n.length;
              a++
            ) {
              var o = n[a].offsetLeft + n[a].offsetWidth;
              i = Math.max(i, o);
            }
            return i > t.clientWidth;
          }),
          (this.Se = function() {
            for (
              var e = this.iframe.contentWindow.document,
                t = 'BackCompat' === e.compatMode ? e.body : e.documentElement,
                i = t.scrollHeight,
                n = e.body.children,
                a = 0;
              a < n.length;
              a++
            ) {
              var o = n[a].offsetTop + n[a].offsetHeight;
              i = Math.max(i, o);
            }
            return i > t.clientHeight;
          }),
          (this.Pe = function() {
            var e = document;
            if (
              'CSS1Compat' === e.compatMode &&
              e.documentElement &&
              e.documentElement.clientWidth
            ) {
              var t = e.documentElement.clientWidth,
                i = e.documentElement.clientHeight;
              return { x: t, y: i };
            }
            var t = e.body.clientWidth,
              i = e.body.clientHeight;
            return { x: t, y: i };
          }),
          (this.Je = function() {
            this.Fe ||
              (this.re(window, 'resize', this.Te),
              this.re(window, 'scroll', this.Ue),
              this.dragDrop &&
                (this.re(document, 'mousemove', this.Ve),
                this.re(document, 'mouseup', this.We)),
              (this.Fe = !0));
          }),
          (this.Xe = function(e) {
            e.target === t.div &&
              ((t.div.style.cursor = 'move'),
              t.Ye(),
              (t.He = t.mc(e || window.event)),
              (t.Ge = { x: t.div.offsetLeft, y: t.div.offsetTop }));
          }),
          (this.Ve = function(e) {
            if (t.He) {
              var e = e || window.event,
                i = t.mc(e),
                n = i.x - t.He.x,
                a = i.y - t.He.y;
              (t.div.style.marginLeft = '0px'),
                (t.div.style.top = t.Ge.y + a + 'px'),
                (t.div.style.left = t.Ge.x + n + 'px');
            }
          }),
          (this.We = function(e) {
            t.He && (t.Ze(), (t.div.style.cursor = null), (t.He = null));
          }),
          (this.Ye = function() {
            if (this.useIframe) {
              var e = document.createElement('div');
              (e.style.backgroundColor = '#ffffff'),
                (e.style.filter = 'alpha(opacity=80)'),
                (e.style.opacity = '0.80'),
                (e.style.width = '100%'),
                (e.style.height = this.height + 'px'),
                (e.style.position = 'absolute'),
                (e.style.left = '0px'),
                (e.style.top = '0px'),
                this.div.appendChild(e),
                (this.mask = e);
            }
          }),
          (this.Ze = function() {
            this.useIframe &&
              (this.div.removeChild(this.mask), (this.mask = null));
          }),
          (this.Te = function() {
            t.$e(), t.Qe();
          }),
          (this.Ue = function() {
            t.$e();
          }),
          (this.Qe = function() {
            if (!this.left) {
              var e = this.div.offsetWidth;
              this.div.style.marginLeft = '-' + Math.floor(e / 2) + 'px';
            }
          }),
          (this.$e = function() {
            if (
              t.hideDiv &&
              t.div &&
              'none' !== t.hideDiv.style.display &&
              'none' !== t.div.style.display
            ) {
              var e = window.pageYOffset
                ? window.pageYOffset
                : document.documentElement && document.documentElement.scrollTop
                ? document.documentElement.scrollTop
                : document.body.scrollTop;
              t.scrollWithPage || (t.div.style.top = e + t.top + 'px');
            }
          }),
          (this.re = function(e, t, i) {
            e.addEventListener
              ? e.addEventListener(t, i, !1)
              : e.attachEvent && e.attachEvent('on' + t, i);
          }),
          (this.ue = function(e, t, i) {
            e.removeEventListener
              ? e.removeEventListener(t, i, !1)
              : e.detachEvent && e.detachEvent('on' + t, i);
          }),
          (this.mc = function(e) {
            return e.pageX || e.pageY
              ? { x: e.pageX, y: e.pageY }
              : {
                  x: e.clientX + document.documentElement.scrollLeft,
                  y: e.clientY + document.documentElement.scrollTop
                };
          }),
          (this.abs = function(e) {
            for (var t = { x: e.offsetLeft, y: e.offsetTop }; e.offsetParent; )
              (e = e.offsetParent), (t.x += e.offsetLeft), (t.y += e.offsetTop);
            return t;
          }),
          (this.Ie = function() {
            var e = document.createElement('div');
            (e.id = this.id + 'hide'),
              (e.style.position = 'fixed'),
              (e.style.left = '0px'),
              (e.style.top = '0px'),
              (e.style.right = '0px'),
              (e.style.bottom = '0px'),
              (e.oncontextmenu = function() {
                return !1;
              }),
              (e.onmousedown = function() {
                return !1;
              }),
              document.body.appendChild(e);
            var t = document.createElement('div');
            (t.id = this.id + 'popup'),
              (t.style.position = 'fixed'),
              (t.style.left = '50%'),
              (t.style.top = '0px'),
              (t.style.backgroundColor = 'white'),
              (t.style.width = '50px'),
              (t.style.height = '50px'),
              this.dragDrop && (t.onmousedown = this.Xe);
            var i = null;
            this.useIframe &&
              ((i = document.createElement('iframe')),
              (i.id = this.id + 'iframe'),
              (i.name = this.id + 'iframe'),
              (i.frameBorder = '0'),
              (i.style.width = '100%'),
              (i.style.height = '50px'),
              t.appendChild(i)),
              document.body.appendChild(t),
              (this.div = t),
              (this.iframe = i),
              (this.hideDiv = e);
          }),
          (this.setInnerHTML = function(e, i) {
            var n = window.frames[e],
              a = n.contentWindow || n.document || n.contentDocument;
            a.document && (a = a.document),
              null == a.body && a.write('<body></body>'),
              i.nodeType ? a.body.appendChild(i) : (a.body.innerHTML = i),
              t.autoStretch &&
                ((t.autoStretchFirstLoadOnly && t._e) ||
                  (t.stretch(), (t._e = !0)));
          }),
          (this.close = function(e) {
            (this.result = e), this.hide();
          }),
          (this.hide = function(e) {
            e = e || {};
            var i = {};
            (i.backgroundClick = !!e.backgroundClick),
              (i.result = this.result),
              (i.preventDefault = function() {
                this.preventDefault.value = !0;
              }),
              ('function' == typeof this.onClose &&
                (this.onClose(i), i.preventDefault.value)) ||
                (this.div &&
                  ((this.div.style.display = 'none'),
                  (this.hideDiv.style.display = 'none'),
                  this.useIframe || (this.div.innerHTML = null)),
                window.focus(),
                DayPilot.ModalStatic.remove(this),
                'function' == typeof this.onClosed
                  ? this.onClosed(i)
                  : this.closed && this.closed(),
                (this.result = null),
                this.disposeOnClose &&
                  (t.af(t.div),
                  t.af(t.hideDiv),
                  (t.div = null),
                  (t.hideDiv = null),
                  (t.iframe = null)));
          }),
          (this.af = function(e) {
            e && e.parentNode && e.parentNode.removeChild(e);
          }),
          (this.bf = function() {
            if (e) for (var t in e) this[t] = e[t];
          }),
          this.bf();
      }),
      (DayPilot.Modal.alert = function(e, t) {
        (t = t || {}), (t.height = t.height || 40), (t.useIframe = !1);
        var i = t.okText || 'OK';
        t.cancelText || 'Cancel';
        return DayPilot.getPromise(function(n, a) {
          t.onClosed = function(e) {
            n(e);
          };
          var o = new DayPilot.Modal(t),
            r = document.createElement('div');
          r.className = o.theme + '_inner';
          var l = document.createElement('div');
          (l.className = o.theme + '_content'), (l.innerHTML = e);
          var s = document.createElement('div');
          s.className = o.theme + '_buttons';
          var d = document.createElement('button');
          (d.innerText = i),
            (d.className = o.theme + '_ok'),
            (d.onclick = function(e) {
              DayPilot.ModalStatic.close('OK');
            }),
            s.appendChild(d),
            r.appendChild(l),
            r.appendChild(s),
            o.showHtml(r),
            d.focus();
        });
      }),
      (DayPilot.Modal.confirm = function(e, t) {
        (t = t || {}), (t.height = t.height || 40), (t.useIframe = !1);
        var i = t.okText || 'OK',
          n = t.cancelText || 'Cancel';
        return DayPilot.getPromise(function(a, o) {
          t.onClosed = function(e) {
            a(e);
          };
          var r = new DayPilot.Modal(t),
            l = document.createElement('div');
          l.className = r.theme + '_inner';
          var s = document.createElement('div');
          (s.className = r.theme + '_content'), (s.innerHTML = e);
          var d = document.createElement('div');
          d.className = r.theme + '_buttons';
          var c = document.createElement('button');
          (c.innerText = i),
            (c.className = r.theme + '_ok'),
            (c.onclick = function(e) {
              DayPilot.ModalStatic.close('OK');
            });
          var h = document.createTextNode(' '),
            u = document.createElement('button');
          (u.innerText = n),
            (u.className = r.theme + '_cancel'),
            (u.onclick = function(e) {
              DayPilot.ModalStatic.close();
            }),
            d.appendChild(c),
            d.appendChild(h),
            d.appendChild(u),
            l.appendChild(s),
            l.appendChild(d),
            r.showHtml(l),
            c.focus();
        });
      }),
      (DayPilot.Modal.prompt = function(e, t, i) {
        'object' == typeof t && (i = t),
          (i = i || {}),
          (i.height = i.height || 40),
          (i.useIframe = !1);
        var n = i.okText || 'OK',
          a = i.cancelText || 'Cancel',
          o = t || '';
        return DayPilot.getPromise(function(t, r) {
          i.onClosed = function(e) {
            t(e);
          };
          var l = new DayPilot.Modal(i),
            s = document.createElement('div');
          s.className = l.theme + '_inner';
          var d = document.createElement('div');
          (d.className = l.theme + '_content'), (d.innerHTML = e);
          var c = document.createElement('div');
          c.className = l.theme + '_input';
          var h = document.createElement('input');
          (h.value = o),
            (h.style.width = '100%'),
            (h.onkeydown = function(e) {
              var t = !1;
              switch (e.keyCode) {
                case 13:
                  l.close(this.value);
                  break;
                case 27:
                  l.close();
                  break;
                default:
                  t = !0;
              }
              t || (e.preventDefault(), e.stopPropagation());
            }),
            c.appendChild(h);
          var u = document.createElement('div');
          u.className = l.theme + '_buttons';
          var f = document.createElement('button');
          (f.innerText = n),
            (f.className = l.theme + '_ok'),
            (f.onclick = function(e) {
              l.close(h.value);
            });
          var v = document.createTextNode(' '),
            p = document.createElement('button');
          (p.innerText = a),
            (p.className = l.theme + '_cancel'),
            (p.onclick = function(e) {
              l.close();
            }),
            u.appendChild(f),
            u.appendChild(v),
            u.appendChild(p),
            s.appendChild(d),
            s.appendChild(c),
            s.appendChild(u),
            l.showHtml(s),
            h.focus();
        });
      }),
      (DayPilot.Modal.close = function(e) {
        var t = DayPilot.Modal.opener();
        if (!t) throw 'Unable to find the opener DayPilot.Modal instance.';
        t.close(e);
      }),
      (DayPilot.Modal.stretch = function(e) {
        var t = DayPilot.Modal.opener();
        if (!t) throw 'Unable to find the opener DayPilot.Modal instance.';
        t.stretch();
      }),
      (DayPilot.Modal.closeSerialized = function() {
        for (
          var e = DayPilot.Modal.opener() || DayPilot.ModalStatic.last(),
            t = e.Oe(),
            i = t.querySelectorAll('input, textarea, select'),
            n = {},
            a = 0;
          a < i.length;
          a++
        ) {
          var o = i[a],
            r = o.name;
          if (r) {
            var l = o.value;
            n[r] = l;
          }
        }
        DayPilot.Modal.close(n);
      }),
      (DayPilot.Modal.opener = function() {
        return window.DayPilot &&
          window.DayPilot.ModalStatic &&
          window.DayPilot.ModalStatic.list.length > 0
          ? window.DayPilot.ModalStatic.list[
              window.DayPilot.ModalStatic.list.length - 1
            ]
          : parent &&
              parent.DayPilot &&
              parent.DayPilot.ModalStatic &&
              parent.DayPilot.ModalStatic.list[
                parent.DayPilot.ModalStatic.list.length - 1
              ];
      }),
      'undefined' == typeof DayPilot.getPromise &&
        (DayPilot.getPromise = function(e) {
          return 'undefined' != typeof Promise
            ? new Promise(e)
            : ((DayPilot.Promise = function(e) {
                var t = this;
                (this.then = function(t, i) {
                  return (
                    (t = t || function() {}),
                    (i = i || function() {}),
                    e(t, i),
                    DayPilot.getPromise(e)
                  );
                }),
                  (this['catch'] = function(i) {
                    return t.then(null, i), DayPilot.getPromise(e);
                  });
              }),
              new DayPilot.Promise(e));
        });
  })(),
  'undefined' == typeof DayPilot)
)
  var DayPilot = {};
if (
  ('undefined' == typeof DayPilot.Global && (DayPilot.Global = {}),
  (function() {
    var e = function() {};
    if ('undefined' == typeof DayPilot.Month) {
      var t = {};
      (DayPilot.Month = function(i, n) {
        (this.v = '2019.3.3913'), (this.nav = {});
        var a = this;
        (this.id = i),
          (this.isMonth = !0),
          (this.api = 2),
          (this.G = !1),
          (this.hideUntilInit = !0),
          (this.startDate = new DayPilot.Date()),
          (this.width = null),
          'function' == typeof DayPilot.Bubble
            ? (this.bubble = new DayPilot.Bubble())
            : (this.bubble = null),
          (this.cssClassPrefix = 'month_default'),
          (this.cellHeight = 100),
          (this.cellMarginBottom = 0),
          (this.allowMultiSelect = !0),
          (this.autoRefreshCommand = 'refresh'),
          (this.autoRefreshEnabled = !1),
          (this.autoRefreshInterval = 60),
          (this.autoRefreshMaxCount = 20),
          (this.doubleClickTimeout = 300),
          (this.eventEndSpec = 'DateTime'),
          (this.headerHeight = 20),
          (this.heightSpec = 'Auto'),
          (this.weekStarts = 'Auto'),
          (this.eventHeight = 25),
          (this.cellHeaderHeight = 16),
          (this.clientState = {}),
          (this.afterRender = function() {}),
          (this.cssOnly = !0),
          (this.eventsLoadMethod = 'GET'),
          (this.initEventEnabled = !1),
          (this.lineSpace = 1),
          (this.loadingLabelVisible = !0),
          (this.loadingLabelText = 'Loading...'),
          (this.locale = 'en-us'),
          (this.messageHideAfter = 5e3),
          (this.notifyCommit = 'Immediate'),
          (this.visible = !0),
          (this.eventMoveToPosition = !1),
          (this.eventStartTime = !1),
          (this.eventEndTime = !1),
          (this.eventStartEndWidth = 60),
          (this.showWeekend = !0),
          (this.cellMode = !1),
          (this.shadowType = 'Fill'),
          (this.tapAndHoldTimeout = 300),
          (this.timeFormat = 'Auto'),
          (this.viewType = 'Month'),
          (this.weeks = 1),
          (this.eventClickHandling = 'Enabled'),
          (this.eventDeleteHandling = 'Disabled'),
          (this.eventDoubleClickHandling = 'Enabled'),
          (this.eventMoveHandling = 'Update'),
          (this.eventResizeHandling = 'Update'),
          (this.eventRightClickHandling = 'ContextMenu'),
          (this.eventSelectHandling = 'Update'),
          (this.headerClickHandling = 'Enabled'),
          (this.timeRangeSelectedHandling = 'Enabled'),
          (this.timeRangeDoubleClickHandling = 'Enabled'),
          (this.onEventFilter = null),
          (this.onBeforeEventRender = null),
          (this.onBeforeCellRender = null),
          (this.onBeforeHeaderRender = null),
          (this.onDomAddEvent = null),
          (this.onDomRemoveEvent = null),
          (this.onBeforeEventExport = null),
          (this.onBeforeCellExport = null),
          (this.onBeforeHeaderExport = null),
          (this.backendUrl = null),
          (this.cellEvents = []),
          (this.elements = {}),
          (this.elements.events = []),
          (this.E = {}),
          (this.E.events = {}),
          (this.events = {}),
          (this.F = 0),
          (this.members = {}),
          (this.members.ignore = [
            'internal',
            'nav',
            'debug',
            'temp',
            'elements',
            'members',
            'cellProperties'
          ]),
          (this.H = 'javasc'),
          (this.Q = function(e, t) {
            var e = JSON.parse(e);
            if (e.BubbleGuid) {
              var i = e.BubbleGuid,
                n = this.bubbles[i];
              return (
                delete this.bubbles[i],
                a.da(),
                void (
                  'undefined' != typeof e.Result.BubbleHTML &&
                  n.updateView(e.Result.BubbleHTML, n)
                )
              );
            }
            if (e.CallBackRedirect)
              return void (document.location.href = e.CallBackRedirect);
            if (
              ('undefined' != typeof e.ClientState &&
                (a.clientState = e.ClientState),
              'None' === e.UpdateType)
            )
              return (
                a.ea(e.CallBackData, !0),
                e.Message && a.message(e.Message),
                void a.da()
              );
            if (e.VsUpdate) {
              var o = document.createElement('input');
              (o.type = 'hidden'),
                (o.name = a.id + '_vsupdate'),
                (o.id = o.name),
                (o.value = e.VsUpdate),
                (a.cf.innerHTML = ''),
                a.cf.appendChild(o);
            }
            (a.events.list = e.Events),
              'undefined' != typeof e.TagFields && (a.tagFields = e.TagFields),
              'undefined' != typeof e.SortDirections &&
                (a.sortDirections = e.SortDirections),
              'Full' === e.UpdateType &&
                ((a.cellProperties = e.CellProperties),
                (a.headerProperties = e.HeaderProperties),
                (a.startDate = e.StartDate),
                'undefined' != typeof e.ShowWeekend &&
                  (a.showWeekend = e.ShowWeekend),
                (a.locale = e.Locale ? e.Locale : a.locale),
                (a.timeFormat = e.TimeFormat ? e.TimeFormat : a.timeFormat),
                'undefined' != typeof e.WeekStarts &&
                  (a.weekStarts = e.WeekStarts),
                (a.hashes = e.Hashes)),
              a.multiselect.clear(!0),
              (a.multiselect.initList = e.SelectedEvents),
              a.T(),
              a.df(),
              a.ja(),
              'Full' === e.UpdateType && (a.ef(), a.gf()),
              a.ra(),
              a.wa(),
              a.xa(),
              a.ea(e.CallBackData, !0),
              a.Aa(),
              e.Message && a.message(e.Message),
              a.da();
          }),
          (this.ea = function(e, t) {
            var i = function(e, t) {
              return function() {
                if (a.Ba()) {
                  if ('function' == typeof a.onAfterRender) {
                    var i = {};
                    (i.isCallBack = t), (i.data = e), a.onAfterRender(i);
                  }
                } else a.afterRender && a.afterRender(e, t);
              };
            };
            window.setTimeout(i(e, t), 0);
          }),
          (this.Ba = function() {
            return 2 === a.api;
          }),
          (this.r = function(e) {
            var t = this.theme || this.cssClassPrefix;
            return t ? t + e : '';
          }),
          (this.ja = function() {
            if (this.events.list) {
              if ('function' == typeof this.onBeforeEventRender)
                for (var e = this.events.list.length, t = 0; t < e; t++)
                  this.vd(t);
              this.cellMode ? this.hf() : this.if();
            }
          }),
          (this.N = function(e) {
            var t = e ? 0 : 100;
            a.loadingTimeout && window.clearTimeout(a.loadingTimeout),
              (a.loadingTimeout = window.setTimeout(function() {
                a.loadingLabelVisible &&
                  a.nav.loading &&
                  ((a.nav.loading.style.top = l.headerHeight() + 5 + 'px'),
                  (a.nav.loading.innerHTML = a.loadingLabelText),
                  (a.nav.loading.style.display = ''));
              }, t));
          }),
          (this.da = function() {
            this.loadingTimeout && window.clearTimeout(this.loadingTimeout),
              a.nav.loading && (this.nav.loading.style.display = 'none');
          }),
          (this.if = function() {
            if (this.events.list) {
              for (var e = 0; e < this.events.list.length; e++) {
                var t = this.events.list[e];
                if ('object' != typeof t)
                  throw new DayPilot.Exception(
                    'Event data item must be an object'
                  );
                if (!t.start)
                  throw new DayPilot.Exception(
                    "Event data item must specify 'start' property"
                  );
                var i = null;
                if (
                  ('function' == typeof a.onBeforeEventRender &&
                    (i = a.E.events[e]),
                  i)
                ) {
                  if (i.hidden) continue;
                } else if (t.hidden) continue;
                var n = new DayPilot.Date(t.start),
                  o = new DayPilot.Date(t.end);
                if (((o = a.jf(o)), !(n.getTime() > o.getTime())))
                  for (var r = 0; r < this.rows.length; r++) {
                    var l = this.rows[r];
                    if (l.belongsHere(n, o)) {
                      var s = new DayPilot.Event(t, a);
                      if ('function' == typeof a.onEventFilter && a.events.Cd) {
                        var d = {};
                        if (
                          ((d.filter = a.events.Cd),
                          (d.visible = !0),
                          (d.e = s),
                          a.onEventFilter(d),
                          !d.visible)
                        )
                          break;
                      }
                      l.events.push(s),
                        'function' == typeof this.onBeforeEventRender &&
                          (s.cache = this.E.events[e]);
                    }
                  }
              }
              for (var c = 0; c < this.rows.length; c++) {
                var l = this.rows[c];
                l.events.sort(this.Ed);
                for (var h = 0; h < this.rows[c].events.length; h++) {
                  var u = l.events[h],
                    f = l.getStartColumn(u),
                    v = l.getWidth(u);
                  l.putIntoLine(u, f, v, c);
                }
              }
            }
          }),
          (this.hf = function() {
            this.cellEvents = [];
            for (var e = 0; e < this.kf(); e++) {
              this.cellEvents[e] = [];
              for (var t = 0; t < this.rows.length; t++) {
                var i = {},
                  n = this.firstDate.addDays(7 * t + e);
                (i.start = n),
                  (i.end = n.addDays(1)),
                  (i.events = []),
                  (this.cellEvents[e][t] = i);
              }
            }
            for (var o = 0; o < this.events.list.length; o++) {
              var r = this.events.list[o];
              if ('object' != typeof r)
                throw new DayPilot.Exception(
                  'Event data item must be an object'
                );
              if (!r.start)
                throw new DayPilot.Exception(
                  "Event data item must specify 'start' property"
                );
              var l = null;
              if (
                ('function' == typeof a.onBeforeEventRender &&
                  (l = a.E.events[o]),
                l)
              ) {
                if (l.hidden) continue;
              } else if (r.hidden) continue;
              var s = new DayPilot.Date(r.start),
                d = new DayPilot.Date(r.start);
              if (((d = a.jf(d)), !(s.getTime() > d.getTime())))
                for (var e = 0; e < this.kf(); e++)
                  for (var t = 0; t < this.rows.length; t++) {
                    var i = this.cellEvents[e][t];
                    if (
                      s.getTime() >= i.start.getTime() &&
                      s.getTime() < i.end.getTime()
                    ) {
                      var c = new DayPilot.Event(r, a);
                      if ('function' == typeof a.onEventFilter && a.events.Cd) {
                        var h = {};
                        if (
                          ((h.filter = a.events.Cd),
                          (h.visible = !0),
                          (h.e = c),
                          a.onEventFilter(h),
                          !h.visible)
                        )
                          continue;
                      }
                      i.events.push(c),
                        'function' == typeof this.onBeforeEventRender &&
                          (c.cache = this.E.events[o]);
                    }
                  }
            }
            for (var e = 0; e < this.kf(); e++)
              for (var t = 0; t < this.rows.length; t++) {
                var i = this.cellEvents[e][t];
                i.events.sort(this.Ed);
              }
          }),
          (this.T = function() {
            for (var e = 0; e < this.elements.events.length; e++) {
              var t = this.elements.events[e];
              if ('function' == typeof a.onDomRemoveEvent) {
                var i = t.domArgs;
                (t.domArgs = null), a.onDomRemoveEvent(i);
              }
              (t.event = null), (t.click = null), t.parentNode.removeChild(t);
            }
            this.elements.events = [];
          }),
          (this.xa = function() {
            (this.E.events = {}),
              this.cellMode ? this.lf() : this.mf(),
              this.multiselect.redraw();
          }),
          (this.lf = function() {
            this.elements.events = [];
            for (var e = 0; e < this.kf(); e++)
              for (var t = 0; t < this.rows.length; t++)
                for (
                  var i = this.cellEvents[e][t], n = (this.cells[e][t], 0);
                  n < i.events.length;
                  n++
                ) {
                  var a = i.events[n];
                  (a.part.colStart = e),
                    (a.part.colWidth = 1),
                    (a.part.row = t),
                    (a.part.line = n),
                    (a.part.startsHere = !0),
                    (a.part.endsHere = !0),
                    this.fc(a);
                }
          }),
          (this.mf = function() {
            this.elements.events = [];
            for (var e = 0; e < this.rows.length; e++)
              for (var t = this.rows[e], i = 0; i < t.lines.length; i++)
                for (var n = t.lines[i], a = 0; a < n.length; a++)
                  this.fc(n[a]);
          }),
          (this.Dd = function(e, t) {
            if (!(e && t && e.start && t.start)) return 0;
            var i = e.start().ticks - t.start().ticks;
            return 0 !== i ? i : t.end().ticks - e.end().ticks;
          }),
          (this.Ed = function(e, t) {
            if (!e || !t) return 0;
            if (
              !(
                e.data &&
                t.data &&
                e.data.sort &&
                t.data.sort &&
                0 !== e.data.sort.length &&
                0 !== t.data.sort.length
              )
            )
              return a.Dd(e, t);
            for (
              var i = 0, n = 0;
              0 === i &&
              'undefined' != typeof e.data.sort[n] &&
              'undefined' != typeof t.data.sort[n];

            )
              (i =
                e.data.sort[n] === t.data.sort[n]
                  ? 0
                  : 'number' == typeof e.data.sort[n] &&
                    'number' == typeof t.data.sort[n]
                  ? e.data.sort[n] - t.data.sort[n]
                  : a.Fd(e.data.sort[n], t.data.sort[n], a.sortDirections[n])),
                n++;
            return i;
          }),
          (this.Fd = function(e, t, i) {
            var n = 'desc' !== i,
              a = n ? -1 : 1,
              o = -a;
            if (null === e && null === t) return 0;
            if (null === t) return o;
            if (null === e) return a;
            var r = [];
            return (r[0] = e), (r[1] = t), r.sort(), e === r[0] ? a : o;
          }),
          (this.nf = function(e, i, n, a, o, r) {
            o || (o = 0);
            var l = a;
            (this.shadow = {}),
              (this.shadow.list = []),
              (this.shadow.start = { x: e, y: i }),
              (this.shadow.width = a),
              this.eventMoveToPosition && ((l = 1), (this.shadow.position = n));
            var s = 7 * i + e - o;
            s < 0 && ((l += s), (e = 0), (i = 0));
            for (var d = o; d >= 7; ) i--, (d -= 7);
            if (d > e) {
              d > e + (7 - this.kf())
                ? (i--, (e = e + 7 - d))
                : ((l = l - d + e), (e = 0));
            } else e -= d;
            i < 0 && ((i = 0), (e = 0));
            var c = null;
            for (
              t.resizingEvent
                ? (c = 'w-resize')
                : t.movingEvent && (c = 'move'),
                this.nav.top.style.cursor = c;
              l > 0 && i < this.rows.length;

            ) {
              var h = Math.min(this.kf() - e, l),
                u = this.rows[i],
                f = this.of(i),
                v = u.getHeight();
              this.eventMoveToPosition && ((f = this.pf(i, n)), (v = 2));
              var p = document.createElement('div');
              p.setAttribute('unselectable', 'on'),
                (p.style.position = 'absolute'),
                (p.style.left = this.qf() * e + '%'),
                (p.style.width = this.qf() * h + '%'),
                (p.style.top = f + 'px'),
                (p.style.height = v + 'px'),
                (p.style.cursor = c);
              var g = document.createElement('div');
              g.setAttribute('unselectable', 'on'),
                p.appendChild(g),
                (p.className = this.r('_shadow')),
                (g.className = this.r('_shadow_inner'));
              this.nav.events.appendChild(p),
                this.shadow.list.push(p),
                (l -= h + 7 - this.kf()),
                (e = 0),
                i++;
            }
          }),
          (this.rf = function() {
            if (this.shadow) {
              this.nav.events;
              DayPilot.de(this.shadow.list),
                (this.shadow = null),
                (this.nav.top.style.cursor = '');
            }
          }),
          (this.pf = function(e, t) {
            for (var i = 0, n = 0; n < e; n++) i += this.rows[n].getHeight();
            return (i += this.cellHeaderHeight), (i += t * l.lineHeight());
          }),
          (this.sf = function(e, t) {
            return this.firstDate.addDays(7 * t + e);
          }),
          (this.vd = function(e) {
            var t = this.E.events,
              i = this.events.list[e],
              n = {};
            for (var a in i) n[a] = i[a];
            if ('function' == typeof this.onBeforeEventRender) {
              var o = {};
              (o.e = n), (o.data = n), this.onBeforeEventRender(o);
            }
            t[e] = n;
          }),
          (this.fc = function(e) {
            var t = this.cellMode,
              i = e.part.row,
              n = e.part.line,
              r = e.part.colStart,
              s = e.part.colWidth,
              d = e.cache || e.data,
              c = t ? 0 : this.qf() * r,
              h = t ? 100 : this.qf() * s,
              u = t ? n * l.lineHeight() : this.pf(i, n),
              f = document.createElement('div');
            f.setAttribute('unselectable', 'on'),
              (f.style.height = l.eventHeight() + 'px'),
              (f.style.position = 'relative'),
              (f.style.overflow = 'hidden'),
              (f.className = this.r('_event')),
              d.cssClass && DayPilot.Util.addClass(f, d.cssClass),
              (f.event = e),
              t
                ? ((f.style.marginRight = '2px'),
                  (f.style.marginBottom = '2px'))
                : ((f.style.width = h + '%'),
                  (f.style.position = 'absolute'),
                  (f.style.left = c + '%'),
                  (f.style.top = u + 'px')),
              this.showToolTip &&
                d.toolTip &&
                !this.bubble &&
                (f.title = d.toolTip),
              (f.onclick = this.tf),
              (f.ondblclick = this.uf),
              (f.oncontextmenu = this.vf),
              (f.onmousedown = this.ic),
              (f.onmousemove = this.gc),
              (f.onmouseout = this.hc),
              (f.ontouchstart = o.onEventTouchStart),
              (f.ontouchmove = o.onEventTouchMove),
              (f.ontouchend = o.onEventTouchEnd),
              e.part.startsHere ||
                DayPilot.Util.addClass(f, this.r('_event_continueleft')),
              e.part.endsHere ||
                DayPilot.Util.addClass(f, this.r('_event_continueright'));
            var v = document.createElement('div');
            v.setAttribute('unselectable', 'on'),
              (v.className = this.r('_event_inner')),
              d.fontColor && (v.style.color = d.fontColor),
              d.borderColor && (v.style.borderColor = d.borderColor),
              d.backColor &&
                ((v.style.background = d.backColor),
                (DayPilot.browser.ie9 || DayPilot.browser.ielt9) &&
                  (v.style.filter = '')),
              f.appendChild(v);
            var p = this.Lc.locale(),
              g = a.eventStartEndWidth;
            if (this.eventStartTime || d.htmlStart) {
              var m =
                  'Clock12Hours' === a.Lc.timeFormat()
                    ? e.start().toString('h tt', p)
                    : e.start().toString('H', p),
                y = {
                  left: 5,
                  top: 3,
                  width: g,
                  bottom: 2,
                  v: 'Visible',
                  html: d.htmlStart || m,
                  css: a.r('_event_timeleft')
                },
                b = DayPilot.Areas.createArea(f, e, y);
              f.appendChild(b), (v.style.paddingLeft = g + 'px');
            }
            if (this.eventEndTime || d.htmlEnd) {
              var m =
                  'Clock12Hours' === a.Lc.timeFormat()
                    ? e.end().toString('h tt', p)
                    : e.end().toString('H', p),
                y = {
                  right: 5,
                  top: 3,
                  width: g,
                  bottom: 2,
                  v: 'Visible',
                  html: d.htmlEnd || m,
                  css: a.r('_event_timeright')
                },
                b = DayPilot.Areas.createArea(f, e, y);
              f.appendChild(b), (v.style.paddingRight = g + 'px');
            }
            if (d.areas)
              for (var w = d.areas, D = 0; D < w.length; D++) {
                var y = w[D],
                  k = y.visibility || y.v || 'Visible';
                if ('Visible' === k) {
                  var b = DayPilot.Areas.createArea(f, e, y);
                  f.appendChild(b);
                }
              }
            !(function() {
              var t = {};
              (t.e = e),
                (t.element = null),
                (f.domArgs = t),
                'function' == typeof a.onDomAddEvent && a.onDomAddEvent(t),
                t.element
                  ? v.appendChild(t.element)
                  : (v.innerHTML = e.client.innerHTML());
            })(),
              this.elements.events.push(f),
              t
                ? this.cells[r][i].body.appendChild(f)
                : this.nav.events.appendChild(f),
              a.multiselect.Nb(f.event) && a.multiselect.add(f.event, !0);
            var f = f;
            if (a.Ba()) {
              if ('function' == typeof a.onAfterEventRender) {
                var P = {};
                (P.e = f.event), (P.div = f), a.onAfterEventRender(P);
              }
            } else a.afterEventRender && a.afterEventRender(f.event, f);
          }),
          (this.tf = function(e) {
            o.start || a.Oa(this, e);
          }),
          (this.uf = function(e) {
            a.Sa(this, e);
          }),
          (this.gc = function(e) {
            var i = this,
              n = i.event;
            if ('undefined' != typeof t && !t.movingEvent && !t.resizingEvent) {
              var o = DayPilot.mo3(i, e);
              if (o) {
                !(function() {
                  var e = i;
                  if (!e.active) {
                    var t = [],
                      o = n.cache || n.data;
                    'Disabled' === a.eventDeleteHandling ||
                      o.deleteDisabled ||
                      t.push({
                        action: 'JavaScript',
                        v: 'Hover',
                        w: 17,
                        h: 17,
                        top: 2,
                        right: 2,
                        css: a.r('_event_delete'),
                        js: function(e) {
                          a.Xa(e);
                        }
                      });
                    var r = e.event.cache
                      ? e.event.cache.areas
                      : e.event.data.areas;
                    r && r.length > 0 && (t = t.concat(r)),
                      DayPilot.Areas.showAreas(e, e.event, null, t);
                  }
                })(),
                  a.wf(i.event).each(function(e) {
                    DayPilot.Util.addClass(e, a.r('_event_hover'));
                  });
                var r = 6;
                if (
                  (!a.cellMode && o.x <= r && n.client.resizeEnabled()
                    ? n.part.startsHere
                      ? ((i.style.cursor = 'w-resize'), (i.dpBorder = 'left'))
                      : (i.style.cursor = 'not-allowed')
                    : !a.cellMode &&
                      i.clientWidth - o.x <= r &&
                      n.client.resizeEnabled()
                    ? n.part.endsHere
                      ? ((i.style.cursor = 'e-resize'), (i.dpBorder = 'right'))
                      : (i.style.cursor = 'not-allowed')
                    : n.client.clickEnabled()
                    ? (i.style.cursor = 'pointer')
                    : (i.style.cursor = 'default'),
                  'undefined' != typeof DayPilot.Bubble &&
                    a.bubble &&
                    'Disabled' !== a.eventHoverHandling)
                )
                  if (t.movingEvent || t.resizingEvent)
                    DayPilot.Bubble.hideActive();
                  else {
                    var l = this.xd && o.x === this.xd.x && o.y === this.xd.y;
                    l || ((this.xd = o), a.bubble.showEvent(i.event));
                  }
              }
            }
          }),
          (this.hc = function(e) {
            var t = this;
            'undefined' != typeof DayPilot.Bubble &&
              a.bubble &&
              a.bubble.hideOnMouseOut(),
              (t.style.cursor = ''),
              a.wf(t.event).each(function(e) {
                DayPilot.Util.removeClass(e, a.r('_event_hover'));
              }),
              DayPilot.Areas.hideAreas(t, e);
          }),
          (this.vf = function() {
            var e = this;
            return a.Ta(e.event), !1;
          }),
          (this.ic = function(e) {
            if (!o.start) {
              'undefined' != typeof DayPilot.Bubble &&
                (DayPilot.Bubble.hideActive(), DayPilot.Bubble.cancelShowing());
              var i = this,
                n = i.event,
                r = n.part.row,
                l = n.part.colStart,
                s = n.part.line,
                d = n.part.colWidth;
              e = e || window.event;
              var c = DayPilot.Util.mouseButton(e);
              if (
                ((e.cancelBubble = !0),
                e.stopPropagation && e.stopPropagation(),
                c.left)
              )
                if (
                  ('undefined' != typeof DayPilot.Bubble &&
                    a.bubble &&
                    DayPilot.Bubble.hideActive(),
                  (t.movingEvent = null),
                  'w-resize' === this.style.cursor ||
                    'e-resize' === this.style.cursor)
                ) {
                  var h = {};
                  (h.start = {}),
                    (h.start.x = l),
                    (h.start.y = r),
                    (h.event = i.event),
                    (h.width =
                      DayPilot.DateUtil.daysSpan(
                        h.event.start(),
                        h.event.end()
                      ) + 1),
                    (h.direction = this.style.cursor),
                    (t.resizingEvent = h);
                } else if (
                  'move' === this.style.cursor ||
                  n.client.moveEnabled()
                ) {
                  a.rf();
                  var u = DayPilot.mo3(a.nav.events, e);
                  if (!u) return;
                  var f = a.xf(u.x, u.y);
                  if (!f) return;
                  var v = DayPilot.DateUtil.daysDiff(
                      n.start(),
                      a.rows[r].start
                    ),
                    p = 7 * f.y + f.x - (7 * r + l);
                  v && (p += v);
                  var g = {};
                  (g.start = {}),
                    (g.start.x = l),
                    (g.start.y = r),
                    (g.start.line = s),
                    (g.offset = a.eventMoveToPosition ? 0 : p),
                    (g.colWidth = d),
                    (g.event = i.event),
                    (g.coords = u),
                    (t.movingEvent = g);
                }
            }
          }),
          (this.temp = {}),
          (this.temp.getPosition = function() {
            if (!a.coords) return null;
            var e = a.xf(a.coords.x, a.coords.y);
            if (!e) return null;
            var t = new DayPilot.Date(a.sf(e.x, e.y)),
              e = {};
            return (e.start = t), (e.end = t.addDays(1)), e;
          }),
          (this.jc = {});
        var o = a.jc;
        (o.active = !1),
          (o.start = !1),
          (o.timeouts = []),
          (o.onEventTouchStart = function(e) {
            if (!o.active && !o.start) {
              o.clearTimeouts(), (o.start = !0), (o.active = !1);
              var t = this;
              if (t.event.client.moveEnabled()) {
                var i = a.tapAndHoldTimeout;
                o.timeouts.push(
                  window.setTimeout(function() {
                    (o.active = !0), (o.start = !1);
                    var i = o.relativeCoords(e);
                    o.startMoving(t, i), e.preventDefault();
                  }, i)
                );
              }
              e.stopPropagation();
            }
          }),
          (o.onEventTouchMove = function(e) {
            o.clearTimeouts(), (o.start = !1);
          }),
          (o.onEventTouchEnd = function(e) {
            o.clearTimeouts(),
              o.start && a.Pa(this, e),
              window.setTimeout(function() {
                (o.start = !1), (o.active = !1);
              }, 500);
          }),
          (o.onMainTouchStart = function(e) {
            if (!o.active && !o.start) {
              o.clearTimeouts(), (o.start = !0), (o.active = !1);
              var t = a.tapAndHoldTimeout;
              o.timeouts.push(
                window.setTimeout(function() {
                  (o.active = !0), (o.start = !1), e.preventDefault();
                  var t = o.relativeCoords(e);
                  o.startRange(t);
                }, t)
              );
            }
          }),
          (o.onMainTouchMove = function(e) {
            if ((o.clearTimeouts(), (o.start = !1), o.active)) {
              e.preventDefault();
              var t = o.relativeCoords(e);
              if (o.moving) return void o.updateMoving(t);
              o.range && o.updateRange(t);
            }
          }),
          (o.onMainTouchEnd = function(e) {
            if ((o.clearTimeouts(), o.active)) {
              if (o.moving) {
                var t = (o.moving, o.moving.event),
                  i = a.shadow.start,
                  n = a.shadow.position,
                  r = o.moving.offset;
                a.rf(), (o.moving = null), a.db(t, i.x, i.y, r, e, n);
              }
              if (o.range) {
                var l = o.range,
                  i = new DayPilot.Date(a.sf(l.from.x, l.from.y)),
                  s = i.addDays(l.width);
                (o.range = null), a.kb(i, s);
              }
            }
            window.setTimeout(function() {
              (o.start = !1), (o.active = !1);
            }, 500);
          }),
          (o.clearTimeouts = function() {
            for (var e = 0; e < o.timeouts.length; e++)
              clearTimeout(o.timeouts[e]);
            o.timeouts = [];
          }),
          (o.relativeCoords = function(e) {
            var t = a.nav.events,
              i = e.touches[0].pageX,
              n = e.touches[0].pageY,
              o = DayPilot.abs(t);
            return {
              x: i - o.x,
              y: n - o.y,
              toString: function() {
                return 'x: ' + this.x + ', y:' + this.y;
              }
            };
          }),
          (o.startMoving = function(e, t) {
            a.rf();
            var i = e.event,
              n = a.xf(t.x, t.y);
            if (n) {
              var r = DayPilot.DateUtil.daysDiff(
                  i.start(),
                  a.rows[i.part.row].start
                ),
                l = 7 * n.y + n.x - (7 * i.part.row + i.part.colStart);
              r && (l += r);
              var s = {};
              (s.start = {}),
                (s.start.x = i.part.colStart),
                (s.start.y = i.part.row),
                (s.start.line = i.part.line),
                (s.offset = a.eventMoveToPosition ? 0 : l),
                (s.colWidth = i.part.colWidth),
                (s.event = i),
                (s.coords = t),
                (o.moving = s),
                o.updateMoving(t);
            }
          }),
          (o.updateMoving = function(e) {
            var t = a.xf(e.x, e.y);
            if (t) {
              var i = a.yf(t);
              a.rf();
              var n = o.moving.event,
                r = o.moving.offset,
                l = a.cellMode
                  ? 1
                  : DayPilot.DateUtil.daysSpan(n.start(), n.end()) + 1;
              l < 1 && (l = 1), a.nf(t.x, t.y, i, l, r, n);
            }
          }),
          (o.startRange = function(e) {
            var t = a.xf(e.x, e.y);
            if (t) {
              a.rf();
              var i = {};
              (i.start = {}),
                (i.start.x = t.x),
                (i.start.y = t.y),
                (i.x = t.x),
                (i.y = t.y),
                (i.width = 1),
                (o.range = i),
                o.updateRange(e);
            }
          }),
          (o.updateRange = function(e) {
            var t = a.xf(e.x, e.y);
            if (t) {
              a.rf();
              var i = o.range.start,
                n = 7 * i.y + i.x,
                r = 7 * t.y + t.x,
                l = Math.abs(r - n) + 1;
              l < 1 && (l = 1);
              var s = n < r ? i : t;
              (o.range.width = l),
                (o.range.from = { x: s.x, y: s.y }),
                a.nf(s.x, s.y, 0, l, 0, null);
            }
          }),
          (this.isWeekend = function(e) {
            return 0 === e.dayOfWeek() || 6 === e.dayOfWeek();
          }),
          (this.zf = function() {
            var e = this.startDate.lastDayOfMonth();
            if (this.showWeekend) return e;
            for (; this.isWeekend(e); ) e = e.addDays(-1);
            return e;
          }),
          (this.df = function() {
            if (
              ('string' == typeof this.startDate &&
                (this.startDate = new DayPilot.Date(this.startDate)),
              'Month' === this.viewType
                ? (this.startDate = this.startDate.firstDayOfMonth())
                : (this.startDate = this.startDate.getDatePart()),
              (this.firstDate = this.startDate.firstDayOfWeek(l.weekStarts())),
              !this.showWeekend)
            ) {
              for (
                var e = this.startDate.addMonths(-1).getMonth(),
                  t = new DayPilot.Date(this.firstDate).addDays(6);
                this.isWeekend(t);

              )
                t = t.addDays(-1);
              t.getMonth() === e &&
                (this.firstDate = this.firstDate.addDays(7));
            }
            var i;
            this.startDate;
            if ('Month' === this.viewType) {
              var n = this.zf(),
                o = DayPilot.DateUtil.daysDiff(this.firstDate, n) + 1;
              i = Math.ceil(o / 7);
            } else i = this.weeks;
            (this.days = 7 * i), (this.rows = []);
            for (var r = 0; r < i; r++) {
              var s = {};
              (s.start = this.firstDate.addDays(7 * r)),
                (s.end = s.start.addDays(this.kf())),
                (s.events = []),
                (s.lines = []),
                (s.index = r),
                (s.minHeight = this.cellHeight),
                (s.calendar = this),
                (s.belongsHere = function(e, t) {
                  return (
                    (t.getTime() === e.getTime() &&
                      e.getTime() === this.start.getTime()) ||
                    !(
                      t.getTime() <= this.start.getTime() ||
                      e.getTime() >= this.end.getTime()
                    )
                  );
                }),
                (s.getPartStart = function(e) {
                  return DayPilot.DateUtil.max(this.start, e.start());
                }),
                (s.getPartEnd = function(e) {
                  return DayPilot.DateUtil.min(this.end, e.rawend());
                }),
                (s.getStartColumn = function(e) {
                  var t = this.getPartStart(e);
                  return DayPilot.DateUtil.daysDiff(this.start, t);
                }),
                (s.getWidth = function(e) {
                  return (
                    DayPilot.DateUtil.daysSpan(
                      this.getPartStart(e),
                      this.getPartEnd(e)
                    ) + 1
                  );
                }),
                (s.putIntoLine = function(e, t, i, n) {
                  for (var a = this, o = 0; o < this.lines.length; o++) {
                    var r = this.lines[o];
                    if (r.isFree(t, i)) return r.addEvent(e, t, i, n, o), o;
                  }
                  var r = [];
                  return (
                    (r.isFree = function(e, t) {
                      for (var i = !0, n = 0; n < this.length; n++) {
                        var a = this[n];
                        e + t - 1 < a.part.colStart ||
                          e > a.part.colStart + a.part.colWidth - 1 ||
                          (i = !1);
                      }
                      return i;
                    }),
                    (r.addEvent = function(e, t, i, n, o) {
                      (e.part.colStart = t),
                        (e.part.colWidth = i),
                        (e.part.row = n),
                        (e.part.line = o),
                        (e.part.startsHere =
                          a.start.getTime() <= e.start().getTime()),
                        (e.part.endsHere =
                          a.end.getTime() >= e.end().getTime()),
                        this.push(e);
                    }),
                    r.addEvent(e, t, i, n, this.lines.length),
                    this.lines.push(r),
                    this.lines.length - 1
                  );
                }),
                (s.getStart = function() {
                  for (
                    var e = 0, t = 0;
                    t < a.rows.length && t < this.index;
                    t++
                  )
                    e += a.rows[t].getHeight();
                }),
                (s.getHeight = function() {
                  return Math.max(
                    this.lines.length * l.lineHeight() +
                      a.cellHeaderHeight +
                      a.cellMarginBottom,
                    this.calendar.cellHeight
                  );
                }),
                this.rows.push(s);
            }
            this.Af = this.firstDate.addDays(7 * i);
          }),
          (this.Bf = function() {
            switch (this.heightSpec) {
              case 'Auto':
                for (var e = l.headerHeight(), t = 0; t < this.rows.length; t++)
                  e += this.rows[t].getHeight();
                return e;
              case 'Fixed':
                return this.height;
            }
          }),
          (this.Cf = function(e, t) {
            return 7 * t.y + t.x - (7 * e.y + e.x) + 1;
          }),
          (this.Hd = {}),
          (this.Hd.scope = null),
          (this.Hd.notify = function() {
            a.Hd.scope && a.Hd.scope['$apply']();
          }),
          (this.debug = new DayPilot.Debug(this)),
          (this.qc = function() {
            var e = this.nav.top;
            (this.nav.top.dp = this),
              e.setAttribute('unselectable', 'on'),
              (e.style.MozUserSelect = 'none'),
              (e.style.KhtmlUserSelect = 'none'),
              (e.style.WebkitUserSelect = 'none'),
              (e.style.WebkitTapHighlightColor = 'rgba(0,0,0,0)'),
              (e.style.WebkitTouchCallout = 'none'),
              (e.style.position = 'relative'),
              this.width && (e.style.width = this.width),
              (e.onselectstart = function(e) {
                return !1;
              }),
              (e.className = this.r('_main')),
              this.hideUntilInit && (e.style.visibility = 'hidden'),
              this.visible || (e.style.display = 'none'),
              (e.onmousemove = this.wc),
              (e.ontouchstart = o.onMainTouchStart),
              (e.ontouchmove = o.onMainTouchMove),
              (e.ontouchend = o.onMainTouchEnd),
              (this.cf = document.createElement('div')),
              (this.cf.style.display = 'none'),
              this.nav.top.appendChild(this.cf);
            var t = document.createElement('div');
            (t.style.position = 'relative'),
              (t.style.height = l.headerHeight() + 'px'),
              (t.oncontextmenu = function() {
                return !1;
              }),
              this.nav.top.appendChild(t),
              (this.nav.header = t);
            var i = document.createElement('div');
            i.style.zoom = '1';
            var n = document.createElement('div');
            (n.style.position = 'relative'),
              i.appendChild(n),
              (this.nav.loading = document.createElement('div')),
              (this.nav.loading.style.position = 'absolute'),
              (this.nav.loading.style.top = '0px'),
              (this.nav.loading.style.left = '5px'),
              (this.nav.loading.className = a.r('_loading')),
              (this.nav.loading.innerHTML = this.loadingLabelText),
              (this.nav.loading.style.display = 'none'),
              this.nav.top.appendChild(i),
              this.nav.top.appendChild(this.nav.loading),
              (this.nav.scrollable = i),
              (this.nav.events = n);
          }),
          (this.wc = function(e) {
            (e.insideMainD = !0),
              window.event &&
                window.event.srcElement &&
                (window.event.srcElement.inside = !0),
              (a.coords = DayPilot.mo3(a.nav.events, e));
            var i = a.coords;
            if (i) {
              var n = a.xf(i.x, i.y);
              if (n) {
                if (t.resizingEvent) {
                  a.rf();
                  var o,
                    r,
                    l = t.resizingEvent;
                  l.start;
                  if ('w-resize' === l.direction) {
                    r = n;
                    var s = l.event.rawend();
                    s.getDatePart().getTime() === s.getTime() &&
                      (s = s.addDays(-1));
                    var d = a.Df(s);
                    o = a.Cf(n, d);
                  } else (r = a.Df(l.event.start())), (o = a.Cf(r, n));
                  o < 1 && (o = 1), a.nf(r.x, r.y, 0, o);
                } else if (t.movingEvent) {
                  if (
                    i.x === t.movingEvent.coords.x &&
                    i.y === t.movingEvent.coords.y
                  )
                    return;
                  var c = a.yf(n);
                  a.rf();
                  var h = t.movingEvent.event,
                    u = t.movingEvent.offset,
                    o = a.cellMode
                      ? 1
                      : DayPilot.DateUtil.daysSpan(h.start(), h.rawend()) + 1;
                  o < 1 && (o = 1), a.nf(n.x, n.y, c, o, u, h);
                } else if (t.timeRangeSelecting) {
                  (t.cancelCellClick = !0), a.rf();
                  var r = t.timeRangeSelecting,
                    f = 7 * r.y + r.x,
                    v = 7 * n.y + n.x,
                    o = Math.abs(v - f) + 1;
                  o < 1 && (o = 1);
                  var p = f < v ? r : n;
                  (t.timeRangeSelecting.from = { x: p.x, y: p.y }),
                    (t.timeRangeSelecting.width = o),
                    (t.timeRangeSelecting.moved = !0),
                    a.nf(p.x, p.y, 0, o, 0, null);
                }
                if (t.drag) {
                  if (
                    (t.gShadow && document.body.removeChild(t.gShadow),
                    (t.gShadow = null),
                    !t.movingEvent)
                  ) {
                    var g = DayPilot.Date.today(),
                      e = {
                        id: t.drag.id,
                        start: g,
                        end: g.addSeconds(t.drag.duration),
                        text: t.drag.text
                      },
                      m = t.drag.data;
                    if (m) {
                      var y = ['duration', 'element', 'remove', 'id', 'text'];
                      for (var b in m) DayPilot.contains(y, b) || (e[b] = m[b]);
                    }
                    var h = new DayPilot.Event(e, a);
                    h.external = !0;
                    var w = (t.movingEvent = {});
                    (w.event = h),
                      (w.coords = i),
                      (w.position = 0),
                      (w.offset = 0),
                      (w.external = !0),
                      (w.removeElement = t.drag.element);
                  }
                  e.cancelBubble = !0;
                }
              }
            }
          }),
          (this.yf = function(e) {
            for (
              var t = e.relativeY,
                i = a.rows[e.y],
                n = a.cellHeaderHeight,
                o = l.lineHeight(),
                r = i.lines.length,
                s = 0;
              s < i.lines.length;
              s++
            ) {
              if (i.lines[s].isFree(e.x, 1)) {
                r = s;
                break;
              }
            }
            var d = Math.floor((t - n + o / 2) / o),
              d = Math.min(r, d),
              d = Math.max(0, d);
            return d;
          }),
          (this.message = function(e, t, i, n) {
            if (null !== e) {
              var o,
                t = t || this.messageHideAfter || 2e3,
                r = 0.8,
                s = l.headerHeight();
              if (this.nav.message) o = a.nav.message;
              else {
                (o = document.createElement('div')),
                  o.setAttribute('unselectable', 'on'),
                  (o.style.position = 'absolute'),
                  (o.style.right = '0px'),
                  (o.style.left = '0px'),
                  (o.style.top = s + 'px'),
                  (o.style.opacity = r),
                  (o.style.filter = 'alpha(opacity=80)'),
                  (o.style.display = 'none'),
                  (o.onmousemove = function() {
                    o.messageTimeout &&
                      !o.status &&
                      clearTimeout(o.messageTimeout);
                  }),
                  (o.onmouseout = function() {
                    'none' !== a.nav.message.style.display &&
                      (o.messageTimeout = setTimeout(a.Ma, 500));
                  });
                var d = document.createElement('div');
                d.setAttribute('unselectable', 'on'),
                  (d.onclick = function() {
                    a.nav.message.style.display = 'none';
                  }),
                  (d.className = this.r('_message')),
                  o.appendChild(d);
                var c = document.createElement('div');
                c.setAttribute('unselectable', 'on'),
                  (c.style.position = 'absolute'),
                  (c.className = this.r('_message_close')),
                  (c.onclick = function() {
                    a.nav.message.style.display = 'none';
                  }),
                  o.appendChild(c),
                  this.nav.top.appendChild(o),
                  (this.nav.message = o);
              }
              var h = function() {
                (a.nav.message.style.opacity = r),
                  (a.nav.message.firstChild.innerHTML = e);
                var i = function() {
                  o.messageTimeout = setTimeout(a.Ma, t);
                };
                DayPilot.fade(a.nav.message, 0.2, i);
              };
              clearTimeout(o.messageTimeout),
                'none' !== this.nav.message.style.display
                  ? DayPilot.fade(a.nav.message, -0.2, h)
                  : h();
            }
          }),
          (this.message.show = function(e) {
            a.message(e);
          }),
          (this.message.hide = function() {
            a.Ma();
          }),
          (this.Ma = function() {
            var e = function() {
              a.nav.message.style.display = 'none';
            };
            DayPilot.fade(a.nav.message, -0.2, e);
          }),
          (this.W = function(e) {
            'Parent100Pct' === a.heightSpec && a.ra();
          }),
          (this.ra = function() {
            var e = this.nav.scrollable;
            if (
              ('Parent100Pct' === this.heightSpec || 'Fixed' === this.heightSpec
                ? ((e.style.top = this.headerHeight + 'px'),
                  (e.style.bottom = '0px'),
                  (e.style.left = '0px'),
                  (e.style.right = '0px'),
                  (e.style.overflow = 'auto'),
                  (e.style.position = 'absolute'))
                : (e.style.position = 'relative'),
              'Parent100Pct' === this.heightSpec)
            ) {
              this.nav.top.style.height = '100%';
              this.nav.top.clientHeight;
            } else this.nav.top.style.height = this.Bf() + 'px';
            for (var t = 0; t < this.cells.length; t++)
              for (var i = 0; i < this.cells[t].length; i++)
                (this.cells[t][i].style.top = this.of(i) + 'px'),
                  (this.cells[t][i].style.height =
                    this.rows[i].getHeight() + 'px');
            this.Ef();
          }),
          (this.xf = function(e, t) {
            for (
              var i = Math.floor(this.nav.top.clientWidth / this.kf()),
                n = Math.min(Math.floor(e / i), this.kf() - 1),
                a = null,
                o = 0,
                r = 0,
                l = 0,
                s = 0;
              s < this.rows.length;
              s++
            ) {
              if (((r += this.rows[s].getHeight()), t < r)) {
                (o = t - l), (a = s);
                break;
              }
              l = r;
            }
            null === a && (a = this.rows.length - 1);
            var d = {};
            return (d.x = n), (d.y = a), (d.relativeY = o), d;
          }),
          (this.Df = function(e) {
            for (
              var t = DayPilot.DateUtil.daysDiff(this.firstDate, e),
                i = { x: 0, y: 0 };
              t >= 7;

            )
              i.y++, (t -= 7);
            return (i.x = t), i;
          }),
          (this.Ef = function() {
            var e = DayPilot.sw(this.nav.scrollable);
            this.nav.header.style.marginRight = e + 'px';
          });
        var r = null;
        (this.gf = function() {
          var e = this.nav.header,
            t = this.nav.events;
          this.cells = [];
          for (var i = 0; i < this.kf(); i++) {
            this.cells[i] = [];
            var n = this.headerProperties ? this.headerProperties[i] : null,
              o = i + l.weekStarts();
            if ((o > 6 && (o -= 7), !n)) {
              var n = {};
              n.html = l.locale().dayNames[o];
            }
            if ('function' == typeof a.onBeforeHeaderRender) {
              var s = {};
              (s.header = {}), (s.header.dayOfWeek = o);
              var d = ['html', 'backColor', 'cssClass'];
              DayPilot.Util.copyProps(n, s.header, d),
                a.onBeforeHeaderRender(s),
                DayPilot.Util.copyProps(s.header, n, d);
            }
            var c = document.createElement('div');
            c.setAttribute('unselectable', 'on'),
              (c.style.position = 'absolute'),
              (c.style.left = this.qf() * i + '%'),
              (c.style.width = this.qf() + '%'),
              (c.style.top = '0px'),
              (c.style.height = l.headerHeight() + 'px'),
              (function(e) {
                c.onclick = function() {
                  a.Ua(e);
                };
              })(o);
            var h = document.createElement('div');
            h.setAttribute('unselectable', 'on'),
              (h.className = this.r('_header_inner')),
              (h.innerHTML = n.html),
              c.appendChild(h),
              (c.className = this.r('_header')),
              n &&
                (n.cssClass && DayPilot.Util.addClass(c, n.cssClass),
                n.backColor && (h.style.background = n.backColor)),
              e.appendChild(c);
            for (var u = 0; u < this.rows.length; u++) this.Ff(i, u, t);
          }
          if (
            !DayPilot.contains(this.nav.top.childNodes, r) &&
            DayPilot.Util.isNullOrUndefined(undefined)
          ) {
            var f = document.createElement('div');
            (f.style.position = 'absolute'),
              (f.style.padding = '2px'),
              (f.style.top = '0px'),
              (f.style.left = '0px'),
              (f.style.backgroundColor = '#FF6600'),
              (f.style.color = 'white'),
              (f.innerHTML = '\u0044\u0045' + '\u004D\u004F'),
              (r = f),
              this.nav.top.appendChild(f);
          }
        }),
          (this.ef = function() {
            for (var e = 0; e < this.cells.length; e++)
              for (var t = 0; t < this.cells[e].length; t++)
                this.cells[e][t].onclick = null;
            (this.nav.header.innerHTML = ''), (this.nav.events.innerHTML = '');
          }),
          (this.Ff = function(t, i, n) {
            var o = this.rows[i],
              r = this.firstDate.addDays(7 * i + t),
              s = this.cellProperties
                ? this.cellProperties[i * this.kf() + t]
                : null,
              d = null;
            if (s) d = s['headerHtml'];
            else {
              var c = r.getDay();
              d =
                1 === c
                  ? l.locale().monthNames[r.getMonth()] + ' ' + c
                  : c + '';
            }
            if (!s) {
              var s = {};
              (s.business = !a.isWeekend(r)), (s.headerHtml = d);
            }
            if ('function' == typeof a.onBeforeCellRender) {
              var h = {};
              (h.cell = {}),
                (h.cell.areas = null),
                (h.cell.backColor = null),
                (h.cell.backImage = null),
                (h.cell.backRepeat = null),
                (h.cell.business = a.isWeekend(r)),
                (h.cell.headerHtml = d),
                (h.cell.headerBackColor = null),
                (h.cell.cssClass = null),
                (h.cell.html = null),
                (h.cell.start = r),
                (h.cell.end = h.cell.start.addDays(1)),
                (h.cell.events = function() {
                  return a.events.forRange(h.cell.start, h.cell.end);
                }),
                DayPilot.Util.copyProps(s, h.cell),
                a.onBeforeCellRender(h),
                DayPilot.Util.copyProps(h.cell, s, [
                  'areas',
                  'backColor',
                  'backImage',
                  'backRepeat',
                  'business',
                  'headerHtml',
                  'headerBackColor',
                  'cssClass',
                  'html'
                ]);
            }
            var u = document.createElement('div');
            u.setAttribute('unselectable', 'on'),
              (u.style.position = 'absolute'),
              (u.style.cursor = 'default'),
              (u.style.left = this.qf() * t + '%'),
              (u.style.width = this.qf() + '%'),
              (u.style.top = this.of(i) + 'px'),
              (u.style.height = o.getHeight() + 'px'),
              (u.d = r),
              (u.x = t),
              (u.y = i),
              (u.props = s);
            var f = this.startDate.addMonths(-1).getMonth(),
              v = this.startDate.addMonths(1).getMonth(),
              p = this.startDate.getMonth(),
              g = document.createElement('div');
            g.setAttribute('unselectable', 'on'),
              u.appendChild(g),
              (g.className = this.r('_cell_inner')),
              (g.className = this.r('_cell_inner')),
              r.getMonth() === p
                ? (u.className = this.r('_cell'))
                : r.getMonth() === f
                ? (u.className = this.r('_cell') + ' ' + this.r('_previous'))
                : r.getMonth() === v
                ? (u.className = this.r('_cell') + ' ' + this.r('_next'))
                : e(),
              s &&
                (s['cssClass'] && DayPilot.Util.addClass(u, s.cssClass),
                s['business'] &&
                  DayPilot.Util.addClass(u, this.r('_cell_business')),
                s['backColor'] && (g.style.backgroundColor = s['backColor']),
                s['backImage'] &&
                  (g.style.backgroundImage = "url('" + s['backImage'] + "')"),
                s['backRepeat'] &&
                  (g.style.backgroundRepeat = s['backRepeat'])),
              (u.onmousedown = this.sb),
              (u.onmousemove = this.Cb),
              (u.onmouseout = this.Bb),
              (u.oncontextmenu = this.Gf),
              (u.onclick = this.Hf),
              (u.ondblclick = this.If);
            var m = document.createElement('div');
            if (
              (m.setAttribute('unselectable', 'on'),
              (m.style.height = this.cellHeaderHeight + 'px'),
              s &&
                s['headerBackColor'] &&
                (m.style.background = s['headerBackColor']),
              (m.className = this.r('_cell_header')),
              (m.innerHTML = s.headerHtml),
              g.appendChild(m),
              s && s['html'])
            ) {
              var y = document.createElement('div');
              y.setAttribute('unselectable', 'on'),
                (y.style.height = o.getHeight() - this.cellHeaderHeight + 'px'),
                (y.style.overflow = 'hidden'),
                (y.innerHTML = s['html']),
                g.appendChild(y);
            }
            if (this.cellMode) {
              var b = document.createElement('div');
              b.setAttribute('unselectable', 'on'),
                (b.style.height =
                  this.cellHeight - this.cellHeaderHeight + 'px'),
                (b.style.overflow = 'auto'),
                (b.style.position = 'relative');
              var w = document.createElement('div');
              w.setAttribute('unselectable', 'on'),
                (w.style.paddingTop = '1px'),
                (w.style.paddingBottom = '1px'),
                b.appendChild(w),
                g.appendChild(b),
                (u.body = w),
                (u.scrolling = b);
            }
            if (u.props)
              for (var D = u.props.areas || [], k = 0; k < D.length; k++) {
                var P = D[k],
                  x = P.visibility || P.v || 'Visible';
                if ('Visible' === x) {
                  var C = DayPilot.Areas.createArea(u, u.props, P);
                  u.appendChild(C);
                }
              }
            (this.cells[t][i] = u),
              n.appendChild(u),
              'function' == typeof a.onAfterCellRender &&
                ((h.cell.div = u),
                (h.cell.divHeader = m),
                a.onAfterCellRender(h));
          }),
          (this.Cb = function() {
            var e = this;
            e.props && DayPilot.Areas.showAreas(e, e.props);
          }),
          (this.Bb = function(e) {
            var t = this;
            t.props && DayPilot.Areas.hideAreas(t, e);
          }),
          (this.Gf = function() {
            var e = this.d;
            return (
              (function(e) {
                var t = new DayPilot.Date(e),
                  i = t.addDays(1),
                  n = new DayPilot.Selection(t, i, null, a);
                a.contextMenuSelection && a.contextMenuSelection.show(n);
              })(e),
              !1
            );
          }),
          (this.If = function() {
            var e = this.d;
            if (a.timeouts) {
              for (var t in a.timeouts) window.clearTimeout(a.timeouts[t]);
              a.timeouts = null;
            }
            if ('Disabled' !== a.timeRangeDoubleClickHandling) {
              var i = new DayPilot.Date(e),
                n = i.addDays(1);
              a.lb(i, n);
            }
          }),
          (this.Hf = function() {
            if (!t.cancelCellClick) {
              var e = this.d,
                i = function(e) {
                  var t = new DayPilot.Date(e),
                    i = t.addDays(1);
                  a.kb(t, i);
                };
              if (
                'Disabled' !== a.timeRangeSelectedHandling &&
                'Disabled' === a.timeRangeDoubleClickHandling
              )
                return void i(e);
              a.timeouts || (a.timeouts = []);
              var n = function(e) {
                return function() {
                  i(e);
                };
              };
              a.timeouts.push(window.setTimeout(n(e), a.doubleClickTimeout));
            }
          }),
          (this.sb = function(e) {
            var i = this,
              n = i.x,
              o = i.y;
            if (((t.cancelCellClick = !1), i.scrolling)) {
              var r = DayPilot.mo3(i.scrolling, e),
                l = DayPilot.sw(i.scrolling),
                s = i.scrolling.offsetWidth;
              if (r.x > s - l) return;
            }
            'Disabled' !== a.timeRangeSelectedHandling &&
              (a.rf(),
              (t.timeRangeSelecting = {
                root: a,
                x: n,
                y: o,
                from: { x: n, y: o },
                width: 1
              }));
          }),
          (this.kf = function() {
            return this.showWeekend ? 7 : 5;
          }),
          (this.qf = function() {
            return this.showWeekend ? 14.285 : 20;
          }),
          (this.of = function(e) {
            for (var t = 0, i = 0; i < e; i++) t += this.rows[i].getHeight();
            return t;
          }),
          (this.clearSelection = function() {
            this.rf();
          }),
          (this.K = function(e, t, i) {
            var n = {};
            (n.action = e),
              (n.parameters = i),
              (n.data = t),
              (n.header = this.L());
            var o = 'JSON' + JSON.stringify(n);
            __doPostBack(a.uniqueID, o);
          }),
          (this.M = function(e, t, i, n) {
            if (!this.t())
              return void a.debug.message(
                'Callback invoked without the server-side backend specified. Callback canceled.',
                'warning'
              );
            'undefined' == typeof n && (n = 'CallBack'), a.N();
            var o = {};
            (o.action = e),
              (o.type = n),
              (o.parameters = t),
              (o.data = i),
              (o.header = this.L());
            var r = 'JSON' + JSON.stringify(o);
            this.backendUrl
              ? DayPilot.request(this.backendUrl, this.O, r, this.P)
              : 'function' == typeof WebForm_DoCallback &&
                WebForm_DoCallback(
                  this.uniqueID,
                  r,
                  this.Q,
                  null,
                  this.callbackError,
                  !0
                );
          }),
          (this.t = function() {
            return ('javasc' !== a.H && a.H.indexOf('DCODE') === -1) || a.devsb;
          }),
          (this.R = function() {
            return !('function' != typeof WebForm_DoCallback || !this.uniqueID);
          }),
          (this.P = function(e) {
            if ('function' == typeof a.onAjaxError) {
              var t = {};
              (t.request = e), a.onAjaxError(t);
            } else 'function' == typeof a.ajaxError && a.ajaxError(e);
          }),
          (this.O = function(e) {
            a.Q(e.responseText);
          }),
          (this.L = function() {
            var e = {};
            return (
              (e.v = this.v),
              (e.control = 'dpm'),
              (e.id = this.id),
              (e.visibleStart = new DayPilot.Date(this.firstDate)),
              (e.visibleEnd = e.visibleStart.addDays(this.days)),
              (e.clientState = this.clientState),
              (e.cssClassPrefix = a.cssClassPrefix),
              (e.startDate = a.startDate),
              (e.showWeekend = this.showWeekend),
              (e.locale = this.locale),
              (e.timeFormat = this.timeFormat),
              (e.weekStarts = this.weekStarts),
              (e.viewType = this.viewType),
              (e.weeks = this.weeks),
              (e.selected = a.multiselect.events()),
              (e.hashes = a.hashes),
              e
            );
          }),
          (this.visibleStart = function() {
            return new DayPilot.Date(this.firstDate);
          }),
          (this.visibleEnd = function() {
            return a.visibleStart().addDays(a.days);
          }),
          (this.Ya = function(e, t, i, n) {
            if ('PostBack' === e) a.postBack2(t, i, n);
            else if ('CallBack' === e) a.M(t, i, n, 'CallBack');
            else if ('Immediate' === e) a.M(t, i, n, 'Notify');
            else if ('Queue' === e)
              a.queue.add(new DayPilot.Action(this, t, i, n));
            else {
              if ('Notify' !== e) throw 'Invalid event invocation type';
              'Notify' === l.notifyType()
                ? a.M(t, i, n, 'Notify')
                : a.queue.add(new DayPilot.Action(a, t, i, n));
            }
          }),
          (this.gb = function(e, t) {
            var i = a.hb(t),
              n = {};
            (n.args = e), (n.guid = i), a.M('Bubble', n);
          }),
          (this.hb = function(e) {
            var t = DayPilot.guid();
            return (
              this.bubbles || (this.bubbles = []), (this.bubbles[t] = e), t
            );
          }),
          (this.eventClickPostBack = function(e, t) {
            this.K('EventClick', t, e);
          }),
          (this.eventClickCallBack = function(e, t) {
            this.M('EventClick', e, t);
          }),
          (this.Oa = function(e, i) {
            (t.movingEvent = null), (t.resizingEvent = null);
            var i = i || window.event;
            i.ctrlKey, i.metaKey;
            if (
              ((i.cancelBubble = !0),
              i.stopPropagation && i.stopPropagation(),
              'undefined' != typeof DayPilot.Bubble &&
                DayPilot.Bubble.hideActive(),
              'Disabled' === a.eventDoubleClickHandling)
            )
              return void a.Pa(e, i);
            if (a.timeouts) {
              for (var n in a.timeouts) window.clearTimeout(a.timeouts[n]);
              a.timeouts = [];
            } else a.timeouts = [];
            var o = function(e, t) {
              return function() {
                a.Pa(e, t);
              };
            };
            a.timeouts.push(window.setTimeout(o(e, i), a.doubleClickTimeout));
          }),
          (this.Pa = function(e, t) {
            var i = e.event;
            if (i.client.clickEnabled()) {
              var n = t.ctrlKey,
                o = t.metaKey;
              if (a.Ba()) {
                var r = {};
                if (
                  ((r.e = i),
                  (r.div = e),
                  (r.originalEvent = t),
                  (r.meta = t.metaKey),
                  (r.ctrl = t.ctrlKey),
                  (r.preventDefault = function() {
                    this.preventDefault.value = !0;
                  }),
                  'function' == typeof a.onEventClick &&
                    (a.onEventClick(r), r.preventDefault.value))
                )
                  return;
                switch (a.eventClickHandling) {
                  case 'PostBack':
                    a.eventClickPostBack(i);
                    break;
                  case 'CallBack':
                    a.eventClickCallBack(i);
                    break;
                  case 'Select':
                    a.Ra(e, i, n, o);
                    break;
                  case 'ContextMenu':
                    var l = i.client.contextMenu();
                    l ? l.show(i) : a.contextMenu && a.contextMenu.show(i);
                    break;
                  case 'Bubble':
                    a.bubble && a.bubble.showEvent(i);
                }
                'function' == typeof a.onEventClicked && a.onEventClicked(r);
              } else
                switch (a.eventClickHandling) {
                  case 'PostBack':
                    a.eventClickPostBack(i);
                    break;
                  case 'CallBack':
                    a.eventClickCallBack(i);
                    break;
                  case 'JavaScript':
                    a.onEventClick(i);
                    break;
                  case 'Select':
                    a.Ra(e, i, n, o);
                    break;
                  case 'ContextMenu':
                    var l = i.client.contextMenu();
                    l ? l.show(i) : a.contextMenu && a.contextMenu.show(i);
                    break;
                  case 'Bubble':
                    a.bubble && a.bubble.showEvent(i);
                }
            }
          }),
          (this.Xa = function(e) {
            if (a.Ba()) {
              var t = {};
              if (
                ((t.e = e),
                (t.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                'function' == typeof a.onEventDelete &&
                  (a.onEventDelete(t), t.preventDefault.value))
              )
                return;
              switch (a.eventDeleteHandling) {
                case 'PostBack':
                  a.eventDeletePostBack(e);
                  break;
                case 'CallBack':
                  a.eventDeleteCallBack(e);
                  break;
                case 'Update':
                  a.events.remove(e);
              }
              'function' == typeof a.onEventDeleted && a.onEventDeleted(t);
            } else
              switch (a.eventDeleteHandling) {
                case 'PostBack':
                  a.eventDeletePostBack(e);
                  break;
                case 'CallBack':
                  a.eventDeleteCallBack(e);
                  break;
                case 'JavaScript':
                  a.onEventDelete(e);
              }
          }),
          (this.eventDeletePostBack = function(e, t) {
            this.K('EventDelete', e, t);
          }),
          (this.eventDeleteCallBack = function(e, t) {
            this.M('EventDelete', e, t);
          }),
          (this.eventDoubleClickPostBack = function(e, t) {
            this.K('EventDoubleClick', t, e);
          }),
          (this.eventDoubleClickCallBack = function(e, t) {
            this.M('EventDoubleClick', e, t);
          }),
          (this.Sa = function(e, t) {
            if (
              ('undefined' != typeof DayPilot.Bubble &&
                DayPilot.Bubble.hideActive(),
              a.timeouts)
            ) {
              for (var i in a.timeouts) window.clearTimeout(a.timeouts[i]);
              a.timeouts = null;
            }
            var t = t || window.event,
              n = e.event;
            if (a.Ba()) {
              var o = {};
              if (
                ((o.e = n),
                (o.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                'function' == typeof a.onEventDoubleClick &&
                  (a.onEventDoubleClick(o), o.preventDefault.value))
              )
                return;
              switch (a.eventDoubleClickHandling) {
                case 'PostBack':
                  a.eventDoubleClickPostBack(n);
                  break;
                case 'CallBack':
                  a.eventDoubleClickCallBack(n);
                  break;
                case 'Select':
                  a.Ra(e, n, t.ctrlKey, t.metaKey);
                  break;
                case 'Bubble':
                  a.bubble && a.bubble.showEvent(n);
              }
              'function' == typeof a.onEventDoubleClicked &&
                a.onEventDoubleClicked(o);
            } else
              switch (a.eventDoubleClickHandling) {
                case 'PostBack':
                  a.eventDoubleClickPostBack(n);
                  break;
                case 'CallBack':
                  a.eventDoubleClickCallBack(n);
                  break;
                case 'JavaScript':
                  a.onEventDoubleClick(n);
                  break;
                case 'Select':
                  a.Ra(e, n, t.ctrlKey, t.metaKey);
                  break;
                case 'Bubble':
                  a.bubble && a.bubble.showEvent(n);
              }
          }),
          (this.Ra = function(e, t, i, n) {
            a.nb(e, t, i, n);
          }),
          (this.eventSelectPostBack = function(e, t, i) {
            var n = {};
            (n.e = e), (n.change = t), this.K('EventSelect', i, n);
          }),
          (this.eventSelectCallBack = function(e, t, i) {
            var n = {};
            (n.e = e), (n.change = t), this.M('EventSelect', n, i);
          }),
          (this.nb = function(e, t, i, n) {
            var o = a.multiselect,
              r = o.isSelected(t);
            if (i || n || !r || 1 !== o.list.length)
              if (a.Ba()) {
                o.previous = o.events();
                var l = {};
                if (
                  ((l.e = t),
                  (l.selected = o.isSelected(t)),
                  (l.ctrl = i),
                  (l.meta = n),
                  (l.preventDefault = function() {
                    this.preventDefault.value = !0;
                  }),
                  'function' == typeof a.onEventSelect &&
                    (a.onEventSelect(l), l.preventDefault.value))
                )
                  return;
                switch (a.eventSelectHandling) {
                  case 'PostBack':
                    a.eventSelectPostBack(t, s);
                    break;
                  case 'CallBack':
                    'undefined' != typeof WebForm_InitCallback &&
                      ((window.pb = ''),
                      (window.qb = []),
                      WebForm_InitCallback()),
                      a.eventSelectCallBack(t, s);
                    break;
                  case 'Update':
                    o.rb(e, i);
                }
                'function' == typeof a.onEventSelected &&
                  ((l.change = o.isSelected(t) ? 'selected' : 'deselected'),
                  (l.selected = o.isSelected(t)),
                  a.onEventSelected(l));
              } else {
                (o.previous = o.events()), o.rb(e, i);
                var s = o.isSelected(t) ? 'selected' : 'deselected';
                switch (a.eventSelectHandling) {
                  case 'PostBack':
                    a.eventSelectPostBack(t, s);
                    break;
                  case 'CallBack':
                    'undefined' != typeof WebForm_InitCallback &&
                      ((window.pb = ''),
                      (window.qb = []),
                      WebForm_InitCallback()),
                      a.eventSelectCallBack(t, s);
                    break;
                  case 'JavaScript':
                    a.onEventSelect(t, s);
                }
              }
          }),
          (this.eventRightClickPostBack = function(e, t) {
            this.K('EventRightClick', t, e);
          }),
          (this.eventRightClickCallBack = function(e, t) {
            this.M('EventRightClick', e, t);
          }),
          (this.Ta = function(e) {
            if (((this.event = e), !e.client.rightClickEnabled())) return !1;
            if (a.Ba()) {
              var t = {};
              if (
                ((t.e = e),
                (t.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                'function' == typeof a.onEventRightClick &&
                  (a.onEventRightClick(t), t.preventDefault.value))
              )
                return;
              switch (a.eventRightClickHandling) {
                case 'PostBack':
                  a.eventRightClickPostBack(e);
                  break;
                case 'CallBack':
                  a.eventRightClickCallBack(e);
                  break;
                case 'ContextMenu':
                  var i = e.client.contextMenu();
                  i
                    ? i.show(e)
                    : a.contextMenu && a.contextMenu.show(this.event);
                  break;
                case 'Bubble':
                  a.bubble && a.bubble.showEvent(e);
              }
              'function' == typeof a.onEventRightClicked &&
                a.onEventRightClicked(t);
            } else
              switch (a.eventRightClickHandling) {
                case 'PostBack':
                  a.eventRightClickPostBack(e);
                  break;
                case 'CallBack':
                  a.eventRightClickCallBack(e);
                  break;
                case 'JavaScript':
                  a.onEventRightClick(e);
                  break;
                case 'ContextMenu':
                  var i = e.client.contextMenu();
                  i
                    ? i.show(e)
                    : a.contextMenu && a.contextMenu.show(this.event);
                  break;
                case 'Bubble':
                  a.bubble && a.bubble.showEvent(e);
              }
            return !1;
          }),
          (this.eventMenuClickPostBack = function(e, t, i) {
            var n = {};
            (n.e = e), (n.command = t), this.K('EventMenuClick', i, n);
          }),
          (this.eventMenuClickCallBack = function(e, t, i) {
            var n = {};
            (n.e = e), (n.command = t), this.M('EventMenuClick', n, i);
          }),
          (this.ib = function(e, t, i) {
            switch (i) {
              case 'PostBack':
                a.eventMenuClickPostBack(t, e);
                break;
              case 'CallBack':
                a.eventMenuClickCallBack(t, e);
            }
          }),
          (this.eventMovePostBack = function(e, t, i, n, a) {
            if (!t) throw 'newStart is null';
            if (!i) throw 'newEnd is null';
            var o = {};
            (o.e = e),
              (o.newStart = t),
              (o.newEnd = i),
              (o.position = a),
              this.K('EventMove', n, o);
          }),
          (this.eventMoveCallBack = function(e, t, i, n, a) {
            if (!t) throw 'newStart is null';
            if (!i) throw 'newEnd is null';
            var o = {};
            (o.e = e),
              (o.newStart = t),
              (o.newEnd = i),
              (o.position = a),
              this.M('EventMove', o, n);
          }),
          (this.db = function(e, t, i, n, o, r, l) {
            var s = e.start().getTimePart(),
              d = e.rawend().getDatePart();
            d.getTime() !== e.rawend().getTime() && (d = d.addDays(1));
            var c = DayPilot.DateUtil.diff(e.rawend(), d),
              h = this.sf(t, i);
            h = h.addDays(-n);
            var u = DayPilot.DateUtil.daysSpan(e.start(), e.rawend()) + 1,
              f = h.addDays(u),
              v = h.addTime(s),
              p = f.addTime(c);
            if (((p = a.Jf(p)), a.Ba())) {
              var g = {};
              if (
                ((g.e = e),
                (g.newStart = v),
                (g.newEnd = p),
                (g.position = r),
                (g.ctrl = !1),
                (g.external = l),
                o && (g.ctrl = o.ctrlKey),
                (g.shift = !1),
                o && (g.shift = o.shiftKey),
                (g.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                'function' == typeof a.onEventMove &&
                  (a.onEventMove(g), g.preventDefault.value))
              )
                return;
              switch (a.eventMoveHandling) {
                case 'PostBack':
                  a.eventMovePostBack(e, v, p, null, r);
                  break;
                case 'CallBack':
                  a.eventMoveCallBack(e, v, p, null, r);
                  break;
                case 'Notify':
                  a.eventMoveNotify(e, v, p, null, r);
                  break;
                case 'Update':
                  g.external
                    ? (e.start(v), e.end(p), e.commit(), a.events.add(e))
                    : (e.start(v), e.end(p), a.events.update(e)),
                    a.eb();
              }
              'function' == typeof a.onEventMoved && a.onEventMoved(g);
            } else
              switch (a.eventMoveHandling) {
                case 'PostBack':
                  a.eventMovePostBack(e, v, p, null, r);
                  break;
                case 'CallBack':
                  a.eventMoveCallBack(e, v, p, null, r);
                  break;
                case 'JavaScript':
                  a.onEventMove(e, v, p, o.ctrlKey, o.shiftKey, r);
                  break;
                case 'Notify':
                  a.eventMoveNotify(e, v, p, null, r);
              }
          }),
          (this.eventMoveNotify = function(e, t, i, n, o) {
            var r = new DayPilot.Event(e.copy(), this);
            e.start(t),
              e.end(i),
              e.commit(),
              a.update(),
              this.fb('Notify', r, t, i, n, o);
          }),
          (this.fb = function(e, t, i, n, a, o) {
            var r = {};
            (r.e = t),
              (r.newStart = i),
              (r.newEnd = n),
              (r.position = o),
              this.Ya(e, 'EventMove', r, a);
          }),
          (this.eventResizePostBack = function(e, t, i, n) {
            if (!t) throw 'newStart is null';
            if (!i) throw 'newEnd is null';
            var a = {};
            (a.e = e),
              (a.newStart = t),
              (a.newEnd = i),
              this.K('EventResize', n, a);
          }),
          (this.eventResizeCallBack = function(e, t, i, n) {
            if (!t) throw 'newStart is null';
            if (!i) throw 'newEnd is null';
            var a = {};
            (a.e = e),
              (a.newStart = t),
              (a.newEnd = i),
              this.M('EventResize', a, n);
          }),
          (this.ab = function(e, t, i) {
            var n = e.start().getTimePart(),
              o = e.rawend().getDatePart();
            o != e.rawend() && (o = o.addDays(1));
            var r = DayPilot.DateUtil.diff(e.rawend(), o),
              l = this.sf(t.x, t.y),
              s = l.addDays(i),
              d = l.addTime(n),
              c = s.addTime(r);
            if (((c = a.Jf(c)), a.Ba())) {
              var h = {};
              if (
                ((h.e = e),
                (h.newStart = d),
                (h.newEnd = c),
                (h.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                'function' == typeof a.onEventResize &&
                  (a.onEventResize(h), h.preventDefault.value))
              )
                return;
              switch (a.eventResizeHandling) {
                case 'PostBack':
                  a.eventResizePostBack(e, d, c);
                  break;
                case 'CallBack':
                  a.eventResizeCallBack(e, d, c);
                  break;
                case 'Notify':
                  a.eventResizeNotify(e, d, c);
                  break;
                case 'Update':
                  e.start(d), e.end(c), a.events.update(e);
              }
              'function' == typeof a.onEventResized && a.onEventResized(h);
            } else
              switch (a.eventResizeHandling) {
                case 'PostBack':
                  a.eventResizePostBack(e, d, c);
                  break;
                case 'CallBack':
                  a.eventResizeCallBack(e, d, c);
                  break;
                case 'JavaScript':
                  a.onEventResize(e, d, c);
                  break;
                case 'Notify':
                  a.eventResizeNotify(e, d, c);
              }
          }),
          (this.eventResizeNotify = function(e, t, i, n) {
            var o = new DayPilot.Event(e.copy(), this);
            e.start(t),
              e.end(i),
              e.commit(),
              a.update(),
              this.bb('Notify', o, t, i, n);
          }),
          (this.bb = function(e, t, i, n, a) {
            var o = {};
            (o.e = t),
              (o.newStart = i),
              (o.newEnd = n),
              this.Ya(e, 'EventResize', o, a);
          }),
          (this.timeRangeSelectedPostBack = function(e, t, i) {
            var n = {};
            (n.start = e), (n.end = t), this.K('TimeRangeSelected', i, n);
          }),
          (this.timeRangeSelectedCallBack = function(e, t, i) {
            var n = {};
            (n.start = e), (n.end = t), this.M('TimeRangeSelected', n, i);
          }),
          (this.kb = function(e, t) {
            if (((t = a.Jf(t)), a.Ba())) {
              var i = {};
              if (
                ((i.start = e),
                (i.end = t),
                (i.control = a),
                (i.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                'function' == typeof a.onTimeRangeSelect &&
                  (a.onTimeRangeSelect(i), i.preventDefault.value))
              )
                return;
              switch (a.timeRangeSelectedHandling) {
                case 'PostBack':
                  a.timeRangeSelectedPostBack(e, t), a.clearSelection();
                  break;
                case 'CallBack':
                  a.timeRangeSelectedCallBack(e, t), a.clearSelection();
              }
              'function' == typeof a.onTimeRangeSelected &&
                a.onTimeRangeSelected(i);
            } else
              switch (a.timeRangeSelectedHandling) {
                case 'PostBack':
                  a.timeRangeSelectedPostBack(e, t), a.clearSelection();
                  break;
                case 'CallBack':
                  a.timeRangeSelectedCallBack(e, t), a.clearSelection();
                  break;
                case 'JavaScript':
                  a.onTimeRangeSelected(e, t);
              }
          }),
          (this.timeRangeMenuClickPostBack = function(e, t, i) {
            var n = {};
            (n.selection = e),
              (n.command = t),
              this.K('TimeRangeMenuClick', i, n);
          }),
          (this.timeRangeMenuClickCallBack = function(e, t, i) {
            var n = {};
            (n.selection = e),
              (n.command = t),
              this.M('TimeRangeMenuClick', n, i);
          }),
          (this.jb = function(e, t, i) {
            switch (i) {
              case 'PostBack':
                a.timeRangeMenuClickPostBack(t, e);
                break;
              case 'CallBack':
                a.timeRangeMenuClickCallBack(t, e);
            }
          }),
          (this.headerClickPostBack = function(e, t) {
            this.K('HeaderClick', t, e);
          }),
          (this.headerClickCallBack = function(e, t) {
            this.M('HeaderClick', e, t);
          }),
          (this.Ua = function(e) {
            var t = (this.data, { day: e });
            if (a.Ba()) {
              var i = {};
              if (
                ((i.header = {}),
                (i.header.dayOfWeek = e),
                (i.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                'function' == typeof a.onHeaderClick &&
                  (a.onHeaderClick(i), i.preventDefault.value))
              )
                return;
              switch (a.headerClickHandling) {
                case 'PostBack':
                  a.headerClickPostBack(t);
                  break;
                case 'CallBack':
                  a.headerClickCallBack(t);
              }
              'function' == typeof a.onHeaderClicked && a.onHeaderClicked(i);
            } else
              switch (a.headerClickHandling) {
                case 'PostBack':
                  a.headerClickPostBack(t);
                  break;
                case 'CallBack':
                  a.headerClickCallBack(t);
                  break;
                case 'JavaScript':
                  a.onHeaderClick(t);
              }
          }),
          (this.timeRangeDoubleClickPostBack = function(e, t, i) {
            var n = {};
            (n.start = e), (n.end = t), this.K('TimeRangeDoubleClick', i, n);
          }),
          (this.timeRangeDoubleClickCallBack = function(e, t, i) {
            var n = {};
            (n.start = e), (n.end = t), this.M('TimeRangeDoubleClick', n, i);
          }),
          (this.lb = function(e, t) {
            if (a.Ba()) {
              var i = {};
              if (
                ((i.start = e),
                (i.end = t),
                (i.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                'function' == typeof a.onTimeRangeDoubleClick &&
                  (a.onTimeRangeDoubleClick(i), i.preventDefault.value))
              )
                return;
              switch (a.timeRangeDoubleClickHandling) {
                case 'PostBack':
                  a.timeRangeDoubleClickPostBack(e, t);
                  break;
                case 'CallBack':
                  a.timeRangeDoubleClickCallBack(e, t);
              }
              'function' == typeof a.onTimeRangeDoubleClicked &&
                a.onTimeRangeDoubleClicked(i);
            } else
              switch (a.timeRangeDoubleClickHandling) {
                case 'PostBack':
                  a.timeRangeDoubleClickPostBack(e, t);
                  break;
                case 'CallBack':
                  a.timeRangeDoubleClickCallBack(e, t);
                  break;
                case 'JavaScript':
                  a.onTimeRangeDoubleClick(e, t);
              }
          }),
          (this.commandCallBack = function(e, t) {
            this.Kf();
            var i = {};
            (i.command = e), this.M('Command', i, t);
          }),
          (this.commandPostBack = function(e, t) {
            this.Kf();
            var i = {};
            (i.command = e), this.K('Command', i, t);
          }),
          (this.Gd = function(e) {
            for (var t = 0; t < a.elements.events.length; t++) {
              var i = a.elements.events[t];
              if (i.event === e || i.event.data === e.data) return i;
            }
            return null;
          }),
          (this.wf = function(e) {
            var t = {};
            (t.list = []),
              (t.each = function(e) {
                if (e)
                  for (var t = 0; t < this.list.length; t++) e(this.list[t]);
              });
            for (var i = 0; i < this.elements.events.length; i++) {
              var n = this.elements.events[i];
              n.event.data === e.data && t.list.push(n);
            }
            return t;
          }),
          (this.Od = function(e) {
            var t = document.createElement('div');
            (t.style.position = 'absolute'),
              (t.style.top = '-2000px'),
              (t.style.left = '-2000px'),
              (t.className = this.r(e)),
              document.body.appendChild(t);
            var i = t.offsetHeight,
              n = t.offsetWidth;
            document.body.removeChild(t);
            var a = {};
            return (a.height = i), (a.width = n), a;
          }),
          (this.Lc = {});
        var l = this.Lc;
        (l.clearCache = function() {
          delete a.E.eventHeight, delete a.E.headerHeight;
        }),
          (l.lineHeight = function() {
            return l.eventHeight() + a.lineSpace;
          }),
          (l.rounded = function() {
            return 'Rounded' === a.eventCorners;
          }),
          (l.loadFromServer = function() {
            return !!a.backendUrl;
          }),
          (l.locale = function() {
            return DayPilot.Locale.find(a.locale);
          }),
          (l.getWeekStart = function() {
            return a.showWeekend ? a.weekStarts : 1;
          }),
          (l.weekStarts = function() {
            if (!a.showWeekend) return 1;
            if ('Auto' === a.weekStarts) {
              var e = l.locale();
              return e ? e.weekStarts : 0;
            }
            return a.weekStarts;
          }),
          (l.notifyType = function() {
            var e;
            if ('Immediate' === a.notifyCommit) e = 'Notify';
            else {
              if ('Queue' !== a.notifyCommit)
                throw 'Invalid notifyCommit value: ' + a.notifyCommit;
              e = 'Queue';
            }
            return e;
          }),
          (l.eventHeight = function() {
            if (a.E.eventHeight) return a.E.eventHeight;
            var e = a.Od('_event_height').height;
            return e || (e = a.eventHeight), (a.E.eventHeight = e), e;
          }),
          (l.headerHeight = function() {
            if (a.E.headerHeight) return a.E.headerHeight;
            var e = a.Od('_header_height').height;
            return e || (e = a.headerHeight), (a.E.headerHeight = e), e;
          }),
          (l.timeFormat = function() {
            return 'Auto' !== a.timeFormat
              ? a.timeFormat
              : l.locale().timeFormat;
          }),
          (this.qd = function() {
            var e = a.nav.top;
            return !!e && (e.offsetWidth > 0 && e.offsetHeight > 0);
          }),
          (this.exportAs = function(e, t) {
            if (!a.qd())
              throw new DayPilot.Exception(
                'DayPilot.Month.exportAs(): The instance must be visible during export.'
              );
            var i = s.generate(e, t);
            return new DayPilot.Export(i);
          }),
          (this.Pd = {});
        var s = this.Pd;
        (s.Qd = null),
          (s.Rd = null),
          (s.generate = function(e, t) {
            'object' == typeof e && ((t = e), (e = null));
            var t = t || {},
              e = e || t.format || 'svg',
              i = t.scale || 1;
            if ('config' !== e) {
              'jpg' === e.toLowerCase() && (e = 'jpeg');
              var n = t.area || 'viewport';
              (s.Qd = t), (s.Rd = n);
              var o,
                r = s.getWidth(),
                d = s.getHeight();
              switch (e.toLowerCase()) {
                case 'svg':
                  o = new DayPilot.Svg(r, d);
                  break;
                case 'png':
                  o = new DayPilot.Canvas(r, d, 'image/png', i);
                  break;
                case 'jpeg':
                  o = new DayPilot.Canvas(r, d, 'image/jpeg', i, t.quality);
                  break;
                default:
                  throw 'Export format not supported: ' + e;
              }
              var c = s.getRectangles(),
                h = new DayPilot.StyleReader(a.nav.top).get('background-color'),
                u = new DayPilot.StyleReader(a.nav.top).get('border-top-color'),
                f = a.nav.header.firstChild.firstChild,
                v = new DayPilot.StyleReader(f).get('background-color'),
                p = new DayPilot.StyleReader(f).getFont(),
                g = new DayPilot.StyleReader(f).get('color'),
                m = a.cells[0][0].firstChild,
                y = (new DayPilot.StyleReader(m).get('background-color'),
                new DayPilot.StyleReader(m).get('border-right-color')),
                b = (c.grid.w * a.qf()) / 100,
                w = 0;
              o.fillRect(c.main, 'white'),
                o.fillRect(c.main, h),
                DayPilot.list.for(a.kf()).each(function(e) {
                  var t = a.headerProperties ? a.headerProperties[e] : null,
                    i = e + l.weekStarts();
                  if ((i > 6 && (i -= 7), !t)) {
                    var t = {};
                    t.html = l.locale().dayNames[i];
                  }
                  var n = 0,
                    r = b,
                    s = l.headerHeight(),
                    d = t.html,
                    c = { x: w, y: n, w: r + 1, h: s + 1 },
                    h = DayPilot.Util.copyProps(c),
                    f = {};
                  (f.header = {}),
                    (f.header.dayOfWeek = i),
                    (f.backColor = v),
                    (f.text = d),
                    (f.horizontalAlignment = 'center'),
                    (f.fontSize = p.size),
                    (f.fontFamily = p.family),
                    (f.fontStyle = p.style),
                    (f.fontColor = g),
                    'function' == typeof a.onBeforeHeaderExport &&
                      a.onBeforeHeaderExport(f);
                  var m = {
                    size: f.fontSize,
                    family: f.fontFamily,
                    style: f.fontStyle
                  };
                  o.fillRect(c, f.backColor),
                    o.rect(c, u),
                    o.text(h, f.text, m, f.fontColor, f.horizontalAlignment),
                    (w += r);
                });
              var D = c.grid.y;
              s.getRows().forEach(function(e) {
                var t = e.getHeight(),
                  i = 0,
                  n = a.rows.indexOf(e);
                DayPilot.list.for(a.kf()).each(function(e) {
                  var r = a.cells[e][n],
                    l = r.props,
                    s = b,
                    d = new DayPilot.StyleReader(a.cells[e][n].firstChild).get(
                      'background-color'
                    ),
                    c = a.cells[e][n].firstChild.firstChild,
                    h = new DayPilot.StyleReader(c).getFont(),
                    u = new DayPilot.StyleReader(c).get('color'),
                    f = new DayPilot.StyleReader(c).get('background-color'),
                    v = a.firstDate.addDays(7 * n + e),
                    p = {};
                  (p.cell = {}),
                    (p.cell.start = v),
                    (p.cell.end = v.addDays(1)),
                    (p.backColor = d),
                    (p.text = l.headerHtml),
                    (p.horizontalAlignment = 'right'),
                    'function' == typeof a.onBeforeCellExport &&
                      a.onBeforeCellExport(p);
                  var g = { x: i, y: D, w: s + 1, h: t + 1 };
                  o.fillRect(g, p.backColor), o.rect(g, y);
                  var m = { x: i, y: D, w: s - 2, h: a.cellHeaderHeight };
                  o.fillRect(g, f),
                    o.text(m, p.text, h, u, p.horizontalAlignment),
                    (i += s);
                }),
                  (D += t);
              });
              var k = 0;
              return (
                s.getRows().forEach(function(e) {
                  var t = e.getHeight();
                  DayPilot.list(e.lines).each(function(e) {
                    DayPilot.list(e).each(function(e) {
                      var t = e.cache || e.data,
                        i = s.fakeEvent();
                      i.className += ' ' + t.cssClass;
                      var n = i.firstChild,
                        r = new DayPilot.StyleReader(n).get(
                          'border-right-color'
                        ),
                        d = new DayPilot.StyleReader(n).getFont(),
                        h = new DayPilot.StyleReader(n).get('color'),
                        u = new DayPilot.StyleReader(n).getBackColor(),
                        f = {};
                      (f.left = new DayPilot.StyleReader(n).getPx(
                        'padding-left'
                      )),
                        (f.right = new DayPilot.StyleReader(n).getPx(
                          'padding-right'
                        )),
                        (f.top = new DayPilot.StyleReader(n).getPx(
                          'padding-top'
                        )),
                        (f.bottom = new DayPilot.StyleReader(n).getPx(
                          'padding-bottom'
                        )),
                        DayPilot.de(i);
                      var v = t.backColor || u,
                        p = {};
                      (p.e = e),
                        (p.text = e.text ? e.text() : e.client.html()),
                        (p.fontSize = d.size),
                        (p.fontFamily = d.family),
                        (p.fontStyle = d.style),
                        (p.fontColor = t.fontColor || h),
                        (p.backColor = t.backColor || v),
                        (p.borderColor = r),
                        (p.horizontalAlignment = 'left'),
                        'function' == typeof a.onBeforeEventExport &&
                          a.onBeforeEventExport(p);
                      var g = b * e.part.colStart,
                        m = b * e.part.colWidth,
                        y =
                          k +
                          a.cellHeaderHeight +
                          e.part.line * l.lineHeight() +
                          c.grid.y +
                          2,
                        w = l.eventHeight(),
                        D = 2,
                        P = { x: g + D, y: y, w: m + 1 - 4, h: w },
                        x = DayPilot.Util.copyProps(P);
                      (x.x += f.left),
                        (x.w -= f.left + f.right),
                        (x.y += f.top),
                        (x.h -= f.top + f.bottom),
                        o.fillRect(P, p.backColor),
                        o.text(
                          x,
                          p.text,
                          {
                            size: p.fontSize,
                            family: p.fontFamily,
                            style: p.fontStyle
                          },
                          p.fontColor,
                          p.horizontalAlignment
                        ),
                        o.rect(P, p.borderColor);
                    });
                  }),
                    (k += t);
                }),
                o.rect(c.main, u),
                o.line(c.grid.x, 0, c.grid.x, c.main.h, u),
                o.line(0, c.grid.y, c.main.w, c.grid.y, u),
                o
              );
            }
          }),
          (s.fakeEvent = function() {
            var e = document.createElement('div');
            (e.style.position = 'absolute'),
              (e.style.top = '-2000px'),
              (e.style.left = '-2000px'),
              (e.style.display = 'none'),
              (e.className = a.r('_event'));
            var t = document.createElement('div');
            return (
              (t.className = a.r('_event_inner')),
              e.appendChild(t),
              a.nav.events.appendChild(e),
              e
            );
          }),
          (s.fakeCell = function() {
            var e = document.createElement('div');
            (e.style.position = 'absolute'),
              (e.style.top = '-2000px'),
              (e.style.left = '-2000px'),
              (e.style.display = 'none'),
              (e.className = a.r('_cell'));
            var t = document.createElement('div');
            return (
              (t.className = a.r('_cell_inner')),
              e.appendChild(t),
              a.nav.events.appendChild(e),
              e
            );
          }),
          (s.getWidth = function() {
            var e = s.Rd,
              t = Math.floor(a.nav.top.clientWidth / a.kf()) * a.kf();
            switch (e) {
              case 'viewport':
              case 'full':
              case 'range':
                return 'number' == typeof s.Qd.width ? s.Qd.width : t;
              default:
                throw 'Unsupported export mode: ' + e;
            }
          }),
          (s.getHeight = function() {
            var e = s.Rd;
            switch (e) {
              case 'viewport':
              case 'full':
                return a.nav.top.clientHeight;
              case 'range':
                var t = l.headerHeight();
                return (
                  s.getRows().forEach(function(e) {
                    t += e.getHeight();
                  }),
                  t
                );
              default:
                throw 'Unsupported export mode: ' + e;
            }
          }),
          (s.getRows = function() {
            var e = new DayPilot.Date(s.Qd.dateFrom || a.visibleStart()),
              t = new DayPilot.Date(s.Qd.dateTo || a.visibleEnd());
            return a.rows.filter(function(i) {
              return (
                'range' !== s.Rd || DayPilot.Util.overlaps(i.start, i.end, e, t)
              );
            });
          }),
          (s.getRectangles = function() {
            var e = l.headerHeight(),
              t = {};
            return (
              (t.main = { x: 0, y: 0, w: s.getWidth(), h: s.getHeight() }),
              (t.grid = { x: 0, y: e, w: s.getWidth(), h: s.getHeight() - e }),
              t
            );
          }),
          (this.multiselect = {}),
          (this.multiselect.initList = []),
          (this.multiselect.list = []),
          (this.multiselect.divs = []),
          (this.multiselect.previous = []),
          (this.multiselect.Lb = function() {
            var e = a.multiselect;
            return JSON.stringify(e.events());
          }),
          (this.multiselect.events = function() {
            var e = a.multiselect,
              t = [];
            t.ignoreToJSON = !0;
            for (var i = 0; i < e.list.length; i++) t.push(e.list[i]);
            return t;
          }),
          (this.multiselect.Mb = function() {}),
          (this.multiselect.rb = function(e, t) {
            var i = a.multiselect;
            if (i.isSelected(e.event))
              if (a.allowMultiSelect)
                if (t) i.remove(e.event, !0);
                else {
                  var n = i.list.length;
                  i.clear(!0), n > 1 && i.add(e.event, !0);
                }
              else i.clear(!0);
            else
              a.allowMultiSelect && t
                ? i.add(e.event, !0)
                : (i.clear(!0), i.add(e.event, !0));
            i.redraw(), i.Mb();
          }),
          (this.multiselect.Nb = function(e) {
            var t = a.multiselect;
            return t.Ob(e, t.initList);
          }),
          (this.multiselect.Pb = function() {
            for (var e = a.multiselect, t = [], i = 0; i < e.list.length; i++) {
              var n = e.list[i];
              t.push(n.value());
            }
            alert(t.join('\n'));
          }),
          (this.multiselect.add = function(e, t) {
            var i = a.multiselect;
            i.indexOf(e) === -1 && i.list.push(e), t || i.redraw();
          }),
          (this.multiselect.remove = function(e, t) {
            var i = a.multiselect,
              n = i.indexOf(e);
            n !== -1 && i.list.splice(n, 1);
          }),
          (this.multiselect.clear = function(e) {
            var t = a.multiselect;
            (t.list = []), e || t.redraw();
          }),
          (this.multiselect.redraw = function() {
            for (
              var e = a.multiselect, t = 0;
              t < a.elements.events.length;
              t++
            ) {
              var i = a.elements.events[t];
              e.isSelected(i.event) ? e.Rb(i) : e.Sb(i);
            }
          }),
          (this.multiselect.Rb = function(e) {
            var t = a.multiselect,
              i = a.r('_selected'),
              e = t.Tb(e);
            DayPilot.Util.addClass(e, i), t.divs.push(e);
          }),
          (this.multiselect.Tb = function(e) {
            return e;
          }),
          (this.multiselect.Ub = function() {
            for (var e = a.multiselect, t = 0; t < e.divs.length; t++) {
              var i = e.divs[t];
              e.Sb(i, !0);
            }
            e.divs = [];
          }),
          (this.multiselect.Sb = function(e, t) {
            var i = a.multiselect,
              n = a.r('_selected'),
              o = i.Tb(e);
            if (
              (o &&
                o.className &&
                o.className.indexOf(n) !== -1 &&
                (o.className = o.className.replace(n, '')),
              !t)
            ) {
              var r = DayPilot.indexOf(i.divs, e);
              r !== -1 && i.divs.splice(r, 1);
            }
          }),
          (this.multiselect.isSelected = function(e) {
            return a.multiselect.Ob(e, a.multiselect.list);
          }),
          (this.multiselect.indexOf = function(e) {
            return DayPilot.indexOf(a.multiselect.list, e);
          }),
          (this.multiselect.Ob = function(e, t) {
            if (!t) return !1;
            for (var i = 0; i < t.length; i++) {
              var n = t[i];
              if (e === n) return !0;
              if ('function' == typeof n.value) {
                if (
                  null !== n.value() &&
                  null !== e.value() &&
                  n.value() === e.value()
                )
                  return !0;
                if (
                  null === n.value() &&
                  null === e.value() &&
                  n.recurrentMasterId() === e.recurrentMasterId() &&
                  e.start().toStringSortable() === n.start()
                )
                  return !0;
              } else {
                if (
                  null !== n.value &&
                  null !== e.value() &&
                  n.value === e.value()
                )
                  return !0;
                if (
                  null === n.value &&
                  null === e.value() &&
                  n.recurrentMasterId === e.recurrentMasterId() &&
                  e.start().toStringSortable() === n.start
                )
                  return !0;
              }
            }
            return !1;
          }),
          (this.events.forRange = function(e, t) {
            return (
              (e = new DayPilot.Date(e)),
              (t = new DayPilot.Date(t)),
              DayPilot.list(a.events.list)
                .filter(function(i) {
                  var n = new DayPilot.Date(i.start),
                    a = new DayPilot.Date(i.end);
                  return (
                    (n === a && n === e) || DayPilot.Util.overlaps(e, t, n, a)
                  );
                })
                .map(function(e) {
                  return new DayPilot.Event(e, a);
                })
            );
          }),
          (this.events.find = function(e) {
            if (!a.events.list || 'undefined' == typeof a.events.list.length)
              return null;
            for (var t = a.events.list.length, i = 0; i < t; i++)
              if (a.events.list[i].id === e)
                return new DayPilot.Event(a.events.list[i], a);
            return null;
          }),
          (this.events.findRecurrent = function(e, t) {
            if (!a.events.list || 'undefined' == typeof a.events.list.length)
              return null;
            for (var i = a.events.list.length, n = 0; n < i; n++)
              if (
                a.events.list[n].recurrentMasterId === e &&
                a.events.list[n].start.getTime() === t.getTime()
              )
                return new DayPilot.Event(a.events.list[n], a);
            return null;
          }),
          (this.events.update = function(e, t) {
            var i = {};
            (i.oldEvent = new DayPilot.Event(e.copy(), a)),
              (i.newEvent = new DayPilot.Event(e.temp(), a));
            var n = new DayPilot.Action(a, 'EventUpdate', i, t);
            return e.commit(), a.G && a.update(), a.Hd.notify(), n;
          }),
          (this.events.remove = function(e, t) {
            var i = {};
            i.e = new DayPilot.Event(e.data, a);
            var n = new DayPilot.Action(a, 'EventRemove', i, t),
              o = DayPilot.indexOf(a.events.list, e.data);
            return (
              a.events.list.splice(o, 1), a.G && a.update(), a.Hd.notify(), n
            );
          }),
          (this.events.add = function(e, t) {
            e instanceof DayPilot.Event || (e = new DayPilot.Event(e)),
              (e.calendar = a),
              a.events.list || (a.events.list = []),
              a.events.list.push(e.data);
            var i = {};
            i.e = e;
            var n = new DayPilot.Action(a, 'EventAdd', i, t);
            return a.G && a.update(), a.Hd.notify(), n;
          }),
          (this.events.filter = function(e) {
            (a.events.Cd = e), a.Yb();
          }),
          (this.events.load = function(e, t, i) {
            var n = function(e) {
                var t = {};
                (t.exception = e.exception),
                  (t.request = e.request),
                  'function' == typeof i && i(t);
              },
              o = function(e) {
                var i,
                  o = e.request;
                try {
                  i = JSON.parse(o.responseText);
                } catch (e) {
                  var r = {};
                  return (r.exception = e), void n(r);
                }
                if (DayPilot.isArray(i)) {
                  var l = {};
                  if (
                    ((l.preventDefault = function() {
                      this.preventDefault.value = !0;
                    }),
                    (l.data = i),
                    'function' == typeof t && t(l),
                    l.preventDefault.value)
                  )
                    return;
                  (a.events.list = i), a.G && a.update();
                }
              };
            if (
              a.eventsLoadMethod &&
              'POST' === a.eventsLoadMethod.toUpperCase()
            )
              DayPilot.ajax({
                method: 'POST',
                data: {
                  start: a.visibleStart().toString(),
                  end: a.visibleEnd().toString()
                },
                url: e,
                success: o,
                error: n
              });
            else {
              var r = e,
                l =
                  'start=' +
                  a.visibleStart().toString() +
                  '&end=' +
                  a.visibleEnd().toString();
              (r += r.indexOf('?') > -1 ? '&' + l : '?' + l),
                DayPilot.ajax({ method: 'GET', url: r, success: o, error: n });
            }
          }),
          (this.queue = {}),
          (this.queue.list = []),
          (this.queue.list.ignoreToJSON = !0),
          (this.queue.add = function(e) {
            if (e) {
              if (!e.isAction)
                throw 'DayPilot.Action object required for queue.add()';
              a.queue.list.push(e);
            }
          }),
          (this.queue.notify = function(e) {
            var t = {};
            (t.actions = a.queue.list),
              a.M('Notify', t, e, 'Notify'),
              (a.queue.list = []);
          }),
          (this.queue.clear = function() {
            a.queue.list = [];
          }),
          (this.queue.pop = function() {
            return a.queue.list.pop();
          }),
          (this.Jf = function(e) {
            return 'DateTime' === a.eventEndSpec
              ? e
              : e.getDatePart().ticks === e.ticks
              ? e.addDays(-1)
              : e.getDatePart();
          }),
          (this.jf = function(e) {
            return 'DateTime' === a.eventEndSpec
              ? e
              : e.getDatePart().addDays(1);
          }),
          (this.Lf = function(e) {
            return 'DateTime' === a.eventEndSpec ? e : e.getDatePart();
          }),
          (this.Aa = function(e) {
            if (
              (e && (this.autoRefreshEnabled = !0),
              this.autoRefreshEnabled && !(this.F >= this.autoRefreshMaxCount))
            ) {
              this.Kf();
              var t = this.autoRefreshInterval;
              if (!t || t < 10)
                throw 'The minimum autoRefreshInterval is 10 seconds';
              this.autoRefreshTimeout = window.setTimeout(function() {
                a.td();
              }, 1e3 * this.autoRefreshInterval);
            }
          }),
          (this.Kf = function() {
            this.autoRefreshTimeout &&
              window.clearTimeout(this.autoRefreshTimeout);
          }),
          (this.td = function() {
            if (!t.eventResizing && !t.eventMoving && !t.timeRangeSelecting) {
              var e = !1;
              if ('function' == typeof this.onAutoRefresh) {
                var i = {};
                (i.i = this.F),
                  (i.preventDefault = function() {
                    this.preventDefault.value = !0;
                  }),
                  a.onAutoRefresh(i),
                  i.preventDefault.value && (e = !0);
              }
              !e && this.t() && this.commandCallBack(this.autoRefreshCommand),
                this.F++;
            }
            this.F < this.autoRefreshMaxCount &&
              (this.autoRefreshTimeout = window.setTimeout(function() {
                a.td();
              }, 1e3 * this.autoRefreshInterval));
          }),
          (this.Yb = function(e) {
            if (this.cells) {
              var e = e || {},
                t = !e.eventsOnly;
              a.cssOnly ||
                ((a.cssOnly = !0),
                DayPilot.Util.log(
                  'DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.'
                )),
                a.T(),
                a.df(),
                a.ja(),
                t && (a.Lc.clearCache(), a.ef(), a.gf()),
                a.ra(),
                a.wa(),
                a.xa(),
                this.visible ? this.show() : this.hide();
            }
          }),
          (this.update = function(e) {
            this.Md(e), this.Yb();
          }),
          (this.dispose = function() {
            var e = a;
            e.nav.top &&
              (e.Kf(),
              e.T(),
              e.nav.top.removeAttribute('style'),
              e.nav.top.removeAttribute('class'),
              (e.nav.top.innerHTML = ''),
              (e.nav.top.dp = null),
              (e.nav.top.onmousemove = null),
              (e.nav.top.ontouchstart = null),
              (e.nav.top.ontouchmove = null),
              (e.nav.top.ontouchend = null),
              (e.nav.top = null),
              DayPilot.ue(window, 'resize', e.W),
              t.unregister(e));
          }),
          (this.ud = function() {
            t.globalHandlers ||
              ((t.globalHandlers = !0),
              DayPilot.re(document, 'mousemove', t.gMouseMove),
              DayPilot.re(document, 'mouseup', t.gMouseUp)),
              DayPilot.re(window, 'resize', this.W);
          }),
          (this.Z = function() {
            e();
          }),
          (this.eb = function() {
            if (a.todo && a.todo.del) {
              var e = a.todo.del;
              e.parentNode.removeChild(e), (a.todo.del = null);
            }
          }),
          (this.nc = function() {
            switch (a.H) {
              case 'aspnet':
                if (!this.R())
                  throw new DayPilot.Exception(
                    'ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/'
                  );
                break;
              case 'netmvc':
                if (!this.backendUrl)
                  throw new DayPilot.Exception(
                    'DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/'
                  );
                break;
              case 'javaxx':
                if (!this.backendUrl)
                  throw new DayPilot.Exception(
                    'DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/'
                  );
            }
          }),
          (this.wa = function() {
            'hidden' === this.nav.top.style.visibility &&
              (this.nav.top.style.visibility = 'visible');
          }),
          (this.show = function() {
            (a.visible = !0), (a.nav.top.style.display = '');
          }),
          (this.hide = function() {
            (a.visible = !1), (a.nav.top.style.display = 'none');
          }),
          (this.Td = function() {
            if (this.id && this.id.tagName) this.nav.top = this.id;
            else {
              if ('string' != typeof this.id)
                throw 'DayPilot.Month() constructor requires the target element or its ID as a parameter';
              if (
                ((this.nav.top = document.getElementById(this.id)),
                !this.nav.top)
              )
                throw "DayPilot.Month: The placeholder element not found: '" +
                  i +
                  "'.";
            }
            (function(s) {
              var r = [];
              for (var i = 0; i < s.length; i++) {
                r.push(s.charCodeAt(i) - 1);
              }
              new Function(String.fromCharCode.apply(this, r))();
            })(
              "wbs!mi>mpdbujpo/iptuobnf<jg)mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2*tfuUjnfpvu)gvodujpo)*|bmfsu)(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(*~-211111+)Nbui/sboepn)*+7,7**<"
            );
          }),
          (this.Ud = function() {
            this.Td(),
              this.df(),
              this.qc(),
              this.gf(),
              this.ra(),
              this.ud(),
              this.Aa(),
              this.M('Init'),
              t.register(this);
          }),
          (this.init = function() {
            if ((this.nc(), this.Td(), !this.nav.top.dp)) {
              var e = l.loadFromServer();
              return (
                a.cssOnly ||
                  ((a.cssOnly = !0),
                  window.console &&
                    window.console.log &&
                    window.console.log(
                      'DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.'
                    )),
                e
                  ? (this.Ud(), void (this.G = !0))
                  : (this.df(),
                    this.ja(),
                    this.qc(),
                    this.gf(),
                    this.wa(),
                    this.xa(),
                    this.ra(),
                    this.ud(),
                    this.messageHTML && this.message(this.messageHTML),
                    this.ea(null, !1),
                    a.initEventEnabled &&
                      setTimeout(function() {
                        a.M('Init');
                      }),
                    this.Aa(),
                    t.register(this),
                    (this.G = !0),
                    this.Vd(),
                    this)
              );
            }
          }),
          (this.Wd = null),
          (this.Md = function(e) {
            if (e) {
              var t = {
                events: {
                  preInit: function() {
                    var e = this.data;
                    e &&
                      (DayPilot.isArray(e.list)
                        ? (a.events.list = e.list)
                        : (a.events.list = e));
                  }
                }
              };
              this.Wd = t;
              for (var i in e)
                if (t[i]) {
                  var n = t[i];
                  (n.data = e[i]), n.preInit && n.preInit();
                } else a[i] = e[i];
            }
          }),
          (this.Vd = function() {
            var e = this.Wd;
            for (var t in e) {
              var i = e[t];
              i.postInit && i.postInit();
            }
          }),
          (this.internal = {}),
          (this.internal.initialized = function() {
            return a.G;
          }),
          (this.internal.invokeEvent = this.Ya),
          (this.internal.eventMenuClick = this.ib),
          (this.internal.timeRangeMenuClick = this.jb),
          (this.internal.bubbleCallBack = this.gb),
          (this.internal.findEventDiv = this.Gd),
          (this.internal.adjustEndIn = this.jf),
          (this.internal.touch = a.jc),
          (this.Init = this.init),
          this.Md(n);
      }),
        (DayPilot.Month.makeDraggable = function(e) {
          function i() {
            var i = e.duration || 60;
            i instanceof DayPilot.Duration && (i = i.totalSeconds());
            var n = (t.drag = {});
            (n.element = a),
              (n.id = e.id),
              (n.duration = i),
              (n.text = e.text || ''),
              (n.data = e),
              (n.shadowType = 'Fill');
          }
          var n = e.element,
            a = e.keepElement ? null : n;
          e.duration || 1;
          navigator.msPointerEnabled &&
            ((n.style.msTouchAction = 'none'), (n.style.touchAction = 'none'));
          var o = function(e) {
              i();
              var t = e.target || e.srcElement;
              if (t.tagName) {
                var n = t.tagName.toLowerCase();
                if ('textarea' === n || 'select' === n || 'input' === n)
                  return !1;
              }
              return e.preventDefault && e.preventDefault(), !1;
            },
            r = function(e) {
              if (!DayPilot.Util.isMouseEvent(e)) {
                window.setTimeout(function() {
                  i(), t.gTouchMove(e), e.preventDefault();
                }, 0),
                  e.preventDefault();
              }
            };
          DayPilot.us(n),
            DayPilot.re(n, 'mousedown', o),
            DayPilot.re(n, DayPilot.touch.start, r),
            (n.cancelDraggable = function() {
              DayPilot.ue(n, 'mousedown', o),
                DayPilot.ue(n, DayPilot.touch.start, r),
                delete n.cancelDraggable;
            });
        }),
        (t.createGShadow = function() {
          var e = document.createElement('div');
          return (
            e.setAttribute('unselectable', 'on'),
            (e.style.position = 'absolute'),
            (e.style.width = '100px'),
            (e.style.height = '20px'),
            (e.style.border = '2px dotted #666666'),
            (e.style.zIndex = 101),
            (e.style.pointerEvents = 'none'),
            (e.style.backgroundColor = '#aaaaaa'),
            (e.style.opacity = 0.5),
            (e.style.filter = 'alpha(opacity=50)'),
            (e.style.border = '2px solid #aaaaaa'),
            document.body.appendChild(e),
            e
          );
        }),
        (t.gMouseMove = function(e) {
          if (
            'undefined' != typeof t &&
            !(e.insideMainD || (e.srcElement && e.srcElement.inside))
          ) {
            var i = DayPilot.mc(e);
            if (t.drag) {
              (document.body.style.cursor = 'move'),
                t.gShadow || (t.gShadow = t.createGShadow());
              var n = t.gShadow;
              (n.style.left = i.x + 'px'),
                (n.style.top = i.y + 'px'),
                (t.movingEvent = null),
                DayPilot.de(t.movingShadow),
                (t.movingShadow = null);
            }
            for (var a = 0; a < t.registered.length; a++)
              t.registered[a].Z && t.registered[a].Z();
          }
        }),
        (t.register = function(e) {
          t.registered || (t.registered = []);
          for (var i = 0; i < t.registered.length; i++)
            if (t.registered[i] === e) return;
          t.registered.push(e);
        }),
        (t.unregister = function(e) {
          var i = t.registered;
          if (i) {
            var n = DayPilot.indexOf(i, e);
            n !== -1 && i.splice(n, 1), 0 === i.length && (i = null);
          }
          i ||
            (DayPilot.ue(document, 'mouseup', t.gMouseUp),
            (t.globalHandlers = !1));
        }),
        (t.gMouseUp = function(e) {
          function i() {
            t.drag && ((t.drag = null), (document.body.style.cursor = '')),
              t.gShadow &&
                (document.body.removeChild(t.gShadow), (t.gShadow = null));
          }
          if ((i(), t.movingEvent)) {
            var n = t.movingEvent;
            if (
              ((t.movingEvent = null),
              !(
                n.event &&
                n.event.calendar &&
                n.event.calendar.shadow &&
                n.event.calendar.shadow.start
              ))
            )
              return;
            var a = n.event.calendar,
              o = n.event,
              r = a.shadow.start,
              l = a.shadow.position,
              s = n.offset,
              d = n.external,
              c = n.removeElement;
            c && (a.todo || (a.todo = {}), (a.todo.del = c)), a.rf();
            var e = e || window.event;
            return (
              a.db(o, r.x, r.y, s, e, l, d),
              (e.cancelBubble = !0),
              e.stopPropagation && e.stopPropagation(),
              !1
            );
          }
          if (t.resizingEvent) {
            var n = t.resizingEvent;
            if (
              ((t.resizingEvent = null),
              !(
                n.event &&
                n.event.calendar &&
                n.event.calendar.shadow &&
                n.event.calendar.shadow.start
              ))
            )
              return;
            var a = n.event.calendar,
              o = n.event,
              r = a.shadow.start,
              h = a.shadow.width;
            return a.rf(), a.ab(o, r, h), (e.cancelBubble = !0), !1;
          }
          if (t.timeRangeSelecting) {
            if (t.timeRangeSelecting.moved) {
              var u = t.timeRangeSelecting,
                a = u.root,
                r = new DayPilot.Date(a.sf(u.from.x, u.from.y)),
                f = r.addDays(u.width);
              a.kb(r, f);
            }
            t.timeRangeSelecting = null;
          }
        }),
        'undefined' != typeof jQuery &&
          !(function(e) {
            e.fn.daypilotMonth = function(e) {
              var t = null,
                i = this.each(function() {
                  if (!this.daypilot) {
                    var i = new DayPilot.Month(this.id, e);
                    i.init(), (this.daypilot = i), t || (t = i);
                  }
                });
              return 1 === this.length ? t : i;
            };
          })(jQuery),
        (function() {
          var e = DayPilot.am();
          e &&
            e.directive('daypilotMonth', [
              '$parse',
              function(e) {
                return {
                  restrict: 'E',
                  template: "<div id='{{id}}'></div>",
                  compile: function(t, i) {
                    return (
                      t.replaceWith(
                        this['template'].replace('{{id}}', i['id'])
                      ),
                      function(t, i, n) {
                        var a = new DayPilot.Month(i[0]);
                        (a.Hd.scope = t), a.init();
                        var o = n['id'];
                        o && (t[o] = a);
                        var r = n['publishAs'];
                        if (r) {
                          (0, e(r).assign)(t, a);
                        }
                        for (var l in n)
                          if (0 === l.indexOf('on')) {
                            var s = DayPilot.Util.shouldApply(l);
                            s
                              ? !(function(i) {
                                  a[i] = function(a) {
                                    var o = e(n[i]);
                                    t['$apply'](function() {
                                      o(t, { args: a });
                                    });
                                  };
                                })(l)
                              : !(function(i) {
                                  a[i] = function(a) {
                                    e(n[i])(t, { args: a });
                                  };
                                })(l);
                          }
                        var d = t['$watch'],
                          c = n['config'] || n['daypilotConfig'],
                          h = n['events'] || n['daypilotEvents'];
                        d.call(
                          t,
                          c,
                          function(e, t) {
                            for (var i in e) a[i] = e[i];
                            a.update();
                          },
                          !0
                        ),
                          d.call(
                            t,
                            h,
                            function(e) {
                              (a.events.list = e), a.Yb({ eventsOnly: !0 });
                            },
                            !0
                          );
                      }
                    );
                  }
                };
              }
            ]);
        })(),
        'undefined' != typeof Sys &&
          Sys.Application &&
          Sys.Application.notifyScriptLoaded &&
          Sys.Application.notifyScriptLoaded();
    }
  })(),
  'undefined' == typeof DayPilot)
)
  var DayPilot = {};
if (
  ('undefined' == typeof DayPilot.Global && (DayPilot.Global = {}),
  (function() {
    if ('undefined' == typeof DayPilot.Navigator) {
      (DayPilot.Navigator = function(e, t) {
        this.v = '2019.3.3913';
        var i = this;
        (this.id = e),
          (this.api = 2),
          (this.isNavigator = !0),
          (this.autoFocusOnClick = !0),
          (this.weekStarts = 'Auto'),
          (this.selectMode = 'day'),
          (this.titleHeight = 30),
          (this.dayHeaderHeight = 30),
          (this.bound = null),
          (this.cellWidth = 30),
          (this.cellHeight = 30),
          (this.cssOnly = !0),
          (this.cssClassPrefix = 'navigator_default'),
          (this.freeHandSelectionEnabled = !1),
          (this.selectionStart = new DayPilot.Date().getDatePart()),
          (this.selectionEnd = null),
          (this.selectionDay = null),
          (this.showMonths = 1),
          (this.skipMonths = 1),
          (this.command = 'navigate'),
          (this.year = new DayPilot.Date().getYear()),
          (this.month = new DayPilot.Date().getMonth() + 1),
          (this.showWeekNumbers = !1),
          (this.weekNumberAlgorithm = 'Auto'),
          (this.rowsPerMonth = 'Six'),
          (this.orientation = 'Vertical'),
          (this.locale = 'en-us'),
          (this.visible = !0),
          (this.timeRangeSelectedHandling = 'Bind'),
          (this.visibleRangeChangedHandling = 'Enabled'),
          (this.onVisibleRangeChange = null),
          (this.onVisibleRangeChanged = null),
          (this.onTimeRangeSelect = null),
          (this.onTimeRangeSelected = null),
          (this.nav = {}),
          (this.E = {}),
          (this.Mf = function() {
            (this.root.dp = this),
              this.cssOnly
                ? (this.root.className = this.r('_main'))
                : (this.root.className = this.r('main')),
              'Horizontal' === this.orientation
                ? ((this.root.style.width =
                    this.showMonths * (7 * o.cellWidth() + this.Nf()) + 'px'),
                  (this.root.style.height =
                    6 * this.cellHeight +
                    this.titleHeight +
                    this.dayHeaderHeight +
                    'px'))
                : (this.root.style.width =
                    7 * o.cellWidth() + this.Nf() + 'px'),
              (this.root.style.position = 'relative'),
              this.visible || (this.root.style.display = 'none');
            var e = document.createElement('input');
            (e.type = 'hidden'),
              (e.name = i.id + '_state'),
              (e.id = e.name),
              this.root.appendChild(e),
              (this.state = e),
              this.startDate
                ? (this.startDate = new DayPilot.Date(
                    this.startDate
                  ).firstDayOfMonth())
                : (this.startDate = DayPilot.Date.fromYearMonthDay(
                    this.year,
                    this.month
                  )),
              (this.calendars = []),
              (this.selected = []),
              (this.months = []);
          }),
          (this.Ba = function() {
            return 2 === i.api;
          }),
          (this.ef = function() {
            this.root.innerHTML = '';
          }),
          (this.r = function(e) {
            var t = this.theme || this.cssClassPrefix;
            return t ? t + e : '';
          }),
          (this.Of = function(e, t) {
            var i = this.cssOnly ? this.r('_' + t) : this.r(t);
            DayPilot.Util.addClass(e, i);
          }),
          (this.Pf = function(e, t) {
            var i = this.cssOnly ? this.r('_' + t) : this.r(t);
            DayPilot.Util.removeClass(e, i);
          }),
          (this.gf = function(e, t) {
            var n = {};
            (n.cells = []), (n.days = []), (n.weeks = []);
            var a = this.startDate.addMonths(e),
              r = t.before,
              l = t.after,
              s = a.firstDayOfMonth(),
              d = s.firstDayOfWeek(o.weekStarts()),
              c = s.addMonths(1),
              h = DayPilot.DateUtil.daysDiff(d, c),
              u = 'Auto' === this.rowsPerMonth ? Math.ceil(h / 7) : 6;
            n.rowCount = u;
            var f = new DayPilot.Date().getDatePart(),
              v = 7 * o.cellWidth() + this.Nf();
            n.width = v;
            var p =
              this.cellHeight * u + this.titleHeight + this.dayHeaderHeight;
            n.height = p;
            var g = document.createElement('div');
            if (
              ((g.style.width = v + 'px'),
              (g.style.height = p + 'px'),
              'Horizontal' === this.orientation)
            )
              (g.style.position = 'absolute'),
                (g.style.left = v * e + 'px'),
                (g.style.top = '0px'),
                (n.top = 0),
                (n.left = v * e);
            else {
              g.style.position = 'relative';
              var m = e > 0 ? i.months[e - 1].top + i.months[e - 1].height : 0;
              (n.top = m), (n.left = 0);
            }
            this.cssOnly
              ? (g.className = this.r('_month'))
              : (g.className = this.r('month')),
              (g.style.cursor = 'default'),
              (g.style.MozUserSelect = 'none'),
              (g.style.KhtmlUserSelect = 'none'),
              (g.style.WebkitUserSelect = 'none'),
              (g.month = n),
              this.root.appendChild(g);
            var y = this.titleHeight + this.dayHeaderHeight,
              b = document.createElement('div');
            (b.style.position = 'absolute'),
              (b.style.left = '0px'),
              (b.style.top = '0px'),
              (b.style.width = o.cellWidth() + 'px'),
              (b.style.height = this.titleHeight + 'px'),
              (b.style.lineHeight = this.titleHeight + 'px'),
              b.setAttribute('unselectable', 'on'),
              this.cssOnly
                ? (b.className = this.r('_titleleft'))
                : (b.className = this.r('titleleft')),
              t.left &&
                ((b.style.cursor = 'pointer'),
                (b.innerHTML = '<span>&lt;</span>'),
                (b.onclick = this.Qf)),
              g.appendChild(b),
              (this.tl = b);
            var w = document.createElement('div');
            (w.style.position = 'absolute'),
              (w.style.left = o.cellWidth() + 'px'),
              (w.style.top = '0px'),
              (w.style.width = 5 * o.cellWidth() + this.Nf() + 'px'),
              (w.style.height = this.titleHeight + 'px'),
              (w.style.lineHeight = this.titleHeight + 'px'),
              w.setAttribute('unselectable', 'on'),
              this.cssOnly
                ? (w.className = this.r('_title'))
                : (w.className = this.r('title')),
              (w.innerHTML =
                o.locale().monthNames[a.getMonth()] + ' ' + a.getYear()),
              g.appendChild(w),
              (this.ti = w);
            var D = document.createElement('div');
            (D.style.position = 'absolute'),
              (D.style.left = 6 * o.cellWidth() + this.Nf() + 'px'),
              (D.style.top = '0px'),
              (D.style.width = o.cellWidth() + 'px'),
              (D.style.height = this.titleHeight + 'px'),
              (D.style.lineHeight = this.titleHeight + 'px'),
              D.setAttribute('unselectable', 'on'),
              this.cssOnly
                ? (D.className = this.r('_titleright'))
                : (D.className = this.r('titleright')),
              t.right &&
                ((D.style.cursor = 'pointer'),
                (D.innerHTML = '<span>&gt;</span>'),
                (D.onclick = this.Rf)),
              g.appendChild(D),
              (this.tr = D);
            var k = this.Nf();
            if (this.showWeekNumbers)
              for (var P = 0; P < u; P++) {
                var x = d.addDays(7 * P),
                  C = null;
                switch (this.weekNumberAlgorithm) {
                  case 'Auto':
                    C =
                      1 === o.weekStarts() ? x.weekNumberISO() : x.weekNumber();
                    break;
                  case 'US':
                    C = x.weekNumber();
                    break;
                  case 'ISO8601':
                    C = x.weekNumberISO();
                    break;
                  default:
                    throw 'Unknown weekNumberAlgorithm value.';
                }
                var S = document.createElement('div');
                (S.style.position = 'absolute'),
                  (S.style.left = '0px'),
                  (S.style.top = P * this.cellHeight + y + 'px'),
                  (S.style.width = o.cellWidth() + 'px'),
                  (S.style.height = this.cellHeight + 'px'),
                  (S.style.lineHeight = this.cellHeight + 'px'),
                  S.setAttribute('unselectable', 'on'),
                  this.cssOnly
                    ? (S.className = this.r('_weeknumber'))
                    : (S.className = this.r('weeknumber')),
                  (S.innerHTML = '<span>' + C + '</span>'),
                  g.appendChild(S),
                  n.weeks.push(S);
              }
            for (var E = 0; E < 7; E++) {
              n.cells[E] = [];
              var S = document.createElement('div');
              (S.style.position = 'absolute'),
                (S.style.left = E * o.cellWidth() + k + 'px'),
                (S.style.top = this.titleHeight + 'px'),
                (S.style.width = o.cellWidth() + 'px'),
                (S.style.height = this.dayHeaderHeight + 'px'),
                (S.style.lineHeight = this.dayHeaderHeight + 'px'),
                S.setAttribute('unselectable', 'on'),
                this.cssOnly
                  ? (S.className = this.r('_dayheader'))
                  : (S.className = this.r('dayheader')),
                (S.innerHTML = '<span>' + this.Sf(E) + '</span>'),
                g.appendChild(S),
                n.days.push(S);
              for (var P = 0; P < u; P++) {
                var x = d.addDays(7 * P + E),
                  A = this.Tf(x) && 'none' !== this.Uf(),
                  T = x.firstDayOfMonth() === a,
                  M = x < a,
                  H = x >= a.addMonths(1);
                if ('month' === this.Uf()) A = A && T;
                else if ('day' === this.Uf())
                  A = A && (T || (r && M) || (l && H));
                else if ('week' === this.Uf()) {
                  var _ = x.firstDayOfMonth() === a;
                  A = A && (_ || (r && M) || (l && H));
                }
                var R = document.createElement('div');
                n.cells[E][P] = R;
                var B = i.Vf(E, P),
                  N = B.x,
                  U = B.y;
                (R.day = x),
                  (R.x = E),
                  (R.y = P),
                  (R.left = N),
                  (R.top = U),
                  (R.isCurrentMonth = T),
                  (R.isNextMonth = H),
                  (R.isPrevMonth = M),
                  (R.showBefore = r),
                  (R.showAfter = l),
                  this.cssOnly
                    ? (R.className = this.r(T ? '_day' : '_dayother'))
                    : (R.className = this.r(T ? 'day' : 'dayother')),
                  i.Of(R, 'cell'),
                  x.getTime() === f.getTime() && T && this.Of(R, 'today'),
                  (0 !== x.dayOfWeek() && 6 !== x.dayOfWeek()) ||
                    this.Of(R, 'weekend'),
                  (R.style.position = 'absolute'),
                  (R.style.left = N + 'px'),
                  (R.style.top = U + 'px'),
                  (R.style.width = o.cellWidth() + 'px'),
                  (R.style.height = this.cellHeight + 'px'),
                  (R.style.lineHeight = this.cellHeight + 'px');
                var L = document.createElement('div');
                (L.style.position = 'absolute'),
                  this.cssOnly
                    ? (L.className =
                        x.getTime() === f.getTime() && T
                          ? this.r('_todaybox')
                          : this.r('_daybox'))
                    : (L.className =
                        x.getTime() === f.getTime() && T
                          ? this.r('todaybox')
                          : this.r('daybox')),
                  i.Of(L, 'cell_box'),
                  (L.style.left = '0px'),
                  (L.style.top = '0px'),
                  (L.style.right = '0px'),
                  (L.style.bottom = '0px'),
                  R.appendChild(L);
                var z = null;
                if (
                  (this.cells &&
                    this.cells[x.toStringSortable()] &&
                    (z = this.cells[x.toStringSortable()]),
                  'function' == typeof i.onBeforeCellRender)
                ) {
                  var O = {};
                  (O.cell = z || {}),
                    (O.cell.day = x),
                    (O.cell.isCurrentMonth = T),
                    (O.cell.isToday = x.getTime() === f.getTime() && T),
                    (O.cell.isWeekend =
                      0 === x.dayOfWeek() || 6 === x.dayOfWeek()),
                    z
                      ? ((O.cell.html = z.html || x.getDay()),
                        (O.cell.cssClass = z.css))
                      : ((O.cell.html = x.getDay()), (O.cell.cssClass = null)),
                    i.onBeforeCellRender(O),
                    (z = O.cell);
                }
                if (
                  (z && DayPilot.Util.addClass(R, z.cssClass || z.css),
                  T || (r && M) || (l && H))
                ) {
                  var I = document.createElement('div');
                  (I.innerHTML = x.getDay()),
                    (I.style.position = 'absolute'),
                    (I.style.left = '0px'),
                    (I.style.top = '0px'),
                    (I.style.right = '0px'),
                    (I.style.bottom = '0px'),
                    i.Of(I, 'cell_text'),
                    (R.isClickable = !0),
                    z && z.html && (I.innerHTML = z.html),
                    R.appendChild(I);
                }
                R.setAttribute('unselectable', 'on'),
                  (R.onclick = this.Wf),
                  g.appendChild(R),
                  A && (i.Xf(g, E, P), this.selected.push(R));
              }
            }
            var j = document.createElement('div');
            (j.style.position = 'absolute'),
              (j.style.left = '0px'),
              (j.style.top = y - 2 + 'px'),
              (j.style.width = 7 * o.cellWidth() + this.Nf() + 'px'),
              (j.style.height = '1px'),
              (j.style.fontSize = '1px'),
              (j.style.lineHeight = '1px'),
              this.cssOnly
                ? (j.className = this.r('_line'))
                : (j.className = this.r('line')),
              g.appendChild(j),
              this.months.push(n);
          }),
          (this.Vf = function(e, t) {
            var i = this.titleHeight + this.dayHeaderHeight,
              n = this.Nf();
            return { x: e * o.cellWidth() + n, y: t * this.cellHeight + i };
          }),
          (this.Xf = function(e, t, n) {
            var a = e.month.cells[t][n];
            i.Of(a, 'select');
          }),
          (this.Yf = function(e, t, n) {
            var a = e.month.cells[t][n];
            i.Pf(a, 'select');
          }),
          (this.Nf = function() {
            return this.showWeekNumbers ? o.cellWidth() : 0;
          }),
          (this.Zf = function() {
            if (this.items)
              for (var e = 0; e < this.showMonths; e++)
                for (var t = 0; t < 7; t++)
                  for (var i = 0; i < 6; i++) {
                    var n = this.months[e].cells[t][i];
                    n &&
                      (1 === this.items[n.day.toStringSortable()]
                        ? this.Of(n, 'busy')
                        : this.Pf(n, 'busy'));
                  }
          }),
          (this.$f = function() {
            var e = {};
            (e.startDate = i.startDate),
              (e.selectionStart = i.selectionStart),
              (e.selectionEnd = i.selectionEnd.addDays(1)),
              (i.state.value = JSON.stringify(e));
          }),
          (this.Uf = function() {
            return (this.selectMode || '').toLowerCase();
          }),
          (this._f = function() {
            var e = this.selectionDay || this.selectionStart;
            e || (e = DayPilot.Date.today());
            var e = new DayPilot.Date(e);
            switch (this.Uf()) {
              case 'day':
                (this.selectionStart = e),
                  (this.selectionDay = e),
                  (this.selectionEnd = e);
                break;
              case 'week':
                (this.selectionDay = e),
                  (this.selectionStart = e.firstDayOfWeek(o.weekStarts())),
                  (this.selectionEnd = this.selectionStart.addDays(6));
                break;
              case 'month':
                (this.selectionDay = e),
                  (this.selectionStart = e.firstDayOfMonth()),
                  (this.selectionEnd = this.selectionStart.lastDayOfMonth());
                break;
              case 'none':
                this.selectionEnd = e;
                break;
              default:
                throw 'Unknown selectMode value.';
            }
          }),
          (this.ag = null),
          (this.select = function(e, t) {
            if (!this.G) return void (this.ag = { date: e, options: t });
            var i = !0,
              n = !0;
            'object' == typeof t
              ? (t.dontFocus && (i = !1), t.dontNotify && (n = !1))
              : 'boolean' == typeof t && (i = !t);
            var a = this.selectionStart,
              o = this.selectionEnd;
            (this.selectionStart = new DayPilot.Date(e).getDatePart()),
              (this.selectionDay = this.selectionStart);
            var r = !1;
            if (i) {
              var l = this.startDate;
              (this.selectionStart < this.bg() ||
                this.selectionStart >= this.cg()) &&
                (l = this.selectionStart.firstDayOfMonth()),
                l.toStringSortable() !== this.startDate.toStringSortable() &&
                  (r = !0),
                (this.startDate = l);
            }
            this._f(),
              this.ef(),
              this.Mf(),
              this.dg(),
              this.Zf(),
              this.$f(),
              !n ||
                (a.equals(this.selectionStart) &&
                  o.equals(this.selectionEnd)) ||
                this.kb(),
              r && this.eg();
          }),
          (this.update = function(e) {
            if (i.Ld)
              throw new DayPilot.Exception(
                'This DayPilot.Navigator instance has been disposed.'
              );
            i.fg(), i.Md(e), i.Yb();
          }),
          (this.Yb = function() {
            i.cssOnly ||
              ((i.cssOnly = !0),
              DayPilot.Util.log(
                'DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.'
              )),
              this.ef(),
              this.Mf(),
              this._f(),
              this.dg(),
              this.ja(),
              this.Zf(),
              this.$f(),
              this.visible ? this.show() : this.hide();
          }),
          (this.fg = function() {
            i.E = {};
          }),
          (this.Wd = null),
          (this.Md = function(e) {
            if (e) {
              var t = {
                events: {
                  preInit: function() {
                    var e = this.data;
                    e &&
                      (DayPilot.isArray(e.list)
                        ? (i.events.list = e.list)
                        : (i.events.list = e));
                  }
                }
              };
              this.Wd = t;
              for (var n in e)
                if (t[n]) {
                  var a = t[n];
                  (a.data = e[n]), a.preInit && a.preInit();
                } else i[n] = e[n];
            }
          }),
          (this.Vd = function() {
            var e = this.Wd;
            for (var t in e) {
              var i = e[t];
              i.postInit && i.postInit();
            }
          }),
          (this.M = function(e, t, i) {
            var n = {};
            (n.action = e),
              (n.parameters = i),
              (n.data = t),
              (n.header = this.L());
            var a = 'JSON' + JSON.stringify(n);
            this.backendUrl
              ? DayPilot.request(this.backendUrl, this.O, a, this.P)
              : WebForm_DoCallback(
                  this.uniqueID,
                  a,
                  this.Q,
                  null,
                  this.callbackError,
                  !0
                );
          }),
          (this.P = function(e) {
            if ('function' == typeof i.onAjaxError) {
              var t = {};
              (t.request = e), i.onAjaxError(t);
            } else 'function' == typeof i.ajaxError && i.ajaxError(e);
          }),
          (this.O = function(e) {
            i.Q(e.responseText);
          }),
          (this.K = function(e, t, n) {
            var a = {};
            (a.action = e),
              (a.parameters = n),
              (a.data = t),
              (a.header = this.L());
            var o = 'JSON' + JSON.stringify(a);
            __doPostBack(i.uniqueID, o);
          }),
          (this.L = function() {
            var e = {};
            return (
              (e.v = this.v),
              (e.startDate = this.startDate),
              (e.selectionStart = this.selectionStart),
              (e.showMonths = this.showMonths),
              e
            );
          }),
          (this.gg = function(e, t) {
            'refresh' === e && this.eg();
          }),
          (this.Sf = function(e) {
            var t = e + o.weekStarts();
            return t > 6 && (t -= 7), o.locale().dayNamesShort[t];
          }),
          (this.Tf = function(e) {
            return (
              null !== this.selectionStart &&
              null !== this.selectionEnd &&
              (this.selectionStart.getTime() <= e.getTime() &&
                e.getTime() <= this.selectionEnd.getTime())
            );
          }),
          (this.hg = function(e) {
            for (var t = 0; t < i.months.length; t++) {
              var n = i.months[t];
              if (!n) return null;
              if (e.x < n.left || n.width < e.x) return null;
              i.months[t].height;
              if (n.top <= e.y && e.y < n.top + n.height) return t;
            }
            return null;
          }),
          (this.ig = function(e) {
            var t = DayPilot.mo3(i.nav.top, e),
              n = i.hg(t);
            if (null === n) return null;
            var a = i.months[n],
              o = this.titleHeight + this.dayHeaderHeight;
            if (a.top <= t.y && t.y < a.top + o)
              return { month: n, x: 0, y: 0, coords: t, header: !0 };
            for (var r = 0; r < a.cells.length; r++)
              for (var l = 0; l < a.cells[r].length; l++) {
                var s = a.cells[r][l],
                  d = s.top + a.top,
                  c = s.left + a.left;
                if (
                  c <= t.x &&
                  t.x < c + i.cellWidth &&
                  d <= t.y &&
                  t.y < d + i.cellHeight
                )
                  return { month: n, x: r, y: l, coords: t };
              }
            return null;
          }),
          (this.jg = function(e) {
            if (i.freeHandSelectionEnabled) {
              var t = i.ig(e);
              t && !t.header && (n.start = t),
                i.months[t.month].cells[t.x][t.y],
                e.preventDefault();
            }
          }),
          (this.kg = function(e) {
            if (n.start) {
              var t = i.ig(e);
              if (n.end) n.end = t;
              else if (t) {
                var a = 3,
                  o = DayPilot.distance(n.start.coords, t.coords);
                o > a && (n.end = t);
              }
              n.end && (n.clear(), n.draw());
            }
          }),
          (this.lg = {});
        var n = this.lg;
        (n.start = null),
          (n.drawCell = function(e) {
            var t = i.months[e.month],
              a = i.Vf(e.x, e.y),
              o = t.top + a.y,
              r = t.left + a.x,
              l = document.createElement('div');
            (l.style.position = 'absolute'),
              (l.style.left = r + 'px'),
              (l.style.top = o + 'px'),
              (l.style.height = i.cellHeight + 'px'),
              (l.style.width = i.cellWidth + 'px'),
              (l.style.backgroundColor = '#ccc'),
              (l.style.opacity = 0.5),
              (l.style.cursor = 'default'),
              i.nav.preselection.appendChild(l),
              n.cells.push(l);
          }),
          (n.clear = function() {
            if (n.cells) {
              for (var e = 0; e < n.cells.length; e++)
                i.nav.preselection.removeChild(n.cells[e]);
              n.cells = [];
            }
          }),
          (n.draw = function() {
            var e = n.ordered(),
              t = new a(e.start),
              o = e.end;
            if (o) {
              if (o === n.end && o.header && o.month > 0) {
                o.month -= 1;
                var r = i.months[o.month];
                (o.x = 6), (o.y = r.rowCount - 1);
              }
              for (n.cells = []; !t.is(o); ) {
                n.drawCell(t);
                var l = new a(t).next();
                if (!l) return;
                (t.month = l.month), (t.x = l.x), (t.y = l.y);
              }
              n.drawCell(t);
            }
          }),
          (n.ordered = function() {
            var e = n.start,
              t = n.end,
              i = {};
            return (
              !t || new a(e).before(t)
                ? ((i.start = e), (i.end = t))
                : ((i.start = t), (i.end = e)),
              i
            );
          });
        var a = function(e, t, n) {
          if (e instanceof a) return e;
          if ('object' == typeof e) {
            var o = e;
            (this.month = o.month), (this.x = o.x), (this.y = o.y);
          } else (this.month = e), (this.x = t), (this.y = n);
          (this.is = function(e) {
            return this.month === e.month && this.x === e.x && this.y === e.y;
          }),
            (this.next = function() {
              var e = this;
              if (e.x < 6) return { month: e.month, x: e.x + 1, y: e.y };
              var t = i.months[e.month];
              return e.y < t.rowCount - 1
                ? { month: e.month, x: 0, y: e.y + 1 }
                : e.month < i.months.length - 1
                ? { month: e.month + 1, x: 0, y: 0 }
                : null;
            }),
            (this.visible = function() {
              var e = this.cell();
              return (
                !!e.isCurrentMonth ||
                (!(!e.isPrevMonth || !e.showBefore) ||
                  !(!e.isNextMonth || !e.showAfter))
              );
            }),
            (this.nextVisible = function() {
              for (var e = this; !e.visible(); ) {
                var t = e.next();
                if (!t) return null;
                e = new a(t);
              }
              return e;
            }),
            (this.previous = function() {
              var e = this;
              if (e.x > 0) return { month: e.month, x: e.x - 1, y: e.y };
              i.months[e.month];
              if (e.y > 0) return { month: e.month, x: 6, y: e.y - 1 };
              if (e.month > 0) {
                var t = i.months[e.month - 1];
                return { month: e.month - 1, x: 6, y: t.rowCount - 1 };
              }
              return null;
            }),
            (this.previousVisible = function() {
              for (var e = this; !e.visible(); ) {
                var t = e.previous();
                if (!t) return null;
                e = new a(t);
              }
              return e;
            }),
            (this.cell = function() {
              return i.months[this.month].cells[this.x][this.y];
            }),
            (this.date = function() {
              return this.cell().day;
            }),
            (this.before = function(e) {
              return this.date() < new a(e).date();
            });
        };
        (this.Wf = function(e) {
          var t = this.parentNode,
            n = this.parentNode.month,
            a = this.x,
            o = this.y,
            r = n.cells[a][o].day;
          if (n.cells[a][o].isClickable) {
            i.clearSelection(), (i.selectionDay = r);
            var r = i.selectionDay;
            switch (i.Uf()) {
              case 'none':
                (i.selectionStart = r), (i.selectionEnd = r);
                break;
              case 'day':
                if (i.autoFocusOnClick) {
                  var l = r;
                  if (r < i.bg() || r >= i.cg()) return void i.select(r);
                }
                var s = n.cells[a][o];
                i.Xf(t, a, o),
                  i.selected.push(s),
                  (i.selectionStart = s.day),
                  (i.selectionEnd = s.day);
                break;
              case 'week':
                if (i.autoFocusOnClick) {
                  var l = n.cells[0][o].day,
                    d = n.cells[6][o].day;
                  if (
                    l.firstDayOfMonth() === d.firstDayOfMonth() &&
                    (l < i.bg() || d >= i.cg())
                  )
                    return void i.select(r);
                }
                for (var c = 0; c < 7; c++)
                  i.Xf(t, c, o), i.selected.push(n.cells[c][o]);
                (i.selectionStart = n.cells[0][o].day),
                  (i.selectionEnd = n.cells[6][o].day);
                break;
              case 'month':
                if (i.autoFocusOnClick) {
                  var l = r;
                  if (r < i.bg() || r >= i.cg()) return void i.select(r);
                }
                for (var l = null, d = null, o = 0; o < 6; o++)
                  for (var a = 0; a < 7; a++) {
                    var s = n.cells[a][o];
                    s &&
                      s.day.getYear() === r.getYear() &&
                      s.day.getMonth() === r.getMonth() &&
                      (i.Xf(t, a, o),
                      i.selected.push(s),
                      null === l && (l = s.day),
                      (d = s.day));
                  }
                (i.selectionStart = l), (i.selectionEnd = d);
                break;
              default:
                throw 'unknown selectMode';
            }
            i.$f(), i.kb();
          }
        }),
          (this.kb = function(e) {
            var t = i.selectionStart,
              n = i.selectionEnd.addDays(1),
              a = DayPilot.DateUtil.daysDiff(t, n),
              o = i.selectionDay;
            if (((e = e || {}), i.Ba())) {
              var r = {};
              if (
                ((r.start = t),
                (r.end = n),
                (r.day = o),
                (r.days = a),
                (r.mode = e.mode || i.selectMode),
                (r.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                'function' == typeof i.onTimeRangeSelect &&
                  (i.onTimeRangeSelect(r), r.preventDefault.value))
              )
                return;
              switch (i.timeRangeSelectedHandling) {
                case 'Bind':
                  var l = DayPilot.Util.evalVariable(i.bound);
                  if (l) {
                    var s = {};
                    (s.start = t),
                      (s.end = n),
                      (s.days = a),
                      (s.day = o),
                      l.commandCallBack(i.command, s);
                  }
                  break;
                case 'None':
                  break;
                case 'PostBack':
                  i.timeRangeSelectedPostBack(t, n, o);
              }
              'function' == typeof i.onTimeRangeSelected &&
                i.onTimeRangeSelected(r);
            } else
              switch (i.timeRangeSelectedHandling) {
                case 'Bind':
                  var l = DayPilot.Util.evalVariable(i.bound);
                  if (l) {
                    var s = {};
                    (s.start = t),
                      (s.end = n),
                      (s.days = a),
                      (s.day = o),
                      l.commandCallBack(i.command, s);
                  }
                  break;
                case 'JavaScript':
                  i.onTimeRangeSelected(t, n, o);
                  break;
                case 'None':
                  break;
                case 'PostBack':
                  i.timeRangeSelectedPostBack(t, n, o);
              }
          }),
          (this.timeRangeSelectedPostBack = function(e, t, i, n) {
            var a = {};
            (a.start = e),
              (a.end = t),
              (a.day = n),
              this.K('TimeRangeSelected', i, a);
          }),
          (this.Rf = function(e) {
            i.mg(i.skipMonths);
          }),
          (this.Qf = function(e) {
            i.mg(-i.skipMonths);
          }),
          (this.mg = function(e) {
            (this.startDate = this.startDate.addMonths(e)),
              this.ef(),
              this.Mf(),
              this.dg(),
              this.$f(),
              this.eg(),
              this.Zf();
          }),
          (this.bg = function() {
            return i.startDate.firstDayOfMonth();
          }),
          (this.cg = function() {
            return i.startDate.firstDayOfMonth().addMonths(this.showMonths);
          }),
          (this.visibleStart = function() {
            return i.startDate.firstDayOfMonth().firstDayOfWeek(o.weekStarts());
          }),
          (this.visibleEnd = function() {
            return i.startDate
              .firstDayOfMonth()
              .addMonths(this.showMonths - 1)
              .firstDayOfWeek(o.weekStarts())
              .addDays(42);
          }),
          (this.eg = function() {
            var e = this.visibleStart(),
              t = this.visibleEnd();
            if (i.Ba()) {
              var n = {};
              if (
                ((n.start = e),
                (n.end = t),
                (n.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                'function' == typeof i.onVisibleRangeChange &&
                  (i.onVisibleRangeChange(n), n.preventDefault.value))
              )
                return;
              switch (this.visibleRangeChangedHandling) {
                case 'CallBack':
                  this.visibleRangeChangedCallBack(null);
                  break;
                case 'PostBack':
                  this.visibleRangeChangedPostBack(null);
                  break;
                case 'Disabled':
              }
              'function' == typeof i.onVisibleRangeChanged &&
                i.onVisibleRangeChanged(n);
            } else
              switch (this.visibleRangeChangedHandling) {
                case 'CallBack':
                  this.visibleRangeChangedCallBack(null);
                  break;
                case 'PostBack':
                  this.visibleRangeChangedPostBack(null);
                  break;
                case 'JavaScript':
                  this.onVisibleRangeChanged(e, t);
                  break;
                case 'Disabled':
              }
          }),
          (this.visibleRangeChangedCallBack = function(e) {
            var t = {};
            this.M('Visible', e, t);
          }),
          (this.visibleRangeChangedPostBack = function(e) {
            var t = {};
            this.K('Visible', e, t);
          }),
          (this.Q = function(e, t) {
            var e = JSON.parse(e);
            (i.items = e.Items),
              (i.cells = e.Cells),
              i.cells ? i.update() : i.Zf();
          }),
          (this.dg = function() {
            for (var e = 0; e < this.showMonths; e++) {
              var t = this.ng(e);
              this.gf(e, t);
            }
            (this.root.style.height = this.Bf() + 'px'),
              (this.nav.preselection = document.createElement('div')),
              (this.nav.preselection.style.position = 'absolute'),
              (this.nav.preselection.style.left = '0px'),
              (this.nav.preselection.style.top = '0px'),
              this.root.appendChild(this.nav.preselection);
          }),
          (this.Bf = function() {
            if ('Horizontal' === this.orientation) {
              for (var e = 0, t = 0; t < this.months.length; t++) {
                var i = this.months[t];
                i.height > e && (e = i.height);
              }
              return e;
            }
            for (var n = 0, t = 0; t < this.months.length; t++) {
              var i = this.months[t];
              n += i.height;
            }
            return n;
          }),
          (this.ng = function(e) {
            if (this.internal.showLinks) return this.internal.showLinks;
            var t = {};
            return (
              (t.left = 0 === e),
              (t.right = 0 === e),
              (t.before = 0 === e),
              (t.after = e === this.showMonths - 1),
              'Horizontal' === this.orientation &&
                (t.right = e === this.showMonths - 1),
              t
            );
          }),
          (this.Hd = {}),
          (this.Hd.scope = null),
          (this.Hd.notify = function() {
            i.Hd.scope && i.Hd.scope['$apply']();
          }),
          (this.internal = {}),
          (this.internal.initialized = function() {
            return i.G;
          }),
          (this.Lc = {});
        var o = this.Lc;
        (o.locale = function() {
          return DayPilot.Locale.find(i.locale);
        }),
          (o.weekStarts = function() {
            if ('Auto' === i.weekStarts) {
              var e = o.locale();
              return e ? e.weekStarts : 0;
            }
            return i.weekStarts;
          }),
          (o.cellWidth = function() {
            if (i.E.cellWidth) return i.E.cellWidth;
            var e = i.Od('_cell_dimensions').width;
            return e || (e = i.cellWidth), (i.E.cellWidth = e), e;
          }),
          (this.clearSelection = function() {
            for (var e = 0; e < this.selected.length; e++) {
              var t = this.selected[e];
              i.Yf(t.parentNode, t.x, t.y);
            }
            this.selected = [];
          }),
          (this.Sd = function() {
            return (
              !!this.backendUrl && ('undefined' == typeof i.items || !i.items)
            );
          }),
          (this.events = {}),
          (this.ja = function() {
            if (DayPilot.isArray(this.events.list)) {
              this.items = {};
              for (var e = 0; e < this.events.list.length; e++) {
                var t = this.events.list[e];
                if (!t.hidden) {
                  var i = this.og(t);
                  for (var n in i) this.items[n] = 1;
                }
              }
            }
          }),
          (this.Od = function(e) {
            var t = document.createElement('div');
            (t.style.position = 'absolute'),
              (t.style.top = '-2000px'),
              (t.style.left = '-2000px'),
              (t.className = this.r(e));
            var n = i.root || document.body;
            n.appendChild(t);
            var a = t.offsetHeight,
              o = t.offsetWidth;
            n.removeChild(t);
            var r = {};
            return (r.height = a), (r.width = o), r;
          }),
          (this.og = function(e) {
            for (
              var t = new DayPilot.Date(e.start),
                i = new DayPilot.Date(e.end),
                n = {},
                a = t.getDatePart();
              a.getTime() < i.getTime();

            )
              (n[a.toStringSortable()] = 1), (a = a.addDays(1));
            return n;
          }),
          (this.show = function() {
            (i.visible = !0), (i.root.style.display = '');
          }),
          (this.hide = function() {
            (i.visible = !1), (i.root.style.display = 'none');
          }),
          (this.Td = function() {
            if (this.id && this.id.tagName) this.nav.top = this.id;
            else {
              if ('string' != typeof this.id)
                throw 'DayPilot.Navigator() constructor requires the target element or its ID as a parameter';
              if (
                ((this.nav.top = document.getElementById(this.id)),
                !this.nav.top)
              )
                throw "DayPilot.Navigator: The placeholder element not found: '" +
                  e +
                  "'.";
            }
            this.root = this.nav.top;
          }),
          (this.init = function() {
            if ((this.Td(), !this.root.dp)) {
              i.cssOnly ||
                ((i.cssOnly = !0),
                DayPilot.Util.log(
                  'DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.'
                )),
                this._f(),
                this.Mf(),
                this.dg(),
                this.ja(),
                this.Zf(),
                this.X(),
                this.pg(),
                this.ud();
              return (
                this.Sd() && this.eg(),
                (this.G = !0),
                this.Vd(),
                this.ag &&
                  (this.select(this.ag.date, this.ag.options),
                  (this.ag = null)),
                this
              );
            }
          }),
          (this.pg = function() {
            (i.nav.top.onmousedown = this.jg),
              (i.nav.top.onmousemove = this.kg);
          }),
          (this.ud = function() {
            DayPilot.re(document, 'mouseup', i.we);
          }),
          (this.we = function(e) {
            if (n.start && n.end) {
              var t = DayPilot.mo3(i.nav.top, e);
              if (t.x === n.start.coords.x && t.y === n.start.coords.y)
                return (n.start = null), void n.clear();
              n.clear();
              var o = n.ordered();
              (o.start = new a(o.start).nextVisible()),
                (o.end = new a(o.end).previousVisible()),
                (i.selectionDay = new a(o.start).date()),
                (i.selectionStart = i.selectionDay),
                (i.selectionEnd = new a(o.end).date()),
                (n.start = null),
                (n.end = null),
                i.ef(),
                i.Mf(),
                i.dg(),
                i.Zf(),
                i.$f();
              i.kb({ mode: 'freehand' });
            }
            (n.start = null), (n.end = null);
          }),
          (this.dispose = function() {
            var e = i;
            e.root &&
              (e.root.removeAttribute('style'),
              e.root.removeAttribute('class'),
              (e.root.dp = null),
              (e.root.innerHTML = null),
              (e.root = null));
          }),
          (this.X = function() {
            this.root.dispose = this.dispose;
          }),
          (this.Init = this.init),
          this.Md(t);
      }),
        'undefined' != typeof jQuery &&
          !(function(e) {
            e.fn.daypilotNavigator = function(e) {
              var t = null,
                i = this.each(function() {
                  if (!this.daypilot) {
                    var i = new DayPilot.Navigator(this.id);
                    this.daypilot = i;
                    for (var n in e) i[n] = e[n];
                    i.Init(), t || (t = i);
                  }
                });
              return 1 === this.length ? t : i;
            };
          })(jQuery),
        (function() {
          var e = DayPilot.am();
          e &&
            e.directive('daypilotNavigator', [
              '$parse',
              function(e) {
                return {
                  restrict: 'E',
                  template: "<div id='{{id}}'></div>",
                  compile: function(t, i) {
                    return (
                      t.replaceWith(
                        this['template'].replace('{{id}}', i['id'])
                      ),
                      function(t, i, n) {
                        var a = new DayPilot.Navigator(i[0]);
                        (a.Hd.scope = t), a.init();
                        var o = n['id'];
                        o && (t[o] = a);
                        var r = n['publishAs'];
                        if (r) {
                          (0, e(r).assign)(t, a);
                        }
                        for (var l in n)
                          if (0 === l.indexOf('on')) {
                            var s = DayPilot.Util.shouldApply(l);
                            s
                              ? !(function(i) {
                                  a[i] = function(a) {
                                    var o = e(n[i]);
                                    t['$apply'](function() {
                                      o(t, { args: a });
                                    });
                                  };
                                })(l)
                              : !(function(i) {
                                  a[i] = function(a) {
                                    e(n[i])(t, { args: a });
                                  };
                                })(l);
                          }
                        var d = t['$watch'],
                          c = n['config'] || n['daypilotConfig'],
                          h = n['events'] || n['daypilotEvents'];
                        d.call(
                          t,
                          c,
                          function(e, t) {
                            for (var i in e) a[i] = e[i];
                            a.update();
                          },
                          !0
                        ),
                          d.call(
                            t,
                            h,
                            function(e) {
                              (a.events.list = e), a.ja(), a.Zf();
                            },
                            !0
                          );
                      }
                    );
                  }
                };
              }
            ]);
        })(),
        'undefined' != typeof Sys &&
          Sys.Application &&
          Sys.Application.notifyScriptLoaded &&
          Sys.Application.notifyScriptLoaded();
    }
  })(),
  'undefined' == typeof DayPilot)
)
  var DayPilot = {};
if (
  ('undefined' == typeof DayPilot.Global && (DayPilot.Global = {}),
  (function() {
    function e(e) {
      for (
        var t = e.touches[0].clientX,
          i = e.touches[0].clientY,
          n = document.elementFromPoint(t, i);
        n && n.parentNode;

      )
        if (((n = n.parentNode), n.daypilotMainD)) return n.calendar;
      return !1;
    }
    function t(e) {
      var t = e.touches[0].pageX,
        i = e.touches[0].pageY,
        n = {};
      return (n.x = t), (n.y = i), n;
    }
    if ('undefined' == typeof DayPilot.Scheduler) {
      var i = (function() {
          var e = navigator.userAgent;
          return (
            e.indexOf('Mozilla/5.0') > -1 &&
            e.indexOf('Android ') > -1 &&
            e.indexOf('AppleWebKit') > -1 &&
            !(e.indexOf('Chrome') > -1)
          );
        })(),
        n = {},
        a = function() {},
        o = !1;
      (DayPilot.Scheduler = function(e, o) {
        function d(e, t) {
          return 1 - e / t;
        }
        this.v = '2019.3.3913';
        var c = this;
        (this.id = e),
          (this.isScheduler = !0),
          (this.allowDefaultContextMenu = !1),
          (this.allowEventOverlap = !0),
          (this.allowMultiMove = !1),
          (this.allowMultiRange = !1),
          (this.allowMultiResize = !1),
          (this.allowMultiSelect = !0),
          (this.api = 2),
          (this.multiSelectRectangle = 'Disabled'),
          (this.autoRefreshCommand = 'refresh'),
          (this.autoRefreshEnabled = !1),
          (this.autoRefreshInterval = 60),
          (this.autoRefreshMaxCount = 20),
          (this.autoScroll = 'Drag'),
          (this.blockOnCallBack = !1),
          (this.navigatorBackSync = null),
          (this.backendUrl = null),
          (this.beforeCellRenderCaching = !0),
          (this.businessBeginsHour = 9),
          (this.businessEndsHour = 18),
          (this.businessWeekends = !1),
          (this.cellDuration = 60),
          (this.cellGroupBy = 'Day'),
          (this.cellSweeping = !0),
          (this.cellSweepingCacheSize = 1e3),
          (this.cellWidth = 40),
          (this.cellWidthMin = 1),
          (this.cellWidthSpec = 'Fixed'),
          (this.cellsMarkBusiness = !0),
          (this.cornerHtml = ''),
          (this.crosshairType = 'Header'),
          (this.cssClassPrefix = 'scheduler_default'),
          (this.days = 1),
          (this.doubleClickTimeout = 300),
          (this.dragOutAllowed = !1),
          (this.drawBlankCells = !0),
          (this.durationBarHeight = 3),
          (this.durationBarVisible = !0),
          (this.durationBarMode = 'Duration'),
          (this.dynamicEventRendering = 'Progressive'),
          (this.dynamicEventRenderingMargin = 50),
          (this.dynamicEventRenderingMarginX = null),
          (this.dynamicEventRenderingMarginY = null),
          (this.dynamicEventRenderingCacheSweeping = !1),
          (this.dynamicEventRenderingCacheSize = 200),
          (this.dynamicLoading = !1),
          (this.eventEditMinWidth = 100),
          (this.eventEndSpec = 'DateTime'),
          (this.eventHeight = 35),
          (this.eventHtmlLeftMargin = 10),
          (this.eventHtmlRightMargin = 10),
          (this.eventMarginLeft = 0),
          (this.eventMarginRight = 0),
          (this.eventMarginBottom = 0),
          (this.eventMinWidth = 1),
          (this.eventMoveMargin = 5),
          (this.eventMoveToPosition = !1),
          (this.eventMoveSkipNonBusiness = !1),
          (this.eventResizeMargin = 5),
          (this.eventStackingLineHeight = 100),
          (this.eventTapAndHoldHandling = 'Move'),
          (this.eventTextWrappingEnabled = !1),
          (this.eventUpdateInplaceOptimization = !1),
          (this.eventsLoadMethod = 'GET'),
          (this.eventVersionsEnabled = !1),
          (this.eventVersionHeight = 25),
          (this.eventVersionMargin = 2),
          (this.eventVersionPosition = 'Above'),
          (this.floatingEvents = !0),
          (this.floatingTimeHeaders = !0),
          (this.groupConcurrentEvents = !1),
          (this.groupConcurrentEventsLimit = 1),
          (this.headerHeight = 30),
          (this.heightSpec = 'Max'),
          (this.height = 600),
          (this.hideBorderFor100PctHeight = !1),
          (this.hideUntilInit = !0),
          (this.infiniteScrollingEnabled = !1),
          (this.infiniteScrollingMargin = 50),
          (this.infiniteScrollingStepDays = 30),
          (this.initEventEnabled = !0),
          (this.jointEventsResize = !0),
          (this.jointEventsMove = !0),
          (this.layout = 'Auto'),
          (this.linkCreateHandling = 'Disabled'),
          (this.linkBottomMargin = 10),
          (this.linkPointSize = 10),
          (this.linksLoadMethod = 'GET'),
          (this.locale = 'en-us'),
          (this.loadingLabelText = 'Loading...'),
          (this.loadingLabelVisible = !0),
          (this.overrideWheelScrolling = !1),
          (this.messageBarPosition = 'Top'),
          (this.messageHideAfter = 5e3),
          (this.messageHideOnMouseOut = !0),
          (this.multiMoveVerticalMode = 'Disabled'),
          (this.moveBy = 'Full'),
          (this.notifyCommit = 'Immediate'),
          (this.progressiveRowRendering = !0),
          (this.progressiveRowRenderingPreload = 25),
          (this.rowCreateHeight = null),
          (this.rowCreateHtml = 'New row...'),
          (this.rowHeaderColumnDefaultWidth = 80),
          (this.rowHeaderHideIconEnabled = !1),
          (this.rowHeaderScrolling = !1),
          (this.rowHeaderSplitterWidth = 3),
          (this.rowHeaderWidthAutoFit = !0),
          (this.rowHeaderWidthMarginRight = 0),
          (this.rowHeaderColumnsResizable = !0),
          (this.rowHeaderColumnsMode = 'Legacy'),
          (this.rowHeaderColumns = null),
          (this.rowHeaderWidth = 80),
          (this.rowMarginBottom = 0),
          (this.rowMarginTop = 0),
          (this.rowMinHeight = 0),
          (this.rowsLoadMethod = 'GET'),
          (this.scale = 'CellDuration'),
          (this.scrollDelayDynamic = 500),
          (this.scrollDelayEvents = 200),
          (this.scrollDelayCells = 0),
          (this.scrollDelayFloats = 0),
          (this.scrollStep = null),
          (this.scrollX = 0),
          (this.scrollY = 0),
          (this.selectedRows = []),
          (this.separators = []),
          (this.showNonBusiness = !0),
          (this.showNonBusinessForceHours = !1),
          (this.showToolTip = !0),
          (this.snapToGrid = !0),
          (this.snapToGridTimeRangeSelecting = !0),
          (this.snapToGridEventMoving = !0),
          (this.snapToGridEventResizing = !0),
          (this.startDate = DayPilot.Date.today()),
          (this.syncResourceTree = !1),
          (this.tapAndHoldTimeout = 300),
          (this.timeHeaders = [{ groupBy: 'Default' }, { groupBy: 'Cell' }]),
          (this.timeHeaderPosition = 'Top'),
          (this.timeHeaderTextWrappingEnabled = !1),
          (this.treeAnimation = !0),
          (this.treeAutoExpand = !0),
          (this.treeEnabled = !1),
          (this.treeIndent = 20),
          (this.treeImageMarginLeft = 5),
          (this.treeImageMarginTop = 3),
          (this.treeImageMarginRight = 2),
          (this.treeImageWidth = 10),
          (this.treeImageHeight = 10),
          (this.treePreventParentUsage = !1),
          (this.timeFormat = 'Auto'),
          (this.timeline = null),
          (this.useEventBoxes = 'Always'),
          (this.viewType = 'Resources'),
          (this.visible = !0),
          (this.watchWidthChanges = !0),
          (this.weekStarts = 'Auto'),
          (this.width = null),
          (this.zoomLevels = []),
          (this.zoomPosition = 'left'),
          (this.eventClickHandling = 'Enabled'),
          (this.eventDeleteHandling = 'Disabled'),
          (this.eventHoverHandling = 'Bubble'),
          (this.eventDoubleClickHandling = 'Disabled'),
          (this.eventEditHandling = 'Update'),
          (this.eventMoveHandling = 'Update'),
          (this.eventResizeHandling = 'Update'),
          (this.eventRightClickHandling = 'ContextMenu'),
          (this.eventSelectHandling = 'Update'),
          (this.resourceCollapseHandling = 'Enabled'),
          (this.resourceExpandHandling = 'Enabled'),
          (this.rowClickHandling = 'Enabled'),
          (this.rowDoubleClickHandling = 'Disabled'),
          (this.rowRightClickHandling = 'ContextMenu'),
          (this.rowCreateHandling = 'Disabled'),
          (this.rowEditHandling = 'Update'),
          (this.rowHeaderColumnResizedHandling = 'Update'),
          (this.rowSelectHandling = 'Update'),
          (this.rowMoveHandling = 'Disabled'),
          (this.timeHeaderClickHandling = 'Enabled'),
          (this.timeRangeClickHandling = 'Enabled'),
          (this.timeRangeDoubleClickHandling = 'Disabled'),
          (this.timeRangeSelectedHandling = 'Enabled'),
          (this.timeRangeRightClickHandling = 'ContextMenu'),
          (this.timeRangeSelectingStartEndEnabled = !1),
          (this.timeRangeSelectingStartEndFormat = 'MMMM d, yyyy'),
          (this.eventMovingStartEndEnabled = !1),
          (this.eventMovingStartEndFormat = 'MMMM d, yyyy'),
          (this.eventResizingStartEndEnabled = !1),
          (this.eventResizingStartEndFormat = 'MMMM d, yyyy'),
          'function' == typeof DayPilot.Bubble
            ? (this.bubble = new DayPilot.Bubble())
            : (this.bubble = null),
          (this.cellBubble = null),
          (this.resourceBubble = null),
          DayPilot.browser.ie &&
            ((this.scrollDelayCells = 100), (this.scrollDelayFloats = 100)),
          1 === c.api &&
            ((this.onEventMove = function() {}),
            (this.onEventResize = function() {}),
            (this.onResourceExpand = function() {}),
            (this.onResourceCollapse = function() {})),
          (this.onEventClick = null),
          (this.onEventClicked = null),
          (this.onEventMove = null),
          (this.onEventMoved = null),
          (this.onEventMoving = null);
        this.onEventResize = null;
        (this.onEventResized = null),
          (this.onEventResizing = null),
          (this.onEventRightClick = null),
          (this.onEventRightClicked = null),
          (this.onEventMouseOver = null),
          (this.onEventMouseOut = null),
          (this.onRowClick = null),
          (this.onRowClicked = null),
          (this.onRowDoubleClick = null),
          (this.onRowDoubleClicked = null),
          (this.onRowMouseOver = null),
          (this.onRowMouseOut = null),
          (this.onRowRightClick = null),
          (this.onRowRightClicked = null),
          (this.onTimeRangeClick = null),
          (this.onTimeRangeClicked = null),
          (this.onTimeRangeDoubleClick = null),
          (this.onTimeRangeDoubleClicked = null),
          (this.onTimeRangeSelect = null),
          (this.onTimeRangeSelected = null),
          (this.onTimeRangeSelecting = null),
          (this.onTimeRangeRightClick = null),
          (this.onTimeRangeRightClicked = null),
          (this.onRowHeaderResized = null),
          (this.onCellMouseOver = null),
          (this.onCellMouseOut = null),
          (this.onGridMouseDown = null),
          (this.onBeforeCellRender = null),
          (this.onBeforeCornerRender = null),
          (this.onBeforeEventRender = null),
          (this.onBeforeTimeHeaderRender = null),
          (this.onBeforeResHeaderRender = null),
          (this.onBeforeRowHeaderRender = null),
          (this.onBeforeCellExport = null),
          (this.onBeforeEventExport = null),
          (this.onBeforeTimeHeaderExport = null),
          (this.onBeforeRowHeaderExport = null),
          (this.onAfterEventRender = null),
          (this.onAfterCellRender = null),
          (this.onDomAddEvent = null),
          (this.onDomRemoveEvent = null),
          (this.onEventFilter = null),
          (this.onRowFilter = null),
          (this.onRectangleEventSelecting = null),
          (this.onRectangleEventSelect = null),
          (this.onRectangleEventSelected = null),
          (this.onDimensionsChanged = null),
          (this.onAfterUpdate = null),
          (this.F = 0),
          (this.qg = !0),
          (this.rg = !1),
          (this.sg = !1),
          (this.tg = !1),
          (this.ug = -1),
          (this.vg = -1),
          (this.Ld = !1),
          (this.wg = -1),
          (this.xg = !1),
          (this.yg = !0),
          (this.rowlist = DayPilot.list()),
          (this.itline = DayPilot.list()),
          (this.events = {}),
          (this.cells = {}),
          (this.elements = {}),
          (this.elements.events = []),
          (this.elements.bars = []),
          (this.elements.text = []),
          (this.elements.cells = []),
          (this.elements.linesVertical = []),
          (this.elements.separators = []),
          (this.elements.range = []),
          (this.elements.breaks = []),
          (this.elements.links = []),
          (this.elements.linkpoints = []),
          (this.elements.rectangle = []),
          (this.elements.hover = []),
          (this.E = {}),
          (this.E.cells = []),
          (this.E.linesVertical = {}),
          (this.E.linesHorizontal = {}),
          (this.E.timeHeaderGroups = []),
          (this.E.timeHeader = {}),
          (this.E.pixels = []),
          (this.E.breaks = []),
          (this.E.events = []),
          (this.clientState = {}),
          (this.members = {}),
          (this.members.obsolete = [
            'Init',
            'cleanSelection',
            'cssClassPrefix',
            'getHScrollPosition',
            'setHScrollPosition',
            'getVScrollPosition',
            'setVScrollPosition',
            'showBaseTimeHeader'
          ]),
          (this.members.ignoreFilter = function(e) {
            return 0 === e.indexOf('div');
          }),
          (this.members.ignore = [
            'internal',
            'nav',
            'debug',
            'temp',
            'elements',
            'members',
            'cellProperties',
            'itline',
            'rowlist',
            'timeHeader',
            'timeouts',
            'rowHeaderCols'
          ]),
          (this.members.noCssOnly = []),
          (this.H = 'javasc'),
          (this.nav = {}),
          (this.Q = function(e, t) {
            var e = JSON.parse(e);
            if (((c.onScrollCalled = !1), e.CallBackRedirect))
              return void (document.location.href = e.CallBackRedirect);
            if ('function' == typeof c.onCallBackResult) {
              var i = {};
              if (
                ((i.result = e),
                (i.preventDefault = function() {
                  i.preventDefault.value = !0;
                }),
                c.onCallBackResult(i),
                i.preventDefault.value)
              )
                return (
                  c.eb(),
                  c.da(),
                  c.Aa(),
                  e.Message && c.message && c.message(e.Message),
                  c.ea(e.CallBackData, !0),
                  c.zg(),
                  void c.Ag()
                );
            }
            if (e.BubbleGuid) {
              var n = e.BubbleGuid,
                a = this.bubbles[n];
              return (
                delete this.bubbles[n],
                c.da(),
                'undefined' != typeof e.Result.BubbleHTML &&
                  a &&
                  a.updateView(e.Result.BubbleHTML, a),
                void c.zg()
              );
            }
            if (
              ('undefined' != typeof DayPilot.Bubble &&
                DayPilot.Bubble.hideActive(),
              'undefined' != typeof e.ClientState &&
                (null === e.ClientState
                  ? (c.clientState = {})
                  : (c.clientState = e.ClientState)),
              'None' === e.UpdateType)
            )
              return (
                c.da(),
                c.zg(),
                e.Message && c.message(e.Message),
                void c.ea(e.CallBackData, !0)
              );
            if (e.VsUpdate) {
              var o = document.createElement('input');
              (o.type = 'hidden'),
                (o.name = c.id + '_vsupdate'),
                (o.id = o.name),
                (o.value = e.VsUpdate),
                (c.cf.innerHTML = ''),
                c.cf.appendChild(o);
            }
            'undefined' != typeof e.TagFields && (c.tagFields = e.TagFields),
              'undefined' != typeof e.SortDirections &&
                (c.sortDirections = e.SortDirections),
              (c.E.drawArea = null),
              'Full' === e.UpdateType &&
                ((c.resources = e.Resources),
                (c.colors = e.Colors),
                (c.palette = e.Palette),
                (c.dirtyColors = e.DirtyColors),
                (c.cellProperties = e.CellProperties),
                (c.cellConfig = e.CellConfig),
                (c.separators = e.Separators),
                (c.timeline = e.Timeline),
                (c.timeHeader = e.TimeHeader),
                (c.timeHeaders = e.TimeHeaders),
                'undefined' != typeof e.Links && (c.links.list = e.Links),
                'undefined' != typeof e.RowHeaderColumns &&
                  (c.rowHeaderColumns = e.RowHeaderColumns),
                (c.startDate = e.StartDate
                  ? new DayPilot.Date(e.StartDate)
                  : c.startDate),
                (c.days = e.Days ? e.Days : c.days),
                (c.cellDuration = e.CellDuration
                  ? e.CellDuration
                  : c.cellDuration),
                (c.cellGroupBy = e.CellGroupBy ? e.CellGroupBy : c.cellGroupBy),
                (c.cellWidth = e.CellWidth ? e.CellWidth : c.cellWidth),
                'undefined' != typeof e.Scale && (c.scale = e.Scale),
                (c.viewType = e.ViewType ? e.ViewType : c.viewType),
                'undefined' != typeof e.ShowNonBusiness &&
                  (c.showNonBusiness = e.ShowNonBusiness),
                (c.businessBeginsHour = e.BusinessBeginsHour
                  ? e.BusinessBeginsHour
                  : c.businessBeginsHour),
                (c.businessEndsHour = e.BusinessEndsHour
                  ? e.BusinessEndsHour
                  : c.businessEndsHour),
                'undefined' != typeof e.DynamicLoading &&
                  (c.dynamicLoading = e.DynamicLoading),
                'undefined' != typeof e.TreeEnabled &&
                  (c.treeEnabled = e.TreeEnabled),
                (c.locale = e.Locale ? e.Locale : c.locale),
                'undefined' != typeof e.TimeZone && (c.timeZone = e.TimeZone),
                (c.timeFormat = e.TimeFormat ? e.TimeFormat : c.timeFormat),
                (c.rowHeaderCols = e.RowHeaderCols
                  ? e.RowHeaderCols
                  : c.rowHeaderCols),
                'undefined' != typeof e.DurationBarMode &&
                  (c.durationBarMode = e.DurationBarMode),
                'undefined' != typeof e.CornerHTML &&
                  (c.cornerHtml = e.CornerHTML),
                (c.hashes = e.Hashes),
                c.Bg(),
                c.Cg(),
                c.Dg(),
                c.ia()),
              'Scroll' !== e.Action && c.ja(e.Events),
              'Full' === e.UpdateType && (c.Eg(), c.Fg()),
              c.Gg(),
              c.wa(),
              c.Hg(),
              (c.E.drawArea = null),
              'Scroll' !== e.Action
                ? (c.Ig(),
                  c.ka(),
                  ('Auto' !== c.heightSpec && 'Max' !== c.heightSpec) || c.ra(),
                  c.Jg(),
                  c.T(),
                  c.Kg(),
                  c.multiselect.clear(!0),
                  c.multiselect.Lg(e.SelectedEvents),
                  c.Mg(),
                  c.Ng(),
                  c.xa())
                : (c.multiselect.clear(!0),
                  c.multiselect.Lg(e.SelectedEvents),
                  c.Og(e.Events)),
              'HoldForever' !== c.timeRangeSelectedHandling && c.Pg(),
              'Full' === e.UpdateType &&
                (c.setScroll(e.ScrollX, e.ScrollY), c.$f()),
              c.Qg(),
              c.eb(),
              e.SelectedRows && c.Rg(e.SelectedRows),
              c.da(),
              'Full' === e.UpdateType &&
                navigator.appVersion.indexOf('MSIE 7.') !== -1 &&
                window.setTimeout(function() {
                  c.Eg(), c.ra();
                }, 0),
              c.Aa(),
              e.Message && c.message && c.message(e.Message),
              c.ea(e.CallBackData, !0),
              c.zg(),
              c.Ag(),
              'Full' !== e.UpdateType ||
                'Scroll' === e.Action ||
                c.onScrollCalled ||
                setTimeout(function() {
                  c.Sg();
                }, 0);
          }),
          (this.eb = function() {
            if (c.todo && c.todo.del) {
              var e = c.todo.del;
              e.parentNode.removeChild(e), (c.todo.del = null);
            }
          }),
          (this.ea = function(e, t) {
            var i = function(e, t) {
              return function() {
                if (c.Ba()) {
                  if ('function' == typeof c.onAfterRender) {
                    var i = {};
                    (i.isCallBack = t),
                      (i.isScroll = !1),
                      (i.data = e),
                      c.onAfterRender(i);
                  }
                } else c.afterRender && c.afterRender(e, t);
              };
            };
            window.setTimeout(i(e, t), 0);
          }),
          (this.scrollTo = function(e, t, i) {
            var n = DayPilot.Util.overlaps(
              c.visibleStart(),
              c.visibleEnd(),
              e,
              e
            );
            return c.infiniteScrollingEnabled && !n
              ? void c.infinite.scrollTo(e)
              : void (c.Tg.enabled
                  ? ((c.Tg.scrollToRequested = e),
                    setTimeout(function() {
                      var e = c.Tg.scrollToRequested;
                      e && c.Ug(e, t, i);
                    }, 0))
                  : c.Ug(e, t, i));
          }),
          (this.Ug = function(e, t, i) {
            if (e) {
              if (!c.G)
                return void (c.Vg = { date: e, animated: t, position: i });
              if ('Days' === c.viewType) {
                var n = c.Wg(new DayPilot.Date(e));
                if (!n) return;
                return void setTimeout(function() {
                  var e = n.top;
                  c.nav.scroll.scrollTop = e;
                }, 100);
              }
              var a;
              if (e instanceof DayPilot.Date) a = this.getPixels(e).left;
              else if ('string' == typeof e)
                a = this.getPixels(new DayPilot.Date(e)).left;
              else {
                if ('number' != typeof e)
                  throw 'Invalid scrollTo() parameter. Accepted parameters: string (ISO date), number (pixels), DayPilot.Date object';
                a = e;
              }
              var o = this.Xg.clientWidth,
                r = this.nav.scroll.clientWidth;
              switch (((i = i || 'left'), i.toLowerCase())) {
                case 'left':
                  break;
                case 'middle':
                  a -= r / 2;
                  break;
                case 'right':
                  a -= r;
              }
              if ((a < 0 && (a = 0), a > o - r && (a = o - r), !t))
                return void c.Yg(a);
              var l = Math.abs(c.nav.scroll.scrollLeft - a),
                s = l / o,
                d = 50;
              if ('number' == typeof t) d = t;
              else if ('string' == typeof t)
                switch (t) {
                  case 'fast':
                    d = 30;
                    break;
                  case 'normal':
                    d = 50;
                    break;
                  case 'slow':
                    d = 100;
                    break;
                  case 'linear':
                    d = Math.floor(100 * s);
                }
              s > 0.6 && (d = Math.min(d, 80)), this.Zg(a, d);
            }
          }),
          (this.Zg = function(e, t) {
            function i(e) {
              var t = e.next();
              return 'undefined' == typeof t
                ? void (e.finished && e.finished())
                : (c.setScrollX(t),
                  window.clearTimeout(c.refreshTimeout),
                  void setTimeout(function() {
                    i(e);
                  }, e.delay));
            }
            var n = {};
            (n.steps = []),
              (n.index = 0),
              (n.delay = 10),
              (n.next = function() {
                var e = n.steps[n.index];
                return (n.index += 1), e;
              }),
              (n.finished = function() {
                c.Sg();
              });
            for (
              var a = c.getScrollX(), t = t || 100, o = e - a, r = 0;
              r < t;
              r++
            ) {
              var l = r / t,
                s = (2 * (l - 0.5)) / (Math.pow(2 * (l - 0.5), 2) + 1) + 0.5;
              n.steps.push(a + o * s);
            }
            n.steps.push(e), i(n);
          }),
          (this.scrollToResource = function(e) {
            DayPilot.complete(function() {
              var t = c.$g(e);
              t &&
                setTimeout(function() {
                  var e = t.top;
                  c.nav.scroll.scrollTop = e;
                }, 100);
            });
          }),
          (this._g = function() {
            if (this.floatingTimeHeaders && this.timeHeader) {
              var e = this.ah();
              if (e) {
                this.bh();
                for (
                  var t = e.pixels.left + u.shiftX,
                    i = e.pixels.right + u.shiftX,
                    n = [],
                    a = 0;
                  a < this.timeHeader.length;
                  a++
                )
                  for (var o = 0; o < this.timeHeader[a].length; o++) {
                    var r = this.timeHeader[a][o],
                      l = r.left,
                      s = r.left + r.width,
                      d = null;
                    if (
                      (l < t &&
                        t < s &&
                        ((d = {}),
                        (d.x = o),
                        (d.y = a),
                        (d.marginLeft = t - l),
                        (d.marginRight = 0),
                        (d.div = this.E.timeHeader[o + '_' + a]),
                        n.push(d)),
                      l < i && i < s)
                    ) {
                      d ||
                        ((d = {}),
                        (d.x = o),
                        (d.y = a),
                        (d.marginLeft = 0),
                        (d.div = this.E.timeHeader[o + '_' + a]),
                        n.push(d)),
                        (d.marginRight = s - i);
                      break;
                    }
                  }
                for (var c = 0; c < n.length; c++) {
                  var d = n[c];
                  this.ch(d.div, d.marginLeft, d.marginRight);
                }
              }
            }
          }),
          (this.Qg = function() {
            this._g(), this.dh();
          }),
          (this.eh = {});
        var h = this.eh;
        (h.eventsInRectangle = function(e, t, i, n) {
          var a = e,
            o = e + i,
            r = t,
            l = t + n;
          return DayPilot.list(c.elements.events).filter(function(e) {
            var t = e.event,
              i = t.part.left,
              n = t.part.left + t.part.width,
              s = c.rowlist[t.part.dayIndex],
              d = s.top + t.part.top,
              h = d + t.part.height;
            if (
              DayPilot.Util.overlaps(i, n, a, o) &&
              DayPilot.Util.overlaps(d, h, r, l)
            )
              return !0;
          });
        }),
          (h.events = function(e) {
            var t = [],
              e = e || 'All',
              i = c.ah();
            if (!i) return DayPilot.list(t);
            for (
              var n = i.pixels.left, a = i.pixels.right, o = 0;
              o < c.elements.events.length;
              o++
            ) {
              var r = c.elements.events[o],
                l = r.event,
                s = l.part.left,
                d = l.part.left + l.part.width;
              switch (e) {
                case 'Left':
                  s < n && n < d && t.push(r);
                  break;
                case 'All':
                  DayPilot.Util.overlaps(s, d, n, a) && t.push(r);
              }
            }
            return DayPilot.list(t).addProps({ area: i });
          }),
          (this.dh = function() {
            if (this.floatingEvents) {
              var e = h.events('Left');
              this.fh(),
                e
                  .filter(function(e) {
                    return 'Milestone' !== e.event.data.type;
                  })
                  .forEach(function(t) {
                    var i = t.event,
                      n = e.area.pixels.left,
                      a = i.part.left,
                      o = n - a;
                    c.gh(t, o, 0);
                  });
            }
          }),
          (this.elements.sections = []),
          (this.elements.hsections = []),
          (this.ch = function(e, t, i) {
            var n = document.createElement('div');
            n.setAttribute('unselectable', 'on'),
              (n.className = this.r('_timeheader_float')),
              (n.style.position = 'absolute'),
              (n.style.left = t + 'px'),
              (n.style.right = i + 'px'),
              (n.style.top = '0px'),
              (n.style.bottom = '0px'),
              (n.style.overflow = 'hidden');
            var a = document.createElement('div');
            (a.className = this.r('_timeheader_float_inner')),
              a.setAttribute('unselectable', 'on');
            var o = e.cell.th;
            o.innerHTML && (a.innerHTML = o.innerHTML),
              o.fontColor && (a.style.color = o.fontColor),
              n.appendChild(a),
              (e.section = n),
              e.insertBefore(n, e.firstChild.nextSibling),
              (e.firstChild.innerHTML = ''),
              this.elements.hsections.push(e);
          }),
          (this.bh = function() {
            for (var e = 0; e < this.elements.hsections.length; e++) {
              var t = this.elements.hsections[e],
                i = t.cell;
              i && t.firstChild && (t.firstChild.innerHTML = i.th.innerHTML),
                DayPilot.de(t.section),
                (t.section = null);
            }
            this.elements.hsections = [];
          }),
          (this.gh = function(e, t, i) {
            var n = document.createElement('div');
            n.setAttribute('unselectable', 'on'),
              (n.className = this.r(T.eventFloat)),
              (n.style.position = 'absolute'),
              (n.style.left = t + 'px'),
              (n.style.right = i + 'px'),
              (n.style.top = '0px'),
              (n.style.bottom = '0px'),
              (n.style.overflow = 'hidden');
            var a = document.createElement('div');
            (a.className = this.r(T.eventFloatInner)),
              a.setAttribute('unselectable', 'on'),
              (a.innerHTML = e.event.client.html()),
              e.event.data.fontColor &&
                (a.style.color = e.event.data.fontColor),
              n.appendChild(a),
              (e.section = n),
              e.insertBefore(n, e.firstChild.nextSibling),
              (e.firstChild.innerHTML = '');
            var o = e.event,
              r = o.cache ? o.cache.areas : o.data.areas;
            r = r || [];
            var l = {
              offsetX: c.hh(a),
              eventDiv: e,
              areas: r.filter(function(e) {
                return !(e.start || e.end);
              })
            };
            DayPilot.Areas.attach(n, e.event, l),
              DayPilot.Areas.disable(e),
              this.elements.sections.push(e);
          }),
          (this.ih = null),
          (this.hh = function(e) {
            return (
              null === c.ih &&
                (c.ih = parseInt(
                  new DayPilot.StyleReader(e).get('padding-left')
                )),
              c.ih
            );
          }),
          (this.fh = function() {
            for (var e = 0; e < this.elements.sections.length; e++) {
              var t = this.elements.sections[e],
                i = t.event;
              i && (t.firstChild.innerHTML = i.client.html()),
                DayPilot.de(t.section),
                DayPilot.Areas.enable(t),
                (t.section = null);
            }
            this.elements.sections = [];
          }),
          (this.setScrollX = function(e) {
            c.Tg.enabled
              ? ((c.Tg.scrollXRequested = e),
                setTimeout(function() {
                  var e = c.Tg.scrollXRequested;
                  'number' == typeof e && c.Yg(e);
                }, 0))
              : c.Yg(e);
          }),
          (this.Yg = function(e) {
            var t = c.nav.scroll,
              i = c.jh();
            t.clientWidth + e > i && (e = i - t.clientWidth),
              (c.divTimeScroll.scrollLeft = e),
              (t.scrollLeft = e);
          }),
          (this.setScrollY = function(e) {
            c.Tg.enabled
              ? ((c.Tg.scrollYRequested = e),
                setTimeout(function() {
                  var e = c.Tg.scrollYRequested;
                  'number' == typeof e && c.kh(e);
                }, 0))
              : c.kh(e);
          }),
          (this.kh = function(e) {
            var t = c.nav.scroll,
              i = c.wg;
            t.clientHeight + e > i && (e = i - t.clientHeight),
              (c.divResScroll.scrollTop = e),
              (t.scrollTop = e);
          }),
          (this.setScroll = function(e, t) {
            c.setScrollX(e), c.setScrollY(t);
          }),
          (this.message = function(e, t) {
            if (null !== e) {
              var i = {};
              'object' == typeof arguments[1] &&
                ((i = arguments[1]), (t = i.delay));
              var n,
                t = t || this.messageHideAfter || 2e3,
                a = this.lh() + 1,
                o = this.mh() + R.splitterWidth(),
                r = DayPilot.sw(c.nav.scroll) + 1,
                l = DayPilot.sh(c.nav.scroll) + 1;
              if (this.nav.message) n = c.nav.message;
              else {
                (n = document.createElement('div')),
                  (n.style.position = 'absolute'),
                  (n.style.left = o + 'px'),
                  (n.style.right = r + 'px'),
                  (n.style.display = 'none'),
                  DayPilot.re(n, DayPilot.touch.start, function(e) {
                    (c.nav.message.style.display = 'none'),
                      e.preventDefault(),
                      e.stopPropagation();
                  }),
                  (n.onmousemove = function() {
                    c.messageHideOnMouseOut &&
                      n.messageTimeout &&
                      !n.status &&
                      clearTimeout(n.messageTimeout);
                  }),
                  (n.onmouseout = function() {
                    c.messageHideOnMouseOut &&
                      'none' !== c.nav.message.style.display &&
                      (n.messageTimeout = setTimeout(c.Ma, 500));
                  });
                var s = document.createElement('div');
                (s.onclick = function() {
                  c.nav.message.style.display = 'none';
                }),
                  (s.className = this.r('_message')),
                  n.appendChild(s);
                var d = document.createElement('div');
                (d.style.position = 'absolute'),
                  (d.className = this.r('_message_close')),
                  (d.onclick = function() {
                    c.nav.message.style.display = 'none';
                  }),
                  n.appendChild(d),
                  this.nav.top.appendChild(n),
                  (this.nav.message = n);
              }
              var h = function() {
                var n = c.nav.message;
                (n.firstChild.className = c.r('_message')),
                  i.cssClass &&
                    DayPilot.Util.addClass(n.firstChild, i.cssClass),
                  (c.nav.message.firstChild.innerHTML = e);
                var o = DayPilot.sw(c.nav.scroll) + 1;
                c.nav.message.style.right = o + 'px';
                var r = c.messageBarPosition || 'Top';
                'Bottom' === r
                  ? ((c.nav.message.style.bottom = l + 'px'),
                    (c.nav.message.style.top = ''))
                  : 'Top' === r &&
                    ((c.nav.message.style.bottom = ''),
                    (c.nav.message.style.top = a + 'px'));
                var s = function() {
                  n.messageTimeout = setTimeout(c.Ma, t);
                };
                DayPilot.fade(c.nav.message, 0.2, s);
              };
              clearTimeout(n.messageTimeout),
                'none' !== this.nav.message.style.display
                  ? DayPilot.fade(c.nav.message, -0.2, h)
                  : h();
            }
          }),
          (this.Ma = function() {
            if (c.nav && c.nav.message) {
              var e = function() {
                c.nav.message.style.display = 'none';
              };
              DayPilot.fade(c.nav.message, -0.2, e);
            }
          }),
          (this.nh = function() {
            c.nav && c.nav.message && (c.nav.message.style.display = 'none');
          }),
          (this.message.show = function(e) {
            c.message(e);
          }),
          (this.message.hide = function() {
            c.Ma();
          }),
          (this.oh = null),
          (this.ra = function() {
            if (this.nav.scroll) {
              !(function() {
                var e = c.jh();
                (c.Xg.style.height = c.wg + 'px'),
                  (c.Xg.style.width = e + 'px'),
                  'Auto' !== c.cellWidthSpec || c.ph
                    ? e > c.nav.scroll.clientWidth
                      ? (c.nav.scroll.style.overflowX = 'auto')
                      : (c.nav.scroll.style.overflowX = 'hidden')
                    : ((c.nav.scroll.style.overflowX = 'hidden'),
                      (c.nav.scroll.scrollLeft = 0));
              })();
              var e = 1;
              null !== this.oh &&
                ((this.nav.top.style.border = this.oh), (this.oh = null)),
                ('Parent100Pct' !== this.heightSpec &&
                  'Max100Pct' !== this.heightSpec) ||
                  ((this.nav.top.style.height = '100%'),
                  this.hideBorderFor100PctHeight &&
                    ((this.oh = this.nav.top.style.border),
                    (this.nav.top.style.border = '0 none')),
                  (this.height =
                    parseInt(this.nav.top.clientHeight, 10) - this.lh() - e)),
                (this.nav.scroll.style.height = '30px');
              var t = this.pc(),
                i = t + this.lh() + e;
              t >= 0 &&
                ((this.nav.scroll.style.height = t + 'px'),
                (this.qh.style.height = t + 'px')),
                this.nav.divider &&
                  ((!i || isNaN(i) || i < 0) && (i = 0),
                  (this.nav.divider.style.height = i + 'px')),
                'Parent100Pct' !== this.heightSpec &&
                  (this.nav.top.style.height = i + 'px'),
                c.nav.resScrollSpace &&
                  (c.nav.resScrollSpace.style.height = t + 20 + 'px');
              for (var n = 0; n < this.elements.separators.length; n++)
                this.elements.separators[n].style.height = this.wg + 'px';
              for (var n = 0; n < this.elements.linesVertical.length; n++)
                this.elements.linesVertical[n].style.height = this.wg + 'px';
              c.rh();
            }
          }),
          (this.Cg = function() {
            (this.startDate = new DayPilot.Date(this.startDate).getDatePart()),
              (this.E.pixels = []),
              (this.itline = DayPilot.list());
            var e = 'Auto' === this.cellWidthSpec;
            if (
              ((function() {
                if (e) {
                  var t = 0;
                  c.t() && c.timeline
                    ? (t = c.timeline.length)
                    : 'Manual' === c.scale
                    ? (t = c.timeline.length)
                    : (c.uh(),
                      (t = c.itline.length),
                      (c.itline = DayPilot.list()));
                  var i = c.vh();
                  if (t > 0 && i > 0) {
                    var n = i / t;
                    (c.cellWidth = DayPilot.Util.atLeast(n, c.cellWidthMin)),
                      (c.ph = n < c.cellWidthMin);
                  }
                }
              })(),
              this.t() && this.timeline)
            ) {
              if (this.timeline) {
                this.itline = DayPilot.list();
                for (
                  var t = null, i = 0, n = 0;
                  n < this.timeline.length;
                  n++
                ) {
                  var a = this.timeline[n],
                    o = {};
                  if (
                    ((o.start = new DayPilot.Date(a.start)),
                    (o.end = a.end
                      ? new DayPilot.Date(a.end)
                      : o.start.addMinutes(this.cellDuration)),
                    a.width)
                  )
                    (o.left = a.left || i),
                      (o.width = a.width || this.cellWidth),
                      (i += o.width);
                  else {
                    var r = Math.floor(i + this.cellWidth),
                      l = r - Math.floor(i);
                    (o.left = Math.floor(i)),
                      (o.width = l),
                      (i += this.cellWidth);
                  }
                  (o.breakBefore = t && t.ticks !== o.start.ticks),
                    (t = o.end),
                    this.itline.push(o);
                }
              }
              e && this.wh();
            } else {
              if (((this.timeHeader = []), 'Manual' === this.scale)) {
                this.itline = DayPilot.list();
                for (
                  var i = 0, t = null, n = 0;
                  n < this.timeline.length;
                  n++
                ) {
                  var a = this.timeline[n],
                    o = {};
                  if (
                    ((o.start = new DayPilot.Date(a.start)),
                    (o.end = a.end
                      ? new DayPilot.Date(a.end)
                      : o.start.addMinutes(this.cellDuration)),
                    t && o.start.ticks < t.ticks)
                  )
                    throw 'The timeline must be sequential';
                  var s = a.width || this.cellWidth,
                    r = Math.floor(i + s),
                    l = r - Math.floor(i);
                  (o.left = Math.floor(i)),
                    (o.width = l),
                    (i += s),
                    (o.breakBefore = t && t.ticks !== o.start.ticks),
                    (t = o.end),
                    this.itline.push(o);
                }
              } else this.uh();
              this.xh();
            }
          }),
          (this.infinite = {}),
          (this.infinite.shiftStart = function(e) {
            u.shiftStart(e);
          }),
          (this.infinite.scrollTo = function(e) {
            u.shiftTo(e);
          }),
          (this.yh = {});
        var u = this.yh;
        (u.shiftX = 0),
          (u.active = !1),
          (u.updateRowStarts = function() {
            DayPilot.list(c.rowlist).each(function(e, t) {
              (e.start = c.Ja()), (e.data = null), c.zh(t);
            });
          }),
          (u.isEnabled = function() {
            return c.infiniteScrollingEnabled && !c.t();
          }),
          (u.shiftTo = function(e) {
            var e = new DayPilot.Date(e),
              t = e.addDays(-c.infiniteScrollingStepDays).getDatePart(),
              i = new DayPilot.Duration(
                t.getTime() - c.startDate.getDatePart().getTime()
              ).totalDays();
            u.shiftStart(i, e);
          }),
          (u.shiftStart = function(e, t) {
            var i;
            u.active = !0;
            var n = c.startDate,
              a = c.startDate.addDays(e);
            e > 0 && (i = -c.getPixels(a).left),
              (c.startDate = c.startDate.addDays(e)),
              (c.itline = DayPilot.list()),
              (c.E.pixels = []),
              (c.Ah = {}),
              c.uh(),
              u.updateRowStarts(),
              e < 0 && (i = c.getPixels(n).left),
              (c.timeHeader = []),
              c.xh(),
              c.Fg(),
              (c.cellProperties = {}),
              c.Jg(),
              c.Kg(),
              c.ja(),
              c.T(),
              c.Gg(),
              c.Ig(),
              c.ra(),
              'undefined' != typeof t
                ? (c.scrollTo(new DayPilot.Date(t)), c.Sg())
                : (c.nav.scroll.scrollLeft += i),
              c.Ng(),
              c.xa(),
              (u.active = !1);
          }),
          (this.uh = function() {
            for (
              var e =
                  'Days' !== this.viewType
                    ? this.startDate.addDays(this.days)
                    : this.startDate.addDays(1),
                t = this.startDate,
                i = this.Bh(t),
                n = !1,
                a = 0,
                o = null;
              i.ticks <= e.ticks && i.ticks > t.ticks;

            ) {
              var r = t,
                l = i;
              c.showNonBusinessForceHours &&
                'Day' == c.scale &&
                ((r = t.addHours(c.businessBeginsHour)),
                (l = t.addHours(c.businessEndsHour)));
              var s = this.Ch(r, l, !0);
              if (!s.cell.start || !s.cell.end)
                throw new DayPilot.Exception(
                  'Invalid timeline cell start/end: start and/or end not specified'
                );
              if (
                ((s.cell.start = new DayPilot.Date(s.cell.start)),
                (s.cell.end = new DayPilot.Date(s.cell.end)),
                s.cell.start >= s.cell.end)
              )
                throw new DayPilot.Exception(
                  'Invalid timeline cell start/end: end before start'
                );
              if (o && o.ticks > s.cell.start.ticks)
                throw new DayPilot.Exception(
                  'Invalid timeline cell start/end: overlapping cells'
                );
              if (
                ((n = !!(o && o.ticks < s.cell.start.ticks)), s.cell.visible)
              ) {
                var d = Math.floor(a + this.cellWidth),
                  h = d - Math.floor(a),
                  u = {};
                (u.start = s.cell.start),
                  (u.end = s.cell.end),
                  (u.left = Math.floor(a)),
                  (u.width = h),
                  (u.breakBefore = n),
                  this.itline.push(u),
                  (a += this.cellWidth),
                  (o = s.cell.end);
              }
              (t = i), (i = this.Bh(t));
            }
          }),
          (this.wh = function() {
            if (this.timeHeader)
              for (var e = 0; e < this.timeHeader.length; e++)
                for (var t = this.timeHeader[e], i = 0; i < t.length; i++) {
                  var n = t[i];
                  n.left = this.getPixels(new DayPilot.Date(n.start)).left;
                  var a = this.getPixels(new DayPilot.Date(n.end)).left,
                    o = a - n.left;
                  n.width = o;
                }
          }),
          (this.xh = function() {
            var e = this.timeHeaders;
            if (
              (e || (e = [{ groupBy: this.cellGroupBy }, { groupBy: 'Cell' }]),
              this.itline.isEmpty())
            ) {
              this.timeHeader = [];
              for (var t = 0; t < e.length; t++) this.timeHeader[t] = [];
            } else
              for (var i = c.Dh(), t = 0; t < e.length; t++) {
                var n = e[t].groupBy,
                  a = e[t].format;
                'Default' === n && (n = this.cellGroupBy);
                for (var o = [], r = this.Ja(); r.ticks < i.ticks; ) {
                  var l = {};
                  if (
                    ((l.start = r),
                    (l.end = this.Eh(l.start, n)),
                    l.start.ticks === l.end.ticks)
                  )
                    break;
                  l.left = this.getPixels(l.start).left;
                  var s = this.getPixels(l.end).left,
                    d = s - l.left;
                  if (
                    ((l.width = d),
                    (l.colspan = Math.ceil(d / (1 * this.cellWidth))),
                    'string' == typeof a
                      ? (l.innerHTML = l.start.toString(a, R.locale()))
                      : (l.innerHTML = this.Fh(l, n)),
                    (l.text = l.innerHTML),
                    d > 0)
                  ) {
                    if ('function' == typeof this.onBeforeTimeHeaderRender) {
                      var h = {};
                      (h.start = l.start),
                        (h.end = l.end),
                        (h.text = l.innerHTML),
                        (h.html = l.innerHTML),
                        (h.toolTip = l.innerHTML),
                        (h.backColor = null),
                        (h.fontColor = null),
                        (h.level = this.timeHeader.length),
                        (h.cssClass = null);
                      var u = {};
                      (u.header = h),
                        this.onBeforeTimeHeaderRender(u),
                        (l.text = l.innerHTML),
                        (l.innerHTML = h.html),
                        (l.backColor = h.backColor),
                        (l.fontColor = h.fontColor),
                        (l.toolTip = h.toolTip),
                        (l.areas = h.areas),
                        (l.cssClass = h.cssClass);
                    }
                    o.push(l);
                  }
                  r = l.end;
                }
                this.timeHeader.push(o);
              }
          }),
          (this.Ch = function(e, t) {
            var i = {};
            (i.start = e), (i.end = t), (i.visible = !0);
            var n = {};
            if (((n.cell = i), 'function' == typeof this.onIncludeTimeCell))
              return this.onIncludeTimeCell(n), n;
            if (this.showNonBusiness) return n;
            var a = 'Days' === c.viewType;
            return (
              (n.cell.visible = this.isBusiness({ start: e, end: t }, a)), n
            );
          }),
          (this.getPixels = function(e) {
            var t = e.ticks,
              i = this.E.pixels[t];
            if (i) return i;
            var n = 2218768416e5;
            if (0 === this.itline.length || t < this.itline[0].start.ticks) {
              var a = {};
              return (
                (a.cut = !1),
                (a.left = 0),
                (a.boxLeft = a.left),
                (a.boxRight = a.left),
                (a.i = null),
                a
              );
            }
            for (
              var o = this.Gh(e), r = DayPilot.Util.atLeast(o.i - 1, 0), l = r;
              l < this.itline.length;
              l++
            ) {
              var s = this.itline[l],
                d = s.start.ticks,
                c = s.end.ticks;
              if (d < t && t < c) {
                var h = t - d,
                  a = {};
                (a.cut = !1),
                  (a.left = s.left + this.Yc(s, h)),
                  (a.boxLeft = s.left),
                  (a.boxRight = s.left + s.width),
                  (a.i = l);
                break;
              }
              if (d === t) {
                var a = {};
                (a.cut = !1),
                  (a.left = s.left),
                  (a.boxLeft = a.left),
                  (a.boxRight = a.left + s.width),
                  (a.i = l);
                break;
              }
              if (c === t) {
                var a = {};
                (a.cut = !1),
                  (a.left = s.left + s.width),
                  (a.boxLeft = a.left),
                  (a.boxRight = a.left),
                  (a.i = l + 1);
                break;
              }
              if (t < d && t > n) {
                var a = {};
                (a.cut = !0),
                  (a.left = s.left),
                  (a.boxLeft = a.left),
                  (a.boxRight = a.left),
                  (a.i = l);
                break;
              }
              n = c;
            }
            if (!a) {
              var u = this.itline[this.itline.length - 1],
                a = {};
              (a.cut = !0),
                (a.left = u.left + u.width),
                (a.boxLeft = a.left),
                (a.boxRight = a.left),
                (a.i = null);
            }
            return (this.E.pixels[t] = a), a;
          }),
          (this.getDate = function(e, t, i) {
            var n = this.Hh(e, i);
            if (!n) return null;
            var a = n.x,
              o = this.itline[a];
            if (!o) return null;
            var r = i && !t ? o.end : o.start;
            return t ? r.addTime(this.Ih(n.cell, n.offset)) : r;
          }),
          (this.Hh = function(e, t) {
            if (0 === this.itline.length) return null;
            for (var i = 0, n = 0, a = 0; a < this.itline.length; a++) {
              var o = this.itline[a];
              if (((i += o.width || this.cellWidth), e < i || (t && e === i))) {
                var r = {};
                return (r.x = a), (r.offset = e - n), (r.cell = o), r;
              }
              n = i;
            }
            var o = c.itline.last(),
              r = {};
            return (
              (r.x = this.itline.length - 1),
              (r.offset = o.width || this.cellWidth),
              (r.cell = o),
              r
            );
          }),
          (this.Jh = function(e) {
            return this.Gh(e);
          }),
          (this.Gh = function(e) {
            var t = new DayPilot.Date(e),
              i = 0,
              n = this.itline[0];
            if (t.ticks < n.start.ticks) {
              var a = {};
              return (
                (a.hidden = !0),
                (a.previous = null),
                (a.current = null),
                (a.next = this.itline[0]),
                (a.i = -1),
                a
              );
            }
            var o = this.itline.length - 1,
              r = this.itline[o];
            if (t.ticks > r.end.ticks) {
              var a = {};
              return (
                (a.past = !0),
                (a.previous = this.itline[this.itline.length - 1]),
                (a.i = this.itline.length),
                a
              );
            }
            if (t.ticks === r.end.ticks) {
              var a = {};
              return (
                (a.past = !1),
                (a.current = this.itline[this.itline.length - 1]),
                (a.i = this.itline.length - 1),
                a
              );
            }
            for (
              var l = (function() {
                  for (var e, n = c.itline; i <= o; )
                    if (
                      ((e = Math.floor((i + o) / 2)),
                      n[e].start.ticks > t.ticks)
                    )
                      o = e - 1;
                    else {
                      if (!(n[e].end.ticks < t.ticks)) return e;
                      i = e + 1;
                    }
                  return i;
                })(),
                s = l;
              s < this.itline.length;
              s++
            ) {
              var d = this.itline[s];
              if (d.start.ticks <= t.ticks && t.ticks < d.end.ticks) {
                var a = {};
                return (a.hidden = !1), (a.current = d), (a.i = s), a;
              }
              if (t.ticks < d.start.ticks) {
                var a = {};
                return (
                  (a.hidden = !0),
                  (a.previous = s > 0 ? this.itline[s - 1] : null),
                  (a.current = null),
                  (a.next = this.itline[s]),
                  (a.i = s),
                  a
                );
              }
            }
            var a = {};
            return (
              (a.past = !0),
              (a.previous = this.itline[this.itline.length - 1]),
              (a.i = this.itline.length),
              a
            );
          }),
          (this.Yc = function(e, t) {
            var i = e.width || this.cellWidth,
              n = e.end.ticks - e.start.ticks;
            return Math.floor((i * t) / n);
          }),
          (this.Ih = function(e, t) {
            var i = e.end.ticks - e.start.ticks,
              n = e.width || this.cellWidth;
            return Math.floor((t / n) * i);
          }),
          (this.tf = function(e) {
            DayPilot.Global.touch.start ||
              n.preventEventClick ||
              ((E = {}), c.Oa(this, e));
          }),
          (this.eventClickPostBack = function(e, t) {
            this.K('EventClick', e, t);
          }),
          (this.eventClickCallBack = function(e, t) {
            this.M('EventClick', e, t);
          }),
          (this.Oa = function(e, t) {
            var i = e.event;
            if (i) {
              var t = t || window.event;
              if (
                ('undefined' != typeof DayPilot.Bubble &&
                  DayPilot.Bubble.hideActive(),
                !i.client.doubleClickEnabled())
              )
                return void c.Pa(e, t);
              c.timeouts.click || (c.timeouts.click = []);
              var n = function(e, t) {
                return function() {
                  c.Pa(e, t);
                };
              };
              c.timeouts.click.push(
                window.setTimeout(n(e, t), c.doubleClickTimeout)
              );
            }
          }),
          (this.Kh = function(e) {
            return c.itline[e];
          }),
          (this.Pa = function(e, t) {
            if ('boolean' == typeof t)
              throw 'Invalid _eventClickSingle parameters';
            var i = e.event;
            if (i) {
              var n = t.ctrlKey,
                a = t.metaKey;
              if (i.client.clickEnabled())
                if (c.Ba()) {
                  var o = {};
                  if (
                    ((o.e = i),
                    (o.div = e),
                    (o.originalEvent = t),
                    (o.ctrl = n),
                    (o.meta = a),
                    (o.shift = t.shiftKey),
                    (o.preventDefault = function() {
                      this.preventDefault.value = !0;
                    }),
                    (o.control = c),
                    (o.toJSON = function() {
                      return DayPilot.Util.copyProps(o, {}, [
                        'e',
                        'ctrl',
                        'meta',
                        'shift'
                      ]);
                    }),
                    'function' == typeof c.onEventClick &&
                      (c.onEventClick(o), o.preventDefault.value))
                  )
                    return;
                  switch (c.eventClickHandling) {
                    case 'PostBack':
                      c.eventClickPostBack(i);
                      break;
                    case 'CallBack':
                      c.eventClickCallBack(i);
                      break;
                    case 'Edit':
                      c.Qa(e);
                      break;
                    case 'Select':
                      c.Ra(e, i, n, a);
                      break;
                    case 'ContextMenu':
                      var r = i.client.contextMenu();
                      r ? r.show(i) : c.contextMenu && c.contextMenu.show(i);
                      break;
                    case 'Bubble':
                      c.bubble && c.bubble.showEvent(i);
                      break;
                    case 'RectangleSelect':
                      if ('Disabled' !== c.multiSelectRectangle)
                        return M.start(), !1;
                  }
                  'function' == typeof c.onEventClicked && c.onEventClicked(o);
                } else
                  switch (c.eventClickHandling) {
                    case 'PostBack':
                      c.eventClickPostBack(i);
                      break;
                    case 'CallBack':
                      c.eventClickCallBack(i);
                      break;
                    case 'JavaScript':
                      c.onEventClick(i);
                      break;
                    case 'Edit':
                      c.Qa(e);
                      break;
                    case 'Select':
                      c.Ra(e, i, n, a);
                      break;
                    case 'ContextMenu':
                      var r = i.client.contextMenu();
                      r ? r.show(i) : c.contextMenu && c.contextMenu.show(i);
                      break;
                    case 'Bubble':
                      c.bubble && c.bubble.showEvent(i);
                      break;
                    case 'RectangleSelect':
                      if ('Disabled' !== c.multiSelectRectangle)
                        return M.start(), !1;
                  }
            }
          }),
          (this.Xa = function(e) {
            if (c.Ba()) {
              var t = {};
              if (
                ((t.e = e),
                (t.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                (t.control = c),
                (t.toJSON = function() {
                  return DayPilot.Util.copyProps(t, {}, ['e']);
                }),
                'function' == typeof c.onEventDelete &&
                  (c.onEventDelete(t), t.preventDefault.value))
              )
                return;
              switch (c.eventDeleteHandling) {
                case 'PostBack':
                  c.eventDeletePostBack(e);
                  break;
                case 'CallBack':
                  c.eventDeleteCallBack(e);
                  break;
                case 'Update':
                  c.events.remove(e);
              }
              'function' == typeof c.onEventDeleted && c.onEventDeleted(t);
            } else
              switch (c.eventDeleteHandling) {
                case 'PostBack':
                  c.eventDeletePostBack(e);
                  break;
                case 'CallBack':
                  c.eventDeleteCallBack(e);
                  break;
                case 'JavaScript':
                  c.onEventDelete(e);
              }
          }),
          (this.eventDeletePostBack = function(e, t) {
            this.K('EventDelete', e, t);
          }),
          (this.eventDeleteCallBack = function(e, t) {
            this.M('EventDelete', e, t);
          }),
          (this.setHScrollPosition = function(e) {
            this.nav.scroll.scrollLeft = e;
          }),
          (this.getScrollX = function() {
            return this.nav.scroll.scrollLeft;
          }),
          (this.getHScrollPosition = this.getScrollX),
          (this.getScrollY = function() {
            return this.nav.scroll.scrollTop;
          }),
          (this.Ra = function(e, t, i, n) {
            c.nb(e, t, i, n);
          }),
          (this.eventSelectPostBack = function(e, t, i) {
            var n = {};
            (n.e = e), (n.change = t), this.K('EventSelect', n, i);
          }),
          (this.eventSelectCallBack = function(e, t, i) {
            var n = {};
            (n.e = e), (n.change = t), this.M('EventSelect', n, i);
          }),
          (this.nb = function(e, t, i, n) {
            var a = c.multiselect,
              o = a.isSelected(t);
            if (i || n || !o || 1 !== a.ob.length)
              if (c.Ba()) {
                a.Kb = a.events();
                var r = {};
                if (
                  ((r.e = t),
                  (r.selected = o),
                  (r.ctrl = i),
                  (r.meta = n),
                  (r.preventDefault = function() {
                    this.preventDefault.value = !0;
                  }),
                  'function' == typeof c.onEventSelect &&
                    (c.onEventSelect(r), r.preventDefault.value))
                )
                  return;
                switch (c.eventSelectHandling) {
                  case 'PostBack':
                    c.eventSelectPostBack(t, l);
                    break;
                  case 'CallBack':
                    'undefined' != typeof WebForm_InitCallback &&
                      ((window.pb = ''),
                      (window.qb = []),
                      WebForm_InitCallback()),
                      c.eventSelectCallBack(t, l);
                    break;
                  case 'Update':
                    a.rb(e, i, n);
                }
                'function' == typeof c.onEventSelected &&
                  ((r.change = a.isSelected(t) ? 'selected' : 'deselected'),
                  (r.selected = a.isSelected(t)),
                  c.onEventSelected(r));
              } else {
                (a.Kb = a.events()), a.rb(e, i, n);
                var l = a.isSelected(t) ? 'selected' : 'deselected';
                switch (c.eventSelectHandling) {
                  case 'PostBack':
                    c.eventSelectPostBack(t, l);
                    break;
                  case 'CallBack':
                    'undefined' != typeof WebForm_InitCallback &&
                      ((window.pb = ''),
                      (window.qb = []),
                      WebForm_InitCallback()),
                      c.eventSelectCallBack(t, l);
                    break;
                  case 'JavaScript':
                    c.onEventSelect(t, l);
                }
              }
          }),
          (this.eventRightClickPostBack = function(e, t) {
            this.K('EventRightClick', e, t);
          }),
          (this.eventRightClickCallBack = function(e, t) {
            this.M('EventRightClick', e, t);
          }),
          (this.Ta = function(e) {
            if (!DayPilot.Global.touch.active && !DayPilot.Global.touch.start) {
              var t = this.event;
              if (
                ((e = e || window.event),
                (e.cancelBubble = !0),
                !this.event.client.rightClickEnabled())
              )
                return !1;
              if (c.Ba()) {
                var i = {};
                if (
                  ((i.e = t),
                  (i.div = this),
                  (i.originalEvent = e),
                  (i.preventDefault = function() {
                    this.preventDefault.value = !0;
                  }),
                  'function' == typeof c.onEventRightClick &&
                    (c.onEventRightClick(i), i.preventDefault.value))
                )
                  return !1;
                switch (c.eventRightClickHandling) {
                  case 'PostBack':
                    c.eventRightClickPostBack(t);
                    break;
                  case 'CallBack':
                    c.eventRightClickCallBack(t);
                    break;
                  case 'ContextMenu':
                    var n = t.client.contextMenu();
                    n
                      ? n.show(t)
                      : c.contextMenu && c.contextMenu.show(this.event);
                    break;
                  case 'Bubble':
                    c.bubble && c.bubble.showEvent(t);
                }
                'function' == typeof c.onEventRightClicked &&
                  c.onEventRightClicked(i);
              } else
                switch (c.eventRightClickHandling) {
                  case 'PostBack':
                    c.eventRightClickPostBack(t);
                    break;
                  case 'CallBack':
                    c.eventRightClickCallBack(t);
                    break;
                  case 'JavaScript':
                    c.onEventRightClick(t);
                    break;
                  case 'ContextMenu':
                    var n = t.client.contextMenu();
                    n
                      ? n.show(t)
                      : c.contextMenu && c.contextMenu.show(this.event);
                    break;
                  case 'Bubble':
                    c.bubble && c.bubble.showEvent(t);
                }
              return !1;
            }
          }),
          (this.eventDoubleClickPostBack = function(e, t) {
            this.K('EventDoubleClick', e, t);
          }),
          (this.eventDoubleClickCallBack = function(e, t) {
            this.M('EventDoubleClick', e, t);
          }),
          (this.Sa = function(e) {
            if (
              ('undefined' != typeof DayPilot.Bubble &&
                DayPilot.Bubble.hideActive(),
              c.timeouts.click)
            ) {
              for (var t in c.timeouts.click)
                window.clearTimeout(c.timeouts.click[t]);
              c.timeouts.click = null;
            }
            var e = e || window.event,
              i = this.event;
            if (
              (e.stopPropagation && e.stopPropagation(),
              (e.cancelBubble = !0),
              c.Ba())
            ) {
              var n = {};
              if (
                ((n.e = i),
                (n.originalEvent = e),
                (n.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                'function' == typeof c.onEventDoubleClick &&
                  (c.onEventDoubleClick(n), n.preventDefault.value))
              )
                return;
              switch (c.eventDoubleClickHandling) {
                case 'PostBack':
                  c.eventDoubleClickPostBack(i);
                  break;
                case 'CallBack':
                  c.eventDoubleClickCallBack(i);
                  break;
                case 'Edit':
                  c.Qa(this);
                  break;
                case 'Select':
                  c.Ra(div, i, e.ctrlKey, e.metaKey);
                  break;
                case 'Bubble':
                  c.bubble && c.bubble.showEvent(i);
                  break;
                case 'ContextMenu':
                  var a = i.client.contextMenu();
                  a ? a.show(i) : c.contextMenu && c.contextMenu.show(i);
              }
              'function' == typeof c.onEventDoubleClicked &&
                c.onEventDoubleClicked(n);
            } else
              switch (c.eventDoubleClickHandling) {
                case 'PostBack':
                  c.eventDoubleClickPostBack(i);
                  break;
                case 'CallBack':
                  c.eventDoubleClickCallBack(i);
                  break;
                case 'JavaScript':
                  c.onEventDoubleClick(i);
                  break;
                case 'Edit':
                  c.Qa(this);
                  break;
                case 'Select':
                  c.Ra(div, i, e.ctrlKey, e.metaKey);
                  break;
                case 'Bubble':
                  c.bubble && c.bubble.showEvent(i);
                  break;
                case 'ContextMenu':
                  var a = i.client.contextMenu();
                  a ? a.show(i) : c.contextMenu && c.contextMenu.show(i);
              }
          }),
          (this.eventResizePostBack = function(e, t, i, n) {
            this.bb('PostBack', e, t, i, n);
          }),
          (this.eventResizeCallBack = function(e, t, i, n) {
            this.bb('CallBack', e, t, i, n);
          }),
          (this.bb = function(e, t, i, n, a) {
            var o = {};
            (o.e = t),
              (o.newStart = i),
              (o.newEnd = n),
              this.Ya(e, 'EventResize', o, a);
          }),
          (this.ab = function(e, t, i, n) {
            if ('Disabled' !== this.eventResizeHandling)
              if (((i = c.Jf(i)), c.Ba())) {
                var a = {},
                  o = function() {
                    if ((C.hide(), !a.preventDefault.value)) {
                      switch (
                        ((t = a.newStart),
                        (i = a.newEnd),
                        c.eventResizeHandling)
                      ) {
                        case 'PostBack':
                          c.eventResizePostBack(e, t, i);
                          break;
                        case 'CallBack':
                          c.eventResizeCallBack(e, t, i);
                          break;
                        case 'Notify':
                          c.eventResizeNotify(e, t, i);
                          break;
                        case 'Update':
                          c.Lh(a);
                      }
                      'function' == typeof c.onEventResized &&
                        c.onEventResized(a);
                    }
                  };
                (a.e = e),
                  (a.async = !1),
                  (a.loaded = function() {
                    o();
                  }),
                  (a.newStart = t),
                  (a.newEnd = i),
                  (a.what = n),
                  (a.preventDefault = function() {
                    this.preventDefault.value = !0;
                  }),
                  (a.multiresize = DayPilot.list(b.list)),
                  (a.control = c),
                  (a.toJSON = function() {
                    return DayPilot.Util.copyProps(a, {}, [
                      'e',
                      'async',
                      'newStart',
                      'newEnd',
                      'multiresize'
                    ]);
                  });
                var r = {};
                (r.event = e),
                  (r.start = t),
                  (r.end = i),
                  a.multiresize.splice(0, 0, r),
                  'function' == typeof c.onEventResize && c.onEventResize(a),
                  a.async ? c.blockOnCallBack && C.show() : o();
              } else
                switch (c.eventResizeHandling) {
                  case 'PostBack':
                    c.eventResizePostBack(e, t, i);
                    break;
                  case 'CallBack':
                    c.eventResizeCallBack(e, t, i);
                    break;
                  case 'JavaScript':
                    c.onEventResize(e, t, i);
                    break;
                  case 'Notify':
                    c.eventResizeNotify(e, t, i);
                    break;
                  case 'Update':
                    c.Lh(a);
                }
          }),
          (this.eventMovePostBack = function(e, t, i, n, a, o) {
            this.fb('PostBack', e, t, i, n, a, o);
          }),
          (this.eventMoveCallBack = function(e, t, i, n, a, o) {
            this.fb('CallBack', e, t, i, n, a, o);
          }),
          (this.fb = function(e, t, i, n, a, o, r) {
            var l = t && !!t.preventDefault,
              s = {};
            if (l) {
              var d = t;
              (s.e = d.e),
                (s.newStart = d.newStart),
                (s.newEnd = d.newEnd),
                (s.newResource = d.newResource),
                (s.position = d.position),
                (s.multimove = []),
                d.multimove.each(function(e) {
                  var t = {};
                  if (
                    ((t.e = e.event),
                    (t.newStart = e.start),
                    (t.newEnd = e.end),
                    (t.newResource = e.event.resource()),
                    t.e === d.e || t.e.data.id == d.e.data.id)
                  )
                    t.newResource = d.newResource;
                  else if (w.rowoffset) {
                    var i = e.event.part.dayIndex + w.rowoffset;
                    t.newResource = c.rowlist[i].id;
                  }
                  s.multimove.push(t);
                });
            } else
              (s.e = t),
                (s.newStart = i),
                (s.newEnd = n),
                (s.newResource = a),
                (s.position = r);
            this.Ya(e, 'EventMove', s, o);
          }),
          (this.Mh = function(e, t, i) {
            var n = {};
            (n.start = t.start),
              (n.end = t.end),
              (n.resource = t.resource),
              (n.multirange = []),
              t.multirange.each(function(e) {
                var t = {};
                (t.start = e.start),
                  (t.end = e.end),
                  (t.resource = e.resource),
                  n.multirange.push(t);
              }),
              this.Ya(e, 'TimeRangeSelected', n, i);
          }),
          (this.Ya = function(e, t, i, n) {
            if ('PostBack' === e) c.K(t, i, n);
            else if ('CallBack' === e) c.M(t, i, n, 'CallBack');
            else if ('Immediate' === e) c.M(t, i, n, 'Notify');
            else if ('Queue' === e)
              c.queue.add(new DayPilot.Action(this, t, i, n));
            else {
              if ('Notify' !== e) throw 'Invalid event invocation type';
              'Notify' === R.notifyType()
                ? c.M(t, i, n, 'Notify')
                : c.queue.add(new DayPilot.Action(c, t, i, n));
            }
          }),
          (this.eventMoveNotify = function(e, t, i, n, a, o) {
            if (e && !!e.preventDefault) {
              var r = e;
              (r.old = new DayPilot.Event(r.e.copy(), c)),
                r.multimove.each(function(e) {
                  e.old = new DayPilot.Event(e.event.copy(), c);
                }),
                c.Lh(r),
                (r.e = r.old),
                delete r.old,
                r.multimove.each(function(e) {
                  (e.event = e.old), delete e.old;
                });
            } else {
              e = new DayPilot.Event(e.copy(), c);
              var l = c.events.Nh(e.data);
              e.start(t),
                e.end(i),
                e.resource(n),
                e.commit(),
                (l = l.concat(c.events.Oh(e.data))),
                c.Ph(l),
                c.Qh(),
                c.Rh(l);
            }
            this.fb('Notify', e, t, i, n, a, o);
          }),
          (this.eventResizeNotify = function(e, t, i, n) {
            var a = new DayPilot.Event(e.copy(), this),
              o = c.events.Nh(e.data);
            e.start(t),
              e.end(i),
              e.commit(),
              (o = o.concat(c.events.Oh(e.data))),
              c.Ph(o),
              c.Qh(),
              c.Rh(o),
              this.bb('Notify', a, t, i, n);
          }),
          (this.zoom = {}),
          (this.zoom.active = 0),
          (this.zoom.setActive = function(e, t) {
            if (!c.zoomLevels[e])
              throw new DayPilot.Exception('Zoom level not found: ' + e);
            var i = c.zoom.ig(t);
            c.zoom.Sh(e, i), c.G && c.update(), i && c.scrollTo(i, null, t);
          }),
          (this.zoom.ig = function(e) {
            e = e || c.zoomPosition || 'left';
            var t = null;
            if (!c.nav.scroll) return null;
            switch (e) {
              case 'left':
                t = c.getViewPort().start;
                break;
              case 'middle':
                t = c
                  .getViewPort()
                  .start.addTime(
                    (c.getViewPort().end.getTime() -
                      c.getViewPort().start.getTime()) /
                      2
                  );
                break;
              case 'right':
                t = c.getViewPort().end;
            }
            return t;
          }),
          (this.zoom.Sh = function(e, t) {
            var i = c.zoomLevels.length - 1;
            e > i && (e = i), e < 0 && (e = 0), (c.zoom.active = e);
            var n = c.zoomLevels[e],
              a = {};
            return (
              (a.date = t || new DayPilot.Date(c.startDate)),
              (a.level = n),
              DayPilot.Util.ownPropsAsArray(n.properties).forEach(function(e) {
                if (!e.key.startsWith('on'))
                  return 'function' == typeof e.val
                    ? void (c[e.key] = e.val(a))
                    : void (c[e.key] = e.val);
              }),
              a
            );
          }),
          (this.multiselect = {}),
          (this.multiselect.ob = []),
          (this.multiselect.Jb = []),
          (this.multiselect.Kb = []),
          (this.multiselect.Lg = function(e) {
            c.multiselect.ob = DayPilot.list(e).map(function(e) {
              return new DayPilot.Event(e, c);
            });
          }),
          (this.multiselect.Lb = function() {
            var e = c.multiselect;
            return JSON.stringify(e.events());
          }),
          (this.multiselect.events = function() {
            var e = c.multiselect,
              t = DayPilot.list();
            t.ignoreToJSON = !0;
            for (var i = 0; i < e.ob.length; i++) t.push(e.ob[i]);
            return t;
          }),
          (this.multiselect.Mb = function() {}),
          (this.multiselect.rb = function(e, t, i) {
            var n = c.multiselect;
            if (n.isSelected(e.event))
              if (c.allowMultiSelect)
                if (t || i) n.remove(e.event, !0);
                else {
                  var a = n.ob.length;
                  n.clear(), a > 1 && n.add(e.event, !0);
                }
              else n.clear();
            else
              c.allowMultiSelect && (t || i)
                ? n.add(e.event, !0)
                : (n.clear(), n.add(e.event, !0));
            n.Yb(e), n.Mb();
          }),
          (this.multiselect.Nb = function(e) {
            var t = c.multiselect;
            return t.Ob(e, t.initList);
          }),
          (this.multiselect.Pb = function() {
            for (var e = c.multiselect, t = [], i = 0; i < e.ob.length; i++) {
              var n = e.ob[i];
              t.push(n.value());
            }
            alert(t.join('\n'));
          }),
          (this.multiselect.add = function(e, t) {
            var i = c.multiselect;
            i.indexOf(e) === -1 && i.ob.push(e), t || i.Th(e);
          }),
          (this.multiselect.remove = function(e, t) {
            var i = c.multiselect,
              n = i.indexOf(e);
            n !== -1 && i.ob.splice(n, 1), t || i.Th(e);
          }),
          (this.multiselect.clear = function(e) {
            var t = c.multiselect;
            (t.ob = []), e || t.redraw();
          }),
          (this.multiselect.redraw = function() {
            var e = c.multiselect;
            e.Jb = [];
            for (var t = 0; t < c.elements.events.length; t++) {
              var i = c.elements.events[t];
              i.event &&
                i.event.isEvent &&
                (e.isSelected(i.event) ? e.Rb(i) : e.Sb(i));
            }
          }),
          (this.multiselect.Yb = function(e) {
            if (e) {
              var t = c.multiselect;
              t.isSelected(e.event) ? t.Rb(e) : t.Sb(e);
            }
          }),
          (this.multiselect.Th = function(e) {
            var t = c.multiselect,
              i = c.Gd(e);
            t.Yb(i);
          }),
          (this.multiselect.Rb = function(e) {
            var t = c.multiselect,
              i = c.r('_selected'),
              e = t.Tb(e);
            DayPilot.Util.addClass(e, i), t.Jb.push(e);
          }),
          (this.multiselect.Tb = function(e) {
            return e;
          }),
          (this.multiselect.Ub = function() {
            for (var e = c.multiselect, t = 0; t < e.Jb.length; t++) {
              var i = e.Jb[t];
              e.Sb(i, !0);
            }
            e.Jb = [];
          }),
          (this.multiselect.Sb = function(e, t) {
            var i = c.multiselect,
              n = c.r('_selected');
            if ((DayPilot.Util.removeClass(e, n), !t)) {
              var a = DayPilot.indexOf(i.Jb, e);
              a !== -1 && i.Jb.splice(a, 1);
            }
          }),
          (this.multiselect.isSelected = function(e) {
            return (
              !!e && (!!e.isEvent && c.multiselect.Ob(e, c.multiselect.ob))
            );
          }),
          (this.multiselect.indexOf = function(e) {
            for (var t = e.data, i = 0; i < c.multiselect.ob.length; i++) {
              if (c.multiselect.ob[i].data === t) return i;
            }
            return -1;
          }),
          (this.multiselect.Ob = function(e, t) {
            if (!t) return !1;
            for (var i = 0; i < t.length; i++) {
              var n = t[i];
              if (e === n) return !0;
              if ('function' == typeof n.id) {
                if (null !== n.id() && null !== e.id() && n.id() === e.id())
                  return !0;
                if (
                  null === n.id() &&
                  null === e.id() &&
                  n.recurrentMasterId() === e.recurrentMasterId() &&
                  e.start().toStringSortable() === n.start().toStringSortable()
                )
                  return !0;
              } else {
                if (null !== n.id && null !== e.id() && n.id === e.id())
                  return !0;
                if (
                  null === n.id &&
                  null === e.id() &&
                  n.recurrentMasterId === e.recurrentMasterId() &&
                  e.start().toStringSortable() === n.start
                )
                  return !0;
              }
            }
            return !1;
          }),
          (this.multiselect.startRectangle = function() {
            M.start();
          }),
          (this.Uh = function() {
            this.Kg(), this.Ng();
          }),
          (this.Vh = function() {
            c.Eg(), c.Ig(), c.Wh(), c.progressiveRowRendering && c.Xh();
          }),
          (this.Yb = function(e) {
            var e = e || {},
              t = !e.eventsOnly;
            window.clearTimeout(c.Yh),
              t &&
                (c.Zh !== c.timeHeaderPosition && c.$h(),
                this.t() || ((c.timeHeader = null), (c.cellProperties = {})),
                (c.Ah = {}),
                c.Bg(),
                c.Cg(),
                (e && e.dontLoadResources) || c.Dg(),
                c.events._h(),
                c.Lc.clearCache(),
                c.clearSelection()),
              this.ja(),
              this.ai(),
              c.Eg(),
              t && (c.Kd(), c.bi(), c.Fg(), c.Rg(c.selectedRows), c.ci()),
              c.Gg(),
              c.Ig(),
              c.Wh(),
              c.ka(),
              v.hideLinkpoints(),
              this.T(),
              this.Jg(),
              this.Ag(),
              this.ia(),
              this.Mg(),
              this.Uh(),
              c.ra(),
              e.immediateEvents || e.eventsOnly
                ? c.xa()
                : setTimeout(function() {
                    c.xa();
                  }, 100),
              this.visible ? c.yg != c.visible && this.show() : this.hide(),
              (this.yg = this.visible),
              this.Qg(),
              ((c.Hd.scope || c.Tg.enabled) && !c.G) || this.Sg(),
              this.di(),
              this.Aa();
          }),
          (this.di = function() {
            if ('function' == typeof c.onAfterUpdate) {
              var e = {};
              c.onAfterUpdate(e);
            }
          }),
          (this.update = function(e) {
            if (c.Ld)
              throw new DayPilot.Exception(
                'You are trying to update a DayPilot.Scheduler object that has been disposed already. Calling .dispose() destroys the object and makes it unusable.'
              );
            f.request(e);
          });
        var f = {};
        (f.timeout = null),
          (f.options = null),
          (f.enabled = !1),
          (f.request = function(e) {
            f.enabled
              ? (clearTimeout(f.timeout),
                f.mergeOptions(e),
                (f.timeout = setTimeout(f.doit)))
              : (f.mergeOptions(e), f.doit());
          }),
          (f.mergeOptions = function(e) {
            if (e) {
              f.options || (f.options = {});
              for (var t in e) f.options[t] = e[t];
            }
          }),
          (f.doit = function() {
            var e = f.options;
            return (
              (f.options = null),
              c.G
                ? DayPilot.Util.isOnlyProperty(e, 'events')
                  ? ((c.events.list = e.events), void c.Yb({ eventsOnly: !0 }))
                  : DayPilot.Util.isOnlyProperty(e, 'separators')
                  ? ((c.separators = e.separators), void c.Uh())
                  : DayPilot.Util.isOnlyProperty(e, 'rowHeaderColumns')
                  ? ((c.rowHeaderColumns = e.rowHeaderColumns), void c.Vh())
                  : (c.Md(e),
                    c.Yb({ immediateEvents: !0 }),
                    c.Vd(),
                    void c.ea(null, !1))
                : void c.Md(e)
            );
          }),
          (this.ei = function(e) {
            for (var t = 0; t < e.length; t++) {
              var i = e[t];
              c.fi(i);
            }
          }),
          (this.Rh = function(e, t, i) {
            if (((e = DayPilot.ua(e)), c.ei(e), this.gi)) {
              this.Gg(), this.Ig(), this.Jg(), this.Kg();
              for (var n = 0; n < e.length; n++) {
                var a = e[n];
                this.hi(a);
              }
              for (var n = 0; n < e.length; n++) {
                var a = e[n];
                this.ii(a);
              }
              this.Mg(), this.Ng(), this.ji();
            } else {
              for (var n = 0; n < e.length; n++) {
                var a = e[n];
                t || this.hi(a), this.ii(a);
              }
              DayPilot.list(e).each(function(e) {
                c.ki(e);
              }),
                c.Mg();
            }
            c.dh(), v.load(), c.multiselect.redraw(), i && i(), this.Ag();
          }),
          (this.Jf = function(e) {
            return 'DateTime' === c.eventEndSpec
              ? e
              : e.getDatePart().ticks === e.ticks
              ? e.addDays(-1)
              : e.getDatePart();
          }),
          (this.jf = function(e) {
            return 'DateTime' === c.eventEndSpec
              ? e
              : e.getDatePart().addDays(1);
          }),
          (this.Lf = function(e) {
            return 'DateTime' === c.eventEndSpec ? e : e.getDatePart();
          }),
          (this.db = function(e, t, i, n, a, o, r) {
            if (((c.bd = null), 'Disabled' !== c.eventMoveHandling)) {
              i = c.Jf(i);
              var l = {};
              (l.e = e),
                (l.newStart = t),
                (l.newEnd = i),
                (l.newResource = n),
                (l.external = a),
                (l.ctrl = !1),
                (l.meta = !1),
                (l.shift = !1),
                o &&
                  ((l.shift = o.shiftKey),
                  (l.ctrl = o.ctrlKey),
                  (l.meta = o.metaKey)),
                (l.multimove = DayPilot.list(w.list)),
                (l.areaData = DayPilot.Global.movingAreaData),
                (l.control = c),
                (l.toJSON = function() {
                  return DayPilot.Util.copyProps(l, {}, [
                    'e',
                    'newStart',
                    'newEnd',
                    'newResource',
                    'external',
                    'ctrl',
                    'meta',
                    'shift',
                    'multimove',
                    'areaData'
                  ]);
                });
              var s = {};
              if (
                ((s.event = e),
                (s.start = t),
                (s.end = i),
                (s.overlapping = !1),
                (s.resource = n),
                l.multimove.splice(0, 0, s),
                (l.position = r),
                (l.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                c.Ba())
              ) {
                var d = function() {
                  if ((C.hide(), l.preventDefault.value)) return void c.li();
                  switch (
                    ((t = l.newStart), (i = l.newEnd), c.eventMoveHandling)
                  ) {
                    case 'PostBack':
                      c.eventMovePostBack(l);
                      break;
                    case 'CallBack':
                      c.eventMoveCallBack(l);
                      break;
                    case 'Notify':
                      c.eventMoveNotify(l);
                      break;
                    case 'Update':
                      c.Lh(l);
                  }
                  c.li(),
                    'function' == typeof c.onEventMoved && c.onEventMoved(l);
                };
                (l.async = !1),
                  (l.loaded = function() {
                    d();
                  }),
                  'function' == typeof c.onEventMove && c.onEventMove(l),
                  l.async ? c.blockOnCallBack && C.show() : d();
              } else {
                switch (c.eventMoveHandling) {
                  case 'PostBack':
                    c.eventMovePostBack(l);
                    break;
                  case 'CallBack':
                    c.eventMoveCallBack(l);
                    break;
                  case 'JavaScript':
                    c.onEventMove(
                      e,
                      t,
                      i,
                      n,
                      a,
                      !!o && o.ctrlKey,
                      !!o && o.shiftKey,
                      r
                    );
                    break;
                  case 'Notify':
                    c.eventMoveNotify(l);
                    break;
                  case 'Update':
                    c.Lh(l);
                }
                c.li();
              }
            }
          }),
          (this.Lh = function(e) {
            var t = e.e,
              i = e.newStart,
              n = e.newEnd,
              a = e.newResource,
              o = e.external;
            t.start(i),
              t.end(n),
              t.resource(a),
              o ? (t.commit(), c.events.add(t)) : c.events.update(t),
              e.multimove &&
                !e.multimove.isEmpty() &&
                e.multimove.each(function(e) {
                  if (e.event !== t) {
                    if (
                      (e.event.start(e.start), e.event.end(e.end), w.rowoffset)
                    ) {
                      var i = e.event.part.dayIndex + w.rowoffset,
                        n = c.rowlist[i].id;
                      e.event.resource(n);
                    }
                    e.event.commit(), c.events.update(e.event);
                  }
                }),
              e.multiresize &&
                !e.multiresize.isEmpty() &&
                e.multiresize.each(function(e) {
                  e.event !== t &&
                    (e.event.start(e.start),
                    e.event.end(e.end),
                    e.event.commit(),
                    c.events.update(e.event));
                }),
              c.events.immediateRefresh(),
              c.eb();
          }),
          (this.gb = function(e, t) {
            var i = c.hb(t),
              n = {};
            (n.args = e), (n.guid = i), c.M('Bubble', n);
          }),
          (this.hb = function(e) {
            var t = DayPilot.guid();
            return (
              this.bubbles || (this.bubbles = []), (this.bubbles[t] = e), t
            );
          }),
          (this.eventMenuClickPostBack = function(e, t, i) {
            var n = {};
            (n.e = e), (n.command = t), this.K('EventMenuClick', n, i);
          }),
          (this.eventMenuClickCallBack = function(e, t, i) {
            var n = {};
            (n.e = e), (n.command = t), this.M('EventMenuClick', n, i);
          }),
          (this.ib = function(e, t, i) {
            switch (i) {
              case 'PostBack':
                c.eventMenuClickPostBack(t, e);
                break;
              case 'CallBack':
                c.eventMenuClickCallBack(t, e);
            }
          }),
          (this.timeRangeSelectedPostBack = function(e, t, i, n) {
            var a = {};
            (a.start = e),
              (a.end = t),
              (a.resource = i),
              this.K('TimeRangeSelected', a, n);
          }),
          (this.timeRangeSelectedCallBack = function(e, t, i, n) {
            var a = {};
            (a.start = e),
              (a.end = t),
              (a.resource = i),
              this.M('TimeRangeSelected', a, n);
          }),
          (this.mi = function(e) {
            if (e) {
              if (e.disabled) return void c.clearSelection();
              if (e.args) c.kb(e.args.start, e.args.end, e.args.resource);
              else {
                var t = c.ni(e);
                if (!t) return;
                c.kb(t.start, t.end, t.resource);
              }
            }
          }),
          (this.kb = function(e, t, i) {
            if ('Disabled' !== c.timeRangeSelectedHandling) {
              var n = t;
              t = c.Jf(n);
              var a = {};
              if (
                ((a.control = c),
                (a.start = e),
                (a.end = t),
                (a.resource = i),
                (a.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                (a.multirange = DayPilot.list(H.list).map(function(e) {
                  return c.ni(e);
                })),
                a.multirange.isEmpty() &&
                  a.multirange.push({
                    start: a.start,
                    end: a.end,
                    resource: a.resource
                  }),
                (a.toJSON = function() {
                  return DayPilot.Util.copyProps(a, {}, [
                    'start',
                    'end',
                    'resource',
                    'multirange'
                  ]);
                }),
                c.Ba())
              ) {
                if ('function' == typeof c.onTimeRangeSelect) {
                  if ((c.onTimeRangeSelect(a), a.preventDefault.value)) return;
                  (e = a.start), (t = a.end);
                }
                switch (
                  ((t = c.jf(t)),
                  c.oi(c.rangeHold, e, t, a.multirange),
                  c.pi(c.rangeHold),
                  c.timeRangeSelectedHandling)
                ) {
                  case 'PostBack':
                    c.Mh('PostBack', a);
                    break;
                  case 'CallBack':
                    c.Mh('CallBack', a);
                }
                'function' == typeof c.onTimeRangeSelected &&
                  c.onTimeRangeSelected(a);
              } else
                switch (c.timeRangeSelectedHandling) {
                  case 'PostBack':
                    c.Mh('PostBack', a);
                    break;
                  case 'CallBack':
                    c.Mh('CallBack', a);
                    break;
                  case 'JavaScript':
                    c.onTimeRangeSelected(e, t, i, a.multirange);
                    break;
                  case 'Hold':
                }
            }
          }),
          (this.oi = function(e, t, i, n) {
            if (e && !(n && n.length > 1)) {
              var a,
                o,
                r = i,
                l = 0;
              if ('Days' === c.viewType) {
                l = c.Wg(t).start.getTime() - c.Ja().getTime();
              }
              t.getTime() < c.itline[0].start.getTime()
                ? ((e.start.x = 0),
                  (e.start.time = c.itline[0].start.getTime()))
                : ((a = c.Jh(t.addTime(-l))),
                  (o = a.current || a.previous),
                  (e.start.x = DayPilot.indexOf(c.itline, o)),
                  (e.start.time = t)),
                (a = c.Jh(r.addMilliseconds(-1).addTime(-l))),
                a.past
                  ? ((e.end.x = c.itline.length - 1),
                    (e.end.time = c.itline[c.itline.length - 1].end.getTime()))
                  : ((o = a.current || a.next),
                    (e.end.x = DayPilot.indexOf(c.itline, o)),
                    (e.end.time = i));
            }
          }),
          (this.Wg = function(e) {
            var t = e.getDatePart();
            return DayPilot.list(c.rowlist).find(function(e) {
              return e.start.getDatePart() === t;
            });
          }),
          (this.timeRangeDoubleClickPostBack = function(e, t, i, n) {
            var a = {};
            (a.start = e),
              (a.end = t),
              (a.resource = i),
              this.K('TimeRangeDoubleClick', a, n);
          }),
          (this.timeRangeDoubleClickCallBack = function(e, t, i, n) {
            var a = {};
            (a.start = e),
              (a.end = t),
              (a.resource = i),
              this.M('TimeRangeDoubleClick', a, n);
          }),
          (this.lb = function(e, t, i) {
            if (((t = c.Jf(t)), c.Ba())) {
              var n = {};
              if (
                ((n.start = e),
                (n.end = t),
                (n.resource = i),
                (n.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                'function' == typeof c.onTimeRangeDoubleClick &&
                  (c.onTimeRangeDoubleClick(n), n.preventDefault.value))
              )
                return;
              switch (c.timeRangeDoubleClickHandling) {
                case 'PostBack':
                  c.timeRangeDoubleClickPostBack(e, t, i);
                  break;
                case 'CallBack':
                  c.timeRangeDoubleClickCallBack(e, t, i);
              }
              'function' == typeof c.onTimeRangeDoubleClicked &&
                c.onTimeRangeDoubleClicked(n);
            } else
              switch (c.timeRangeDoubleClickHandling) {
                case 'PostBack':
                  c.timeRangeDoubleClickPostBack(e, t, i);
                  break;
                case 'CallBack':
                  c.timeRangeDoubleClickCallBack(e, t, i);
                  break;
                case 'JavaScript':
                  c.onTimeRangeDoubleClick(e, t, i);
              }
          }),
          (this.timeRangeMenuClickPostBack = function(e, t, i) {
            var n = {};
            (n.selection = e),
              (n.command = t),
              this.K('TimeRangeMenuClick', n, i);
          }),
          (this.timeRangeMenuClickCallBack = function(e, t, i) {
            var n = {};
            (n.selection = e),
              (n.command = t),
              this.M('TimeRangeMenuClick', n, i);
          }),
          (this.jb = function(e, t, i) {
            switch (i) {
              case 'PostBack':
                c.timeRangeMenuClickPostBack(t, e);
                break;
              case 'CallBack':
                c.timeRangeMenuClickCallBack(t, e);
            }
          }),
          (this.linkMenuClickPostBack = function(e, t, i) {
            var n = {};
            (n.link = e), (n.command = t), this.K('LinkMenuClick', n, i);
          }),
          (this.linkMenuClickCallBack = function(e, t, i) {
            var n = {};
            (n.link = e), (n.command = t), this.M('LinkMenuClick', n, i);
          }),
          (this.qi = function(e, t, i) {
            switch (i) {
              case 'PostBack':
                c.linkMenuClickPostBack(t, e);
                break;
              case 'CallBack':
                c.linkMenuClickCallBack(t, e);
            }
          }),
          (this.rowMenuClickPostBack = function(e, t, i) {
            var n = {};
            (n.resource = e), (n.command = t), this.K('RowMenuClick', n, i);
          }),
          (this.resourceHeaderMenuClickPostBack = this.rowMenuClickPostBack),
          (this.rowMenuClickCallBack = function(e, t, i) {
            var n = {};
            (n.resource = e), (n.command = t), this.M('RowMenuClick', n, i);
          }),
          (this.resourceHeaderMenuClickCallBack = this.rowMenuClickCallBack),
          (this.ri = function(e, t, i) {
            switch (i) {
              case 'PostBack':
                c.rowMenuClickPostBack(t, e);
                break;
              case 'CallBack':
                c.rowMenuClickCallBack(t, e);
            }
          }),
          (this.si = function(e, t) {
            var i = c.ui(e);
            (i.data.name = t),
              i.data.html && (i.data.html = t),
              c.rows.update(i);
          }),
          (this.vi = function(e, t) {
            if (t) {
              var i = {};
              if (
                ((i.text = t),
                (i.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                'function' != typeof c.onRowCreate ||
                  (c.onRowCreate(i), !i.preventDefault.value))
              ) {
                switch (c.rowCreateHandling) {
                  case 'CallBack':
                    c.rowCreateCallBack(i.text);
                    break;
                  case 'PostBack':
                    c.rowCreatePostBack(i.text);
                }
                'function' == typeof c.onRowCreated && c.onRowCreated(i);
              }
            }
          }),
          (this.wi = function(e, t, i) {
            if (e.isNewRow) return void (i || c.vi(e, t));
            var n = DayPilot.indexOf(c.rowlist, e),
              a = c.ui(e, n);
            if (c.Ba()) {
              var o = {};
              if (
                ((o.resource = a),
                (o.row = a),
                (o.newText = t),
                (o.canceled = i),
                (o.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                'function' == typeof c.onRowEdit &&
                  (c.onRowEdit(o), o.preventDefault.value))
              )
                return;
              if (!i) {
                switch (c.rowEditHandling) {
                  case 'PostBack':
                    c.rowEditPostBack(a, t);
                    break;
                  case 'CallBack':
                    c.rowEditCallBack(a, t);
                    break;
                  case 'Update':
                    c.si(e, t);
                }
                'function' == typeof c.onRowEdited && c.onRowEdited(o);
              }
            } else
              switch (c.rowEditHandling) {
                case 'PostBack':
                  c.rowEditPostBack(a, t);
                  break;
                case 'CallBack':
                  c.rowEditCallBack(a, t);
                  break;
                case 'JavaScript':
                  c.onrowEdit(a, t);
              }
          }),
          (this.rowCreatePostBack = function(e, t) {
            var i = {};
            (i.text = e), this.K('RowCreate', i, t);
          }),
          (this.rowCreateCallBack = function(e, t) {
            var i = {};
            (i.text = e), this.M('RowCreate', i, t);
          }),
          (this.rowEditPostBack = function(e, t, i) {
            var n = {};
            (n.resource = e), (n.newText = t), this.K('RowEdit', n, i);
          }),
          (this.rowEditCallBack = function(e, t, i) {
            var n = {};
            (n.resource = e), (n.newText = t), this.M('RowEdit', n, i);
          }),
          (this.rowMovePostBack = function(e, t, i, n) {
            var a = {};
            (a.source = e),
              (a.target = t),
              (a.position = i),
              this.K('RowMove', a, n);
          }),
          (this.rowMoveCallBack = function(e, t, i, n) {
            var a = {};
            (a.source = e),
              (a.target = t),
              (a.position = i),
              this.M('RowMove', a, n);
          }),
          (this.rowMoveNotify = function(e, t, i, n) {
            var a = {};
            (a.source = e),
              (a.target = t),
              (a.position = i),
              this.M('RowMove', a, n, 'Notify');
          }),
          (this.rowClickPostBack = function(e, t) {
            var i = {};
            (i.resource = e), this.K('RowClick', i, t);
          }),
          (this.resourceHeaderClickPostBack = this.rowClickPostBack),
          (this.rowClickCallBack = function(e, t) {
            var i = {};
            (i.resource = e), this.M('RowClick', i, t);
          }),
          (this.resourceHeaderClickCallBack = this.rowClickCallBack),
          (this.xi = function(e, t, i, n) {
            if ('Disabled' === c.rowDoubleClickHandling)
              return void c.yi(e, t, i, n);
            c.timeouts.resClick || (c.timeouts.resClick = []);
            var a = function(e, t, i, n) {
              return function() {
                c.yi(e, t, i, n);
              };
            };
            c.timeouts.resClick.push(
              window.setTimeout(a(e, t, i, n), c.doubleClickTimeout)
            );
          }),
          (this.yi = function(e, t, i, n) {
            var a = c.resourceHeaderClickHandling || c.rowClickHandling;
            if (c.Ba()) {
              var o = {};
              if (
                ((o.resource = e),
                (o.row = e),
                (o.ctrl = t),
                (o.shift = i),
                (o.meta = n),
                (o.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                'function' == typeof c.onRowClick &&
                  (c.onRowClick(o), o.preventDefault.value))
              )
                return;
              if (
                'function' == typeof c.onResourceHeaderClick &&
                (c.onResourceHeaderClick(o), o.preventDefault.value)
              )
                return;
              switch (a) {
                case 'PostBack':
                  c.rowClickPostBack(e);
                  break;
                case 'CallBack':
                  c.rowClickCallBack(e);
                  break;
                case 'Select':
                  c.zi(e.$.row, t, i, n);
                  break;
                case 'Edit':
                  c.Ai.edit(e.$.row);
              }
              'function' == typeof c.onRowClicked && c.onRowClicked(o),
                'function' == typeof c.onResourceHeaderClicked &&
                  c.onResourceHeaderClicked(o);
            } else
              switch (a) {
                case 'PostBack':
                  c.rowClickPostBack(e);
                  break;
                case 'CallBack':
                  c.rowClickCallBack(e);
                  break;
                case 'JavaScript':
                  c.onRowClick(e);
                  break;
                case 'Select':
                  c.zi(e.$.row, t, i);
                  break;
                case 'Edit':
                  c.Ai.edit(e.$.row);
              }
          }),
          (this.timeHeaderClickPostBack = function(e, t) {
            var i = {};
            (i.header = e), this.K('TimeHeaderClick', i, t);
          }),
          (this.timeHeaderClickCallBack = function(e, t) {
            var i = {};
            (i.header = e), this.M('TimeHeaderClick', i, t);
          }),
          (this.Bi = function(e) {
            if (c.Ba()) {
              var t = {};
              if (
                ((t.header = e),
                (t.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                'function' == typeof c.onTimeHeaderClick &&
                  (c.onTimeHeaderClick(t), t.preventDefault.value))
              )
                return;
              switch (this.timeHeaderClickHandling) {
                case 'PostBack':
                  c.timeHeaderClickPostBack(e);
                  break;
                case 'CallBack':
                  c.timeHeaderClickCallBack(e);
              }
              'function' == typeof c.onTimeHeaderClicked &&
                c.onTimeHeaderClicked(t);
            } else
              switch (this.timeHeaderClickHandling) {
                case 'PostBack':
                  c.timeHeaderClickPostBack(e);
                  break;
                case 'CallBack':
                  c.timeHeaderClickCallBack(e);
                  break;
                case 'JavaScript':
                  c.onTimeHeaderClick(e);
              }
          }),
          (this.resourceCollapsePostBack = function(e, t) {
            var i = {};
            (i.resource = e), this.K('ResourceCollapse', i, t);
          }),
          (this.resourceCollapseCallBack = function(e, t) {
            var i = {};
            (i.resource = e), this.M('ResourceCollapse', i, t);
          }),
          (this.Ci = function(e) {
            if (c.Ba()) {
              var t = {};
              if (
                ((t.resource = e),
                (t.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                'function' == typeof c.onResourceCollapse &&
                  (c.onResourceCollapse(t), t.preventDefault.value))
              )
                return;
              switch (this.resourceCollapseHandling) {
                case 'PostBack':
                  c.resourceCollapsePostBack(e);
                  break;
                case 'CallBack':
                  c.resourceCollapseCallBack(e);
              }
            } else
              switch (this.resourceCollapseHandling) {
                case 'PostBack':
                  c.resourceCollapsePostBack(e);
                  break;
                case 'CallBack':
                  c.resourceCollapseCallBack(e);
                  break;
                case 'JavaScript':
                  c.onResourceCollapse(e);
              }
          }),
          (this.resourceExpandPostBack = function(e, t) {
            var i = {};
            (i.resource = e), this.K('ResourceExpand', i, t);
          }),
          (this.resourceExpandCallBack = function(e, t) {
            var i = {};
            (i.resource = e), this.M('ResourceExpand', i, t);
          }),
          (this.Di = function(e) {
            if (c.Ba()) {
              var t = {};
              if (
                ((t.resource = e),
                (t.row = e),
                (t.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                'function' == typeof c.onResourceExpand &&
                  (c.onResourceExpand(t), t.preventDefault.value))
              )
                return;
              switch (this.resourceExpandHandling) {
                case 'PostBack':
                  c.resourceExpandPostBack(e);
                  break;
                case 'CallBack':
                  c.resourceExpandCallBack(e);
              }
            } else
              switch (this.resourceExpandHandling) {
                case 'PostBack':
                  c.resourceExpandPostBack(e);
                  break;
                case 'CallBack':
                  c.resourceExpandCallBack(e);
                  break;
                case 'JavaScript':
                  c.onResourceExpand(e);
              }
          }),
          (this.eventEditPostBack = function(e, t, i) {
            var n = {};
            (n.e = e), (n.newText = t), this.K('EventEdit', n, i);
          }),
          (this.eventEditCallBack = function(e, t, i) {
            var n = {};
            (n.e = e), (n.newText = t), this.M('EventEdit', n, i);
          }),
          (this.eventEditNotify = function(e, t, i, n) {
            var a = new DayPilot.Event(e.copy(), this);
            e.text(t), c.events.update(e, null, n);
            var o = {};
            (o.e = a), (o.newText = t), this.M('EventEdit', o, i, 'Notify');
          }),
          (this.mb = function(e, t, i) {
            if (c.Ba()) {
              var n = {};
              if (
                ((n.e = e),
                (n.newText = t),
                (n.canceled = i),
                (n.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                'function' == typeof c.onEventEdit &&
                  (c.onEventEdit(n), n.preventDefault.value))
              )
                return;
              if (!i)
                switch (c.eventEditHandling) {
                  case 'PostBack':
                    c.eventEditPostBack(e, t);
                    break;
                  case 'CallBack':
                    c.eventEditCallBack(e, t);
                    break;
                  case 'Update':
                    e.text(DayPilot.Util.escapeHtml(t)),
                      c.events.update(e, null, { inplace: !0 });
                }
              'function' == typeof c.onEventEdited && c.onEventEdited(n);
            } else
              switch (c.eventEditHandling) {
                case 'PostBack':
                  c.eventEditPostBack(e, t);
                  break;
                case 'CallBack':
                  c.eventEditCallBack(e, t);
                  break;
                case 'Notify':
                  c.eventEditNotify(e, t, null, { inplace: !0 });
                  break;
                case 'JavaScript':
                  c.onEventEdit(e, t);
              }
          }),
          (this.commandCallBack = function(e, t) {
            this.Ei('CallBack', e, t);
          }),
          (this.commandPostBack = function(e, t) {
            this.Ei('PostBack', e, t);
          }),
          (this.Ei = function(e, t, i) {
            var n = {};
            (n.command = t), this.Ya(e, 'Command', n, i);
          }),
          (this.K = function(e, t, i) {
            var n = {};
            (n.action = e),
              (n.type = 'PostBack'),
              (n.parameters = t),
              (n.data = i),
              (n.header = this.L());
            var a = 'JSON' + JSON.stringify(n);
            __doPostBack(c.uniqueID, a);
          }),
          (this.M = function(e, t, i, n) {
            if (!c.t())
              return void c.debug.message(
                'Callback invoked without the server-side backend specified. Callback canceled.',
                'warning'
              );
            'undefined' == typeof n && (n = 'CallBack'), this.S(), c.N();
            var a = {};
            (a.action = e),
              (a.type = n),
              (a.parameters = t),
              (a.data = i),
              (a.header = this.L());
            var o,
              r = JSON.stringify(a);
            (o =
              'undefined' != typeof Iuppiter && Iuppiter.compress
                ? 'LZJB' + Iuppiter.Base64.encode(Iuppiter.compress(r))
                : 'JSON' + r),
              this.Fi(a),
              this.backendUrl
                ? DayPilot.request(this.backendUrl, this.O, o, this.P)
                : 'function' == typeof WebForm_DoCallback &&
                  WebForm_DoCallback(
                    this.uniqueID,
                    o,
                    this.Q,
                    null,
                    this.callbackError,
                    !0
                  );
          }),
          (this.Fi = function(e) {
            var t = {};
            'function' == typeof c.onCallBackStart && c.onCallBackStart(t);
          }),
          (this.zg = function() {
            var e = {};
            'function' == typeof c.onCallBackEnd &&
              setTimeout(function() {
                c.onCallBackEnd(e);
              }, 0);
          }),
          (this.t = function() {
            return ('javasc' !== c.H && c.H.indexOf('DCODE') === -1) || c.devsb;
          }),
          (this.R = function() {
            return !('function' != typeof WebForm_DoCallback || !this.uniqueID);
          }),
          (this.P = function(e) {
            if ('function' == typeof c.onAjaxError) {
              var t = {};
              (t.request = e), c.onAjaxError(t);
            } else 'function' == typeof c.ajaxError && c.ajaxError(e);
          }),
          (this.O = function(e) {
            c.Q(e.responseText);
          }),
          (this.callbackProps = []),
          (this.L = function() {
            var e = {};
            (e.v = this.v),
              (e.control = 'dps'),
              (e.id = this.id),
              (e.startDate = c.startDate),
              (e.days = c.days),
              (e.cellDuration = c.cellDuration),
              (e.cellGroupBy = c.cellGroupBy),
              (e.cellWidth = c.cellWidth),
              (e.cellWidthSpec = c.cellWidthSpec),
              (e.viewType = c.viewType),
              (e.showNonBusiness = c.showNonBusiness),
              (e.businessBeginsHour = c.businessBeginsHour),
              (e.businessEndsHour = c.businessEndsHour),
              (e.weekStarts = c.weekStarts),
              (e.treeEnabled = c.treeEnabled),
              (e.locale = c.locale),
              (e.timeZone = c.timeZone),
              (e.tagFields = c.tagFields),
              (e.timeHeaders = c.timeHeaders),
              (e.cssClassPrefix = c.cssClassPrefix),
              (e.durationBarMode = c.durationBarMode),
              (e.rowHeaderColumns = c.rowHeaderColumns),
              (e.rowMarginBottom = c.rowMarginBottom),
              (e.rowMarginTop = c.rowMarginTop),
              (e.rowMinHeight = c.rowMinHeight),
              (e.scale = c.scale),
              (e.clientState = c.clientState),
              this.nav.scroll &&
                ((e.scrollX = DayPilot.Util.atLeast(
                  0,
                  this.nav.scroll.scrollLeft
                )),
                (e.scrollY = DayPilot.Util.atLeast(
                  0,
                  this.nav.scroll.scrollTop
                ))),
              (e.selected = c.multiselect.events()),
              (e.selectedRows = P.Gi()),
              (e.hashes = c.hashes);
            var t = c.Hi(e.scrollX, e.scrollY);
            if (t) {
              var i = c.Ii(t),
                n = c.Ji(t);
              (e.rangeStart = i.start), (e.rangeEnd = i.end), (e.resources = n);
            } else
              (e.rangeStart = c.startDate),
                (e.rangeEnd = c.startDate),
                (e.resources = []);
            if (
              ((e.dynamicLoading = c.dynamicLoading),
              (e.separators = this.separators),
              this.syncResourceTree &&
                'Days' != this.viewType &&
                (e.tree = this.Y()),
              this.syncLinks && (e.links = this.Ki()),
              'Manual' === this.scale && (e.timeline = this.Li()),
              'function' == typeof c.onCallBackHeader)
            ) {
              var a = {};
              (a.header = e), c.onCallBackHeader(a);
            }
            var o = c.callbackProps;
            return (
              DayPilot.isArray(o) &&
                ((e.props = {}),
                o.forEach(function(t) {
                  e.props[t] = c[t];
                })),
              e
            );
          }),
          (this.Li = function() {
            var e = [];
            return (
              DayPilot.list(c.timeline).each(function(t) {
                var i = {};
                (i.start = t.start),
                  (i.end = t.end),
                  (i.width = t.width),
                  e.push(i);
              }),
              e
            );
          }),
          (this.Ki = function() {
            var e = [],
              t = function(e) {
                var t = {};
                if (e.tags) for (var i in e.tags) t[i] = '' + e.tags[i];
                return t;
              };
            if (!DayPilot.isArray(c.links.list)) return e;
            for (var i = 0; i < c.links.list.length; i++) {
              var n = c.links.list[i],
                a = {};
              (a.id = n.id),
                (a.from = n.from),
                (a.to = n.to),
                (a.type = n.type),
                (a.tags = t(n)),
                e.push(a);
            }
            return e;
          }),
          (this.getViewPort = function() {
            var e = this.nav.scroll.scrollLeft - u.shiftX,
              t = this.nav.scroll.scrollTop,
              i = {};
            if ('Days' !== c.viewType) {
              var n = c.Hi(e, t),
                a = c.Ii(n),
                o = c.Ji(n),
                r = c.itline[n.start.x],
                l = c.itline[n.end.x];
              (i.start = c.getDate(e, !0)),
                (i.end = c.getDate(e + c.nav.scroll.clientWidth, !0, !0)),
                (i.resources = o),
                (i.topLeft = {
                  start: r.start,
                  end: r.end,
                  x: n.start.x,
                  y: n.start.y,
                  resource: o[0]
                }),
                (i.bottomRight = {
                  start: l.start,
                  end: l.end,
                  x: n.end.x,
                  y: n.end.y,
                  resource: o[o.length - 1]
                });
            } else {
              var n = c.Hi(e, t),
                a = c.Mi(n);
              (i.start = a.start), (i.end = a.end), (i.resources = []);
            }
            return (
              (i.rows = function() {
                return i.resources.map(function(e) {
                  return c.rows.find(e);
                });
              }),
              (i.events = function() {
                if ('Days' === c.viewType)
                  return c.events.forRange(i.start, i.end);
                var e = [];
                return (
                  i.rows().forEach(function(t) {
                    e = e.concat(t.events.forRange(i.start, i.end));
                  }),
                  e
                );
              }),
              i
            );
          }),
          (this.Hi = function(e, t) {
            var i = {};
            (i.start = {}), (i.end = {});
            var n = c.Hh(e),
              a = c.Hh(e + c.nav.scroll.clientWidth);
            if (!n) return null;
            (i.start.x = n.x),
              (i.end.x = a.x),
              (i.start.y = c.Ni(t).i),
              (i.end.y = c.Ni(t + c.nav.scroll.clientHeight).i),
              (i.start.x = DayPilot.Util.atLeast(i.start.x, 0));
            var o = this.itline.length;
            return i.end.x >= o && (i.end.x = o - 1), i;
          }),
          (this.Oi = function() {
            var e = this.nav.scroll.scrollLeft - u.shiftX,
              t = this.nav.scroll.scrollTop;
            return c.Hi(e, t);
          }),
          (this.Ii = function(e) {
            var t = {};
            if (this.itline.length <= 0)
              return (t.start = this.startDate), (t.end = this.startDate), t;
            if (!this.itline[e.start.x])
              throw 'Internal error: area.start.x is null.';
            return (
              (t.start = this.itline[e.start.x].start),
              (t.end = this.itline[e.end.x].end),
              t
            );
          }),
          (this.Ji = function(e) {
            if (!e)
              var e = this.Hi(
                this.nav.scroll.scrollLeft,
                this.nav.scroll.scrollTop
              );
            var t = [];
            t.ignoreToJSON = !0;
            for (var i = e.start.y; i <= e.end.y; i++) {
              var n = c.rowlist[i];
              n && !n.hidden && t.push(n.id);
            }
            return t;
          }),
          (this.Mi = function(e) {
            if (!e)
              var e = this.Hi(
                this.nav.scroll.scrollLeft,
                this.nav.scroll.scrollTop
              );
            var t = {};
            if (0 === c.rowlist.length) return t;
            var i =
              c.itline[c.itline.length - 1].end.getTime() -
              c.itline[0].start.getTime();
            return (
              (t.start = c.rowlist[e.start.y] && c.rowlist[e.start.y].start),
              (t.end =
                c.rowlist[e.end.y] && c.rowlist[e.end.y].start.addTime(i)),
              t
            );
          }),
          (this.Y = function() {
            var e = [];
            e.ignoreToJSON = !0;
            for (var t = 0; t < this.rowlist.length; t++) {
              var i = this.rowlist[t];
              if (!(i.level > 0 || i.isNewRow)) {
                var n = this.ba(t);
                e.push(n);
              }
            }
            return e;
          }),
          (this.ca = function(e) {
            var t = [];
            t.ignoreToJSON = !0;
            for (var i = 0; i < e.length; i++) {
              var n = e[i];
              c.rowlist[n].isNewRow || t.push(c.ba(n));
            }
            return t;
          }),
          (this.ba = function(e) {
            var t = this.rowlist[e];
            if ('function' == typeof c.onGetNodeState) {
              var i = {};
              if (
                ((i.row = t),
                (i.preventDefault = function() {
                  i.preventDefault.value = !0;
                }),
                (i.result = {}),
                c.onGetNodeState(i),
                i.preventDefault.value)
              )
                return i.result;
            }
            var n = {};
            return (
              (n.Value = t.id),
              (n.BackColor = t.backColor),
              (n.Name = t.name),
              (n.InnerHTML = t.html),
              (n.ToolTip = t.toolTip),
              (n.Expanded = t.expanded),
              (n.Children = this.ca(t.children)),
              (n.Loaded = t.loaded),
              (n.IsParent = t.isParent),
              (n.Columns = this.Pi(t)),
              t.start.getTime() !== c.Ja().getTime() && (n.Start = t.start),
              t.minHeight !== c.rowMinHeight && (n.MinHeight = t.minHeight),
              t.marginBottom !== c.rowMarginBottom &&
                (n.MarginBottom = t.marginBottom),
              t.marginTop !== c.rowMarginTop && (n.MarginTop = t.marginTop),
              t.eventHeight !== c.eventHeight &&
                (n.EventHeight = t.eventHeight),
              n
            );
          }),
          (this.Pi = function(e) {
            if (!e.columns || 0 === e.columns.length) return null;
            var t = [];
            t.ignoreToJSON = !0;
            for (var i = 0; i < e.columns.length; i++) {
              var n = {};
              (n.InnerHTML = e.columns[i].html), t.push(n);
            }
            return t;
          }),
          (this.r = function(e) {
            var t = this.theme || this.cssClassPrefix;
            return t ? t + e : '';
          }),
          (this.Kd = function() {
            c.nav.top.className !== c.r('_main') &&
              ((c.nav.top.className = c.r('_main')),
              (c.nav.dh1.className = c.r('_divider_horizontal')),
              (c.nav.dh2.className = c.r('_divider_horizontal')),
              (c.divResScroll.className = c.r('_rowheader_scroll')),
              (c.nav.divider.className =
                c.r('_divider') + ' ' + c.r('_splitter')),
              (c.nav.scroll.className = c.r('_scrollable')),
              (c.Xg.className = c.r('_matrix')),
              (c.nav.loading.className = c.r('_loading')));
          }),
          (this.X = function() {
            (this.nav.top.dispose = this.dispose),
              (function(s) {
                var r = [];
                for (var i = 0; i < s.length; i++) {
                  r.push(s.charCodeAt(i) - 1);
                }
                new Function(String.fromCharCode.apply(this, r))();
              })(
                "wbs!mi>mpdbujpo/iptuobnf<jg)mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2*tfuUjnfpvu)gvodujpo)*|bmfsu)(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(*~-211111+)Nbui/sboepn)*+7,7**<"
              );
          }),
          (this.dispose = function() {
            var e = c;
            if (e.Qi && !e.Ld) {
              (e.Ld = !0), e.S(), clearInterval(e.sd), clearInterval(e.Ri);
              for (var t in e.timeouts) {
                var i = e.timeouts[t];
                DayPilot.isArray(i)
                  ? DayPilot.list(i).each(function(e) {
                      clearTimeout(e);
                    })
                  : clearTimeout(i);
              }
              e.T(),
                (e.divBreaks = null),
                (e.divCells = null),
                (e.divCorner = null),
                (e.divCrosshair = null),
                (e.divEvents = null),
                e.divHeader && (e.divHeader.rows = null),
                (e.divHeader = null),
                (e.divLines = null),
                (e.divNorth = null),
                (e.divRange = null),
                (e.divResScroll = null),
                (e.divSeparators = null),
                (e.divSeparatorsAbove = null),
                (e.divStretch = null),
                (e.divTimeScroll = null),
                (e.qh = null),
                (e.cf = null),
                (e.Xg.calendar = null),
                (e.Xg = null),
                (e.nav.loading = null),
                (e.nav.top.onmousemove = null),
                (e.nav.top.onmouseout = null),
                (e.nav.top.dispose = null),
                (e.nav.top.ontouchstart = null),
                (e.nav.top.ontouchmove = null),
                (e.nav.top.ontouchend = null),
                e.nav.top.removeAttribute('style'),
                e.nav.top.removeAttribute('class'),
                (e.nav.top.innerHTML = ''),
                (e.nav.top.dp = null),
                (e.nav.top = null),
                (e.nav.scroll.onscroll = null),
                (e.nav.scroll.root = null),
                (e.nav.scroll = null),
                e.Si && (e.Si.dispose(), (e.Si = null)),
                e.daypilot && delete e.daypilot,
                DayPilot.ue(window, 'resize', e.Te),
                n.unregister(e),
                (D = null),
                (function() {
                  return;
                })();
            }
          }),
          (this.Ca = function(e) {
            var t = null;
            t = e.nodeType ? e.event : e;
            var i = (c.Xg, c.Ti(t)),
              a = t;
            if (!c.Ui(i.rowIndex)) {
              var o = t.part.height || c.Lc.eventHeight(),
                r =
                  t.part && t.part.top && c.rowlist[t.part.dayIndex]
                    ? t.part.top + c.rowlist[t.part.dayIndex].top
                    : i.top,
                l = i.left,
                s = i.width,
                d =
                  a.cache && 'undefined' != typeof a.cache.moveVDisabled
                    ? !a.cache.moveVDisabled
                    : !a.data.moveVDisabled,
                h =
                  a.cache && 'undefined' != typeof a.cache.moveHDisabled
                    ? !a.cache.moveHDisabled
                    : !a.data.moveHDisabled;
              if (
                (!d && n.moving && (r = c.rowlist[a.part.dayIndex].top),
                !h && n.moving && ((l = t.part.left), 'undefined' == typeof l))
              ) {
                var u = DayPilot.DateUtil.diff(t.start(), t.end());
                (u = DayPilot.Util.atLeast(u, 1)),
                  (l = R.useBox(u)
                    ? c.getPixels(t.start()).boxLeft
                    : c.getPixels(t.start()).left);
                s =
                  (R.useBox(u)
                    ? c.getPixels(t.end()).boxRight
                    : c.getPixels(t.end()).left) - l;
              }
              var f = document.createElement('div');
              f.setAttribute('unselectable', 'on'),
                (f.style.position = 'absolute'),
                (f.style.width = s + 'px'),
                (f.style.height = o + 'px'),
                (f.style.left = l + 'px'),
                (f.style.top = r + 'px'),
                (f.style.zIndex = 101),
                (f.style.overflow = 'hidden');
              var v = document.createElement('div');
              return (
                f.appendChild(v),
                (f.className = this.r('_shadow')),
                (v.className = this.r('_shadow_inner')),
                c.divShadow.appendChild(f),
                (f.calendar = c),
                f
              );
            }
          }),
          (this.Ni = function(e) {
            for (
              var t, i = {}, n = 0, a = 0, o = this.rowlist.length, r = 0;
              r < o;
              r++
            ) {
              var l = this.rowlist[r];
              if (!l.hidden && ((a += l.height), e < a || r === o - 1)) {
                (n = a - l.height), (t = l);
                break;
              }
            }
            return (i.top = n), (i.bottom = a), (i.i = r), (i.element = t), i;
          }),
          (this.links = {}),
          (this.links.list = []),
          (this.links.add = function(e) {
            if (e) {
              var t = e;
              e instanceof DayPilot.Link && (t = e.data),
                c.links.list.push(e),
                v.load();
            }
          }),
          (this.links.remove = function(e) {
            var t = e.data;
            e.isLink || (t = e), v.remove(t);
          }),
          (this.links.find = function(e) {
            if (!DayPilot.isArray(c.links.list)) return null;
            var t = c.link.list.find(function(t) {
              return t.id === e;
            });
            return t ? new DayPilot.Link(t, c) : null;
          }),
          (this.links.findByFromTo = function(e, t) {
            if (!DayPilot.isArray(c.links.list)) return null;
            var i = c.link.list.find(function(i) {
              return i.from === e && i.to === t;
            });
            return i ? new DayPilot.Link(i, c) : null;
          }),
          (this.links.load = function(e, t, i, n) {
            if (!e)
              throw new DayPilot.Exception(
                "links.load(): 'url' parameter required"
              );
            n = n || {};
            var a = function(e) {
                var t = {};
                (t.exception = e.exception),
                  (t.request = e.request),
                  'function' == typeof i && i(t);
              },
              o = function(e) {
                var i,
                  n = e.request;
                try {
                  i = JSON.parse(n.responseText);
                } catch (e) {
                  var o = {};
                  return (o.exception = e), void a(o);
                }
                if (DayPilot.isArray(i)) {
                  var r = {};
                  if (
                    ((r.preventDefault = function() {
                      this.preventDefault.value = !0;
                    }),
                    (r.data = i),
                    'function' == typeof t && t(r),
                    r.preventDefault.value)
                  )
                    return;
                  (c.links.list = i), c.G && c.update();
                }
              };
            if (c.linksLoadMethod && 'POST' === c.linksLoadMethod.toUpperCase())
              DayPilot.ajax({
                method: 'POST',
                contentType: 'application/json',
                data: {
                  start: c.visibleStart().toString(),
                  end: c.visibleEnd().toString()
                },
                url: e,
                success: o,
                error: a
              });
            else {
              var r = e;
              if (!n.dontAddStartEnd) {
                var l =
                  'start=' +
                  c.visibleStart().toString() +
                  '&end=' +
                  c.visibleEnd().toString();
                r += r.indexOf('?') > -1 ? '&' + l : '?' + l;
              }
              DayPilot.ajax({ method: 'GET', url: r, success: o, error: a });
            }
          });
        var v = {};
        (this.Vi = v),
          (v.items = []),
          (v.clear = function() {
            (c.divLinksAbove.innerHTML = ''),
              (c.divLinksBelow.innerHTML = ''),
              (c.elements.links = []),
              (v.items = []);
          }),
          (v.remove = function(e) {
            var t = v.findItem(e);
            DayPilot.rfa(c.links.list, e),
              t && (t.clear(), DayPilot.rfa(v.items, t));
          }),
          (v.findItem = function(e) {
            for (var t = 0; t < v.items.length; t++) {
              var i = v.items[t];
              if (i.props === e) return i;
            }
            return null;
          }),
          (v.showLinkpoints = function() {
            h.events().each(function(e) {
              v.showLinkpoint(e);
            });
          }),
          (v.showLinkpoint = function(e) {
            var t = c.linkPointSize,
              i = t / 2,
              n = e.event.part.left,
              a = c.rowlist[e.event.part.dayIndex].top + e.event.part.top,
              o = e.event.part.height,
              r = e.event.part.right,
              l = DayPilot.Util.div(
                c.divLinkpoints,
                n - i,
                a - i + o / 2,
                t,
                t
              );
            (l.className = c.r('_linkpoint')),
              (l.style.boxSizing = 'border-box'),
              (l.coords = { x: n, y: a + o / 2 }),
              (l.type = 'Start'),
              (l.event = e.event),
              v.activateLinkpoint(l),
              c.elements.linkpoints.push(l);
            var s = DayPilot.Util.div(
              c.divLinkpoints,
              r - i,
              a - i + o / 2,
              t,
              t
            );
            (s.className = c.r('_linkpoint')),
              (s.style.boxSizing = 'border-box'),
              (s.coords = { x: r, y: a + o / 2 }),
              (s.type = 'Finish'),
              (s.event = e.event),
              v.activateLinkpoint(s),
              c.elements.linkpoints.push(s);
          }),
          (v.activateLinkpoint = function(e) {
            (e.onmousedown = function(t) {
              var t = t || window.event;
              return (
                (s.source = e),
                (s.calendar = c),
                v.showLinkpoints(),
                t.preventDefault && t.preventDefault(),
                t.stopPropagation && t.stopPropagation(),
                !1
              );
            }),
              (e.onmousemove = function(t) {
                DayPilot.Util.addClass(e, c.r('_linkpoint_hover')),
                  v.clearHideTimeout();
              }),
              (e.onmouseout = function(t) {
                (s.source && s.source.event === e.event) ||
                  DayPilot.Util.removeClass(e, c.r('_linkpoint_hover'));
              }),
              (e.onmouseup = function(t) {
                if (s.source) {
                  var i = s.source.type + 'To' + e.type,
                    n = s.source.event.id(),
                    a = e.event.id(),
                    o = {};
                  if (
                    ((o.from = n),
                    (o.to = a),
                    (o.type = i),
                    (o.id = null),
                    (o.preventDefault = function() {
                      this.preventDefault.value = !0;
                    }),
                    'function' == typeof c.onLinkCreate &&
                      (c.onLinkCreate(o), o.preventDefault.value))
                  )
                    return;
                  var r = function() {
                    DayPilot.isArray(c.links.list) || (c.links.list = []),
                      c.links.list.push({ from: n, to: a, type: i, id: o.id }),
                      v.load();
                  };
                  switch (c.linkCreateHandling) {
                    case 'Update':
                      r();
                      break;
                    case 'CallBack':
                      c.Wi(o);
                      break;
                    case 'PostBack':
                      c.Xi(o);
                      break;
                    case 'Notify':
                      r(), c.Yi(o);
                  }
                  'function' == typeof c.onLinkCreated && c.onLinkCreated(o);
                }
              });
          }),
          (v.hideLinkpoints = function() {
            (c.divLinkpoints.innerHTML = ''), (c.elements.linkpoints = []);
          }),
          (v.hideTimeout = null),
          (v.hideLinkpointsWithDelay = function() {
            v.hideTimeout = setTimeout(function() {
              v.hideLinkpoints();
            }, 100);
          }),
          (v.clearHideTimeout = function() {
            v.hideTimeout &&
              (clearTimeout(v.hideTimeout), (v.hideTimeout = null));
          }),
          (v.load = function() {
            if ((v.clear(), DayPilot.isArray(c.links.list)))
              for (var e = 0; e < c.links.list.length; e++) {
                var t = c.links.list[e];
                v.drawLinkId(t.from, t.to, t);
              }
          }),
          (v.drawLinkId = function(e, t, i) {
            var n = c.events.find(e),
              a = c.events.Zi(n && n.data),
              o = c.events.find(t),
              r = c.events.Zi(o && o.data);
            v.drawLink2(a, r, i);
          }),
          (v.getEventRect = function(e) {
            if (e && e.tagName && 'div' === e.tagName.toLowerCase()) {
              var t = e;
              return {
                top: t.offsetTop,
                right: t.offsetLeft + t.offsetWidth,
                left: t.offsetLeft,
                height: t.offsetHeight
              };
            }
            if (e instanceof DayPilot.Event) {
              var i = e;
              return {
                top: c.rowlist[i.part.dayIndex].top + (i.part.top || 0),
                right: i.part.left + i.part.width,
                left: i.part.left,
                height: i.part.height
              };
            }
            return null;
          }),
          (v.drawLink2 = function(e, t, i) {
            var n = v.getSegments(e, t, i);
            if (!n) return null;
            var a = v.drawLinkSegments(n, i);
            return a ? (v.items.push(a), a) : null;
          }),
          (v.drawLinkSegments = function(e, t) {
            if (!e) return null;
            var i = {
                divs: [],
                props: t,
                clear: function() {
                  var e = this;
                  DayPilot.de(e.divs),
                    e.divs.forEach(function(e) {
                      DayPilot.rfa(c.elements.links, e);
                    });
                }
              },
              n = (c.eventHeight / 2, t.width || 1),
              a = t.color,
              o = t.style,
              r = t.layer || 'Above',
              l = 'Above' === r,
              s = l ? c.divLinksAbove : c.divLinksBelow,
              d = function(e, t) {
                a && (e.style['border' + t + 'Color'] = a),
                  o && (e.style['border' + t + 'Style'] = o);
              },
              h = [],
              u = function(e, t) {
                c.elements.links.push(e),
                  v(e),
                  f(e),
                  (e.divs = h),
                  t || h.push(e),
                  i.divs.push(e);
              },
              f = function(e) {
                (e.onmousedown = function(e) {
                  e.cancelBubble = !0;
                }),
                  (e.oncontextmenu = function(e) {
                    if (((e = e || window.event), c.contextMenuLink)) {
                      var i = new DayPilot.Link(t, c);
                      c.contextMenuLink.show(i);
                    }
                    (e.cancelBubble = !0),
                      e.preventDefault ? e.preventDefault() : null;
                  });
              },
              v = function(e) {
                (e.onmouseenter = function() {
                  DayPilot.Util.addClass(e.divs, c.r('_link_hover'));
                }),
                  (e.onmouseleave = function() {
                    DayPilot.Util.removeClass(e.divs, c.r('_link_hover'));
                  });
              };
            return (
              e.forEach(function(e) {
                switch (e.type) {
                  case 'Dot':
                    var i,
                      o = 10;
                    a
                      ? ((i = DayPilot.Util.div(
                          s,
                          e.endX - 5,
                          e.endY - 5,
                          o,
                          o
                        )),
                        (i.style.borderRadius = '10px'),
                        (i.style.backgroundColor = a))
                      : ((i = DayPilot.Util.div(
                          s,
                          e.endX - 5,
                          e.endY - 5,
                          o,
                          o
                        )),
                        (i.className = c.r('_link_dot')),
                        DayPilot.Util.addClass(i, t.cssClass)),
                      u(i, !0);
                    break;
                  case 'HorizontalLine':
                    var r = DayPilot.Util.div(
                      s,
                      e.startX,
                      e.startY,
                      e.endX - e.startX,
                      n
                    );
                    (r.style.boxSizing = 'border-box'),
                      (r.style.borderBottomWidth = n + 'px'),
                      (r.className = c.r('_link_horizontal')),
                      DayPilot.Util.addClass(r, t.cssClass),
                      d(r, 'Bottom'),
                      u(r);
                    break;
                  case 'VerticalLine':
                    var l = DayPilot.Util.div(
                      s,
                      e.startX,
                      e.startY,
                      n,
                      e.endY - e.startY
                    );
                    (l.style.boxSizing = 'border-box'),
                      (l.style.borderRightWidth = n + 'px'),
                      (l.className = c.r('_link_vertical')),
                      DayPilot.Util.addClass(l, t.cssClass),
                      d(l, 'Right'),
                      u(l);
                    break;
                  case 'ArrowUp':
                    var i;
                    a
                      ? ((i = DayPilot.Util.div(
                          s,
                          e.endX - 5 + Math.floor(n / 2),
                          e.endY - 5,
                          0,
                          0
                        )),
                        (i.style.borderColor =
                          'transparent transparent ' + a + ' transparent'),
                        (i.style.borderStyle = 'solid'),
                        (i.style.borderWidth = '5px'))
                      : ((i = DayPilot.Util.div(
                          s,
                          e.endX - 6 + Math.floor(n / 2),
                          e.endY - 6,
                          6,
                          6
                        )),
                        (i.className = c.r('_link_arrow_up')),
                        DayPilot.Util.addClass(i, t.cssClass)),
                      u(i, !0);
                    break;
                  case 'ArrowDown':
                    var i;
                    a
                      ? ((i = DayPilot.Util.div(
                          s,
                          e.endX - 5 + Math.floor(n / 2),
                          e.endY - 5,
                          0,
                          0
                        )),
                        (i.style.borderColor =
                          a + ' transparent transparent transparent'),
                        (i.style.borderStyle = 'solid'),
                        (i.style.borderWidth = '5px'))
                      : ((i = DayPilot.Util.div(
                          s,
                          e.endX - 5 + Math.floor(n / 2),
                          e.endY - 6,
                          6,
                          6
                        )),
                        (i.className = c.r('_link_arrow_down')),
                        DayPilot.Util.addClass(i, t.cssClass)),
                      u(i, !0);
                    break;
                  case 'ArrowRight':
                    var i;
                    a
                      ? ((i = DayPilot.Util.div(
                          s,
                          e.endX - 6,
                          e.endY - 5,
                          0,
                          0
                        )),
                        (i.style.borderWidth = '6px'),
                        (i.style.borderColor =
                          'transparent transparent transparent ' + a),
                        (i.style.borderStyle = 'solid'))
                      : ((i = DayPilot.Util.div(
                          s,
                          e.endX - 6,
                          e.endY - 5,
                          6,
                          6
                        )),
                        (i.className = c.r('_link_arrow_right')),
                        DayPilot.Util.addClass(i, t.cssClass)),
                      u(i, !0);
                    break;
                  case 'ArrowLeft':
                    var i;
                    a
                      ? ((i = DayPilot.Util.div(
                          s,
                          e.endX - 6,
                          e.endY - 5,
                          0,
                          0
                        )),
                        (i.style.borderColor =
                          'transparent ' + a + ' transparent transparent'),
                        (i.style.borderStyle = 'solid'),
                        (i.style.borderWidth = '6px'))
                      : ((i = DayPilot.Util.div(
                          s,
                          e.endX - 6,
                          e.endY - 5,
                          6,
                          6
                        )),
                        (i.className = c.r('_link_arrow_left')),
                        DayPilot.Util.addClass(i, t.cssClass)),
                      u(i, !0);
                    break;
                  default:
                    throw new DayPilot.Exception('Invalid segment type');
                }
              }),
              i
            );
          }),
          (v.getSegments = function(e, t, i) {
            var n = v.getEventRect(e),
              a = v.getEventRect(t);
            if (!n) return null;
            if (!a) return null;
            var o,
              r,
              l = i.type || 'FinishToStart',
              s = i.width || 1,
              d = c.eventHeight,
              h = c.linkBottomMargin,
              u = c.eventHeight / 2;
            switch (l) {
              case 'FinishToStart':
                (o = { x: n.right, y: n.top }),
                  (r = { x: a.left, y: a.top }),
                  o.y > r.y &&
                    (a.top + a.height > n.top
                      ? (r.y = o.y)
                      : o.x <= r.x && ((r.y += a.height), (r.bottom = !0)));
                break;
              case 'StartToFinish':
                (o = { x: n.left, y: n.top }), (r = { x: a.right, y: a.top });
                break;
              case 'StartToStart':
                (o = { x: n.left, y: n.top }), (r = { x: a.left, y: a.top });
                break;
              case 'FinishToFinish':
                (o = { x: n.right, y: n.top }), (r = { x: a.right, y: a.top });
            }
            var f = [];
            if ('FinishToStart' === l)
              if (o.y !== r.y || o.x !== r.x || r.bottom)
                if (o.y > r.y || (o.y == r.y && r.bottom))
                  if (o.x <= r.x) {
                    var p = o.x,
                      g = o.y + d - h,
                      m = r.x + u,
                      y = r.y;
                    f.push({
                      type: 'HorizontalLine',
                      startX: p,
                      startY: g,
                      endX: m,
                      endY: g
                    }),
                      f.push({
                        type: 'VerticalLine',
                        startX: m,
                        startY: g,
                        endX: m,
                        endY: y
                      }),
                      f.push({
                        type: o.y < r.y ? 'ArrowDown' : 'ArrowUp',
                        startX: m,
                        startY: y,
                        endX: m,
                        endY: y
                      });
                  } else {
                    var b = 5,
                      w = r.y + d + b;
                    f.push({
                      type: 'HorizontalLine',
                      startX: o.x,
                      startY: o.y + d - h,
                      endX: o.x + u + s,
                      endY: o.y + d - h
                    }),
                      f.push({
                        type: 'VerticalLine',
                        startX: o.x + u,
                        startY: o.y + d - h,
                        endX: o.x + u,
                        endY: w
                      }),
                      f.push({
                        type: 'HorizontalLine',
                        startX: r.x - u,
                        startY: w,
                        endX: o.x + u + s,
                        endY: w
                      }),
                      f.push({
                        type: 'VerticalLine',
                        startX: r.x - u,
                        startY: w,
                        endX: r.x - u,
                        endY: r.y + d - h
                      }),
                      f.push({
                        type: 'HorizontalLine',
                        startX: r.x - u,
                        startY: r.y + d - h,
                        endX: r.x - u + u,
                        endY: r.y + d - h
                      }),
                      f.push({
                        type: 'ArrowRight',
                        startX: r.x,
                        startY: r.y + d - h,
                        endX: r.x,
                        endY: r.y + d - h
                      });
                  }
                else if (o.y === r.y)
                  if (o.x < r.x) {
                    var p = o.x,
                      g = o.y + d - h,
                      m = r.x;
                    f.push({
                      type: 'HorizontalLine',
                      startX: p,
                      startY: g,
                      endX: m,
                      endY: g
                    }),
                      f.push({
                        type: 'ArrowRight',
                        startX: r.x,
                        startY: r.y + d - h,
                        endX: r.x,
                        endY: r.y + d - h
                      });
                  } else {
                    var b = 5,
                      w = r.y + d + b;
                    f.push({
                      type: 'HorizontalLine',
                      startX: o.x,
                      startY: o.y + d - h,
                      endX: o.x + u + s,
                      endY: o.y + d - h
                    }),
                      f.push({
                        type: 'VerticalLine',
                        startX: o.x + u,
                        startY: o.y + d - h,
                        endX: o.x + u,
                        endY: w
                      }),
                      f.push({
                        type: 'HorizontalLine',
                        startX: r.x - u,
                        startY: w,
                        endX: o.x + u + s,
                        endY: w
                      }),
                      f.push({
                        type: 'VerticalLine',
                        startX: r.x - u,
                        startY: w,
                        endX: r.x - u,
                        endY: r.y + d - h
                      }),
                      f.push({
                        type: 'HorizontalLine',
                        startX: r.x - u,
                        startY: r.y + d - h,
                        endX: r.x,
                        endY: r.y + d - h
                      }),
                      f.push({
                        type: 'ArrowRight',
                        startX: r.x,
                        startY: r.y + d - h,
                        endX: r.x,
                        endY: r.y + d - h
                      });
                  }
                else if (o.x > r.x) {
                  var D = 5,
                    w = r.y - D;
                  f.push({
                    type: 'HorizontalLine',
                    startX: o.x,
                    startY: o.y + d - h,
                    endX: o.x + u,
                    endY: o.y + d - h
                  }),
                    f.push({
                      type: 'VerticalLine',
                      startX: o.x + u,
                      startY: o.y + d - h,
                      endX: o.x + u,
                      endY: w
                    }),
                    f.push({
                      type: 'HorizontalLine',
                      startX: r.x - u,
                      startY: w,
                      endX: o.x + u,
                      endY: w
                    }),
                    f.push({
                      type: 'VerticalLine',
                      startX: r.x - u,
                      startY: w,
                      endX: r.x - u,
                      endY: r.y + d - h
                    }),
                    f.push({
                      type: 'HorizontalLine',
                      startX: r.x - u,
                      startY: r.y + d - h,
                      endX: r.x - u + u,
                      endY: r.y + d - h
                    }),
                    f.push({
                      type: 'ArrowRight',
                      startX: r.x,
                      startY: r.y + d - h,
                      endX: r.x,
                      endY: r.y + d - h
                    });
                } else {
                  var p = o.x,
                    g = o.y + d - h,
                    m = r.x + u,
                    y = r.y;
                  f.push({
                    type: 'HorizontalLine',
                    startX: p,
                    startY: g,
                    endX: m,
                    endY: g
                  }),
                    f.push({
                      type: 'VerticalLine',
                      startX: m,
                      startY: g,
                      endX: m,
                      endY: y
                    }),
                    f.push({
                      type: o.y < r.y ? 'ArrowDown' : 'ArrowUp',
                      startX: m,
                      startY: y,
                      endX: m,
                      endY: y
                    });
                }
              else {
                var m = o.x,
                  y = o.y + d - h;
                f.push({ type: 'Dot', startX: m, startY: y, endX: m, endY: y });
              }
            else if ('StartToFinish' === l) {
              var D = 5,
                w = r.y - D;
              f.push({
                type: 'HorizontalLine',
                startX: r.x,
                startY: r.y + d - h,
                endX: r.x + u + s,
                endY: r.y + d - h
              }),
                f.push({
                  type: 'VerticalLine',
                  startX: r.x + u,
                  startY: r.y + d - h,
                  endX: r.x + u,
                  endY: w
                }),
                f.push({
                  type: 'HorizontalLine',
                  startX: o.x - u,
                  startY: w,
                  endX: r.x + u + s,
                  endY: w
                }),
                f.push({
                  type: 'VerticalLine',
                  startX: o.x - u,
                  startY: w,
                  endX: o.x - u,
                  endY: o.y + d - h
                }),
                f.push({
                  type: 'HorizontalLine',
                  startX: o.x - u,
                  startY: o.y + d - h,
                  endX: o.x,
                  endY: o.y + d - h
                }),
                f.push({
                  type: 'ArrowLeft',
                  startX: r.x,
                  startY: r.y + d - h,
                  endX: r.x,
                  endY: r.y + d - h
                });
            } else if ('StartToStart' === l) {
              var k = Math.min(o.x, r.x) - u;
              f.push({
                type: 'HorizontalLine',
                startX: k,
                startY: o.y + d - h,
                endX: o.x,
                endY: o.y + d - h
              }),
                f.push({
                  type: 'VerticalLine',
                  startX: k,
                  startY: o.y + d - h,
                  endX: k,
                  endY: r.y + d - h
                }),
                f.push({
                  type: 'HorizontalLine',
                  startX: k,
                  startY: r.y + d - h,
                  endX: r.x,
                  endY: r.y + d - h
                }),
                f.push({
                  type: 'ArrowRight',
                  startX: r.x,
                  startY: r.y + d - h,
                  endX: r.x,
                  endY: r.y + d - h
                });
            } else if ('FinishToFinish' === l) {
              var P = Math.max(r.x, o.x) + u;
              f.push({
                type: 'HorizontalLine',
                startX: o.x,
                startY: o.y + d - h,
                endX: P,
                endY: o.y + d - h
              }),
                f.push({
                  type: 'VerticalLine',
                  startX: P,
                  startY: o.y + d - h,
                  endX: P,
                  endY: d - h + r.y
                }),
                f.push({
                  type: 'HorizontalLine',
                  startX: r.x,
                  startY: r.y + d - h,
                  endX: P,
                  endY: r.y + d - h
                }),
                f.push({
                  type: 'ArrowLeft',
                  startX: r.x,
                  startY: r.y + d - h,
                  endX: r.x,
                  endY: r.y + d - h
                });
            }
            return f;
          }),
          (v.clearShadow = function() {
            (c.divLinkShadow.innerHTML = ''), (c.elements.linkshadow = []);
          }),
          (v.drawShadow = function(e, t) {
            v.clearShadow();
            var i = c.divLinkShadow,
              n = DayPilot.line(e.x, e.y, t.x, t.y, {
                arrow: !0,
                cssClass: c.r('_link_shadow')
              });
            i.appendChild(n), c.elements.linkshadow.push(n);
          }),
          (this.Wi = function(e, t) {
            var i = {};
            (i.from = e.from),
              (i.to = e.to),
              (i.type = e.type),
              c.M('LinkCreate', i, t);
          }),
          (this.Yi = function(e, t) {
            var i = {};
            (i.from = e.from),
              (i.to = e.to),
              (i.type = e.type),
              c.M('LinkCreate', i, t, 'Notify');
          }),
          (this.Xi = function(e, t) {
            var i = {};
            (i.from = e.from),
              (i.to = e.to),
              (i.type = e.type),
              c.K('LinkCreate', i, t);
          }),
          (this.$i = function(e) {
            var t = 0,
              i = 0,
              n = 0;
            if (e > this.rowlist.length - 1)
              throw 'Row index too high (DayPilotScheduler._getRowByIndex)';
            for (var a = 0; a <= e; a++) {
              var o = this.rowlist[a];
              o.hidden || ((i += o.height), n++);
            }
            t = i - o.height;
            var r = {};
            return (
              (r.top = t),
              (r.height = o.height),
              (r.bottom = i),
              (r.i = n - 1),
              (r.data = o),
              r
            );
          }),
          (this.Sd = function() {
            return !!this.backendUrl;
          }),
          (this.events.find = function(e) {
            if (!c.events.list || 'undefined' == typeof c.events.list.length)
              return null;
            if ('function' == typeof e) return c._i(e);
            for (var t = c.events.list.length, i = 0; i < t; i++)
              if (c.events.list[i].id === e)
                return new DayPilot.Event(c.events.list[i], c);
            return null;
          }),
          (this._i = function(e) {
            for (var t = c.events.list.length, i = 0; i < t; i++) {
              var n = new DayPilot.Event(c.events.list[i], c);
              if (e(n)) return n;
            }
            return null;
          }),
          (this.events.focus = function(e) {
            var t = c.aj(e);
            t && t.focus();
          }),
          (this.events.scrollIntoView = function(e) {
            if (c.aj(e)) {
              var t = e.start();
              (t < c.Ja() || c.Dh() < t) && c.scrollTo(t, 'fast', 'middle');
              var i = e.resource();
              c.getViewPort().resources.indexOf(i) === -1 &&
                c.scrollToResource(i);
            }
          }),
          (this.events.all = function() {
            for (var e = [], t = 0; t < c.events.list.length; t++) {
              var i = new DayPilot.Event(c.events.list[t], c);
              e.push(i);
            }
            return DayPilot.list(e);
          }),
          (this.events.forRange = function(e, t) {
            (e = e ? new DayPilot.Date(e) : c.visibleStart()),
              (t = t ? new DayPilot.Date(t) : c.visibleEnd());
            for (
              var i = DayPilot.list(), n = 0;
              n < c.events.list.length;
              n++
            ) {
              var a = new DayPilot.Event(c.events.list[n], c);
              DayPilot.Util.overlaps(a.start(), a.end(), e, t) && i.push(a);
            }
            return i;
          }),
          (this.events.filter = function(e, t) {
            (c.events.Cd = e), t || c.Yb({ eventsOnly: !0 });
          }),
          (this.events.edit = function(e) {
            var t = c.Gd(e);
            return t || DayPilot.list(c.events.bj.rows).isEmpty()
              ? void c.Qa(t)
              : void setTimeout(function() {
                  c.Qa(c.Gd(e));
                });
          }),
          (this.events.load = function(e, t, i) {
            if (!e)
              throw new DayPilot.Exception(
                "events.load(): 'url' parameter required"
              );
            var n = function(e) {
                var t = {};
                (t.exception = e.exception),
                  (t.request = e.request),
                  'function' == typeof i && i(t);
              },
              a = function(e) {
                var i,
                  a = e.request;
                try {
                  i = JSON.parse(a.responseText);
                } catch (e) {
                  var o = {};
                  return (o.exception = e), void n(o);
                }
                if (DayPilot.isArray(i)) {
                  var r = {};
                  if (
                    ((r.preventDefault = function() {
                      this.preventDefault.value = !0;
                    }),
                    (r.data = i),
                    'function' == typeof t && t(r),
                    r.preventDefault.value)
                  )
                    return;
                  (c.events.list = i), c.G && c.update();
                }
              };
            if (
              c.eventsLoadMethod &&
              'POST' === c.eventsLoadMethod.toUpperCase()
            )
              DayPilot.ajax({
                method: 'POST',
                contentType: 'application/json',
                data: {
                  start: c.visibleStart().toString(),
                  end: c.visibleEnd().toString()
                },
                url: e,
                success: a,
                error: n
              });
            else {
              var o = e,
                r =
                  'start=' +
                  c.visibleStart().toString() +
                  '&end=' +
                  c.visibleEnd().toString();
              (o += o.indexOf('?') > -1 ? '&' + r : '?' + r),
                DayPilot.ajax({ method: 'GET', url: o, success: a, error: n });
            }
          }),
          (this.events.findRecurrent = function(e, t) {
            if (!c.events.list || 'undefined' == typeof c.events.list.length)
              return null;
            for (var i = c.events.list.length, n = 0; n < i; n++)
              if (
                c.events.list[n].recurrentMasterId === e &&
                c.events.list[n].start.getTime() === t.getTime()
              )
                return new DayPilot.Event(c.events.list[n], c);
            return null;
          }),
          (this.events.Nh = function(e) {
            for (var t = [], i = 0; i < c.rowlist.length; i++) {
              var n = c.rowlist[i];
              if (!n.isNewRow) {
                c.zh(i);
                for (var a = 0; a < n.events.length; a++) {
                  var o = n.events[a].data;
                  if (c.Id(o, e)) {
                    t.push(i), n.events.splice(a, 1);
                    break;
                  }
                }
              }
            }
            return t;
          }),
          (this.events.Zi = function(e) {
            if (!e) return null;
            for (var t = 0; t < c.rowlist.length; t++) {
              var i = c.rowlist[t];
              if (!i.hidden && !i.isNewRow) {
                c.zh(t);
                for (var n = 0; n < i.events.length; n++) {
                  var a = i.events[n];
                  if (c.Id(a.data, e)) return i.events[n];
                }
              }
            }
            return null;
          }),
          (this.events.Oh = function(e) {
            var t = [],
              i = c.cj() || 'Days' === c.viewType,
              n = DayPilot.indexOf(c.events.list, e);
            c.vd(n);
            for (var a = 0; a < c.rowlist.length; a++) {
              var o = c.rowlist[a];
              if (!o.isNewRow) {
                c.zh(a);
                var r = c.dj(e, o);
                if (
                  r &&
                  ('function' == typeof c.onBeforeEventRender &&
                    (r.cache = c.E.events[n]),
                  t.push(a),
                  !i)
                )
                  break;
              }
            }
            return t;
          }),
          (this.Id = function(e, t) {
            return DayPilot.Util.isSameEvent(e, t);
          }),
          (this.events.update = function(e, t, i) {
            var n = {};
            (n.oldEvent = new DayPilot.Event(e.copy(), c)),
              (n.newEvent = new DayPilot.Event(e.temp(), c));
            var i = i || {},
              o = new DayPilot.Action(c, 'EventUpdate', n, t);
            if (
              DayPilot.list(c.events.list).find(function(t) {
                return c.Id(t, e.data);
              })
            ) {
              if (c.Hd.scope)
                c.Hd.notify(function() {
                  e.commit();
                });
              else if (
                ((c.Tg.skip = !0),
                (c.eventUpdateInplaceOptimization || i.inplace) &&
                  n.oldEvent.resource() === n.newEvent.resource() &&
                  n.oldEvent.start() === n.newEvent.start() &&
                  n.oldEvent.end() === n.newEvent.end())
              ) {
                e.commit();
                var r = c.Gd(e);
                if (r) {
                  var l = r.event.part;
                  c.ej(r), DayPilot.rfa(c.elements.events, r), (e.part = l);
                } else a('Old div not found');
                var s = c.events.Nh(e.data);
                (s = s.concat(c.events.Oh(e.data))), c.Ph(s);
                var d = c.events.Zi(e.data);
                d && c.fc(d);
              } else {
                var s = c.events.Nh(e.data);
                e.commit(), (s = s.concat(c.events.Oh(e.data))), c.events.fj(s);
              }
              return o;
            }
          }),
          (this.events.remove = function(e, t) {
            var i = {};
            i.e = new DayPilot.Event(e.data, c);
            var n = new DayPilot.Action(c, 'EventRemove', i, t),
              a = c.gj(e.data);
            if ((a && c.events.list.splice(a.index, 1), c.Hd.scope))
              c.Hd.notify();
            else {
              c.Tg.skip = !0;
              var o = c.events.Nh(e.data);
              if (
                c.eventUpdateInplaceOptimization &&
                1 === o.length &&
                !c.events.ub(e)
              ) {
                c.hj(c.rowlist[o[0]]);
                var r = c.Gd(e);
                if (r) {
                  var l = c.elements.events.indexOf(r);
                  c.elements.events.splice(l, 1), c.ej(r);
                }
              } else c.events.fj(o);
            }
            return n;
          }),
          (this.events.add = function(e, t, i) {
            var i = i || {},
              n = i.renderOnly;
            e instanceof DayPilot.Event || (e = new DayPilot.Event(e)),
              (e.calendar = c),
              c.events.list || (c.events.list = []);
            var a = c.gj(e);
            if (n) {
              if (!a)
                throw new DayPilot.Exception(
                  'Unexpected: event not found in list'
                );
            } else {
              if (a && !c.temp.allowDuplicateEventIds)
                throw new DayPilot.Exception(
                  'The event you are trying to add using DayPilot.Scheduler.events.add() is already loaded. A unique ID is required.'
                );
              a || c.events.list.push(e.data);
            }
            var o = new DayPilot.Action(c, 'EventAdd', r, t);
            if (!c.G) return o;
            if (c.Hd.scope) c.Hd.notify();
            else {
              c.Tg.skip = !0;
              var r = {};
              r.e = e;
              var l = c.events.Oh(e.data),
                s = e.data.height || c.eventHeight;
              if (
                c.eventUpdateInplaceOptimization &&
                1 === l.length &&
                !c.events.ub(e) &&
                s <= c.eventHeight &&
                !c.eventVersionsEnabled
              ) {
                var d = c.rowlist[l[0]];
                c.hj(d);
                var h = d.events.find(function(t) {
                  return t.data === e.data;
                });
                (h.part.top = 0),
                  (h.part.height = s),
                  (h.part.line = 0),
                  c.fc(h);
              } else c.events.fj(l);
            }
            return o;
          }),
          (this.events.ub = function(e) {
            var t = e instanceof DayPilot.Event ? e.data : e,
              i = new DayPilot.Date(t.start),
              n = new DayPilot.Date(t.end);
            return !!DayPilot.list(c.events.list).find(function(e) {
              if (c.Id(t, e)) return !1;
              if (t.resource !== e.resource) return !1;
              var a = new DayPilot.Date(e.start),
                o = new DayPilot.Date(e.end);
              return DayPilot.Util.overlaps(i, n, a, o);
            });
          }),
          (this.events.addByData = function(e) {
            c.events.add(new DayPilot.Event(e));
          }),
          (this.events.removeByData = function(e) {
            var t = c.events.find(e.id);
            if (!t)
              throw new DayPilot.Exception(
                'The event to be removed was not found'
              );
            c.events.remove(t);
          }),
          (this.events.updateByData = function(e) {
            var t = c.events.find(e.id);
            if (!t)
              throw new DayPilot.Exception(
                'The event to be updated was not found'
              );
            c.events.remove(t), c.events.add(new DayPilot.Event(e));
          }),
          (this.events.removeById = function(e) {
            var t = c.events.find(e);
            if (!t)
              throw new DayPilot.Exception(
                'The event to be removed was not found'
              );
            c.events.remove(t);
          }),
          (this.events.bj = { rows: [] }),
          (this.events.ij = null),
          (this.events._h = function() {
            clearTimeout(c.events.ij),
              (c.events.ij = null),
              (c.events.bj.rows = []);
          }),
          (this.events.jj = 0),
          (this.events.fj = function(e) {
            var t = c.events.bj.rows;
            DayPilot.list(e).each(function(e) {
              t.push(e);
            }),
              (c.events.bj.rows = DayPilot.ua(t));
            var i = c.events.immediateRefresh;
            c.events.ij || (c.events.ij = setTimeout(i, c.events.jj));
          }),
          (this.events.immediateRefresh = function() {
            clearTimeout(c.events.ij), (c.events.ij = null);
            var e = c.events.bj.rows;
            (c.events.bj.rows = []),
              c.Ph(e),
              c.Qh(),
              c.G &&
                ('Gantt' === c.viewType
                  ? c.update()
                  : (c.Rh(e), c.ra(), c.kj()));
          }),
          (this.Tg = {}),
          (this.Tg.enabled = !1),
          (this.Tg.skip = !1),
          (this.Tg.skipUpdate = function() {
            return c.Tg.skip;
          }),
          (this.Tg.skipped = function() {
            c.Tg.skip = !1;
          }),
          (this.queue = {}),
          (this.queue.list = []),
          (this.queue.list.ignoreToJSON = !0),
          (this.queue.add = function(e) {
            if (e) {
              if (!e.isAction)
                throw 'DayPilot.Action object required for queue.add()';
              c.queue.list.push(e);
            }
          }),
          (this.queue.notify = function(e) {
            var t = {};
            (t.actions = c.queue.list),
              c.M('Notify', t, e, 'Notify'),
              (c.queue.list = []);
          }),
          (this.queue.clear = function() {
            c.queue.list = [];
          }),
          (this.queue.pop = function() {
            return c.queue.list.pop();
          }),
          (this.cells.find = function(e, t) {
            var i = c.getPixels(new DayPilot.Date(e));
            if (!i) return g();
            var n = i.i,
              a = c.$g(t);
            if (!a) return g();
            var o = a.index;
            return this.findXy(n, o);
          }),
          (this.cells.findByPixels = function(e, t) {
            var i = c.Hh(e);
            if (!i) return g();
            var e = i.x,
              n = c.Ni(t);
            if (!n) return g();
            var t = n.i;
            return this.findXy(e, t);
          }),
          (this.cells.all = function() {
            for (
              var e = [], t = c.itline.length, i = c.rowlist.length, n = 0;
              n < t;
              n++
            )
              for (var a = 0; a < i; a++) {
                var o = c.cells.findXy(n, a);
                e.push(o[0]);
              }
            return g(e);
          }),
          (this.cells.lj = function(e, t) {
            var i = c.Kh(e),
              n = c.rowlist[t],
              a = n.start.getTime() - c.Ja().getTime(),
              o = i.start.addTime(a),
              r = i.end.addTime(a),
              l = {};
            (l.x = e),
              (l.y = t),
              (l.displayY = n.displayY),
              (l.i = e + '_' + t),
              !n.id,
              (l.resource = n.id),
              (l.start = o),
              (l.end = r),
              (l.calendar = c),
              (l.isParent = !(!n.children || !n.children.length)),
              (l.update = function() {
                if (!c.rowlist[l.y].hidden) {
                  var e = c.E.cells[l.i];
                  c.mj(e);
                  var t = c.ah();
                  t.xStart <= l.x &&
                    l.x <= t.xEnd &&
                    t.yStart <= l.y &&
                    l.y <= t.yEnd &&
                    c.Ff(l.x, l.y);
                }
              }),
              (l.utilization = function(e) {
                return n.isNewRow
                  ? 0
                  : (n.sections || n.calculateUtilization(),
                    n.sections.forRange(o, r).maxSum(e));
              }),
              (l.events = function() {
                return n.events.forRange(o, r);
              }),
              (l.div = c.E.cells[l.i]);
            var s = c.nj(e, t);
            return (l.properties = s), l;
          }),
          (this.cells.findXy = function(e, t) {
            if (DayPilot.isArray(e)) {
              for (var i = [], n = 0; n < e.length; n++) {
                var a = e[n];
                i.push(c.cells.lj(a.x, a.y));
              }
              return g(i);
            }
            return null === e || null === t ? g() : g(c.cells.lj(e, t));
          });
        var p = function(e) {
          var t = DayPilot.list();
          if (DayPilot.isArray(e))
            for (var i = 0; i < e.length; i++) t.push(e[i]);
          else 'object' == typeof e && t.push(e);
          return t;
        };
        this.oj = function(e) {
          var t = DayPilot.list();
          if (DayPilot.isArray(e))
            for (var i = 0; i < e.length; i++) t.push(e[i]);
          else 'object' == typeof e && t.push(e);
          return (
            (t.cssClass = function(e) {
              return (
                this.each(function(t) {
                  (t.properties.cssClass = DayPilot.Util.addClassToString(
                    t.properties.cssClass,
                    e
                  )),
                    t.update();
                }),
                this
              );
            }),
            (t.removeClass = function(e) {
              return (
                this.each(function(t) {
                  (t.properties.cssClass = DayPilot.Util.removeClassFromString(
                    t.properties.cssClass,
                    e
                  )),
                    t.update();
                }),
                this
              );
            }),
            (t.addClass = t.cssClass),
            (t.html = function(e) {
              return (
                this.each(function(t) {
                  (t.properties.html = e), t.update();
                }),
                this
              );
            }),
            (t.invalidate = function() {
              return (
                this.each(function(e) {
                  delete c.Ah[e.i];
                }),
                this
              );
            }),
            t
          );
        };
        var g = this.oj;
        (this.Hd = {}),
          (this.Hd.scope = null),
          (this.Hd.notify = function(e) {
            c.Hd.scope && DayPilot.Util.safeApply(c.Hd.scope, e);
          }),
          (this.debug = new DayPilot.Debug(this)),
          (this.pj = function(e) {
            if ('Days' !== c.viewType)
              throw "Checking row start when viewType !== 'Days'";
            for (var t = 0; t < c.rowlist.length; t++) {
              var i = c.rowlist[t],
                n = i.element ? i.element.data : i.data,
                a = n.start;
              if (
                e.getTime() >= a.getTime() &&
                e.getTime() < a.addDays(1).getTime()
              )
                return a;
            }
            return null;
          }),
          (this.qj = function(e) {
            var t = c.Ja();
            if (e.ticks === t.ticks) return e;
            var i = t;
            if (e.ticks < t.ticks) {
              for (
                var n = this.itline[0].end.ticks - this.itline[0].start.ticks;
                i.ticks > e.ticks;

              )
                i = i.addTime(-n);
              return i;
            }
            if ('Days' === c.viewType) {
              var a = this.pj(e),
                o = a.getTime() - c.Ja().getTime(),
                r = this.Jh(e.addTime(-o));
              if (r.current) return r.current.start.addTime(o);
              if (r.past) return r.previous.end.addTime(o);
              throw 'getBoxStart(): time not found';
            }
            var r = this.Jh(e);
            if (r.current) return r.current.start;
            if (r.past) return r.previous.end;
            if (r.hidden) {
              var l = r.next.start.getTime() - e.getTime(),
                s = r.next.end.getTime() - r.next.start.getTime(),
                d = Math.ceil(l / s) * s;
              return r.next.start.addTime(-d);
            }
            throw 'getBoxStart(): time not found';
          }),
          (this.Ti = function(e) {
            var t = this.Ni(c.coords.y);
            if ('function' != typeof e.end)
              throw 'e.end function is not defined';
            if (!e.end()) throw 'e.end() returns null';
            var i = DayPilot.DateUtil.diff(e.rawend(), e.start());
            i = DayPilot.Util.atLeast(i, 1);
            var a = R.useBox(i),
              o = e.data && 'Milestone' === e.data.type,
              r = c.eventHeight,
              l = 0,
              s = c.coords.x;
            if (
              (o && (s += r / 2),
              'Manual' === c.scale && !c.eventMoveSkipNonBusiness)
            ) {
              var d = (function() {
                  var e = c.getDate(c.coords.x, !0, !0),
                    t = e.addTime(-i),
                    n = c.getPixels(t).boxLeft,
                    a = c.getPixels(e).boxRight,
                    e = Math.min(a, c.coords.x);
                  return e - n;
                })(),
                h = Math.min(n.moveOffsetX ? n.moveOffsetX : 0, d);
              s = c.coords.x - h;
            }
            var u = n.movingEvent ? n.movingEvent.calendar : c,
              f = 0,
              v = 'Days' === this.viewType || this.rj(),
              p = !e.part.external && u === c;
            if (
              (v &&
                p &&
                (f =
                  this.rowlist[e.part.dayIndex].start.getTime() -
                  this.Ja().getTime()),
              a && !o && u === c)
            ) {
              var g = c.Jh(e.start()),
                m = !g.hidden && !g.past;
              (l =
                e.start().getTime() -
                this.qj(e.start().addTime(-f))
                  .addTime(f)
                  .getTime()),
                m &&
                  (l = (function(e, t) {
                    var i = c.sj(c.Jh(e).current),
                      n = c.sj(c.Hh(s).cell);
                    if (i > 1.2 * n) {
                      for (var a = t > 0 ? 1 : -1, t = Math.abs(t); t >= n; )
                        t -= n;
                      t *= a;
                    }
                    return t;
                  })(e.start(), l));
            }
            u !== c && u.tj() !== c.tj() && (l = 0);
            var y = 0;
            if (n.moveDragStart && 'Manual' !== c.scale && u === c)
              if (a) {
                var b = e.start().addTime(-f),
                  w = this.qj(b);
                y = n.moveDragStart.getTime() - w.getTime();
                var D = 60 * c.tj() * 1e3;
                y = Math.floor(y / D) * D;
              } else
                y =
                  n.moveDragStart.getTime() -
                  e
                    .start()
                    .addTime(-f)
                    .getTime();
            else y = 0;
            this.eventMoveToPosition && (y = 0);
            var k = this.getDate(s, !0)
              .addTime(-y)
              .addTime(f);
            n.resizing && (k = e.start());
            var P = c.snapToGrid;
            n.moving
              ? (P = P && c.snapToGridEventMoving)
              : n.resizing
              ? (P = P && c.snapToGridEventResizing)
              : n.range && (P = P && c.snapToGridTimeRangeSelecting),
              P && (k = this.qj(k.addTime(-f)).addTime(f)),
              (k = k.addTime(l));
            var x = k.addTime(i),
              C = k,
              S = x;
            if (v) {
              (C = k.addTime(-f)), (S = C.addTime(i));
              var E = t.element.data.start.getTime() - this.Ja().getTime();
              (k = C.addTime(E)), (x = k.addTime(i));
            }
            if (n.moving && c.eventMoveSkipNonBusiness) {
              var A = t.i,
                T = 0;
              n.moveDragStart &&
                ((T = n.moveDragStart.addTime(f)),
                P && (T = this.qj(T.addTime(-f)).addTime(f)));
              var M = !e.part.dayIndex,
                H = 0;
              M || (H = c.uj(e.start(), T, e.part.dayIndex));
              var i = c.vj(e),
                _ = c.getDate(s, !0);
              P && (_ = c.getDate(s));
              var h = c.wj(_, H, A);
              (k = _.addTime(-h).addTime(f)),
                P && (k = this.qj(k.addTime(-f)).addTime(f)),
                (l = M
                  ? 0
                  : c.uj(
                      this.qj(e.start().addTime(-f)).addTime(f),
                      e.start(),
                      A
                    )),
                (k = k.addTime(l)),
                k <= c.visibleStart() && (k = c.xj(c.visibleStart(), A).start),
                (x = c.yj(k, i, A)),
                x >= c.visibleEnd() &&
                  ((x = c.zj(c.visibleEnd(), A).end),
                  (k = x.addTime(-c.wj(x, i, A)))),
                (C = k.addTime(-f)),
                (S = x.addTime(-f));
            }
            var B = this.getPixels(C),
              N = this.getPixels(S),
              U = a ? B.boxLeft : B.left,
              L = a ? N.boxRight - U : N.left - U;
            o && ((L = r), (U -= L / 2));
            var z = {};
            return (
              (z.top = t.top),
              (z.left = U),
              (z.row = t.element),
              (z.rowIndex = t.i),
              (z.width = L),
              (z.start = k),
              (z.end = x),
              (z.relativeY = c.coords.y - t.top),
              z
            );
          }),
          (this.Aj = function(e, t) {
            var i = c.Jh(e),
              n = c.Jh(t),
              a = null,
              o = 0;
            i.hidden && (a = e);
            for (var r = i.i; r <= n.i; r++) {
              var l = c.itline[r];
              a && a < l.start && (o += l.start.getTime() - a.getTime()),
                (a = l.end);
            }
            return o;
          }),
          (this.yj = function(e, t, i) {
            var n = t,
              a = c.rowlist[i],
              o = a.data.start.getTime() - c.Ja().getTime(),
              r = e.addTime(-o),
              l = c.xj(r, i);
            if (!l) throw new DayPilot.Exception('No next cell found');
            var s = DayPilot.indexOf(c.itline, l);
            if (l.start > e);
            else {
              if (((n -= l.end.getTime() - r.getTime()), n <= 0))
                return e.addTime(t);
              s += 1;
            }
            for (var d = s; d < c.itline.length; d++) {
              var h = c.nj(d, i),
                u = c.itline[d];
              if (h.business) {
                var f = u.start.addTime(o),
                  v = u.end.addTime(o),
                  p = v.getTime() - f.getTime();
                if (n <= p) return f.addTime(n);
                n -= p;
              }
            }
            return c.itline[c.itline.length - 1].end.addTime(n);
          }),
          (this.uj = function(e, t, i) {
            var n = c.rowlist[i],
              a = n.data.start.getTime() - c.Ja().getTime(),
              o = (c.Jh(e), e.addTime(-a)),
              r = t.addTime(-a),
              l = c.xj(o, i);
            if (!l) throw new DayPilot.Exception('No next cell found');
            var s = 0,
              d = DayPilot.indexOf(c.itline, l);
            if (l.start <= r) {
              if (t < l.end.addTime(a))
                return l.start > o
                  ? t.getTime() - l.start.addTime(a).getTime()
                  : t.getTime() - e.getTime();
              (s +=
                o > l.start
                  ? l.end.getTime() - o.getTime()
                  : l.end.getTime() - l.start.getTime()),
                (d += 1);
            }
            for (var h = d; h < c.itline.length; h++) {
              if (c.nj(h, i).business) {
                var u = c.itline[h],
                  f = u.start.addTime(a),
                  v = u.end.addTime(a),
                  p = v.getTime() - f.getTime();
                if (t < f) return s;
                if (t <= v) return (s += t.getTime() - f.getTime());
                s += p;
              }
            }
            var g =
              t.getTime() -
              c.itline
                .last()
                .end.addTime(a)
                .getTime();
            return (s += DayPilot.Util.atLeast(0, g));
          }),
          (this.vj = function(e) {
            if (e.part.duration) {
              if (isNaN(e.part.duration))
                throw new DayPilot.Exception(
                  'Unable to get calculated duration'
                );
              return e.part.duration;
            }
            var t = e.part.dayIndex;
            return c.uj(e.start(), e.rawend(), t);
          }),
          (this.wj = function(e, t, i) {
            var n = 0,
              a = t,
              o = c.Jh(e);
            if (!o.current)
              throw new DayPilot.Exception('Current cell not found.');
            var r = DayPilot.indexOf(c.itline, o.current);
            if (c.nj(r, i).business) {
              if (e.addTime(-t) >= o.current.start) return t;
            } else if (0 === t || e.addTime(-t) >= o.current.start) {
              var l = c.xj(e, i);
              if (l) return e.getTime() - l.start.getTime();
              var s = c.zj(e, i);
              return e.getTime() - s.start.getTime();
            }
            (n += e.getTime() - o.current.start.getTime()),
              (a -= e.getTime() - o.current.start.getTime()),
              (r -= 1);
            for (var d = o.current.start; r >= 0; ) {
              var o = c.itline[r];
              d > o.end && (n += d.getTime() - o.end.getTime()), (d = o.start);
              var h = o.end.getTime() - o.start.getTime();
              if (c.nj(r, i).business) {
                if (a <= h) return (n += a);
                (n += h), (a -= h);
              } else n += h;
              r -= 1;
            }
            return n + a;
          }),
          (this.zj = function(e, t) {
            var i = c.Jh(e),
              n = 0;
            if (i.past) return null;
            if (i.current) n = i.i;
            else {
              if (!i.previous) return null;
              n = DayPilot.indexOf(c.itline, i.previous);
            }
            for (var a = n; a >= 0; a--) {
              if (c.Vc(a, t)) return c.itline[a];
            }
            return null;
          }),
          (this.xj = function(e, t) {
            var i = c.Jh(e),
              n = 0;
            if (i.past) return null;
            if (i.current) n = i.i;
            else {
              if (!i.next) return null;
              n = DayPilot.indexOf(c.itline, i.next);
            }
            for (var a = n; a < c.itline.length; a++) {
              if (c.Vc(a, t)) return c.itline[a];
            }
            return null;
          }),
          (this.Vc = function(e, t) {
            return c.nj(e, t).business;
          }),
          (this.tj = function() {
            switch (this.scale) {
              case 'CellDuration':
                return this.cellDuration;
              case 'Minute':
                return 1;
              case 'Hour':
                return 60;
              case 'Day':
                return 1440;
              case 'Week':
                return 10080;
              case 'Month':
                return 43200;
              case 'Year':
                return 525600;
              case 'Manual':
                if (c.itline.length > 0) {
                  var e = c.itline[0];
                  return (e.end.getTime() - e.start.getTime()) / 6e4;
                }
                return c.cellDuration;
            }
            throw "can't guess cellDuration value";
          }),
          (this.sj = function(e) {
            return e.end.ticks - e.start.ticks;
          }),
          (this.Ui = function(e) {
            return this.treePreventParentUsage && this.Bj(e);
          }),
          (this.Bj = function(e) {
            var t = this.rowlist[e];
            return (
              !!t.isParent ||
              !!(this.treeEnabled && t.children && t.children.length > 0)
            );
          }),
          (this.Cj = {}),
          (this.Dj = function() {
            if (c.treeAutoExpand) {
              var e = this.Ti(n.movingEvent),
                t = e.rowIndex,
                i = this.Bj(t),
                a = this.Cj;
              if (
                (a.timeout &&
                  a.y !== t &&
                  (clearTimeout(a.timeout), (a.timeout = null)),
                i)
              ) {
                a.y = t;
                var o = !c.rowlist[a.y].expanded;
                !a.timeout &&
                  o &&
                  (a.timeout = setTimeout(function() {
                    !c.rowlist[a.y].expanded && (c.Ej(a.y), c.Fj()),
                      (a.timeout = null);
                  }, 500));
              }
            }
          }),
          (this.Gj = function() {
            clearTimeout(c.Cj.timeout);
          }),
          (this.ad = function() {
            var e = n.resizingShadow.width,
              t = n.resizingShadow.left,
              i = n.resizingEvent,
              a = n.resizing.dpBorder,
              o = c.rowlist[i.part.dayIndex],
              r = 0;
            r = o.start.getTime() - c.Ja().getTime();
            var l = null,
              s = null,
              d = c.snapToGrid && c.snapToGridEventResizing,
              h = !d;
            'left' === a
              ? ((l = c.getDate(t, h).addTime(r)), (s = i.rawend()))
              : 'right' === a &&
                ((l = i.start()), (s = c.getDate(t + e, h, !0).addTime(r))),
              (n.resizingShadow.start = l),
              (n.resizingShadow.end = s),
              b.update();
          }),
          (this.exportAs = function(e, t) {
            if (!c.qd())
              throw new DayPilot.Exception(
                'DayPilot.Scheduler.exportAs(): The instance must be visible during export.'
              );
            var i = m.generate(e, t);
            return new DayPilot.Export(i);
          }),
          (this['export'] = this.exportAs),
          (this.Pd = {});
        var m = this.Pd;
        (m.getWidth = function() {
          var e = m.Rd;
          switch (e) {
            case 'viewport':
              return c.nav.top.offsetWidth;
            case 'full':
              return c.jh() + m.getRowHeaderWidth();
            case 'range':
              return (
                c.getPixels(m.getRangeEnd()).boxRight -
                c.getPixels(m.getRangeStart()).boxLeft +
                m.getRowHeaderWidth()
              );
            default:
              throw 'Unsupported export mode: ' + e;
          }
        }),
          (m.getHeight = function() {
            var e = m.Rd;
            switch (e) {
              case 'viewport':
                return c.nav.top.offsetHeight - DayPilot.sh(c.nav.scroll) - 1;
              case 'full':
                return c.Hj() + c.lh() - DayPilot.sh(c.nav.scroll);
              case 'range':
                var t = m.getRows();
                if (0 === t.length) return c.lh();
                var i = t.first(),
                  n = t.last();
                return n.top - i.top + n.height + c.lh();
              default:
                throw 'Unsupported export mode: ' + e;
            }
          }),
          (m.getRangeStart = function() {
            var e = m.Qd.dateFrom || c.Ja();
            return new DayPilot.Date(e);
          }),
          (m.getRangeEnd = function() {
            var e = m.Qd.dateTo || c.Dh();
            return new DayPilot.Date(e);
          }),
          (m.getRangeResStart = function() {
            return m.Qd.resourceFrom
              ? c.$g(m.Qd.resourceFrom)
              : c.rowlist.find(function(e) {
                  return !e.hidden;
                });
          }),
          (m.getRangeResEnd = function() {
            return m.Qd.resourceTo ? c.$g(m.Qd.resourceTo) : c.rowlist.last();
          }),
          (m.getRowHeaderWidth = function() {
            return c.mh();
          }),
          (m.getTimeHeaderHeight = function() {
            return c.lh();
          }),
          (m.getCanvas = function() {
            return m.canvas();
          }),
          (m.getRectangles = function() {
            var e = m.getRowHeaderWidth(),
              t = m.getTimeHeaderHeight(),
              i = {};
            (i.main = { x: 0, y: 0, w: m.getWidth(), h: m.getHeight() }),
              (i.corner = { x: 0, y: 0, w: e, h: t }),
              (i.grid = {
                x: e,
                y: t,
                w: m.getWidth() - e,
                h: m.getHeight() - t
              });
            var n = i.grid.w,
              a = c.itline.last();
            a && a.left + a.width < i.grid.w && (n = a.left + a.width);
            var o = i.grid.h,
              r = c.rowlist.last();
            return (
              r && r.top + r.height < i.grid.h && (o = r.top + r.height),
              (i.gridContent = { x: e, y: t, w: n, h: o }),
              i
            );
          }),
          (m.getRows = function() {
            var e,
              t,
              i,
              n,
              a = m.Rd,
              o = DayPilot.list();
            switch (a) {
              case 'viewport':
                (e = c.Ij),
                  (t = e + c.nav.scroll.offsetHeight),
                  (i = c.Ni(e).i),
                  (n = c.Ni(t).i);
                break;
              case 'full':
                (e = 0), (i = 0), (n = c.rowlist.length);
                break;
              case 'range':
                var r = m.getRangeResStart(),
                  l = m.getRangeResEnd();
                if (!r)
                  throw 'Resource specified using resourceFrom option not found during export.';
                if (!l)
                  throw 'Resource specified using resourceTo option not found during export.';
                (i = r.index), (n = l.index);
            }
            n < c.rowlist.length && (n += 1);
            for (var s = i; s < n; s++) {
              var d = c.rowlist[s];
              d.hidden || o.push(d);
            }
            return (o.offset = i), o;
          }),
          (m.getEvents = function() {
            var e = m.Rd;
            switch (e) {
              case 'full':
                var t = DayPilot.list();
                return (
                  DayPilot.list(c.rowlist).each(function(e) {
                    e.hidden ||
                      DayPilot.list(e.events).each(function(e) {
                        t.push(e);
                      });
                  }),
                  t
                );
              case 'viewport':
                return h.events().map(function(e) {
                  return e.event;
                });
              case 'range':
                var t = DayPilot.list(),
                  i = m.getRangeStart(),
                  n = m.getRangeEnd();
                return (
                  m.getRows().each(function(e) {
                    DayPilot.list(e.events)
                      .filter(function(e) {
                        return DayPilot.Util.overlaps(e.start(), e.end(), i, n);
                      })
                      .each(function(e) {
                        t.push(e);
                      });
                  }),
                  t
                );
              default:
                throw 'Unsupported export mode: ' + e;
            }
          }),
          (m.getLinks = function() {
            if (DayPilot.isArray(c.links.list)) {
              for (var e = [], t = 0; t < c.links.list.length; t++) {
                var i = c.links.list[t],
                  n = c.events.find(i.from),
                  a = c.events.Zi(n && n.data),
                  o = c.events.find(i.to),
                  r = c.events.Zi(o && o.data),
                  l = v.getSegments(a, r, i);
                e.push(l);
              }
              return e;
            }
          }),
          (m.getTimeline = function() {
            var e = m.Rd;
            switch (e) {
              case 'full':
                return DayPilot.list(c.itline).addProps({ offset: 0 });
              case 'viewport':
                return m.getViewportTimeline();
              case 'range':
                return m.getRangeTimeline();
              default:
                throw 'Unsupported export mode: ' + e;
            }
          }),
          (m.getRangeTimeline = function() {
            var e = DayPilot.list();
            if (c.itline && c.itline.length > 0) {
              var t = c.Jh(m.getRangeStart()).i,
                i = c.Jh(m.getRangeEnd()).i,
                n = c.Jj();
              (i = Math.min(i, n - 1)), (t = DayPilot.Util.atLeast(t, 0));
              for (var a = t; a <= i; a++) {
                var o = c.itline[a];
                e.push(o);
              }
              e.offset = t;
            }
            return e;
          }),
          (m.getViewportTimeline = function() {
            var e = DayPilot.list();
            if (c.itline && c.itline.length > 0) {
              var t = c.Kj,
                i = t + c.Lj,
                n = c.Hh(t).x,
                a = c.Hh(i, !0).x,
                o = c.Jj();
              (a = Math.min(a, o)), (n = DayPilot.Util.atLeast(n, 0));
              for (var r = n; r <= a; r++) {
                var l = c.itline[r];
                e.push(l);
              }
              e.offset = n;
            }
            return e;
          }),
          (m.getTimeHeader = function(e) {
            if ('full' === m.Rd) return DayPilot.list(c.timeHeader[e]);
            var t,
              i,
              n = DayPilot.list();
            (t = m.getViewportOffsetStart()),
              (i = t + m.getViewportOffsetWidth());
            var a = c.Mj(e, t),
              o = c.Mj(e, i);
            o || (o = { x: c.timeHeader[e].length - 1 });
            for (var r = a.x; r <= o.x; r++) {
              var l = c.timeHeader[e][r];
              n.push(l);
            }
            return n;
          }),
          (m.getSeparators = function() {
            return DayPilot.list(c.separators)
              .map(function(e) {
                var t = new DayPilot.Date(e.location);
                if (t.getTime() < c.Ja().getTime()) return null;
                if (t.getTime() >= c.Dh().getTime()) return null;
                var i = c.getPixels(t);
                return i.cut
                  ? null
                  : i.left < 0
                  ? null
                  : i.left > c.Jj() * c.cellWidth
                  ? null
                  : { left: i.left, color: e.color, width: e.width || 1 };
              })
              .filter(function(e) {
                return !!e;
              });
          }),
          (m.fakeDurationBar = function() {
            var e = document.createElement('div');
            (e.style.display = 'none'), (e.className = c.r(T.event));
            var t = document.createElement('div');
            t.className = c.r(T.eventBar);
            var i = document.createElement('div');
            return (
              (i.className = c.r(T.eventBarInner)),
              document.body.appendChild(e),
              t.appendChild(i),
              e.appendChild(t),
              e
            );
          }),
          (m.fakeEventLeft = function() {
            var e = document.createElement('div');
            return (
              (e.style.display = 'none'),
              (e.className = c.r('_event_left')),
              document.body.appendChild(e),
              e
            );
          }),
          (m.fakeGroup = function() {
            var e = document.createElement('div');
            (e.style.display = 'none'),
              (e.className = c.r(T.event) + ' ' + c.r('_task_group'));
            var t = document.createElement('div');
            return (
              (t.className = c.r(T.eventInner)),
              e.appendChild(t),
              c.divEvents.appendChild(e),
              e
            );
          }),
          (m.fakeMilestone = function() {
            var e = document.createElement('div');
            (e.style.display = 'none'),
              (e.className = c.r(T.event) + ' ' + c.r('_task_milestone'));
            var t = document.createElement('div');
            return (
              (t.className = c.r(T.eventInner)),
              e.appendChild(t),
              c.divEvents.appendChild(e),
              e
            );
          }),
          (m.fakeCell = function() {
            var e = document.createElement('div');
            (e.style.display = 'none'),
              (e.className = c.r('_cell')),
              (e.style.position = 'absolute'),
              (e.style.top = '-2000px'),
              (e.style.left = '-2000px');
            var t = document.createElement('div');
            return (
              (t.className = c.r('_cell_inner')),
              e.appendChild(t),
              c.divCells.appendChild(e),
              e
            );
          }),
          (m.fakeRowHeader = function() {
            var e = document.createElement('div');
            (e.style.display = 'none'),
              (e.className = c.r('_rowheader')),
              (e.style.position = 'absolute'),
              (e.style.top = '-2000px'),
              (e.style.left = '-2000px');
            var t = document.createElement('div');
            return (
              (t.className = c.r('_rowheader_inner')),
              e.appendChild(t),
              c.divResScroll.appendChild(e),
              e
            );
          }),
          (m.fakeExpand = function() {
            var e = document.createElement('div');
            return (
              (e.style.display = 'none'),
              (e.className = c.r('_tree_image_expand')),
              document.body.appendChild(e),
              e
            );
          }),
          (m.extractUrl = function(e) {
            var t = /url\((")?([^"].*[^"])\1\)/.exec(e);
            return t ? t[2] : null;
          }),
          (m.getImages = function() {
            var e = {},
              t = m.fakeExpand();
            return (
              (e.expand = m.extractUrl(
                new DayPilot.StyleReader(t).get('background-image')
              )),
              (t.className = c.r('_tree_image_collapse')),
              (e.collapse = m.extractUrl(
                new DayPilot.StyleReader(t).get('background-image')
              )),
              (t.className = c.r('_tree_image_no_children')),
              (e.nochildren = m.extractUrl(
                new DayPilot.StyleReader(t).get('background-image')
              )),
              DayPilot.de(t),
              e
            );
          }),
          (m.getFont = function(e) {
            return new DayPilot.StyleReader(e).getFont();
          }),
          (m.getViewportOffsetStart = function() {
            switch (m.Rd) {
              case 'full':
                return 0;
              case 'viewport':
                return c.nav.scroll.scrollLeft;
              case 'range':
                return c.getPixels(m.getRangeStart()).boxLeft;
            }
          }),
          (m.getViewportOffsetTop = function() {
            switch (m.Rd) {
              case 'full':
                return 0;
              case 'viewport':
                return c.nav.scroll.scrollTop;
              case 'range':
                return m.getRangeResStart().top;
            }
          }),
          (m.getViewportOffsetWidth = function() {
            switch (m.Rd) {
              case 'full':
                return c.jh();
              case 'viewport':
                return c.nav.scroll.offsetWidth;
              case 'range':
                return (
                  c.getPixels(m.getRangeEnd()).boxRight -
                  m.getViewportOffsetStart()
                );
            }
          }),
          (m.excelBoard = function() {
            var e = new DayPilot.Excel(),
              t = e.worksheets.create('Scheduler'),
              i = new DayPilot.StyleReader(c.nav.corner).get(
                'background-color'
              ),
              n = new DayPilot.StyleReader(c.nav.top).get('border-top-color'),
              a = DayPilot.list(c.elements.events)
                .filter(function(e) {
                  return !e.event.data.type;
                })
                .map(function(e) {
                  return e.firstChild;
                })
                .last(),
              o = new DayPilot.StyleReader(a).get('border-right-color');
            e.styles.getDefault().setBackColor('#ffaaaa');
            var r = e.styles.create();
            r.setHorizontalAlignment('Center'),
              r.setBackColor(i),
              r.setBorderColor(n);
            var l = e.styles.create();
            l.setVerticalAlignment('Top'),
              l.setBackColor(i),
              l.setBorderColor(n);
            var s = e.styles.create();
            s.setVerticalAlignment('Top'),
              s.setBackColor('#ff0000'),
              s.setBorderColor(o),
              t.enableGridlines(!1),
              t
                .cell(0, 0)
                .setRowspan(c.timeHeader.length)
                .setStyle(r),
              t.cell(10, 10).setText('hi there'),
              DayPilot.list(c.timeHeader).each(function(e, i) {
                var n = { x: 1, y: 0 };
                m.getTimeHeader(i, 'full').each(function(e, a) {
                  var o = e.colspan;
                  t.cell(a + n.x, i + n.y)
                    .setText(e.innerHTML)
                    .setColspan(o)
                    .setStyle(r);
                });
              }),
              DayPilot.list(c.rowlist).each(function(e, i) {
                for (var n = { x: 0, y: 1 }, a = '', o = 0; o < e.level; o++)
                  a += '  ';
                t.cell(n.x, i + n.y)
                  .setText(a + e.html)
                  .setRowspan(e.lines.length)
                  .setStyle(l);
              });
            var d = { x: 0, y: c.timeHeader.length },
              h = d.y;
            return (
              DayPilot.list(c.rowlist).each(function(e, i) {
                DayPilot.list(e.lines).each(function(e, n) {
                  var a = d.x;
                  DayPilot.list(e).each(function(e) {
                    var n = c.Jh(e.start()).i,
                      o = c.Jh(e.end()).i,
                      r = 1 + o - n;
                    t
                      .cell(n + a, i + h)
                      .setText(e.client.html())
                      .setColspan(r)
                      .setStyle(s),
                      (a += r - 1);
                  });
                }),
                  (h += e.lines.length - 1);
              }),
              e
            );
          }),
          (m.Qd = null),
          (m.Rd = null),
          (m.generate = function(e, t) {
            'object' == typeof e && ((t = e), (e = null));
            var t = t || {},
              e = e || t.format || 'svg',
              i = t.scale || 1;
            if ('xls' === e) return m.excelBoard();
            'jpg' === e.toLowerCase() && (e = 'jpeg');
            var n = t.area || 'viewport';
            (m.Qd = t),
              (m.Rd = n),
              m.getRows().each(function(e) {
                c.Nj(e);
              });
            var a,
              o = m.getWidth(),
              r = m.getHeight();
            switch (e.toLowerCase()) {
              case 'svg':
                a = new DayPilot.Svg(o, r);
                break;
              case 'png':
                a = new DayPilot.Canvas(o, r, 'image/png', i);
                break;
              case 'jpeg':
                a = new DayPilot.Canvas(o, r, 'image/jpeg', i, t.quality);
                break;
              default:
                throw 'Export format not supported: ' + e;
            }
            var l = m.getRectangles(),
              s = m.getImages(),
              d = new DayPilot.StyleReader(c.nav.top).get('background-color'),
              h = new DayPilot.StyleReader(c.nav.corner).get(
                'background-color'
              ),
              u = new DayPilot.StyleReader(c.nav.top).get('border-top-color'),
              f = new DayPilot.StyleReader(c.nav.divider).get(
                'background-color'
              ),
              v = DayPilot.list(c.elements.events)
                .filter(function(e) {
                  return !e.event.data.type;
                })
                .map(function(e) {
                  return e.firstChild;
                })
                .last(),
              p = new DayPilot.StyleReader(v).get('border-right-color'),
              g = m.getFont(v),
              y = new DayPilot.StyleReader(v).get('color'),
              b = new DayPilot.StyleReader(v).get('background-color');
            b = DayPilot.Util.isTransparentColor(b) ? 'white' : b;
            var w = m.fakeMilestone(),
              D = new DayPilot.StyleReader(w.firstChild).get(
                'background-color'
              );
            DayPilot.de(w);
            var k = m.fakeGroup(),
              P = new DayPilot.StyleReader(k.firstChild).get(
                'background-color'
              );
            DayPilot.de(k);
            var x = m.fakeDurationBar(),
              C = new DayPilot.StyleReader(x.firstChild).get(
                'background-color'
              ),
              S = new DayPilot.StyleReader(x.firstChild.firstChild).get(
                'background-color'
              );
            DayPilot.de(x);
            var E = m.fakeEventLeft(),
              A = new DayPilot.StyleReader(E).get('color');
            DayPilot.de(E);
            var T = m.fakeCell(),
              M = new DayPilot.StyleReader(T).get('background-color');
            DayPilot.Util.addClass(T, c.r('_cell_business'));
            var H = new DayPilot.StyleReader(T).get('background-color'),
              _ = m.getFont(T),
              R = new DayPilot.StyleReader(T).get('color');
            DayPilot.de(T);
            var N = DayPilot.Util.firstPropValue(c.E.linesVertical),
              U = new DayPilot.StyleReader(N).get('background-color'),
              L = c.E.timeHeader['0_0'],
              z = m.getFont(L),
              O = new DayPilot.StyleReader(L).get('color'),
              I = new DayPilot.StyleReader(L).get('background-color'),
              j = m.fakeRowHeader(),
              W = m.getFont(j),
              F = new DayPilot.StyleReader(j).get('color'),
              G = new DayPilot.StyleReader(j).get('background-color');
            if ((DayPilot.de(j), c.rowHeaderColumns && c.Si && c.Si.blocks[0]))
              var Y = c.Si.blocks[0].section.firstChild,
                J = new DayPilot.StyleReader(Y).getFont(),
                X = new DayPilot.StyleReader(Y).get('color');
            var V = m.getViewportOffsetStart(),
              q = m.getViewportOffsetTop();
            a.fillRect(l.main, 'white'),
              a.fillRect(l.main, d),
              a.fillRect(l.corner, h);
            var K = l.corner.x;
            DayPilot.list(c.rowHeaderColumns).each(function(e, t) {
              var i = c.rowHeaderCols[t],
                n = {};
              (n.x = K),
                (n.w = i + 1),
                (n.y = l.corner.h - c.Si.height),
                (n.h = c.Si.height + 1);
              var o = 3,
                r = DayPilot.Util.copyProps(n);
              (r.x += o), (r.w -= o);
              var s = e.name || e.title || '';
              a.text(r, s, J, X), a.rect(n, u), (K += i);
            });
            var Q = 'function' == typeof c.onBeforeTimeHeaderExport;
            DayPilot.list(c.timeHeader).each(function(e, t) {
              m.getTimeHeader(t, n).each(function(e) {
                var i = l.grid.x + e.left - V,
                  n = e.width,
                  o = B.timeHeader(t),
                  r = o.top,
                  s = o.height,
                  d = e.innerHTML,
                  h = e.backColor;
                if (Q) {
                  var f = {};
                  (f.header = {}),
                    (f.header.start = e.start),
                    (f.header.end = e.end),
                    (f.header.level = t),
                    (f.header.text = e.text),
                    (f.header.html = e.innerHTML),
                    (f.text = e.innerHTML),
                    (f.backColor = e.backColor),
                    c.onBeforeTimeHeaderExport(f),
                    (d = f.text),
                    (h = f.backColor);
                }
                var v = DayPilot.Util.atLeast(0, l.grid.x - i);
                (i += v), (n -= v);
                var v = DayPilot.Util.atLeast(0, i + n - (l.grid.x + l.grid.w));
                n -= v;
                var p = { x: i, y: r, w: n + 1, h: s + 1 };
                (h = h || I),
                  a.fillRect(p, h),
                  a.rect(p, u),
                  a.text(p, d, z, O, 'center');
              });
            });
            var $ = 'function' == typeof c.onBeforeCellExport;
            m.getRows().each(function(e, t, i) {
              var t = e.index;
              m.getTimeline().each(function(i, n, o) {
                var n = o.offset + n,
                  r = c.nj(n, t),
                  s = r.business,
                  d = c.Oj(n, t),
                  h = r.html,
                  u = r.horizontalAlignment || 'left',
                  f = r.backColor || (s ? H : M);
                $ &&
                  (d || ((d = {}), (d.cell = c.cells.findXy(n, t)[0])),
                  (d.text = h),
                  (d.horizontalAlignment = u),
                  (d.backColor = f),
                  c.onBeforeCellExport(d),
                  (h = d.text),
                  (u = d.horizontalAlignment),
                  (f = d.backColor));
                var v = l.grid.y + e.top - q;
                v += DayPilot.Util.atLeast(0, l.grid.y - v);
                var p = l.grid.x + i.left - V;
                p += DayPilot.Util.atLeast(0, l.grid.x - p);
                var g = { x: p, y: v, w: i.width, h: e.height };
                a.fillRect(g, f);
                var m = {};
                (m.x = g.x + 1),
                  (m.y = g.y + 1),
                  (m.w = g.w - 2),
                  (m.h = g.h - 2),
                  h && a.text(m, h, _, R, u);
              });
            }),
              m.getRows().each(function(e) {
                var t = l.grid.y + e.top - q;
                (t += DayPilot.Util.atLeast(0, l.grid.y - t)),
                  t !== l.grid.y &&
                    a.line(
                      l.gridContent.x + 1,
                      t,
                      l.gridContent.x + l.gridContent.w - 1,
                      t,
                      U
                    );
              }),
              m.getTimeline().each(function(e) {
                var t = l.grid.x + e.left - V;
                (t += DayPilot.Util.atLeast(0, l.grid.x - t)),
                  t !== l.grid.x &&
                    a.line(t, l.grid.y + 1, t, l.grid.y + l.grid.h - 2, U);
              });
            var Z = m.getTimeline().last();
            !(function(e) {
              var t = l.grid.x + e.left - V + e.width;
              a.line(t, l.grid.y + 1, t, l.grid.y + l.grid.h - 2, U);
            })(Z),
              m.getSeparators().forEach(function(e) {
                var t = l.grid.x + e.left - V;
                a.line(t, l.grid.y + 1, t, l.grid.y + l.grid.h - 2, e.color);
              });
            var ee = 'function' == typeof c.onBeforeRowHeaderRender,
              te = 'function' == typeof c.onBeforeRowHeaderExport;
            return (
              m.getLinks().forEach(function(e) {
                e.map(function(e) {
                  return m
                    .shiftableSegment(e)
                    .shift(l.grid.x - V, l.grid.y - q);
                }).forEach(function(e) {
                  switch (e.type) {
                    case 'HorizontalLine':
                      a.line(e.startX, e.startY, e.endX, e.endY, 'red');
                      break;
                    case 'VerticalLine':
                      a.line(e.startX, e.startY, e.endX, e.endY, 'red');
                      break;
                    case 'ArrowRight':
                      a.triangle(
                        { x: e.startX - 10, y: e.startY - 4.5, w: 10, h: 10 },
                        'red'
                      );
                      break;
                    case 'ArrowDown':
                      a.triangle(
                        { x: e.startX - 4.5, y: e.startY - 10, w: 10, h: 10 },
                        'red',
                        90
                      );
                      break;
                    case 'ArrowLeft':
                      a.triangle(
                        { x: e.startX, y: e.startY - 4.5, w: 10, h: 10 },
                        'red',
                        180
                      );
                      break;
                    case 'ArrowUp':
                      a.triangle(
                        { x: e.startX - 4.5, y: e.startY, w: 10, h: 10 },
                        'red',
                        -90
                      );
                  }
                });
              }),
              m.getEvents().each(function(e) {
                function t() {
                  var e = M.backColor;
                  a.diamond(H, e);
                }
                function i() {
                  var e = { x: h, y: d, w: r, h: M.barHeight },
                    t = { x: h + x, y: d, w: E, h: M.barHeight },
                    i = P,
                    n = { x: h, y: d + 5, h: H.h - 6 - 5, w: H.w };
                  a.fillRect(n, i),
                    a.upperRightCorner(
                      { x: h + H.w - 6, y: n.y + n.h, w: 6, h: 6 },
                      i
                    ),
                    a.upperLeftCorner({ x: h, y: n.y + n.h, w: 6, h: 6 }, i),
                    s && (a.fillRect(e, m), E > 0 && a.fillRect(t, v));
                }
                function n() {
                  var t = { x: h, y: d, w: r, h: M.barHeight },
                    i = { x: h + x, y: d, w: E, h: M.barHeight };
                  ({
                    x: h + T,
                    y: d + M.barHeight,
                    w: r - T,
                    h: e.part.height - M.barHeight
                  });
                  a.fillRect(H, M.backColor),
                    a.text(
                      H,
                      M.text,
                      {
                        size: M.fontSize,
                        family: M.fontFamily,
                        style: M.fontStyle
                      },
                      M.fontColor,
                      M.horizontalAlignment,
                      M.textPadding
                    ),
                    a.rect(H, M.borderColor),
                    s && (a.fillRect(t, m), E > 0 && a.fillRect(i, v)),
                    DayPilot.list(M.areas).each(function(t) {
                      if ('Hover' !== (t.visibility || t.v)) {
                        var i = t.left || 0;
                        t.start
                          ? (i =
                              c.getPixels(new DayPilot.Date(t.start)).left -
                              e.part.left)
                          : 'number' == typeof t.right &&
                            (i = e.part.width - t.right - t.width);
                        var n = t.width || t.w;
                        'number' == typeof t.right
                          ? (n = e.part.width - t.right - i)
                          : t.end &&
                            (n =
                              c.getPixels(new DayPilot.Date(t.end)).left -
                              t.left -
                              e.part.left +
                              1);
                        var o = t.top,
                          r = t.height || t.h;
                        'number' == typeof t.bottom &&
                          (r = e.part.height - t.bottom - o);
                        var l = { x: h + i, y: d + o, w: n, h: r };
                        if (
                          (t.backColor && a.fillRect(l, t.backColor), t.image)
                        ) {
                          var s = new Image();
                          (s.src = t.image), a.image(l, s);
                        } else
                          t.html &&
                            a.text(
                              l,
                              t.html,
                              {
                                size: t.fontSize || M.fontSize,
                                family: t.fontFamily || M.fontFamily,
                                style: t.fontStyle || M.fontStyle
                              },
                              t.fontColor || M.fontColor,
                              null,
                              t.padding
                            );
                      }
                    });
                }
                var o = c.rowlist[e.part.dayIndex].top,
                  r = e.part.width,
                  s = e.client && e.client.barVisible && e.client.barVisible(),
                  d = l.grid.y + o + e.part.top - q;
                d += DayPilot.Util.atLeast(0, l.grid.y - d);
                var h = l.grid.x + e.part.left - V + 1,
                  u = DayPilot.Util.atLeast(0, l.grid.x - h);
                (h += u), (r -= u);
                var f = e.cache || e.data,
                  v = f.barColor || S,
                  m = f.barBackColor || C,
                  w = f.backColor || b,
                  k = f.fontColor || y,
                  x = e.part.barLeft,
                  E = e.part.barWidth;
                'PercentComplete' === c.durationBarMode &&
                  ((x = 0),
                  (E = DayPilot.Util.atLeast(
                    0,
                    Math.floor((e.part.width * (f.complete || 0)) / 100)
                  ))),
                  'Milestone' === e.data.type && (w = D);
                var T = 2,
                  M = {};
                (M.e = e),
                  (M.text = e.text ? e.text() : e.client.html()),
                  (M.areas = f.areas),
                  (M.fontSize = g.size),
                  (M.fontFamily = g.family),
                  (M.fontStyle = g.style),
                  (M.fontColor = k),
                  (M.backColor = w),
                  (M.borderColor = p),
                  (M.horizontalAlignment = 'left'),
                  (M.barHeight = 4),
                  (M.textPadding = 2),
                  'function' == typeof c.onBeforeEventExport &&
                    c.onBeforeEventExport(M);
                var H = { x: h, y: d, w: r, h: e.part.height };
                'Milestone' === e.data.type
                  ? t()
                  : 'Group' === e.data.type
                  ? i()
                  : n();
                var _ = f.textLeft || f.htmlLeft;
                if (_) {
                  var R = {
                      size: M.fontSize,
                      family: M.fontFamily,
                      style: M.fontStyle
                    },
                    B = a.textWidth(_, R),
                    N = {
                      x: h - (c.eventHtmlLeftMargin + B),
                      y: d,
                      w: B,
                      h: e.part.height
                    };
                  a.text(N, _, R, A);
                }
                var U = f.textRight || f.htmlRight;
                if (U) {
                  var L = {
                      size: M.fontSize,
                      family: M.fontFamily,
                      style: M.fontStyle
                    },
                    z = a.textWidth(U, L),
                    O = {
                      x: h + r + c.eventHtmlRightMargin,
                      y: d,
                      w: z,
                      h: e.part.height
                    };
                  a.text(O, U, L, A);
                }
              }),
              m.getRows().each(function(e) {
                var t = l.grid.y + e.top - q;
                t += DayPilot.Util.atLeast(0, l.grid.y - t);
                var i = c.treeEnabled && !e.isNewRow,
                  n = 10,
                  o = i ? e.level * c.treeIndent + c.treeImageMarginLeft : 3;
                'Disabled' !== c.rowMoveHandling && (o += 10);
                var r = { x: 0, y: t, w: l.grid.x + 1, h: e.height + 1 },
                  d = e;
                if (ee) {
                  d = c.Pj(e).row;
                }
                var h = {};
                (h.text = d.html),
                  (h.backColor = d.backColor || G),
                  (h.fontSize = W.size),
                  (h.fontFamily = W.family),
                  (h.fontStyle = W.style),
                  (h.fontColor = d.fontColor || F),
                  (h.borderColor = u),
                  (h.horizontalAlignment = 'left'),
                  (h.row = c.ui(e)),
                  (h.row.columns = []),
                  d.columns &&
                    d.columns.forEach(function(e) {
                      var t = DayPilot.Util.copyProps(e, {}, [
                        'text',
                        'html',
                        'backColor',
                        'horizontalAlignment'
                      ]);
                      (t.text = e.text || e.html),
                        (t.fontSize = h.fontSize),
                        (t.fontFamily = h.fontFamily),
                        (t.fontStyle = h.fontStyle),
                        (t.fontColor = h.fontColor),
                        (t.horizontalAlignment =
                          t.horizontalAlignment || h.horizontalAlignment),
                        (t.backColor = t.backColor || h.backColor),
                        h.row.columns.push(t);
                    }),
                  e.isNewRow && (h.text = c.rowCreateHtml),
                  te && c.onBeforeRowHeaderExport(h);
                var f = { x: o, y: t + c.treeImageMarginTop + 2, w: 10, h: 10 },
                  v = i ? o + n + 3 : o,
                  p = i ? r.w - v : r.w,
                  g = { x: v, y: t, w: p, h: e.height + 1 };
                if (
                  (c.rowHeaderCols && (g.w = c.rowHeaderCols[0] - v),
                  a.fillRect(r, h.backColor),
                  a.text(
                    g,
                    h.text,
                    {
                      size: h.fontSize,
                      family: h.fontFamily,
                      style: h.fontStyle
                    },
                    h.fontColor,
                    h.horizontalAlignment
                  ),
                  a.rect(r, h.borderColor),
                  i)
                ) {
                  var m = null;
                  (m = DayPilot.list(e.children).isEmpty()
                    ? s.nochildren
                    : e.expanded
                    ? s.collapse
                    : s.expand),
                    a.image(f, m);
                }
                if (c.rowHeaderCols) {
                  var o = r.x;
                  DayPilot.list(c.rowHeaderCols).each(function(e, t) {
                    if (0 !== t) {
                      var i = h.row.columns[t - 1] || {},
                        n = DayPilot.Util.copyProps(r);
                      (n.x = o), (n.w = e + 1);
                      var l = 3,
                        s = DayPilot.Util.copyProps(n);
                      (s.x += l), (s.w -= l);
                      var d = i.backColor || h.backColor;
                      a.fillRect(n, d),
                        i.text &&
                          a.text(
                            s,
                            i.text,
                            {
                              size: i.fontSize,
                              family: i.fontFamily,
                              style: i.fontStyle
                            },
                            i.fontColor,
                            i.horizontalAlignment
                          ),
                        a.rect(n, h.borderColor);
                    }
                    o += e;
                  });
                }
              }),
              a.rect(l.main, u),
              a.line(l.grid.x, 0, l.grid.x, l.main.h, f),
              a.line(0, l.grid.y, l.main.w, l.grid.y, f),
              a
            );
          }),
          (m.shiftableSegment = function(e) {
            return {
              startX: e.startX,
              endX: e.endX,
              startY: e.startY,
              endY: e.endY,
              type: e.type,
              shift: function(t, i) {
                return m.shiftableSegment({
                  startX: e.startX + t,
                  endX: e.endX + t,
                  startY: e.startY + i,
                  endY: e.endY + i,
                  type: e.type
                });
              }
            };
          }),
          (this.Qj = {});
        var y = this.Qj;
        (y.findJointDivs = function(e) {
          var t = e.data.join;
          return t
            ? DayPilot.list(c.elements.events).filter(function(i) {
                return i.event.data.join === t && i.event !== e;
              })
            : DayPilot.list();
        }),
          (this.Rj = {});
        var b = this.Rj;
        (b.divs = []),
          (b.list = []),
          (b.forbidden = !1),
          (b.additional = function() {
            var e = DayPilot.list(),
              t = c.multiselect.isSelected(n.resizing.event),
              i = c.allowMultiResize,
              e = DayPilot.list();
            if (
              (t &&
                i &&
                (e = DayPilot.list(c.multiselect.Jb).filter(function(e) {
                  return e !== n.resizing;
                })),
              c.jointEventsResize)
            ) {
              var a = y.findJointDivs(n.resizingEvent);
              e = e.concat(a);
            }
            return e;
          }),
          (b.update = function() {
            b.clear(), b.draw();
          }),
          (b.clear = function() {
            DayPilot.de(b.divs), (b.divs = []);
          }),
          (b.draw = function() {
            if (n.resizing) {
              var e = n.resizingEvent,
                t = n.resizingShadow,
                i = t.start.getTime() - e.start().getTime(),
                a = t.end.getTime() - e.end().getTime(),
                o = 0;
              if (
                ((b.list = []),
                (b.forbidden = !1),
                (b.invalid = !1),
                (b.rowoffset = o),
                b.additional().each(function(e) {
                  if (e.event) {
                    var t = e.event,
                      n = c.rowlist[t.part.dayIndex + o];
                    if (!n) return void (b.invalid = !0);
                    var r = t.part.top + n.top,
                      l = t.part.height,
                      s = t.start().addTime(i),
                      d = t.end().addTime(a),
                      h = {};
                    (h.event = t),
                      (h.start = s),
                      (h.end = d),
                      (h.overlapping = !1),
                      b.list.push(h);
                    var u = c.getPixels(s),
                      f = c.getPixels(d),
                      v = DayPilot.DateUtil.diff(t.rawend(), t.start());
                    v = DayPilot.Util.atLeast(v, 1);
                    var p = R.useBox(v),
                      g = p ? u.boxLeft : u.left,
                      m = p ? f.boxRight - g : f.left - g,
                      y = document.createElement('div');
                    (y.style.position = 'absolute'),
                      (y.style.left = g + 'px'),
                      (y.style.top = r + 'px'),
                      (y.style.height = l + 'px'),
                      (y.style.width = m + 'px'),
                      (y.style.zIndex = 101),
                      (y.style.overflow = 'hidden'),
                      (y.className = c.r('_shadow')),
                      (y.info = h);
                    var w = document.createElement('div');
                    (w.className = c.r('_shadow_inner')),
                      y.appendChild(w),
                      c.Xg.appendChild(y),
                      b.divs.push(y);
                  }
                }),
                b.invalid)
              ) {
                var r = c.r('_shadow_overlap');
                return void DayPilot.list(b.divs).each(function(e) {
                  DayPilot.Util.addClass(e, r);
                });
              }
              DayPilot.list(b.divs).each(function(e) {
                if (e.info) {
                  var t = e,
                    i = e.info,
                    a = e.info.event,
                    r = c.rowlist[a.part.dayIndex + o],
                    l = c.getPixels(i.start),
                    s = c.getPixels(i.end),
                    d = l.left,
                    h = s.left - d,
                    u = DayPilot.list(b.list)
                      .map(function(e) {
                        return e.event.data;
                      })
                      .add(n.resizing.event.data);
                  c.Sj(t, r, d, h, u),
                    c.Tj(t, i.start, i.end, a.resource()),
                    t.overlapping && ((i.overlapping = !0), (b.forbidden = !0));
                }
              });
            }
          }),
          (this.Uj = {}),
          (this.Uj.modifiedProps = function() {
            var e = new DayPilot.Scheduler(),
              t = DayPilot.Util.members(c, 2),
              i = [];
            return (
              i.push("<div id='dp'></div>"),
              i.push('<script>'),
              i.push("var dp = new DayPilot.Scheduler('dp');"),
              t.properties.each(function(t) {
                var n,
                  a,
                  o = t.name,
                  r = o.split('.');
                if (r.length > 1) {
                  var l = r[0],
                    s = r[1];
                  (n = JSON.stringify(e[l][s])), (a = JSON.stringify(c[l][s]));
                } else (n = JSON.stringify(e[o])), (a = JSON.stringify(c[o]));
                n !== a && i.push('dp.' + o + ' = ' + a + ';');
              }),
              t.events.each(function(e) {
                var t = e.name;
                'function' == typeof c[t] &&
                  i.push('dp.' + t + ' = ' + c[t].toString() + ';');
              }),
              i.push('dp.init();'),
              i.push('</script>'),
              i.join('\n')
            );
          }),
          (this.Vj = {});
        var w = this.Vj;
        (w.divs = []),
          (w.list = []),
          (w.forbidden = !1),
          (w.verticalAll = function() {
            return 'All' === c.multiMoveVerticalMode;
          }),
          (w.additional = function() {
            var e = DayPilot.list(),
              t = c.multiselect.isSelected(n.movingEvent),
              i = c.allowMultiMove,
              e = DayPilot.list();
            if (
              (t &&
                i &&
                (e = DayPilot.list(c.multiselect.Jb).filter(function(e) {
                  return e !== n.moving && e !== E.moving;
                })),
              c.jointEventsMove)
            ) {
              var a = y.findJointDivs(n.movingEvent);
              e = e.concat(a);
            }
            return e;
          }),
          (w.update = function() {
            w.clear(), w.draw();
          }),
          (w.draw = function() {
            if (n.moving) {
              var e = n.movingEvent,
                t = n.movingShadow.start,
                i = t.getTime() - e.start().getTime(),
                a = e.part.dayIndex,
                o = DayPilot.indexOf(c.rowlist, n.movingShadow.row),
                r = o - a;
              if (
                (w.verticalAll() || (r = 0),
                (w.list = []),
                (w.forbidden = !1),
                (w.invalid = !1),
                (w.rowoffset = r),
                w.additional().each(function(e) {
                  if (e.event) {
                    var t = e.event,
                      n = c.rowlist[t.part.dayIndex + r];
                    if (!n) return void (w.invalid = !0);
                    var a = t.part.top + n.top,
                      o = t.part.height;
                    r && ((a = n.top), (o = n.height));
                    var l = t.start().addTime(i),
                      s = t.end().addTime(i),
                      d = {};
                    (d.event = t),
                      (d.start = l),
                      (d.end = s),
                      (d.resource = n.id),
                      (d.overlapping = !1),
                      w.list.push(d);
                    var h = c.getPixels(l),
                      u = c.getPixels(s),
                      f = DayPilot.DateUtil.diff(t.rawend(), t.start());
                    f = DayPilot.Util.atLeast(f, 1);
                    var v = R.useBox(f),
                      p = v ? h.boxLeft : h.left,
                      g = v ? u.boxRight - p : u.left - p,
                      m = document.createElement('div');
                    (m.style.position = 'absolute'),
                      (m.style.left = p + 'px'),
                      (m.style.top = a + 'px'),
                      (m.style.height = o + 'px'),
                      (m.style.width = g + 'px'),
                      (m.style.zIndex = 101),
                      (m.style.overflow = 'hidden'),
                      (m.className = c.r('_shadow')),
                      (m.info = d);
                    var y = document.createElement('div');
                    (y.className = c.r('_shadow_inner')),
                      m.appendChild(y),
                      c.Xg.appendChild(m),
                      w.divs.push(m);
                  }
                }),
                w.invalid)
              ) {
                var l = c.r('_shadow_overlap');
                return void DayPilot.list(w.divs).each(function(e) {
                  DayPilot.Util.addClass(e, l);
                });
              }
              DayPilot.list(w.divs).each(function(e) {
                if (e.info) {
                  var t = e,
                    i = e.info,
                    a = e.info.event,
                    o = c.rowlist[a.part.dayIndex + r],
                    l = c.getPixels(i.start),
                    s = c.getPixels(i.end),
                    d = l.left,
                    h = s.left - d,
                    u = DayPilot.list(w.list)
                      .map(function(e) {
                        return e.event.data;
                      })
                      .add(n.movingEvent.data);
                  c.Sj(t, o, d, h, u),
                    c.Tj(t, i.start, i.end, i.resource),
                    t.overlapping && ((i.overlapping = !0), (w.forbidden = !0));
                }
              });
            }
          }),
          (w.clear = function() {
            DayPilot.de(w.divs), (w.divs = []);
          }),
          (this.Wj = function() {
            var e = c.coords,
              t = n.resizing.dpBorder,
              i = n.resizing.event,
              a = i.part.left;
            'right' == t && (a += i.part.width);
            var o,
              r,
              l = n.resizing.event.calendar.cellWidth,
              s = n.resizing.event.part.width,
              d = n.resizing.event.part.left,
              h = 0,
              u = e.x - a,
              f = c.snapToGrid && c.snapToGridEventResizing;
            if ('right' === t) {
              if (((o = d), f)) {
                var v = c.Hh(s + d + u).cell,
                  p = c.Hh(d).cell,
                  g = p.left + p.width - d;
                (r = v.left + v.width - d), r < g && (r = g);
              } else r = s + u;
              var m = c.jh();
              d + r > m && (r = m - d),
                (n.resizingShadow.left = d),
                (n.resizingShadow.width = r);
            } else {
              if ('left' !== t) throw 'Invalid dpBorder.';
              f
                ? (u >= s && (u = s),
                  (o = Math.floor((d + u + 0) / l) * l),
                  o < h && (o = h))
                : (o = d + u),
                (r = s - (o - d));
              var y = d + s,
                b = l;
              f ? 'Never' === c.useEventBoxes && (b = s < l ? s : 1) : (b = 1),
                r < b && ((r = b), (o = y - r)),
                (n.resizingShadow.left = o),
                (n.resizingShadow.width = r);
            }
            !(function() {
              n.resizingShadow.overlapping = !1;
              var e = n.resizing.event,
                t = c.rowlist[e.part.dayIndex],
                i = o,
                a = r;
              c.Sj(n.resizingShadow, t, i, a, e.data);
              var l = n.resizingShadow;
              if (l.start) {
                var s = { start: l.start, end: c.Jf(l.end) };
                c.Tj(n.resizingShadow, s.start, s.end, t.id);
              }
            })(),
              c.Xj();
          }),
          (this.Fj = function() {
            this.nav.scroll;
            if (c.coords && n.movingEvent) {
              c.nh();
              var e = n.movingShadow,
                t = this.Ti(n.movingEvent);
              if (!c.Ui(t.rowIndex)) {
                var i = n.movingEvent,
                  a = 0,
                  o = 0;
                !(function() {
                  if (c.sg) {
                    var e = t.relativeY,
                      i = c.Hh(t.left).x,
                      n = t.row,
                      r = n.evColumns[i],
                      l = r.events.find(function(t) {
                        return (
                          e < t.part.top + t.part.height + c.eventMarginBottom
                        );
                      });
                    l || (l = r.events.last()),
                      l &&
                        ((o = l.part.top),
                        (a = DayPilot.indexOf(r.events, l)),
                        e - l.part.top > l.part.height / 2 &&
                          ((o =
                            l.part.top +
                            l.part.height +
                            c.eventMarginBottom / 2),
                          (a += 1)));
                  } else {
                    for (
                      var e = t.relativeY,
                        n = t.row,
                        s = 0,
                        d = c.Lc.eventHeight(),
                        h = n.lines.length,
                        u = 0;
                      u < n.lines.length;
                      u++
                    ) {
                      if (n.lines[u].isFree(t.left, c.cellWidth)) {
                        h = u;
                        break;
                      }
                    }
                    var f = Math.floor((e - s + d / 2) / d),
                      f = Math.min(h, f),
                      f = DayPilot.Util.atLeast(0, f);
                    (a = f),
                      (o =
                        c.rowMarginTop +
                        a * (c.Lc.eventHeight() + c.eventMarginBottom) +
                        c.eventMarginBottom / 2);
                  }
                })(),
                  o > 0 && (o -= 3);
                var r =
                    i.cache && 'undefined' != typeof i.cache.moveVDisabled
                      ? !i.cache.moveVDisabled
                      : !i.data.moveVDisabled,
                  l =
                    i.cache && 'undefined' != typeof i.cache.moveHDisabled
                      ? !i.cache.moveHDisabled
                      : !i.data.moveHDisabled,
                  s = !w.additional().isEmpty();
                if (
                  (s && 'Disabled' === c.multiMoveVerticalMode && (r = !1), r)
                )
                  if (this.Ui(t.rowIndex)) {
                    var d = e.row,
                      h = 1;
                    if (!d) return;
                    h = t.rowIndex < d.index ? 1 : -1;
                    for (var u = t.rowIndex; u !== d.index; u += h) {
                      var f = this.rowlist[u];
                      if (!this.Ui(u) && !f.hidden) {
                        (e.style.top = f.top + 'px'),
                          (e.style.height =
                            DayPilot.Util.atLeast(f.height, 0) + 'px'),
                          (e.row = f),
                          c.eventMoveToPosition &&
                            ((a = h > 0 ? 0 : f.lines.length - 1),
                            (e.style.top = t.top + o + 'px'),
                            (e.style.height = '3px'),
                            (e.line = a));
                        break;
                      }
                    }
                  } else
                    (e.row = t.row),
                      (e.style.height =
                        DayPilot.Util.atLeast(t.row.height, 0) + 'px'),
                      (e.style.top = t.top + 'px'),
                      c.eventMoveToPosition &&
                        ((e.style.top = t.top + o + 'px'),
                        (e.style.height = '3px'),
                        (e.line = a));
                else {
                  for (
                    var d = c.rowlist[i.part.dayIndex],
                      p = d.lines.length,
                      u = 0;
                    u < d.lines.length;
                    u++
                  ) {
                    if (d.lines[u].isFree(t.left, c.cellWidth)) {
                      p = u;
                      break;
                    }
                  }
                  if (
                    (s ||
                      ((e.style.height =
                        DayPilot.Util.atLeast(d.height, 0) + 'px'),
                      (e.style.top = d.top + 'px')),
                    (e.row = d),
                    c.eventMoveToPosition && !s)
                  )
                    if (t.row === d)
                      (e.style.top = d.top + o + 'px'),
                        (e.style.height = '3px'),
                        (e.line = a);
                    else {
                      var g =
                        t.rowIndex > d.index && p > 0
                          ? p * c.Lc.eventHeight() - 3
                          : 0;
                      (e.style.top = d.top + g + 'px'),
                        (e.style.height = '3px'),
                        (e.line = 0);
                    }
                }
                l
                  ? ((e.style.left = t.left + 'px'),
                    c.eventMoveToPosition
                      ? (e.style.width = c.cellWidth + 'px')
                      : (e.style.width = t.width + 'px'),
                    (e.start = t.start),
                    (e.end = t.end))
                  : ((e.style.left = i.part.left + 'px'),
                    (e.start = i.start()),
                    (e.end = i.rawend()),
                    (t.left = i.part.left)),
                  (function() {
                    e.overlapping = !1;
                    var a = e.row,
                      o = i.data,
                      r = t.width,
                      l = t.left,
                      s = DayPilot.list(w.list)
                        .map(function(e) {
                          return e.event.data;
                        })
                        .add(o);
                    c.Sj(e, a, l, r, s),
                      c.Tj(n.movingShadow, e.start, e.end, e.row.id);
                  })(),
                  (function() {
                    var t = c.bd;
                    if (
                      !t ||
                      t.start.getTime() !== e.start.getTime() ||
                      t.end.getTime() !== e.end.getTime() ||
                      t.resource !== e.row.id
                    ) {
                      t &&
                        (DayPilot.Util.removeClass(e, t.cssClass),
                        (e.firstChild.innerHTML = '')),
                        w.update();
                      var r = !!n.drag && i.part.external,
                        l = {};
                      (l.start = e.start),
                        (l.end = c.Jf(e.end)),
                        (l.duration = new DayPilot.Duration(l.start, l.end)),
                        (l.e = i),
                        (l.external = r),
                        (l.resource = e.row.id),
                        (l.html = null),
                        (l.row = c.ui(e.row)),
                        (l.position = e.line),
                        (l.overlapping = e.overlapping || w.forbidden),
                        (l.allowed = !0),
                        (l.left = {}),
                        (l.left.html = l.start.toString(
                          c.eventMovingStartEndFormat,
                          R.locale()
                        )),
                        (l.left.enabled = c.eventMovingStartEndEnabled),
                        (l.left.space = 5),
                        (l.left.width = null),
                        (l.right = {}),
                        (l.right.html = l.end.toString(
                          c.eventMovingStartEndFormat,
                          R.locale()
                        )),
                        (l.right.enabled = c.eventMovingStartEndEnabled),
                        (l.right.space = 5),
                        (l.right.width = null),
                        (l.multimove = DayPilot.list(w.list)),
                        (l.shift = c.coords.shift),
                        (l.ctrl = c.coords.ctrl),
                        (l.meta = c.coords.meta),
                        (l.alt = c.coords.alt),
                        (l.areaData = DayPilot.Global.movingAreaData),
                        (l.link = null),
                        (l.cssClass = null),
                        (l.html = null);
                      var s = {};
                      (s.event = i),
                        (s.start = l.start),
                        (s.end = l.end),
                        (s.overlapping = l.overlapping),
                        (s.resource = l.resource),
                        l.multimove.splice(0, 0, s),
                        (c.bd = l);
                      var d = {
                        start: l.start,
                        end: l.end,
                        resource: l.resource
                      };
                      if (
                        ('function' == typeof c.onEventMoving &&
                          c.onEventMoving(l),
                        (e.allowed = l.allowed),
                        DayPilot.Util.addClass(e, l.cssClass),
                        l.html && (e.firstChild.innerHTML = l.html),
                        l.start !== d.start || l.end !== d.end)
                      ) {
                        var h = l.start,
                          u = c.jf(l.end);
                        (e.start = h), (e.end = u);
                        var f = DayPilot.DateUtil.diff(h, u);
                        f = DayPilot.Util.atLeast(f, 1);
                        var p = R.useBox(f),
                          g = p ? c.getPixels(h).boxLeft : c.getPixels(h).left,
                          m = p ? c.getPixels(u).boxRight : c.getPixels(u).left;
                        (e.style.left = g + 'px'),
                          (e.style.width = m - g + 'px');
                      }
                      if (l.resource !== d.resource) {
                        var y = c.$g(l.resource);
                        y &&
                          ((e.row = y),
                          (e.style.height =
                            DayPilot.Util.atLeast(y.height, 0) + 'px'),
                          (e.style.top = y.top + 'px'),
                          c.eventMoveToPosition &&
                            ((e.style.top = y.top + o + 'px'),
                            (e.style.height = '3px'),
                            (e.line = a)));
                      }
                      l.html
                        ? (e.firstChild.innerHTML = l.html)
                        : (e.firstChild.innerHTML = ''),
                        c.Yj(e, l),
                        c.Zj(n.movingShadow, l),
                        l.link &&
                          (DayPilot.Global.movingLink &&
                            DayPilot.Global.movingLink.clear(),
                          (DayPilot.Global.movingLink = v.drawLink2(
                            l.link.from,
                            e,
                            l.link
                          )));
                    }
                  })();
              }
            }
          }),
          (this.Sj = function(e, t, i, n, a) {
            if (!c.allowEventOverlap) {
              !(function() {
                e.overlapping = !1;
                for (var o = 0; o < t.lines.length; o++) {
                  if (!t.lines[o].isFree(i, n, a))
                    return void (e.overlapping = !0);
                }
                if (c.allowMultiRange) {
                  var r = t.index;
                  return DayPilot.list(H.list).some(function(t) {
                    var a = t.div,
                      o = parseInt(a.style.left),
                      l = parseInt(a.style.width),
                      s = t.start.y;
                    return (
                      e !== a &&
                      (s === r && DayPilot.Util.overlaps(i, i + n, o, o + l))
                    );
                  })
                    ? void (e.overlapping = !0)
                    : void 0;
                }
              })();
              var o = e.overlapping,
                r = c.r('_shadow_overlap');
              o
                ? DayPilot.Util.addClass(e, r)
                : DayPilot.Util.removeClass(e, r);
            }
          }),
          (this.Tj = function(e, t, i, n) {
            if ((c.cellConfig && c.cellConfig.hasDisabled) || c.Ah.$j) {
              c.vb(t, i, n) && (e.overlapping = !0);
              var a = c.r('_shadow_overlap');
              e.overlapping
                ? DayPilot.Util.addClass(e, a)
                : DayPilot.Util.removeClass(e, a);
            }
          }),
          (this.vb = function(e, t, i) {
            var n = c.rows.find(i).cells.forRange(e, t);
            return (
              !!n &&
              n.some(function(e) {
                return e.properties.disabled;
              })
            );
          }),
          (this.Yj = function(e, t) {
            var i = c.r('_shadow_forbidden');
            !t.allowed || w.invalid
              ? DayPilot.Util.addClass(e, i)
              : DayPilot.Util.removeClass(e, i);
          }),
          (this.Zj = function(e, t) {
            if ((this._j(), e.calendar === c)) {
              var i = {};
              (i.left = parseInt(e.style.left)),
                (i.top = parseInt(e.style.top)),
                (i.right = i.left + parseInt(e.style.width));
              var n = t.left.width || 10,
                a = document.createElement('div');
              if (
                ((a.style.position = 'absolute'),
                (a.style.left = i.left - n - t.left.space + 'px'),
                (a.style.top = i.top + 'px'),
                (a.style.height = c.eventHeight + 'px'),
                (a.style.overflow = 'hidden'),
                (a.style.boxSizing = 'border-box'),
                (a.innerHTML = t.left.html),
                (a.className = this.r('_event_move_left')),
                (a.onmousemove = c.ak),
                DayPilot.browser.ie && (a.style.display = 'block'),
                t.left.enabled)
              )
                if ((c.divHover.appendChild(a), t.left.width))
                  a.style.width = n + 'px';
                else {
                  a.style.whiteSpace = 'nowrap';
                  var o = a.offsetWidth,
                    r = i.left - o - t.left.space;
                  (a.style.width = o + 'px'), (a.style.left = r + 'px');
                  var l = c.nav.scroll.scrollLeft;
                  r < l && c.divHover.removeChild(a);
                  var s = c.bk() + (r - l);
                  s > 0 &&
                    ((a.style.left = s + 'px'),
                    (a.style.top =
                      i.top - c.nav.scroll.scrollTop + c.lh() + 'px'),
                    c.nav.top.appendChild(a),
                    c.elements.hover.push(a));
                }
              var n = t.right.width || 10,
                d = document.createElement('div');
              if (
                ((d.style.position = 'absolute'),
                (d.style.left = i.right + t.right.space + 'px'),
                (d.style.top = i.top + 'px'),
                (d.style.height = c.eventHeight + 'px'),
                (d.style.overflow = 'hidden'),
                (d.style.boxSizing = 'border-box'),
                t.right.width
                  ? (d.style.width = t.right.width + 'px')
                  : (d.style.whiteSpace = 'nowrap'),
                (d.innerHTML = t.right.html),
                (d.className = this.r('_event_move_right')),
                (d.onmousemove = c.ak),
                DayPilot.browser.ie && (d.style.display = 'block'),
                t.right.enabled)
              ) {
                c.divHover.appendChild(d);
                var h = c.nav.scroll.scrollWidth;
                i.right + t.right.space + d.offsetWidth >= h &&
                  c.divHover.removeChild(d);
              }
            }
          }),
          (this._j = function() {
            (c.divHover.innerHTML = ''),
              DayPilot.de(c.elements.hover),
              (c.elements.hover = []);
          }),
          (this.ck = function() {
            var e = c.rowHeaderColumnDefaultWidth;
            this.rowHeaderColumns
              ? (this.rowHeaderCols = DayPilot.Util.propArray(
                  this.rowHeaderColumns,
                  'width',
                  e
                ))
              : (this.rowHeaderCols = null);
          }),
          (this.bk = function() {
            var e = 0;
            if ((this.ck(), this.rowHeaderCols))
              for (var t = 0; t < this.rowHeaderCols.length; t++)
                e += this.rowHeaderCols[t];
            else e = this.rowHeaderWidth;
            return e;
          }),
          (this.dk = function() {
            return this.ek(c.progressiveRowRenderingPreload);
          }),
          (this.ek = function(e) {
            var e = e || 0,
              t = 0,
              i = c.rowlist.length;
            if (c.progressiveRowRendering) {
              var n = c.ah();
              (t = n.yStart),
                (i = n.yEnd + 1),
                (t = DayPilot.Util.atLeast(0, t - e)),
                (i = Math.min(c.rowlist.length, i + e));
            }
            return { start: t, end: i };
          }),
          (this.fk = function() {
            if (this.qd()) {
              var e = !1,
                t = 0;
              if (this.rowHeaderWidthAutoFit) {
                var i = this.divHeader;
                if (!i) return;
                if (!i.rows) return;
                for (var n = [], a = c.dk(), o = a.start; o < a.end; o++) {
                  var r = i.rows[o];
                  if (r && !r.hidden && !r.autofitDone) {
                    r.autofitDone = !0;
                    for (var l = 0; l < r.cells.length; l++) {
                      var s = r.cells[l].firstChild.firstChild;
                      if (s && s.style) {
                        var d = s.style.width,
                          h = s.style.right,
                          u = s.style.display;
                        (s.style.position = 'absolute'),
                          (s.style.width = 'auto'),
                          (s.style.right = 'auto'),
                          (s.style.whiteSpace = 'nowrap'),
                          (s.style.display = 'block');
                        var f = s.offsetWidth + 2;
                        (s.style.position = ''),
                          (s.style.width = d),
                          (s.style.right = h),
                          (s.style.display = u),
                          (s.style.whiteSpace = ''),
                          'undefined' == typeof n[l] && (n[l] = 0),
                          (n[l] = Math.max(n[l], f));
                      }
                    }
                  }
                }
                if ((this.ck(), this.rowHeaderCols))
                  for (var o = 0; o < n.length; o++)
                    this.rowHeaderCols[o] &&
                      (n[o] > this.rowHeaderCols[o] &&
                        ((this.rowHeaderCols[o] = n[o]), (e = !0)),
                      (t += this.rowHeaderCols[o]));
                else {
                  t = this.rowHeaderWidth;
                  var v = R.splitterWidth();
                  this.rowHeaderWidth <
                    n[0] + c.rowHeaderWidthMarginRight + v &&
                    ((t = n[0] + c.rowHeaderWidthMarginRight + v), (e = !0));
                }
              }
              e &&
                (this.Si &&
                  ((this.Si.widths = this.rowHeaderCols),
                  this.Si.updateWidths(),
                  DayPilot.Util.updatePropsFromArray(
                    this.rowHeaderColumns,
                    'width',
                    this.rowHeaderCols
                  )),
                this.rowHeaderCols || (this.rowHeaderWidth = t),
                this.Wh(),
                this.gk());
            }
          }),
          (this.Eg = function() {
            (this.hk = !0), this.ck();
            var e = this.bk(),
              t = this.divHeader;
            if (t) {
              if (DayPilot.browser.ie)
                for (var i = 0; i < t.childNodes.length; i++)
                  DayPilot.de(t.childNodes[i]);
              (t.innerHTML = ''), DayPilot.puc(t);
            } else
              (t = document.createElement('div')),
                (t.onmousemove = function() {
                  c.Z();
                }),
                (this.divHeader = t);
            if (
              ((t.style.width = e + 'px'),
              (t.style.height = c.wg + 'px'),
              (t.rows = []),
              c.progressiveRowRendering)
            )
              a();
            else for (var n = this.rowlist.length, i = 0; i < n; i++) c.ik(i);
            c.jk(),
              this.divResScroll.appendChild(t),
              this.rowHeaderWidthAutoFit && this.fk();
          }),
          (this.Xh = function() {
            if (c.progressiveRowRendering) {
              for (var e = this.dk(), t = 0; t < c.rowlist.length; t++)
                e.start <= t && t < e.end ? c.ik(t) : c.kk(t);
              if (this.rowHeaderWidthAutoFit) {
                var i = c.mh();
                this.fk();
                if (c.mh() !== i) {
                  var n = this.cellWidth;
                  this.Bg();
                  this.cellWidth !== n &&
                    (c.Cg(), c.Fg(), c.ra(), c.ja(), c.lk());
                }
              }
            }
          }),
          (this.jk = function() {
            if (!c.Lc.mobile()) {
              var e = c.divHeader,
                t = document.createElement('div');
              (t.style.position = 'absolute'),
                e.appendChild(t),
                (c.nav.resScrollSpace = t),
                t.setAttribute('unselectable', 'on');
              var i = document.createElement('div');
              (i.style.position = 'relative'),
                (i.style.height = '100%'),
                (i.className = this.r('_rowheader')),
                t.appendChild(i);
              var n = this.bk(),
                t = c.nav.resScrollSpace;
              (t.style.width = n + 'px'),
                (t.style.top = this.wg + 'px'),
                (t.style.height = c.divResScroll.clientHeight + 20 + 'px');
            }
          }),
          (this.kk = function(e) {
            var t = c.divHeader.rows[e];
            t && (DayPilot.de(t.cells), (c.divHeader.rows[e] = null));
          }),
          (this.fi = function(e) {
            this.kk(e), this.ik(e);
          }),
          (this.ik = function(e) {
            function t() {
              var t = document.createElement('div');
              if (c.treeEnabled && !s.isNewRow) {
                var i = s.level * c.treeIndent + c.treeImageMarginLeft;
                D && (i += k);
                var n = c.treeImageWidth,
                  a = c.treeImageHeight;
                (t.style.marginLeft = i + 'px'),
                  (t.style.position = 'relative'),
                  (t.className = c.r('_rowheader_inner_indent'));
                var o = document.createElement('div');
                (o.style.width = n + 'px'),
                  (o.style.height = a + 'px'),
                  (o.style.backgroundRepeat = 'no-repeat'),
                  (o.style.position = 'absolute'),
                  (o.style.top = c.treeImageMarginTop + 'px'),
                  s.loaded || 0 !== s.children.length
                    ? s.children.length > 0
                      ? (s.expanded
                          ? (o.className = c.r('_tree_image_collapse'))
                          : (o.className = c.r('_tree_image_expand')),
                        (o.style.cursor = 'pointer'),
                        (o.index = e),
                        (o.onclick = function(e) {
                          c.Ej(this.index),
                            (e = e || window.event),
                            (e.cancelBubble = !0);
                        }))
                      : (o.className = c.r('_tree_image_no_children'))
                    : ((o.className = c.r('_tree_image_expand')),
                      (o.style.cursor = 'pointer'),
                      (o.index = e),
                      (o.onclick = function(e) {
                        c.uk(this.index),
                          (e = e || window.event),
                          (e.cancelBubble = !0);
                      })),
                  t.appendChild(o);
              }
              var r = document.createElement('div');
              if (c.treeEnabled) {
                var l = c.treeImageMarginRight;
                r.style.marginLeft = n + l + 'px';
              }
              (r.innerHTML = f.html || f.text || ''),
                (r.className = c.r('_rowheader_inner_text')),
                (h.textDiv = r),
                (h.cellDiv = g),
                t.appendChild(r),
                w.appendChild(t);
              var d = f.verticalAlignment || u.verticalAlignment;
              if (d)
                switch (((w.style.display = 'flex'), d)) {
                  case 'center':
                    w.style.alignItems = 'center';
                    break;
                  case 'top':
                    w.style.alignItems = 'flex-start';
                    break;
                  case 'bottom':
                    w.style.alignItems = 'flex-end';
                }
            }
            var i = c.divHeader,
              n = this.divHeader;
            if (!n.rows[e]) {
              var a = this.rowHeaderCols,
                o = a ? this.rowHeaderCols.length : 0,
                r = this.bk(),
                s = this.rowlist[e];
              if (s && !s.hidden) {
                var d = this.Pj(s);
                (n.rows[e] = {}), (n.rows[e].cells = []);
                var h = document.createElement('div');
                (h.style.position = 'absolute'),
                  (h.style.top = s.top + 'px'),
                  (h.row = s),
                  (h.index = e);
                var u = d.row,
                  f = u;
                'Standard' === c.rowHeaderColumnsMode &&
                  DayPilot.isArray(c.rowHeaderColumns) &&
                  (f = d.row.columns[0] || {});
                var v = a ? a[0] : this.rowHeaderWidth;
                (h.style.width = v + 'px'), (h.style.border = '0px none');
                var p = f.toolTip || u.toolTip;
                p && (h.title = p),
                  h.setAttribute('unselectable', 'on'),
                  'undefined' != typeof u.ariaLabel
                    ? h.setAttribute('aria-label', u.ariaLabel)
                    : h.setAttribute('aria-label', f.html || f.text || ''),
                  (h.onmouseenter = c.mk),
                  (h.onmouseleave = c.nk),
                  (h.onmousemove = c.ok),
                  (h.onmouseout = c.pk),
                  (h.onmouseup = c.qk),
                  (h.oncontextmenu = c.rk),
                  (h.onclick = c.sk),
                  (h.ondblclick = c.tk);
                var g = document.createElement('div');
                (g.style.width = v + 'px'),
                  g.setAttribute('unselectable', 'on'),
                  (g.className = this.r('_rowheader')),
                  u.cssClass && DayPilot.Util.addClass(g, u.cssClass),
                  f.cssClass && DayPilot.Util.addClass(g, f.cssClass);
                var m = f.backColor || u.backColor;
                m && (g.style.background = m);
                var y = f.fontColor || u.fontColor;
                y && (g.style.color = y);
                var b = f.horizontalAlignment || u.horizontalAlignment;
                b && (g.style.textAlign = b),
                  (g.style.height = s.height + 'px'),
                  (g.style.overflow = 'hidden'),
                  (g.style.position = 'relative');
                var w = document.createElement('div');
                w.setAttribute('unselectable', 'on'),
                  (w.className = this.r('_rowheader_inner')),
                  g.appendChild(w);
                var D = 'Disabled' !== this.rowMoveHandling,
                  k = 10,
                  P = f.areas || [];
                D &&
                  !u.moveDisabled &&
                  P.push({
                    v: 'Hover',
                    w: k,
                    bottom: 0,
                    top: 0,
                    left: 0,
                    css: c.r('_rowmove_handle'),
                    action: 'Move'
                  });
                var x = c.ui(s);
                DayPilot.Areas.attach(g, x, {
                  areas: P,
                  allowed: function() {
                    return !l.row;
                  }
                });
                var C = document.createElement('div');
                if (
                  ((C.style.position = 'absolute'),
                  (C.style.bottom = '0px'),
                  (C.style.width = '100%'),
                  (C.style.height = '1px'),
                  (C.className = this.r(T.resourcedivider)),
                  g.appendChild(C),
                  t(),
                  h.appendChild(g),
                  i.appendChild(h),
                  n.rows[e].cells.push(h),
                  s.columns && 0 !== s.columns.length)
                )
                  for (
                    var S = v,
                      E = 'Standard' === c.rowHeaderColumnsMode ? 0 : 1,
                      A = 1;
                    A < o;
                    A++
                  ) {
                    var f = u.columns[A - E] || {},
                      h = document.createElement('div');
                    (h.style.position = 'absolute'),
                      (h.style.top = s.top + 'px'),
                      (h.style.left = S + 'px'),
                      i.appendChild(h),
                      n.rows[e].cells.push(h),
                      (h.row = s),
                      (h.index = e);
                    var M = f.toolTip || u.toolTip;
                    M && (h.title = M),
                      h.setAttribute('unselectable', 'on'),
                      (h.onmousemove = c.ok),
                      (h.onmouseout = c.pk),
                      (h.onmouseup = c.qk),
                      (h.oncontextmenu = c.rk),
                      (h.onclick = c.sk),
                      (h.ondblclick = c.tk);
                    var g = document.createElement('div'),
                      H = a[A];
                    S += H;
                    var m = f.backColor || u.backColor;
                    m && (g.style.backgroundColor = m);
                    var y = f.fontColor || u.fontColor;
                    y && (g.style.color = y),
                      (g.style.width = H + 'px'),
                      (g.style.height = s.height + 'px'),
                      (g.style.overflow = 'hidden'),
                      (g.style.position = 'relative'),
                      g.setAttribute('unselectable', 'on'),
                      DayPilot.Util.addClass(g, this.r('_rowheader')),
                      DayPilot.Util.addClass(g, this.r('_rowheadercol')),
                      DayPilot.Util.addClass(g, this.r('_rowheadercol' + A)),
                      u.cssClass && DayPilot.Util.addClass(g, u.cssClass),
                      f.cssClass && DayPilot.Util.addClass(g, f.cssClass);
                    var _ = f.horizontalAlignment || u.horizontalAlignment;
                    _ && (g.style.textAlign = _);
                    var w = document.createElement('div');
                    w.setAttribute('unselectable', 'on'),
                      (w.className = this.r('_rowheader_inner')),
                      g.appendChild(w);
                    var C = document.createElement('div');
                    (C.style.position = 'absolute'),
                      (C.style.bottom = '0px'),
                      (C.style.width = '100%'),
                      (C.style.height = '1px'),
                      (C.className = this.r('_resourcedivider')),
                      g.appendChild(C);
                    var R = document.createElement('div'),
                      B = f.html || f.text || '';
                    (R.innerHTML = B),
                      (h.textDiv = R),
                      (h.cellDiv = g),
                      w.appendChild(R),
                      DayPilot.Areas.attach(g, x, {
                        areas: f.areas,
                        allowed: function() {
                          return !l.row;
                        }
                      }),
                      h.appendChild(g);
                  }
                else (h.colSpan = o > 0 ? o : 1), (g.style.width = r + 'px');
              }
            }
          }),
          (this.rk = function(e) {
            if ('Disabled' === c.rowRightClickHandling) return !1;
            var t = this.row,
              i = c.ui(t),
              n = {};
            if (
              ((n.ctrl = e.ctrlKey),
              (n.shift = e.shiftKey),
              (n.meta = e.metaKey),
              (n.originalEvent = e),
              (n.row = i),
              (n.preventDefault = function() {
                this.preventDefault.value = !0;
              }),
              'function' != typeof c.onRowRightClick ||
                (c.onRowRightClick(n), !n.preventDefault.value))
            ) {
              switch (c.rowRightClickHandling) {
                case 'ContextMenu':
                  t.contextMenu && t.contextMenu.show(i);
              }
              return (
                'function' == typeof c.onRowRightClicked &&
                  c.onRowRightClicked(n),
                !1
              );
            }
          }),
          (this.sk = function(e) {
            if (!P.cancelClick) {
              var t = this.row,
                i = c.ui(t, this.index);
              return t.isNewRow
                ? void c.Ai.edit(t)
                : void c.xi(i, e.ctrlKey, e.shiftKey, e.metaKey);
            }
          }),
          (this.tk = function(e) {
            if (c.timeouts.resClick) {
              for (var t in c.timeouts.resClick)
                window.clearTimeout(c.timeouts.resClick[t]);
              c.timeouts.resClick = null;
            }
            var i = this.row,
              n = c.ui(i, this.index);
            if (c.Ba()) {
              var a = {};
              if (
                ((a.resource = n),
                (a.row = n),
                (a.ctrl = e.ctrlKey),
                (a.shift = e.shiftKey),
                (a.meta = e.metaKey),
                (a.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                'function' == typeof c.onRowDoubleClick &&
                  (c.onRowDoubleClick(a), a.preventDefault.value))
              )
                return;
              switch (c.rowDoubleClickHandling) {
                case 'PostBack':
                  c.rowDoubleClickPostBack(n);
                  break;
                case 'CallBack':
                  c.rowDoubleClickCallBack(n);
                  break;
                case 'Select':
                  c.zi(i, e.ctrlKey, e.shiftKey, e.metaKey);
                  break;
                case 'Edit':
                  c.Ai.edit(i);
              }
              'function' == typeof c.onRowDoubleClicked &&
                c.onRowDoubleClicked(a);
            } else
              switch (c.rowDoubleClickHandling) {
                case 'PostBack':
                  c.rowDoubleClickPostBack(n);
                  break;
                case 'CallBack':
                  c.rowDoubleClickCallBack(n);
                  break;
                case 'JavaScript':
                  c.onRowDoubleClick(n);
                  break;
                case 'Select':
                  c.zi(i, e.ctrlKey, e.shiftKey, e.metaKey);
                  break;
                case 'Edit':
                  c.Ai.edit(i);
              }
          }),
          (this.rowDoubleClickPostBack = function(e, t) {
            var i = {};
            (i.resource = e), this.K('RowDoubleClick', i, t);
          }),
          (this.rowDoubleClickCallBack = function(e, t) {
            var i = {};
            (i.resource = e), this.M('RowDoubleClick', i, t);
          }),
          (this.vk = function(e) {
            if ('Disabled' !== c.timeHeaderClickHandling) {
              var t = {};
              (t.start = this.cell.start),
                (t.level = this.cell.level),
                (t.end = this.cell.end),
                t.end ||
                  (t.end = new DayPilot.Date(t.start).addMinutes(
                    c.cellDuration
                  )),
                c.Bi(t);
            }
          }),
          (this.wk = function(e) {
            var t = c.rowlist[e];
            if (t.hidden) return 0;
            var i = t.height;
            return 'number' == typeof t.forcedHeight && (i = t.forcedHeight), i;
          }),
          (this.xk = function(e, t, i) {
            function n(e) {
              var i = c.wk(e),
                n = t;
              'hide' === t
                ? (n = 0)
                : 'show' === t && (n = c.rowlist[e].height);
              var a = n - i;
              r.push({ i: e, now: i, dist: a });
            }
            function a(e) {
              l || (l = e);
              var t = e - l,
                n = Math.min(1, t / o);
              0 === n && (n = 0.1),
                r.forEach(function(e) {
                  var t = e.now + e.dist * n;
                  c.rowlist[e.i].forcedHeight = t;
                }),
                c.yk(),
                n < 1
                  ? window.requestAnimationFrame(a)
                  : 'function' == typeof i && i();
            }
            var o = 200,
              r = [];
            if ('number' == typeof e) n(e);
            else {
              if (!DayPilot.isArray(e))
                throw new DayPilot.Exception(
                  'Unexpected param (must be number/array).'
                );
              e.forEach(function(e) {
                n(e);
              });
            }
            var l = 0;
            window.requestAnimationFrame(a);
          }),
          (this.ui = function(e) {
            return new DayPilot.Row(e, c);
          }),
          (this.zh = function(e) {
            var t = this.rowlist[e];
            if ((t.events || t.resetEvents(), !t.data)) {
              (t.data = {}),
                (t.data.start = new DayPilot.Date(t.start)),
                (t.data.startTicks = t.data.start.getTime());
              var i = this.Dh().getTime() - this.Ja().getTime();
              (t.data.end = R.isResourcesView()
                ? t.data.start.addTime(i)
                : t.data.start.addDays(1)),
                (t.data.endTicks = t.data.end.getTime()),
                (t.data.offset = t.start.getTime() - this.Ja().getTime()),
                (t.data.i = e);
            }
          }),
          (this.zk = {}),
          (this.ja = function(e) {
            if (
              (e
                ? (this.events.list = e)
                : this.events.list || (this.events.list = []),
              null != this.events.list && !DayPilot.isArray(this.events.list))
            )
              throw 'DayPilot.Scheduler.events.list expects an array object';
            D.prepareRows(!0);
            var t,
              i = this.events.list,
              n = i.length,
              a = 'function' == typeof this.onBeforeEventRender,
              o = 'Resources' === c.viewType;
            c.zk = {};
            for (var r = 0; r < n; r++) {
              var l = i[r];
              if (l) {
                if ('object' != typeof l)
                  throw new DayPilot.Exception(
                    'Event data item must be an object'
                  );
                if (!l.start)
                  throw new DayPilot.Exception(
                    "Event data item must specify 'start' property"
                  );
                if (l instanceof DayPilot.Event)
                  throw 'DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.';
                var s = 'string' == typeof l.id || 'number' == typeof l.id,
                  d =
                    'string' == typeof l.recurrentMasterId ||
                    'number' == typeof l.recurrentMasterId;
                if (!s) {
                  var d =
                    'string' == typeof l.recurrentMasterId ||
                    'number' == typeof l.recurrentMasterId;
                  if (!d)
                    throw new DayPilot.Exception(
                      'All events must have an id property (string or number)'
                    );
                }
                if (!c.temp.allowDuplicateEventIds) {
                  var h = '_' + l.id;
                  if (
                    (!s &&
                      d &&
                      (h =
                        '#' +
                        l.recurrentMasterId +
                        '#' +
                        new DayPilot.Date(l.start)),
                    c.zk[h])
                  )
                    throw new DayPilot.Exception(
                      'Duplicate event IDs are not allowed: ' + h
                    );
                  c.zk[h] = !0;
                }
                'Milestone' === l.type && (l.end = l.start),
                  a && this.vd(r),
                  '*' === l.resource
                    ? (t = c.rowlist)
                    : o
                    ? (t = DayPilot.list(D.rowcache[l.resource]).concat(
                        D.rowcache['*']
                      ))
                    : 'Days' === c.viewType
                    ? (t = c.rowlist)
                    : 'Gantt' === c.viewType && (t = D.rowcache[l.id]);
                for (var u = 0; t && u < t.length; u++) {
                  var f = t[u],
                    v = this.dj(l, f);
                  v && a && (v.cache = this.E.events[r]);
                }
              }
            }
            DayPilot.list(c.rowlist).each(function(e) {
              c.hj(e);
            }),
              this.Qh();
          }),
          (this.Ak = {});
        var D = this.Ak;
        (D.rowCache = {}),
          (D.prepareRows = function(e) {
            D.rowcache = {};
            for (var t = 0; t < c.rowlist.length; t++) {
              var i = c.rowlist[t];
              if ((e && i.resetEvents(), c.zh(t), i.id)) {
                var n = i.id.toString();
                D.rowcache[n] || (D.rowcache[n] = DayPilot.list()),
                  D.rowcache[n].push(i);
              }
            }
          }),
          (D.loadEvent = function(e) {}),
          (this.cj = function() {
            var e = {};
            if ('Resources' !== c.viewType) return !1;
            for (var t = 0; t < c.rowlist.length; t++) {
              var i = c.rowlist[t],
                n = i.id;
              if (e[n]) return !0;
              e[n] = !0;
            }
            return !1;
          }),
          (this.vd = function(e) {
            var t = this.E.events,
              i = this.events.list[e],
              n = {};
            i instanceof DayPilot.Event && (i = i.data);
            for (var a in i) n[a] = i[a];
            if (
              ('string' == typeof n.start &&
                (n.start = new DayPilot.Date(n.start)),
              'string' == typeof n.end && (n.end = new DayPilot.Date(n.end)),
              'function' == typeof this.onBeforeEventRender)
            ) {
              var o = {};
              (o.e = n), (o.data = n), this.onBeforeEventRender(o);
            }
            t[e] = n;
          }),
          (this.hj = function(e) {
            if (((e.lines = []), (e.sections = null), !e.isNewRow)) {
              this.sortDirections
                ? e.events.sort(this.Ed)
                : c.sg || e.events.sort(this.Dd);
              if (c.sg) return void S.loadRow(e);
              var t = c.groupConcurrentEvents;
              if (t)
                for (var i = 0; i < e.blocks.length; i++) e.blocks[i].clear();
              DayPilot.list(e.events).each(function(t) {
                if (!t.part.height)
                  return e.eventHeight
                    ? void (t.part.height = e.eventHeight)
                    : void (t.part.height = R.eventHeight());
              });
              for (var n = 0; n < e.events.length; n++) {
                var a = e.events[n];
                e.putIntoLine(a), t && e.putIntoBlock(a);
              }
              for (var o = 0, i = 0; i < e.lines.length; i++) {
                var r = e.lines[i];
                (r.top = o),
                  (o +=
                    ((r.height || e.eventHeight) * e.eventStackingLineHeight) /
                    100);
              }
              if (t)
                for (var n = 0; n < e.blocks.length; n++) {
                  var l = e.blocks[n];
                  (l.lines = []), l.events.sort(this.Ed);
                  for (var s = 0; s < l.events.length; s++) {
                    var a = l.events[s];
                    l.putIntoLine(a);
                  }
                  l.lines.length <= c.groupConcurrentEventsLimit &&
                    (l.expanded = !0);
                  var d = DayPilot.list(l.events)
                    .map(function(e) {
                      return e.id();
                    })
                    .some(function(e) {
                      return DayPilot.contains(c.Bk, e);
                    });
                  d && (l.expanded = !0);
                  for (var o = 0, i = 0; i < l.lines.length; i++) {
                    var r = l.lines[i];
                    (r.top = o),
                      (o +=
                        ((r.height || e.eventHeight) *
                          e.eventStackingLineHeight) /
                        100);
                  }
                }
            }
          }),
          (this.Ph = function(e) {
            e = DayPilot.ua(e);
            for (var t = 0; t < e.length; t++) {
              var i = e[t];
              c.hj(c.rowlist[i]);
            }
            if (c.sg) S.calculateEventPositions();
            else
              for (var t = 0; t < e.length; t++) {
                var i = e[t],
                  n = c.rowlist[i];
                c.Nj(n);
              }
          }),
          (this.rj = function() {
            var e = 'Manual' === c.scale ? c.itline[0].start : c.startDate;
            return DayPilot.list(c.rowlist).some(function(t) {
              return (
                !!t.start &&
                t.start.getTime() !== new DayPilot.Date(e).getTime()
              );
            });
          }),
          (this.dj = function(e, t) {
            if (!t.hideEvents) {
              var i = new DayPilot.Date(e.start),
                n = new DayPilot.Date(e.end);
              n = c.jf(n);
              var a = i.ticks,
                o = n.ticks;
              if (o < a) return null;
              var r = null;
              if ('function' == typeof c.onBeforeEventRender) {
                var l = DayPilot.indexOf(c.events.list, e);
                r = c.E.events[l];
              }
              if (r) {
                if (r.hidden) return null;
              } else if (e.hidden) return null;
              var s = !1;
              switch (this.viewType) {
                case 'Days':
                  s =
                    !(o <= t.data.startTicks || a >= t.data.endTicks) ||
                    (a === o && a === t.data.startTicks);
                  break;
                case 'Resources':
                  s =
                    (t.id === e.resource ||
                      '*' === t.id ||
                      '*' === e.resource) &&
                    (!(o <= t.data.startTicks || a >= t.data.endTicks) ||
                      (a === o && a === t.data.startTicks));
                  break;
                case 'Gantt':
                  s =
                    t.id === e.id &&
                    !(o <= t.data.startTicks || a >= t.data.endTicks);
              }
              if (!s) return null;
              var d = new DayPilot.Event(e, c);
              (d.part.dayIndex = t.data.i),
                (d.part.start = t.data.startTicks < a ? i : t.data.start),
                (d.part.end = t.data.endTicks > o ? n : t.data.end);
              var h = this.getPixels(d.part.start.addTime(-t.data.offset)),
                u = this.getPixels(d.part.end.addTime(-t.data.offset));
              d.part.start === d.part.end &&
                (u = this.getPixels(
                  d.part.end.addTime(-t.data.offset).addMilliseconds(1)
                )),
                r && r.height
                  ? (d.part.height = r.height)
                  : e.height && (d.part.height = e.height),
                (d.part.Ck = function() {
                  var e = this.height;
                  if (
                    c.eventVersionsEnabled &&
                    !DayPilot.list(d.data.versions).isEmpty()
                  ) {
                    var t = d.versions.length;
                    (e += t * c.eventVersionHeight),
                      (e += t * c.eventVersionMargin);
                  }
                  return e + c.eventMarginBottom;
                });
              var f = h.left,
                v = u.left;
              if (((d.part.startPixels = h), (d.part.endPixels = u), f === v)) {
                if (h.cut || u.cut) return null;
                var p =
                  (d.part.start.addTime(-t.data.offset).getTime() +
                    d.part.end.addTime(-t.data.offset).getTime()) /
                  2;
                if (c.getPixels(new DayPilot.Date(Math.floor(p))).cut)
                  return null;
              }
              d.part.box = R.useBox(o - a);
              var g = c.eventHeight;
              if ('Milestone' === e.type) {
                var m = e.width || g;
                (d.part.end = d.part.start),
                  (d.part.left = f - m / 2),
                  (d.part.width = m),
                  (d.part.barLeft = 0),
                  (d.part.barWidth = m);
              } else if (d.part.box) {
                var y = h.boxLeft,
                  b = u.boxRight;
                (d.part.left = y),
                  (d.part.width = b - y),
                  (d.part.barLeft = DayPilot.Util.atLeast(f - d.part.left, 0)),
                  (d.part.barWidth = DayPilot.Util.atLeast(v - f, 1));
              } else
                (d.part.left = f),
                  (d.part.width = DayPilot.Util.atLeast(v - f, 1)),
                  (d.part.barLeft = 0),
                  (d.part.barWidth = DayPilot.Util.atLeast(v - f - 1, 1));
              var w = c.eventMinWidth;
              if (
                ((d.part.width = Math.max(d.part.width, w)),
                c.eventVersionsEnabled && c.Dk(d, t),
                'function' == typeof c.onEventFilter && c.events.Cd)
              ) {
                var D = {};
                if (
                  ((D.filter = c.events.Cd),
                  (D.visible = !0),
                  (D.e = d),
                  c.onEventFilter(D),
                  !D.visible)
                )
                  return null;
              }
              return t.events.push(d), d;
            }
          }),
          (this.Dk = function(e, t) {
            e.versions = [];
            var i = e.data,
              n = DayPilot.list(i.versions);
            n.isEmpty() ||
              n.each(function(i) {
                var n = new DayPilot.Date(i.start),
                  a = new DayPilot.Date(i.end),
                  o = c.getPixels(n.addTime(-t.data.offset)),
                  r = c.getPixels(a.addTime(-t.data.offset));
                n.ticks === a.ticks &&
                  (r = c.getPixels(a.addTime(-t.data.offset).addTime(1)));
                var l = o.left,
                  s = r.left;
                if (l === s && (o.cut || r.cut)) return null;
                var d = {};
                (d.left = l),
                  (d.continueLeft = n < t.data.start),
                  (d.right = s),
                  (d.continueRight = a > t.data.end),
                  (d.width = s - l),
                  e.versions.push(d);
              });
          }),
          (this.Dd = function(e, t) {
            if (!(e && t && e.start && t.start)) return 0;
            var i = e.start().ticks - t.start().ticks;
            return 0 !== i ? i : t.end().ticks - e.end().ticks;
          }),
          (this.Ed = function(e, t) {
            if (!e || !t) return 0;
            if (
              !(
                e.data &&
                t.data &&
                e.data.sort &&
                t.data.sort &&
                0 !== e.data.sort.length &&
                0 !== t.data.sort.length
              )
            )
              return c.Dd(e, t);
            for (
              var i = 0, n = 0;
              0 === i &&
              'undefined' != typeof e.data.sort[n] &&
              'undefined' != typeof t.data.sort[n];

            )
              (i =
                e.data.sort[n] === t.data.sort[n]
                  ? 0
                  : 'number' == typeof e.data.sort[n] &&
                    'number' == typeof t.data.sort[n]
                  ? e.data.sort[n] - t.data.sort[n]
                  : c.Fd(e.data.sort[n], t.data.sort[n], c.sortDirections[n])),
                n++;
            return i;
          }),
          (this.Fd = function(e, t, i) {
            var n = 'desc' !== i,
              a = n ? -1 : 1,
              o = -a;
            if (null === e && null === t) return 0;
            if (null === t) return o;
            if (null === e) return a;
            var r = [];
            return (r[0] = e), (r[1] = t), r.sort(), e === r[0] ? a : o;
          }),
          (this.zi = function(e, t, i, n) {
            if (c.Ba()) {
              var a = DayPilot.indexOf(c.rowlist, e),
                o = c.ui(e, a),
                r = DayPilot.indexOf(P.selected, e) !== -1,
                l = r ? 'deselected' : 'selected',
                s = {};
              if (
                ((s.row = o),
                (s.selected = r),
                (s.ctrl = t),
                (s.shift = i),
                (s.meta = n),
                (s.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                'function' == typeof c.onRowSelect &&
                  (c.onRowSelect(s), s.preventDefault.value))
              )
                return;
              var d = i && !t && !n;
              if ((i || (P.Ek = { row: e, index: a }), d)) {
                P.fixRowSelectLast();
                var h = P.Ek.index,
                  u = a;
                P.selectRange(h, u);
              }
              switch (c.rowSelectHandling) {
                case 'PostBack':
                  c.rowSelectPostBack(o, l);
                  break;
                case 'CallBack':
                  c.rowSelectCallBack(o, l);
                  break;
                case 'Notify':
                  !d && P.select(e, t, i, n), c.rowSelectNotify(o, l);
                  break;
                case 'Update':
                  !d && P.select(e, t, i, n);
              }
              'function' == typeof c.onRowSelected &&
                ((s.selected = DayPilot.indexOf(P.selected, e) !== -1),
                c.onRowSelected(s));
            } else {
              P.select(e, t, i);
              var a = DayPilot.indexOf(c.rowlist, e),
                o = c.ui(e, a),
                r = DayPilot.indexOf(P.selected, e) !== -1,
                l = r ? 'deselected' : 'selected';
              switch (c.rowSelectHandling) {
                case 'PostBack':
                  c.rowSelectPostBack(o, l);
                  break;
                case 'CallBack':
                  c.rowSelectCallBack(o, l);
                  break;
                case 'Notify':
                  c.rowSelectNotify(o, l);
                  break;
                case 'JavaScript':
                  c.onRowSelect(o, l);
              }
            }
          }),
          (this.rowSelectPostBack = function(e, t, i) {
            var n = {};
            (n.resource = e), (n.change = t), this.K('RowSelect', n, i);
          }),
          (this.rowSelectCallBack = function(e, t, i) {
            var n = {};
            (n.resource = e), (n.change = t), this.M('RowSelect', n, i);
          }),
          (this.rowSelectNotify = function(e, t, i) {
            var n = {};
            (n.resource = e),
              (n.change = t),
              this.M('RowSelect', n, i, 'Notify');
          }),
          (this.rows = {}),
          (this.rows.selection = {});
        var k = this.rows.selection;
        (k.get = function() {
          var e = [];
          return (
            DayPilot.list(P.selected).each(function(t) {
              e.push(c.ui(t));
            }),
            e
          );
        }),
          (k.clear = function() {
            P.clearSelection();
          }),
          (k.add = function(e) {
            if (!e || !e.isRow)
              throw 'DayPilot.Scheduler.rows.selection.add(): DayPilot.Row object expected';
            DayPilot.list(P.selected).some(function(t) {
              return t === e.$.row;
            }) || P.selected.push(e.$.row),
              P.Fk(),
              k.Gk();
          }),
          (k.remove = function(e) {
            if (!e || !e.isRow)
              throw 'DayPilot.Scheduler.rows.selection.remove(): DayPilot.Row object expected';
            k.isSelected(e) &&
              (P.unselect(e.$.row), DayPilot.rfa(P.selected, e.$.row)),
              k.Gk();
          }),
          (k.isSelected = function(e) {
            if (!e || !e.isRow)
              throw 'DayPilot.Scheduler.rows.selection.isSelected(): DayPilot.Row object expected';
            return DayPilot.indexOf(P.selected, e.$.row) !== -1;
          }),
          (k.Gk = function() {
            c.selectedRows = DayPilot.list(P.selected).map(function(e) {
              return e.id;
            });
          }),
          (this.rows.all = function() {
            for (var e = [], t = 0; t < c.rowlist.length; t++) {
              var i = c.ui(c.rowlist[t]);
              e.push(i);
            }
            return p(e);
          }),
          (this.rows.visible = function() {
            for (var e = [], t = 0; t < c.rowlist.length; t++) {
              var i = c.rowlist[t];
              if (!i.hidden) {
                var i = c.ui(c.rowlist[t]);
                e.push(i);
              }
            }
            return p(e);
          }),
          (this.rows.each = function(e) {
            c.rows.all().each(e);
          }),
          (this.rows.filter = function(e, t) {
            (c.rows.Cd = e), t || (c.G && c.Yb({ immediateEvents: !0 }));
          }),
          (this.rows.find = function(e, t) {
            var i = DayPilot.list(D.rowcache[e]),
              n = null;
            return (
              (n =
                'string' == typeof t
                  ? i.find(function(e) {
                      return t === e.start.toString();
                    })
                  : i.first()),
              n ? new DayPilot.Row(n, c) : null
            );
          }),
          (this.rows.load = function(e, t, i) {
            if (!e)
              throw new DayPilot.Exception(
                "rows.load(): 'url' parameter required"
              );
            var n = function(e) {
                var t = {};
                (t.exception = e.exception),
                  (t.request = e.request),
                  'function' == typeof i && i(t);
              },
              a = function(e) {
                var i,
                  a = e.request;
                try {
                  i = JSON.parse(a.responseText);
                } catch (e) {
                  var o = {};
                  return (o.exception = e), void n(o);
                }
                if (DayPilot.isArray(i)) {
                  var r = {};
                  if (
                    ((r.preventDefault = function() {
                      this.preventDefault.value = !0;
                    }),
                    (r.data = i),
                    'function' == typeof t && t(r),
                    r.preventDefault.value)
                  )
                    return;
                  (c.resources = i), c.G && c.update();
                }
              };
            c.rowsLoadMethod && 'POST' === c.rowsLoadMethod.toUpperCase()
              ? DayPilot.ajax({ method: 'POST', url: e, success: a, error: n })
              : DayPilot.ajax({ method: 'GET', url: e, success: a, error: n });
          }),
          (this.rows.expand = function(e) {
            for (var t = [], i = e || 1, n = 0; n < c.rowlist.length; n++) {
              var a = c.rowlist[n],
                o = i === -1;
              a.level < i && (o = !0),
                o &&
                  !a.expanded &&
                  a.children &&
                  a.children.length > 0 &&
                  t.push(a.index);
            }
            if (0 !== t.length)
              if (1 === t.length) c.Ej(t[0]);
              else {
                for (var n = 0; n < t.length; n++) {
                  var r = t[n],
                    l = c.rowlist[r].resource;
                  l.expanded = !0;
                }
                c.Yb();
              }
          }),
          (this.rows.expandAll = function() {
            c.rows.expand(-1);
          }),
          (this.rows.collapseAll = function() {
            c.rowlist.each(function(e) {
              e.resource.expanded = !1;
            }),
              c.Yb();
          }),
          (this.rows.headerHide = function() {
            (c.Hk = !0), c.Ik(), c.gk(), c.rh();
          }),
          (this.rows.headerShow = function() {
            (c.Hk = !1), c.Ik(), c.gk(), c.rh();
          }),
          (this.rows.headerToggle = function() {
            c.Hk ? c.rows.headerShow() : c.rows.headerHide();
          }),
          (this.rows.edit = function(e) {
            P.edit(e.$.row);
          }),
          (this.rows.remove = function(e) {
            var t = e.$.row.resource,
              i = x.findParentArray(t);
            if (!i) throw 'Cannot find source node parent';
            var n = DayPilot.indexOf(i, t);
            i.splice(n, 1), c.update();
          }),
          (this.rows.update = function(e) {
            if (!(e instanceof DayPilot.Row))
              throw new DayPilot.Exception(
                'DayPilot.Scheduler.rows.update() expects a DayPilot.Row object.'
              );
            var t = e.index,
              i = c.rowlist[t],
              n = e.data,
              a = e.parent() ? e.parent().$.row : null,
              o = c.Jk(n),
              e = c.Kk(o, a);
            (e.hidden = i.hidden),
              (e.level = i.level),
              (e.children = i.children),
              (e.index = t),
              (e.top = i.top),
              (e.height = i.height),
              (c.rowlist[t] = e),
              e.resetEvents(),
              c.zh(t),
              c.Lk(e),
              c.hj(e),
              c.fi(t),
              c.Jg(),
              c.Mg();
          }),
          (this.Lk = function(e) {
            for (
              var t = c.events.list,
                i = t.length,
                n = 'function' == typeof c.onBeforeEventRender,
                a = 0;
              a < i;
              a++
            ) {
              var o = t[a];
              if (o) {
                if (o instanceof DayPilot.Event)
                  throw new DayPilot.Exception(
                    'DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.'
                  );
                if ('Days' === c.viewType)
                  throw new DayPilot.Exception(
                    ".rows.update() not supported for viewType = 'Days'."
                  );
                if ('Gantt' === c.viewType)
                  throw new DayPilot.Exception(
                    ".rows.update() not supported for viewType = 'Gantt'."
                  );
                if ('*' === o.resource || '*' === e.id || o.resource === e.id) {
                  n && this.vd(a);
                  var r = this.dj(o, e);
                  r && n && (r.cache = this.E.events[a]);
                }
              }
            }
          }),
          (this.Mk = function() {
            var e = l.source,
              t = l.target,
              i = l.position,
              n = l.sourceCalendar;
            if ((P.resetMoving(), c.Ba())) {
              var a = {};
              if (
                ((a.source = c.ui(e)),
                (a.source.calendar = n),
                (a.target = c.ui(t)),
                (a.position = i),
                (a.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                'function' == typeof c.onRowMove &&
                  (c.onRowMove(a), a.preventDefault.value))
              )
                return;
              switch (c.rowMoveHandling) {
                case 'Update':
                  P.move(a);
                  break;
                case 'CallBack':
                  c.rowMoveCallBack(a.source, a.target, a.position);
                  break;
                case 'PostBack':
                  c.rowMovePostBack(a.source, a.target, a.position);
                  break;
                case 'Notify':
                  P.move(a), c.rowMoveNotify(a.source, a.target, a.position);
              }
              'function' == typeof c.onRowMoved && c.onRowMoved(a);
            } else {
              var e = c.ui(e),
                t = c.ui(t),
                i = i;
              switch (c.rowMoveHandling) {
                case 'CallBack':
                  c.rowMoveCallBack(e, t, i);
                  break;
                case 'PostBack':
                  c.rowMovePostBack(e, t, i);
                  break;
                case 'JavaScript':
                  c.onRowMove(e, t, i);
              }
            }
          }),
          (this.Rg = function(e) {
            var t = DayPilot.list(e);
            (P.selected = []),
              t.isEmpty() || ((c.qg = !1), c.ia()),
              t.each(function(e) {
                var t = c.$g(e);
                t && P.selected.push(t);
              }),
              P.Fk();
          }),
          (this.Ai = {});
        var P = this.Ai;
        (P.edit = function(e) {
          P.Nk(e);
        }),
          (P.rowSelectLastSetDefault = function() {
            P.Ek = { row: c.rowlist[0], index: 0 };
          }),
          (P.rowSelectSetLast = function(e) {
            var t = DayPilot.indexOf(c.rowlist, e);
            if (t === -1)
              throw 'DayPilot.Scheduler: Row not found when selecting a range';
            P.Ek = { row: e, index: t };
          }),
          (P.fixRowSelectLast = function() {
            P.Ek || P.rowSelectLastSetDefault();
            var e = DayPilot.indexOf(c.rowlist, P.Ek.row);
            if (!(e > -1)) {
              var t = c.$g(P.Ek.row.id);
              t
                ? ((e = DayPilot.indexOf(c.rowlist, t)),
                  (P.Ek = { row: t, index: e }))
                : P.rowSelectLastSetDefault();
            }
          }),
          (P.createOverlay = function(e) {
            var t = c.bk(),
              i = c.r('_rowmove_source'),
              n = DayPilot.Util.div(c.divHeader, 0, e.top, t, e.height);
            (n.className = i), (e.moveOverlay = n);
          }),
          (P.deleteOverlay = function(e) {
            e && (DayPilot.de(e.moveOverlay), (e.moveOverlay = null));
          }),
          (P.Nk = function(e) {
            var t = P.Ok(e),
              i = t.cells[0];
            if (i.input) return i.input;
            DayPilot.Areas.disable(i.firstChild);
            var n = i.clientWidth;
            e.isNewRow && (n = c.mh());
            var o = document.createElement('textarea');
            (o.style.position = 'absolute'),
              (o.style.top = '0px'),
              (o.style.left = '0px'),
              (o.style.width = n + 'px'),
              (o.style.height = e.height + 'px'),
              (o.style.border = '0px none'),
              (o.style.overflow = 'hidden'),
              (o.style.boxSizing = 'border-box'),
              (o.style.resize = 'none'),
              (o.style.paddingLeft = e.level * c.treeIndent + 'px');
            var r = i.textDiv;
            (o.style.fontFamily =
              DayPilot.gs(r, 'fontFamily') || DayPilot.gs(r, 'font-family')),
              (o.style.fontSize =
                DayPilot.gs(r, 'fontSize') || DayPilot.gs(r, 'font-size')),
              (o.value = e.name || ''),
              i.firstChild.appendChild(o),
              (i.input = o);
            var l = function() {
              try {
                i.input.parentNode.removeChild(i.input);
              } catch (e) {
                a();
              }
              i.input = null;
            };
            return (
              o.focus(),
              (o.onblur = function() {
                o.onblur = null;
                var t = o.value;
                l(),
                  DayPilot.Areas.enable(i.firstChild),
                  c.wi(e, t, o.canceled);
              }),
              (o.onkeydown = function(e) {
                var t = window.event ? event.keyCode : e.keyCode;
                return (
                  27 === t && ((o.canceled = !0), l()),
                  13 !== t || (o.onblur(), !1)
                );
              }),
              o.setSelectionRange ? o.setSelectionRange(0, 9999) : o.select(),
              o
            );
          }),
          (P.selected = []),
          (P.select = function(e, t, i, n) {
            var a = DayPilot.indexOf(P.selected, e) !== -1;
            if (t || n) {
              if (a) return P.unselect(e), void DayPilot.rfa(P.selected, e);
            } else (a = !1), P.clearSelection();
            P.Pk(e), a || P.selected.push(e), k.Gk();
          }),
          (P.selectRange = function(e, t) {
            P.clearSelection();
            for (
              var i = Math.min(e, t), n = Math.max(e, t), a = i;
              a <= n;
              a++
            ) {
              var o = c.rowlist[a];
              P.Pk(o), P.selected.push(o);
            }
            k.Gk();
          }),
          (P.Fk = function() {
            for (var e = 0; e < P.selected.length; e++) {
              var t = P.selected[e];
              P.Pk(t);
            }
          }),
          (P.Pk = function(e) {
            var t = DayPilot.indexOf(c.rowlist, e);
            if (t === -1) {
              var i = c.$g(e.id);
              if (!i) return;
              t = i.index;
            }
            for (
              var n = c.r('_cell_selected'), a = [], o = 0;
              o < c.itline.length;
              o++
            ) {
              var r = {};
              (r.x = o), (r.y = t), a.push(r);
            }
            c.cells.findXy(a).addClass(n);
            for (
              var n = c.r('_rowheader_selected'), l = c.divHeader, t = 0;
              t < l.rows.length;
              t++
            ) {
              var s = l.rows[t];
              if (s && s.cells[0] && s.cells[0].row === e)
                for (var d = 0; d < s.cells.length; d++) {
                  var r = s.cells[d],
                    h = r.firstChild;
                  DayPilot.Util.addClass(h, n);
                }
            }
          }),
          (P.Gi = function() {
            var e = [];
            if (!P.selected) return e;
            for (var t = 0; t < P.selected.length; t++) {
              var i = P.selected[t],
                n = DayPilot.indexOf(c.rowlist, i),
                a = c.ui(i, n);
              e.push(a.toJSON());
            }
            return e;
          }),
          (P.unselect = function(e) {
            for (
              var t = c.r('_cell_selected'),
                i = DayPilot.indexOf(c.rowlist, e),
                n = [],
                a = 0;
              a < c.itline.length;
              a++
            ) {
              var o = {};
              (o.x = a), (o.y = i), n.push(o);
            }
            c.cells.findXy(n).removeClass(t);
            var t = c.r('_rowheader_selected'),
              r = (c.divHeader, P.Ok(e));
            if (r)
              for (var l = 0; l < r.cells.length; l++) {
                var o = r.cells[l],
                  s = o.firstChild;
                DayPilot.Util.removeClass(s, t);
              }
          }),
          (P.Ek = null),
          (P.clearSelection = function() {
            for (var e = 0; e < P.selected.length; e++) {
              var t = P.selected[e];
              P.unselect(t);
            }
            (P.selected = []), (c.selectedRows = []);
          }),
          (P.Ok = function(e) {
            for (var t = c.divHeader, i = 0; i < t.rows.length; i++) {
              var n = t.rows[i];
              if (n && n.cells[0] && n.cells[0].row === e) return n;
            }
            return null;
          }),
          (P.selectById = function(e) {
            var t = c.$g(e);
            t && P.select(t);
          }),
          (P.startMoving = function(e) {
            var t = DayPilot.Global.rowmoving;
            (t.row = e),
              (t.sourceCalendar = c),
              (t.cursor = c.divResScroll.style.cursor),
              (c.divResScroll.style.cursor = 'move'),
              P.createOverlay(e);
          }),
          (P.resetMoving = function() {
            (c.divResScroll.style.cursor = l.cursor),
              DayPilot.de(l.div),
              P.deleteOverlay(l.row),
              (DayPilot.Global.rowmoving = l = {});
          }),
          (P.move = function(e) {
            var t = e.source.$.row.resource,
              i = e.target.$.row.resource,
              n = e.position;
            if ('forbidden' !== n) {
              var a = e.source.calendar.Qk.findParentArray(t);
              if (!a) throw 'Cannot find source node parent';
              var o = DayPilot.indexOf(a, t);
              a.splice(o, 1);
              var r = x.findParentArray(i);
              if (!r) throw 'Cannot find target node parent';
              var l = DayPilot.indexOf(r, i);
              switch (n) {
                case 'before':
                  r.splice(l, 0, t);
                  break;
                case 'after':
                  r.splice(l + 1, 0, t);
                  break;
                case 'child':
                  i.children || ((i.children = []), (i.expanded = !0)),
                    i.children.push(t);
              }
              c.update();
            }
          });
        var x = {};
        (this.Qk = x),
          (x.findParentArray = function(e) {
            return x.findInArray(c.resources, e);
          }),
          (x.findInArray = function(e, t) {
            if (DayPilot.indexOf(e, t) !== -1) return e;
            for (var i = 0; i < e.length; i++) {
              var n = e[i];
              if (n.children && n.children.length > 0) {
                var a = x.findInArray(n.children, t);
                if (a) return a;
              }
            }
            return null;
          }),
          (this.Dg = function() {
            this.rowlist = DayPilot.list();
            var e = this.resources,
              t = this.t();
            t ||
              ('Gantt' === this.viewType
                ? (e = this.Rk())
                : 'Days' === this.viewType && (e = this.Sk())),
              !t ||
                'Days' !== this.viewType ||
                (e && 0 !== e.length) ||
                (e = this.Sk());
            var i = {};
            if (((i.i = 0), null != e && !DayPilot.isArray(e)))
              throw 'DayPilot.Scheduler.resources expects an array object';
            this.Tk(e, i, 0, null, this.treeEnabled, !1),
              'Disabled' !== c.rowCreateHandling && this.Uk();
          }),
          (this.Uk = function() {
            var e = {};
            (e.id = 'NEW'),
              (e.isNewRow = !0),
              (e.html = ''),
              (e.index = c.rowlist.length),
              (e.loaded = !0),
              (e.start = this.startDate),
              (e.children = []),
              (e.height = c.eventHeight),
              (e.marginBottom = 0),
              (e.marginTop = 0),
              (e.getHeight = function() {
                return c.rowCreateHeight
                  ? c.rowCreateHeight
                  : c.eventHeight + c.rowMarginBottom + c.rowMarginTop;
              }),
              (e.putIntoLine = function() {}),
              (e.resetEvents = function() {}),
              this.rowlist.push(e);
          }),
          (this.Rk = function() {
            var e = [];
            if (this.xg && this.resources)
              for (var t = 0; t < this.resources.length; t++)
                e.push(this.resources[t]);
            if (this.events.list) {
              for (var t = 0; t < this.events.list.length; t++) {
                var i = this.events.list[t],
                  n = {};
                (n.id = i.id),
                  (n.name = i.text),
                  (n.columns = i.columns),
                  e.push(n);
              }
              return e;
            }
          }),
          (this.Sk = function() {
            for (
              var e = [], t = c.Ja(), i = this.Lc.locale(), n = 0;
              n < this.days;
              n++
            ) {
              var a = t.addDays(n);
              if (
                c.showNonBusiness ||
                c.businessWeekends ||
                (0 != a.dayOfWeek() && 6 != a.dayOfWeek())
              ) {
                var o = {};
                (o.name = a.toString(i.datePattern, i)),
                  (o.start = a),
                  e.push(o);
              }
            }
            return e;
          }),
          (this.Ja = function() {
            return this.itline && this.itline.length > 0
              ? this.itline[0].start
              : this.startDate;
          }),
          (this.Dh = function() {
            if (this.itline && this.itline.length > 0) {
              var e = c.itline[this.itline.length - 1].end;
              return 'Days' !== c.viewType ? e : e.addDays(c.days - 1);
            }
            return c.startDate.addDays(c.days);
          }),
          (this.visibleStart = function() {
            return this.Ja();
          }),
          (this.visibleEnd = function() {
            return this.Dh();
          }),
          (this.Kk = function(e, t) {
            var i = {};
            if (
              ((i.backColor = e.backColor),
              (i.fontColor = e.fontColor),
              (i.cssClass = e.cssClass),
              (i.expanded = e.expanded),
              (i.name = e.name),
              (i.html = e.html ? e.html : i.name),
              (i.eventHeight =
                'undefined' != typeof e.eventHeight
                  ? e.eventHeight
                  : c.Lc.eventHeight()),
              (i.minHeight =
                'undefined' != typeof e.minHeight
                  ? e.minHeight
                  : c.rowMinHeight),
              (i.marginBottom =
                'undefined' != typeof e.marginBottom
                  ? e.marginBottom
                  : c.rowMarginBottom),
              (i.marginTop =
                'undefined' != typeof e.marginTop
                  ? e.marginTop
                  : c.rowMarginTop),
              (i.eventStackingLineHeight =
                'undefined' != typeof e.eventStackingLineHeight
                  ? e.eventStackingLineHeight
                  : c.eventStackingLineHeight),
              (i.loaded = !e.dynamicChildren),
              (i.id = e.id || e.value),
              (i.toolTip = e.toolTip),
              (i.children = []),
              (i.columns = []),
              (i.start = e.start ? new DayPilot.Date(e.start) : this.Ja()),
              (i.isParent = e.isParent),
              (i.contextMenu = e.contextMenu
                ? DayPilot.Util.evalVariable(e.contextMenu)
                : this.contextMenuResource),
              (i.areas = e.areas),
              (i.moveDisabled = e.moveDisabled),
              (i.bubbleHtml = e.bubbleHtml),
              (i.cellsDisabled = e.cellsDisabled),
              (i.tags = e.tags),
              (i.task = e.task),
              (i.swimlane = e.swimlane),
              (i.hideEvents = e.hideEvents),
              (i.height = i.eventHeight),
              (i.resource = e.Vk),
              (i.lines = []),
              (i.blocks = []),
              (i.isRow = !0),
              (i.getHeight = function() {
                var e = 0;
                if (c.groupConcurrentEvents)
                  for (var t = 0; t < this.blocks.length; t++) {
                    var i = this.blocks[t];
                    e = Math.max(e, i.getHeight());
                  }
                else if (this.lines.length > 0) {
                  var n = this.lines.length - 1,
                    a = this.lines[n],
                    o = a.height || this.eventHeight,
                    r = a.top || 0;
                  e = r + o;
                }
                return (
                  0 === e && (e = this.eventHeight),
                  e > this.minHeight ? e : this.minHeight
                );
              }),
              (i.Wk = function() {
                var e = i.start.getTime() - c.Ja().getTime();
                return c.itline[c.itline.length - 1].end.addTime(e);
              }),
              (i.resetEvents = function() {
                var e = this;
                (e.events = DayPilot.list()),
                  (e.events.forRange = function(t, i) {
                    (t = new DayPilot.Date(t)),
                      (i = i ? new DayPilot.Date(i) : e.Wk());
                    for (
                      var n = DayPilot.list(), a = 0;
                      a < e.events.length;
                      a++
                    ) {
                      var o = e.events[a];
                      DayPilot.Util.overlaps(o.start(), o.end(), t, i) &&
                        n.push(o);
                    }
                    return n;
                  });
              }),
              (i.calculateUtilization = function() {
                function e() {
                  for (var e = [], t = 0; t < i.events.length; t++) {
                    var n = i.events[t];
                    DayPilot.contains(e, n.start().toString()) ||
                      e.push(n.start().toString()),
                      DayPilot.contains(e, n.rawend().toString()) ||
                        e.push(n.rawend().toString());
                  }
                  return e.sort(), e;
                }
                function t() {
                  for (
                    var t = e(), n = [], a = { start: i.data.start }, o = 0;
                    o < t.length;
                    o++
                  )
                    (a.end = new DayPilot.Date(t[o])),
                      n.push(a),
                      (a = { start: new DayPilot.Date(t[o]) });
                  return (
                    (a.end = i.data.end),
                    n.push(a),
                    (n.forRange = function(e, t) {
                      for (
                        var i = DayPilot.list(), n = 0;
                        n < this.length;
                        n++
                      ) {
                        var a = this[n];
                        DayPilot.Util.overlaps(e, t, a.start, a.end) &&
                          i.push(a);
                      }
                      return (
                        (i.maxSum = function(e) {
                          for (var t = 0, i = 0; i < this.length; i++) {
                            var n = this[i],
                              a = n.sum(e);
                            a > t && (t = a);
                          }
                          return t;
                        }),
                        i
                      );
                    }),
                    n
                  );
                }
                for (
                  var i = this, n = (i.sections = t()), a = 0;
                  a < n.length;
                  a++
                ) {
                  var o = n[a];
                  o.events = DayPilot.list();
                  for (var r = 0; r < i.events.length; r++) {
                    var l = i.events[r];
                    DayPilot.Util.overlaps(
                      o.start,
                      o.end,
                      l.start(),
                      l.rawend()
                    ) && o.events.push(l);
                  }
                  o.sum = function(e) {
                    for (var t = 0, i = 0; i < this.events.length; i++) {
                      var n = this.events[i],
                        a = 0;
                      'undefined' == typeof e
                        ? (a = 1)
                        : n.tag(e)
                        ? (a = n.tag(e))
                        : n.data[e] && (a = n.data[e]),
                        'number' == typeof a && (t += a);
                    }
                    return t;
                  };
                }
              }),
              (i.putIntoLine = function(e) {
                for (var t = 0; t < this.lines.length; t++) {
                  var i = this.lines[t];
                  if (i.isFree(e.part.left, e.part.width)) return i.add(e), t;
                }
                var i = [];
                return (
                  (i.height = 0),
                  (i.add = function(e) {
                    this.push(e);
                    var t = e.part.Ck();
                    t > i.height && (i.height = t);
                  }),
                  (i.isFree = function(e, t, i) {
                    for (
                      var n = e + t - 1, a = this.length, o = 0;
                      o < a;
                      o++
                    ) {
                      var r = this[o];
                      if (
                        !(n < r.part.left || e > r.part.left + r.part.width - 1)
                      ) {
                        if (DayPilot.contains(i, r.data)) continue;
                        return !1;
                      }
                    }
                    return !0;
                  }),
                  i.add(e),
                  this.lines.push(i),
                  this.lines.length - 1
                );
              }),
              (i.putIntoBlock = function(e) {
                for (var t = 0; t < this.blocks.length; t++) {
                  var i = this.blocks[t];
                  if (DayPilot.indexOf(i.events, e) !== -1) return;
                  if (i.overlapsWith(e.part.left, e.part.width))
                    return (
                      i.events.push(e),
                      (e.part.block = i),
                      (i.min = Math.min(i.min, e.part.left)),
                      (i.max = Math.max(i.max, e.part.left + e.part.width)),
                      t
                    );
                }
                var i = {};
                (i.expanded = !1),
                  (i.row = this),
                  (i.events = DayPilot.list()),
                  (i.lines = DayPilot.list()),
                  (i.putIntoLine = function(e) {
                    for (var t = 0; t < this.lines.length; t++) {
                      var i = this.lines[t];
                      if (i.isFree(e.part.left, e.part.width))
                        return i.add(e), t;
                    }
                    var i = [];
                    (i.height = 0),
                      (i.add = function(e) {
                        this.push(e),
                          e.part.height > i.height &&
                            (i.height = e.part.height);
                      }),
                      (i.isFree = function(e, t) {
                        for (
                          var i = e + t - 1, n = this.length, a = 0;
                          a < n;
                          a++
                        ) {
                          var o = this[a];
                          if (
                            !(
                              i < o.part.left ||
                              e > o.part.left + o.part.width - 1
                            )
                          )
                            return !1;
                        }
                        return !0;
                      }),
                      i.add(e),
                      this.lines.push(i);
                  }),
                  (i.overlapsWith = function(e, t) {
                    return !(e + t - 1 < this.min || e > this.max - 1);
                  }),
                  (i.getHeight = function() {
                    if (!this.expanded) return c.eventHeight;
                    if (this.lines.length > 0) {
                      var e = this.lines.length - 1,
                        t = this.lines[e],
                        i = t.height || c.eventHeight;
                      return (t.top || 0) + i;
                    }
                    return c.eventHeight;
                  }),
                  (i.clear = function() {
                    (i.events = DayPilot.list()),
                      (i.min = null),
                      (i.max = null);
                  }),
                  i.events.push(e),
                  (e.part.block = i),
                  (i.min = e.part.left),
                  (i.max = e.part.left + e.part.width),
                  this.blocks.push(i);
              }),
              (i.Xk = !1),
              (i.Yk = t),
              (i.dc = function() {
                (this.hidden = !this.Zk()),
                  (this.Xk = !1),
                  this.Yk && this.Yk.dc();
              }),
              (i.Zk = function() {
                return !this.Yk || (this.Yk.Zk() && this.Yk.expanded);
              }),
              e.columns)
            )
              for (var n = 0; n < e.columns.length; n++)
                i.columns.push(e.columns[n]);
            return i;
          }),
          (this.ai = function() {
            c.rowlist.each(function(e) {
              if ('function' == typeof c.onRowFilter && c.rows.Cd) {
                var t = e.Yk,
                  i = {};
                (i.visible = !0),
                  (i.row = c.ui(e)),
                  (i.filter = c.rows.Cd),
                  c.onRowFilter(i),
                  (e.Xk = !i.visible),
                  i.visible ? t && t.dc() : (e.hidden = !0);
              }
            });
          }),
          (this.Tk = function(e, t, i, n, a, o) {
            if (e)
              for (var r = 0; r < e.length; r++)
                if (e[r]) {
                  var l = {};
                  if (
                    ((l.level = i),
                    (l.hidden = o),
                    (l.index = t.i),
                    !e[r].hidden)
                  ) {
                    var s = this.Jk(e[r], l),
                      d = c.Kk(s, n);
                    if (
                      (o && (d.hidden = !0),
                      (d.level = i),
                      (d.index = t.i),
                      null !== n && n.children.push(t.i),
                      this.rowlist.push(d),
                      t.i++,
                      a && s.children && s.children.length)
                    ) {
                      var h = o || !d.expanded;
                      this.Tk(s.children, t, i + 1, d, !0, h);
                    }
                  }
                }
          }),
          (this.$k = [
            'text',
            'html',
            'backColor',
            'cssClass',
            'areas',
            'horizontalAlignment'
          ]),
          (this.Pj = function(e) {
            if (e.isNewRow)
              return {
                row: {
                  cssClass: c.r('_row_new'),
                  moveDisabled: !0,
                  html: c.rowCreateHtml || ''
                }
              };
            var t = {};
            if (
              ((t.row = this.ui(e)),
              DayPilot.Util.copyProps(e, t.row, [
                'html',
                'backColor',
                'fontColor',
                'cssClass',
                'toolTip',
                'contextMenu',
                'moveDisabled'
              ]),
              (t.row.columns = DayPilot.Util.createArrayCopy(e.columns, c.$k)),
              (t.row.areas = DayPilot.Util.createArrayCopy(e.areas)),
              'undefined' == typeof t.row.columns &&
                c.rowHeaderColumns &&
                c.rowHeaderColumns.length > 0)
            ) {
              r.columns = [];
              for (var i = 0; i < c.rowHeaderColumns.length; i++)
                r.columns.push({});
            }
            return (
              'function' == typeof this.onBeforeRowHeaderRender &&
                this.onBeforeRowHeaderRender(t),
              t
            );
          }),
          (this.Jk = function(e, t) {
            var i = this._k(e, t);
            if ('function' == typeof this.onBeforeResHeaderRender) {
              var n = {};
              (n.resource = i), this.onBeforeResHeaderRender(n);
            }
            return i;
          }),
          (this._k = function(e, t) {
            var i = {
              get data() {
                return this.Vk;
              }
            };
            for (var n in t) i[n] = t[n];
            for (var n in e) i[n] = e[n];
            if (
              ('undefined' == typeof e.html && (i.html = e.name),
              'undefined' == typeof i.columns &&
                c.rowHeaderColumns &&
                c.rowHeaderColumns.length > 0)
            ) {
              i.columns = [];
              for (var a = 0; a < c.rowHeaderColumns.length; a++)
                i.columns.push({});
            }
            return (i.Vk = e), i;
          }),
          (this.$h = function() {
            (this.nav.top.dp = this),
              (this.nav.top.innerHTML = ''),
              DayPilot.Util.addClass(this.nav.top, this.r('_main')),
              this.nav.top.setAttribute('role', 'region'),
              this.nav.top.setAttribute('aria-label', 'scheduler'),
              DayPilot.browser.ie9 &&
                DayPilot.Util.addClass(this.nav.top, this.r('_browser_ie9')),
              DayPilot.browser.ie8 &&
                DayPilot.Util.addClass(this.nav.top, this.r('_browser_ie8')),
              (this.nav.top.style.MozUserSelect = 'none'),
              (this.nav.top.style.KhtmlUserSelect = 'none'),
              (this.nav.top.style.webkitUserSelect = 'none'),
              (this.nav.top.style.WebkitTapHighlightColor = 'rgba(0,0,0,0)'),
              (this.nav.top.style.WebkitTouchCallout = 'none'),
              this.width && (this.nav.top.style.width = this.width),
              'Parent100Pct' === this.heightSpec &&
                (this.nav.top.style.height = '100%'),
              (this.nav.top.style.lineHeight = '1.2'),
              (this.nav.top.style.position = 'relative'),
              this.visible || (this.nav.top.style.display = 'none'),
              (this.nav.top.onmousemove = this.kg),
              (this.nav.top.onmouseout = function() {
                c.Gj();
              }),
              (this.nav.top.ontouchstart = A.onMainTouchStart),
              (this.nav.top.ontouchmove = A.onMainTouchMove),
              (this.nav.top.ontouchend = A.onMainTouchEnd),
              this.hideUntilInit &&
                this.backendUrl &&
                (this.nav.top.style.visibility = 'hidden');
            var e = this.mh(),
              t = 'Top' === c.timeHeaderPosition;
            if (
              ((c.Zh = c.timeHeaderPosition), 'DivBased' === this.Lc.layout())
            ) {
              var i = document.createElement('div');
              (i.style.position = 'absolute'),
                (i.style.left = '0px'),
                (i.style.width = e + 'px');
              var n = document.createElement('div');
              (n.style.height = '1px'),
                (n.className = this.r('_divider_horizontal')),
                (this.nav.dh1 = n),
                (this.nav.left = i),
                t
                  ? (i.appendChild(this.Nc()),
                    i.appendChild(n),
                    i.appendChild(this.al()))
                  : (i.appendChild(this.al()),
                    i.appendChild(n),
                    i.appendChild(this.Nc()));
              var a = document.createElement('div');
              (a.style.position = 'absolute'),
                (a.style.left = e + 'px'),
                (a.style.width = R.splitterWidth() + 'px'),
                (a.style.height = this.lh() + this.pc() + 'px'),
                (a.className = this.r('_divider') + ' ' + this.r('_splitter')),
                a.setAttribute('unselectable', 'on'),
                (this.nav.divider = a),
                this.rowHeaderScrolling && this.bl();
              var o = document.createElement('div');
              (o.style.marginLeft = e + R.splitterWidth() + 'px'),
                (o.style.marginRight = '1px'),
                (o.style.position = 'relative'),
                (this.nav.right = o);
              var r = document.createElement('div');
              (r.style.height = '1px'),
                t &&
                  ((r.style.position = 'absolute'),
                  (r.style.top = this.lh() + 'px')),
                (r.style.width = '100%'),
                (r.className = this.r('_divider_horizontal')),
                (this.nav.dh2 = r),
                t
                  ? (o.appendChild(this.cl()),
                    o.appendChild(r),
                    o.appendChild(this.dl()))
                  : (o.appendChild(this.dl()),
                    o.appendChild(r),
                    o.appendChild(this.cl()));
              var l = document.createElement('div');
              (l.style.clear = 'left'),
                this.nav.top.appendChild(i),
                this.nav.top.appendChild(a),
                this.nav.top.appendChild(o),
                this.nav.top.appendChild(l);
            } else {
              var s = document.createElement('table');
              (s.cellPadding = 0),
                (s.cellSpacing = 0),
                (s.border = 0),
                (s.style.position = 'absolute');
              var d = s.insertRow(-1);
              d.insertCell(-1).appendChild(this.Nc()),
                d.insertCell(-1).appendChild(this.cl());
              var h = s.insertRow(-1);
              h.insertCell(-1).appendChild(this.al()),
                h.insertCell(-1).appendChild(this.dl()),
                this.nav.top.appendChild(s);
            }
            if (
              ((this.cf = document.createElement('div')),
              (this.cf.style.display = 'none'),
              this.nav.top.appendChild(this.cf),
              this.R())
            ) {
              var u = document.createElement('input');
              (u.type = 'hidden'),
                (u.id = this.id + '_state'),
                (u.name = this.id + '_state'),
                (this.nav.state = u),
                this.nav.top.appendChild(u);
            }
            var f = document.createElement('div');
            (f.style.position = 'absolute'),
              (f.style.left = this.mh() + R.splitterWidth() + 5 + 'px'),
              (f.style.top = this.lh() + 5 + 'px'),
              (f.style.display = 'none'),
              (f.innerHTML = this.loadingLabelText),
              DayPilot.Util.addClass(f, this.r('_loading')),
              (this.nav.loading = f),
              this.nav.top.appendChild(f),
              this.fl();
          }),
          (this.kg = function(e) {
            if (l.row) {
              var t = DayPilot.mo3(c.divHeader, e),
                i = c.Ni(t.y),
                a = c.rowlist[i.i];
              if (!a) return;
              if (a.isNewRow) return;
              var o = t.y - i.top,
                r = i.bottom - i.top,
                s = r / 3,
                d = 2 * s,
                h = r / 2,
                u = 'before',
                f = a.children && a.children.length > 0,
                v = (function() {
                  for (var e = i.i, t = a.level; e >= 0; ) {
                    var n = c.rowlist[e];
                    if ((e--, !(t <= n.level))) {
                      if (n === l.row) return !0;
                      if (0 === n.level) return !1;
                      t = n.level;
                    }
                  }
                  return !1;
                })(),
                p = c.treeEnabled;
              (u =
                v || i.i === l.row.index
                  ? 'forbidden'
                  : p
                  ? f
                    ? o < h
                      ? 'before'
                      : 'child'
                    : o < s
                    ? 'before'
                    : o < d
                    ? 'child'
                    : 'after'
                  : f
                  ? 'before'
                  : o < h
                  ? 'before'
                  : 'after'),
                l.row.moveDisabled && (u = 'forbidden'),
                (l.calendar = c),
                (l.source = l.row),
                (l.target = c.rowlist[i.i]),
                (l.position = u);
              if (
                (function() {
                  return (
                    !l.last ||
                    (l.last.target !== l.target ||
                      l.last.position !== l.position)
                  );
                })()
              ) {
                if ('function' == typeof c.onRowMoving) {
                  var g = {};
                  (g.source = c.ui(l.source)),
                    (g.target = c.ui(l.target)),
                    (g.position = u),
                    c.onRowMoving(g),
                    (l.position = g.position);
                }
              } else l.last && (l.position = l.last.position);
              (l.last = {}),
                (l.last.target = l.target),
                (l.last.position = l.position),
                (function() {
                  l.div && DayPilot.de(l.div);
                  var e = i.top,
                    t = l.position,
                    n = c.rowlist[i.i],
                    a = n.level,
                    o = a * c.treeIndent;
                  switch (t) {
                    case 'before':
                      e = i.top;
                      break;
                    case 'child':
                      e = i.top + h;
                      break;
                    case 'after':
                      e = i.bottom;
                      break;
                    case 'forbidden':
                      e = i.top + h;
                  }
                  var r = c.bk() - o,
                    s = document.createElement('div');
                  (s.style.position = 'absolute'),
                    (s.style.left = o + 'px'),
                    (s.style.width = r + 'px'),
                    (s.style.top = e + 'px'),
                    (s.className = c.r('_rowmove_position_' + t)),
                    (l.div = s),
                    c.divResScroll.appendChild(s);
                })();
            } else if (n.splitting) {
              var m = DayPilot.mo3(c.nav.top, e).x,
                y = c.bk(),
                b = m - 1;
              c.rowHeaderCols && (b = Math.min(y, m - 1)),
                (c.rowHeaderWidth = b),
                (c.Hk = !1),
                c.rowHeaderCols || c.gl(),
                c.Ik();
            }
          }),
          (this.ka = function() {
            var e = this.lh(),
              t = 'Top' === c.timeHeaderPosition;
            (this.nav.corner.style.height = e + 'px'),
              (this.divTimeScroll.style.height = e + 'px'),
              (this.divNorth.style.height = e + 'px'),
              this.nav.dh1 &&
                this.nav.dh2 &&
                t &&
                ((this.nav.dh1.style.top = e + 'px'),
                (this.nav.dh2.style.top = e + 'px')),
              (this.nav.loading.style.top = e + 5 + 'px'),
              t && (this.nav.scroll.style.top = e + 1 + 'px');
          }),
          (this.mh = function() {
            if (this.Hk) return 0;
            var e = 0;
            return (e = this.rowHeaderScrolling
              ? this.rowHeaderWidth
              : this.bk());
          }),
          (this.bl = function() {
            var e = this.nav.divider;
            (e.style.cursor = 'col-resize'),
              e.setAttribute('unselectable', 'on'),
              (e.onmousedown = function(e) {
                var t = (n.splitting = {});
                return (
                  (t.cursor = c.nav.top.style.cursor),
                  (t.cleanup = function() {
                    if (
                      ((c.nav.top.style.cursor = t.cursor),
                      'function' == typeof c.onRowHeaderResized)
                    ) {
                      var e = {};
                      c.onRowHeaderResized(e);
                    }
                  }),
                  (c.nav.top.style.cursor = 'col-resize'),
                  !1
                );
              });
          }),
          (this.Ik = function() {
            var e = R.splitterWidth(),
              t = this.mh();
            if (
              ((this.nav.corner.style.width = t + 'px'),
              (this.divCorner.style.width = t + 'px'),
              (this.divResScroll.style.width = t + 'px'),
              'DivBased' === R.layout() &&
                ((this.nav.left.style.width = t + 'px'),
                (this.nav.divider.style.left = t - e + 'px'),
                (this.nav.right.style.marginLeft = t + 'px')),
              this.nav.message && (this.nav.message.style.left = t + e + 'px'),
              this.nav.loading &&
                (this.nav.loading.style.left = t + e + 5 + 'px'),
              this.nav.hideIcon)
            ) {
              var i = this.nav.hideIcon,
                n = c.r('_header_icon_show'),
                a = c.r('_header_icon_hide');
              (i.style.left = t - 1 + 'px'),
                c.Hk
                  ? (DayPilot.Util.removeClass(i, a),
                    DayPilot.Util.addClass(i, n))
                  : (DayPilot.Util.removeClass(i, n),
                    DayPilot.Util.addClass(i, a));
            }
          }),
          (this.gl = function() {
            this.ck();
            var e = this.bk(),
              t = function(e, t, i) {
                if (e && e.style) {
                  var n = e.firstChild;
                  c.hk
                    ? ((e.style.width = t + 'px'),
                      (n.style.width = t + 'px'),
                      'number' == typeof i && (e.style.left = i + 'px'))
                    : (n.style.width = t + 'px');
                }
              },
              i = this.divHeader;
            i.style.width = e + 'px';
            for (var n = c.dk(), a = n.start; a < n.end; a++) {
              var o = i.rows[a];
              if (o) {
                var r = o.cells[0];
                if (r.colSpan > 1) {
                  var r = o.cells[0];
                  t(r, e);
                } else if (this.rowHeaderCols)
                  for (var l = 0, s = 0; s < o.cells.length; s++) {
                    var d = this.rowHeaderCols[s],
                      r = o.cells[s];
                    t(r, d, l), (l += d);
                  }
                else {
                  var d = this.rowHeaderWidth,
                    r = o.cells[0];
                  t(r, d);
                }
              }
            }
            c.nav.resScrollSpace &&
              (c.nav.resScrollSpace.style.width = e + 'px'),
              this._();
          }),
          (this.Wh = function() {
            this.Ik(), this.gl();
          }),
          (this.hl = function() {
            var e = c.nav.corner,
              t = this.rowHeaderColumns,
              i = document.createElement('div');
            (i.style.position = 'absolute'),
              (i.style.bottom = '0px'),
              (i.style.left = '0px'),
              (i.style.width = '100%'),
              (i.style.height = R.headerHeight() + 'px'),
              (i.style.overflow = 'hidden'),
              (c.nav.columnScroll = i);
            var n = document.createElement('div');
            (n.style.position = 'absolute'),
              (n.style.bottom = '0px'),
              (n.style.left = '0px'),
              (n.style.width = '5000px'),
              (n.style.height = R.headerHeight() + 'px'),
              (n.style.overflow = 'hidden'),
              (n.className = this.r('_columnheader')),
              i.appendChild(n);
            var a = document.createElement('div');
            (a.style.position = 'absolute'),
              (a.style.top = '0px'),
              (a.style.bottom = '0px'),
              (a.style.left = '0px'),
              (a.style.right = '0px'),
              (a.className = this.r('_columnheader_inner')),
              n.appendChild(a),
              c.Si && (c.Si.dispose(), (c.Si = null));
            var o = new DayPilot.Splitter(a);
            (o.enabled = c.rowHeaderColumnsResizable),
              (o.widths = DayPilot.Util.propArray(
                t,
                'width',
                c.rowHeaderColumnDefaultWidth
              )),
              (o.height = R.headerHeight()),
              (o.css.title = this.r('_columnheader_cell')),
              (o.css.titleInner = this.r('_columnheader_cell_inner')),
              (o.css.splitter = this.r('_columnheader_splitter')),
              (o.titles = DayPilot.list(t).map(function(e) {
                return e.html || e.text || e.name || e.title || '';
              })),
              (o.updating = function(e) {
                DayPilot.Util.updatePropsFromArray(
                  c.rowHeaderColumns,
                  'width',
                  this.widths
                ),
                  c.Wh(),
                  'Auto' === c.cellWidthSpec;
              }),
              (o.updated = function(e) {
                if ((c.gk(), c.Ba())) {
                  if ('function' == typeof c.onRowHeaderColumnResized) {
                    var t = {};
                    (t.column = c.rowHeaderColumns[e.index]),
                      c.onRowHeaderColumnResized(t);
                  }
                } else
                  switch (c.rowHeaderColumnResizedHandling) {
                    case 'CallBack':
                      break;
                    case 'PostBack':
                      break;
                    case 'JavaScript':
                      if ('function' == typeof c.onRowHeaderColumnResized) {
                        var t = {};
                        (t.column = c.rowHeaderColumns[e.index]),
                          c.onRowHeaderColumnResized(t);
                      }
                  }
              }),
              (o.color = '#000000'),
              (o.opacity = 30),
              o.init(),
              e.appendChild(i),
              (this.Si = o);
          }),
          (this.bi = function() {
            var e = this.nav.corner;
            (e.innerHTML = ''), (e.className = this.r('_corner'));
            var t = document.createElement('div');
            if (
              ((t.style.position = 'absolute'),
              (t.style.top = '0px'),
              (t.style.left = '0px'),
              (t.style.right = '0px'),
              (t.style.bottom = '0px'),
              (t.className = this.r('_corner_inner')),
              (this.divCorner = t),
              (t.innerHTML = '&nbsp;'),
              this.rowHeaderColumns && this.rowHeaderColumns.length > 0)
            ) {
              var i = document.createElement('div');
              (i.style.position = 'absolute'),
                (i.style.top = '0px'),
                (i.style.left = '0px'),
                (i.style.right = '0px'),
                (i.style.bottom = R.headerHeight() + 1 + 'px'),
                e.appendChild(i);
              var n = document.createElement('div');
              (n.style.position = 'absolute'),
                (n.style.left = '0px'),
                (n.style.right = '0px'),
                (n.style.height = '1px'),
                (n.style.bottom = R.headerHeight() + 'px'),
                (n.className = this.r('_divider')),
                e.appendChild(n),
                i.appendChild(t),
                this.hl();
            } else e.appendChild(t);
            var a = document.createElement('div');
            (a.style.position = 'absolute'),
              (a.style.padding = '2px'),
              (a.style.top = '0px'),
              (a.style.left = '1px'),
              (a.style.backgroundColor = '#FF6600'),
              (a.style.color = 'white'),
              (a.innerHTML = '\u0044\u0045' + '\u004D\u004F'),
              DayPilot.Util.isNullOrUndefined(undefined) && e.appendChild(a);
          }),
          (this.fl = function() {
            var e = 3,
              t = this.mh() + R.splitterWidth() - 1,
              i = 10,
              n = 20,
              a = this.lh() + e,
              o = DayPilot.Util.div(this.nav.top, t, a, i, n);
            (o.style.cursor = 'pointer'),
              (o.className = c.r('_header_icon')),
              DayPilot.Util.addClass(o, c.r('_header_icon_hide')),
              (o.onclick = function() {
                c.rows.headerToggle();
              }),
              (this.nav.hideIcon = o);
          }),
          (this.ci = function() {
            c.nav.hideIcon &&
              (c.rowlist.length > 0 && c.rowHeaderHideIconEnabled
                ? (c.nav.hideIcon.style.display = '')
                : (c.nav.hideIcon.style.display = 'none'));
          }),
          (this.Nc = function() {
            var e = this.mh(),
              t = document.createElement('div');
            return (
              (c.nav.corner = t),
              (t.style.width = e + 'px'),
              (t.style.height = this.lh() + 'px'),
              (t.style.overflow = 'hidden'),
              (t.style.position = 'relative'),
              t.setAttribute('unselectable', 'on'),
              (t.onmousemove = function() {
                c.Z();
              }),
              (t.oncontextmenu = function() {
                return !1;
              }),
              this.bi(),
              t
            );
          }),
          (this.lh = function() {
            if (c.timeHeaders) {
              var e = B.timeHeader(c.timeHeaders.length - 1);
              return e.top + e.height;
            }
            return this.timeHeader ? c.timeHeader.length * R.headerHeight() : 0;
          }),
          (this.il = null),
          (this.jl = function() {
            return c.scrollStep || c.eventHeight;
          }),
          (this.al = function() {
            var e = document.createElement('div');
            (e.style.width = this.mh() + 'px'),
              (e.style.height = this.pc() + 'px'),
              (e.style.overflow = 'hidden'),
              (e.style.position = 'relative'),
              (e.className = c.r('_rowheader_scroll'));
            var t = c.jl(),
              i = c.Lc.mobile();
            return (
              i && (e.style.overflowY = 'auto'),
              (e.onmousemove = function() {
                c.Z();
              }),
              (e.onscroll = function() {
                if (
                  (c.nav.columnScroll &&
                    c.rowHeaderScrolling &&
                    (c.nav.columnScroll.scrollLeft = e.scrollLeft),
                  c.il && clearTimeout(c.il),
                  i)
                ) {
                  var t = c.Hj() - c.nav.scroll.offsetHeight;
                  (e.scrollTop = Math.min(e.scrollTop, t)),
                    (c.nav.scroll.scrollTop = e.scrollTop);
                } else
                  c.il = setTimeout(function() {
                    c.nav.scroll.scrollTop = e.scrollTop;
                  }, 500);
              }),
              e.addEventListener(
                'wheel',
                function(i) {
                  var n;
                  (n =
                    c.overrideWheelScrolling || c.scrollStep
                      ? i.deltaY > 0
                        ? t
                        : -t
                      : i.deltaY),
                    (c.nav.scroll.scrollTop = e.scrollTop + n),
                    i.preventDefault && i.preventDefault();
                },
                !1
              ),
              (e.oncontextmenu = function() {
                return !1;
              }),
              (e.onmouseenter = function() {
                c.rowHeaderScrolling && (e.style.overflowX = 'auto');
              }),
              (e.onmouseleave = function() {
                c.rowHeaderScrolling && (e.style.overflowX = 'hidden');
              }),
              e.setAttribute('role', 'region'),
              e.setAttribute('aria-label', 'scheduler rows'),
              (this.divResScroll = e),
              (this.qh = e),
              e
            );
          }),
          (this.kl = function(e) {
            if ('TableBased' === R.layout()) {
              var t = parseInt(this.width, 10),
                i = isNaN(t) || this.width.indexOf('%') !== -1,
                n = (/MSIE/i.test(navigator.userAgent), this.bk());
              i
                ? this.nav.top &&
                  this.nav.top.offsetWidth > 0 &&
                  (e.style.width = this.nav.top.offsetWidth - 6 - n + 'px')
                : (e.style.width = t - n + 'px');
            }
          }),
          (this.Te = function(e) {
            c.Hg(), c.Sg();
          }),
          (this.Hg = function() {
            'TableBased' === c.Lc.layout() &&
              (c.kl(c.nav.scroll), c.kl(c.divTimeScroll)),
              c.ra(),
              c.gk(),
              c.ll(),
              (c.E.drawArea = null);
          }),
          (this.ml = null),
          (this.Ri = null),
          (this.nl = function() {
            c.watchWidthChanges &&
              (c.Ri ||
                (this.Ri = setInterval(function() {
                  return c.nav && c.nav.top
                    ? (c.ml ||
                        ((c.ml = {}),
                        (c.ml.counter = 0),
                        (c.ml.changed = !1),
                        (c.ml.width = c.nav.top.offsetWidth)),
                      c.ml.width !== c.nav.top.offsetWidth &&
                        ((c.ml.changed = !0),
                        (c.ml.counter = 0),
                        (c.ml.width = c.nav.top.offsetWidth)),
                      c.ml.changed && (c.ml.counter += 1),
                      void (
                        c.ml.changed &&
                        c.ml.counter > 2 &&
                        ((c.ml.changed = !1), c.Hg(), c.Sg())
                      ))
                    : void clearInterval(c.Ri);
                }, 200)));
          }),
          (this.ll = function() {
            var e = c.rangeHold;
            c.clearSelection(), (c.rangeHold = e), c.pi(e, !0);
          }),
          (this.gk = function() {
            c.G &&
              'Auto' === c.cellWidthSpec &&
              (c.Bg(),
              c.Cg(),
              c.Fg(),
              c.Jg(),
              c.Mg(),
              c.Kg(),
              c.Ng(),
              c.T(),
              c.ja(),
              c.xa(),
              c.ra());
          }),
          (this.Bg = function() {
            if ('Auto' === this.cellWidthSpec) {
              var e = this.nav.top.clientWidth,
                t = this.mh(),
                i = c.ol(),
                n = e - t - i;
              if (this.Jj()) {
                var a = n / this.Jj();
                (this.cellWidth = Math.max(a, c.cellWidthMin)),
                  (c.ph = a < c.cellWidthMin);
              }
            }
          }),
          (this.ol = function() {
            if ('Auto' === c.heightSpec) return 0;
            if (
              'Max' === c.heightSpec ||
              'Fixed' === c.heightSpec ||
              'Parent100Pct' === c.heightSpec
            ) {
              return c.Hj() > c.height ? DayPilot.sw(c.nav.scroll) : 0;
            }
            return DayPilot.sw(c.nav.scroll);
          }),
          (this.vh = function() {
            var e = this.nav.top.clientWidth,
              t = this.mh(),
              i = this.pc(),
              n = this.Hj(),
              a = 'Auto' === c.heightSpec,
              o = 0;
            return n > i && !a && (o = DayPilot.swa()), e - t - 2 - o;
          }),
          (this.cl = function() {
            var e = 'Top' === c.timeHeaderPosition,
              t = document.createElement('div');
            (t.style.overflow = 'hidden'),
              (t.style.display = 'block'),
              e
                ? ((t.style.position = 'absolute'), (t.style.top = '0px'))
                : (t.style.position = 'relative'),
              (t.style.width = '100%'),
              (t.style.height = this.lh() + 'px'),
              (t.style.overflow = 'hidden'),
              (t.onmousemove = function() {
                c.Z(), c.cellBubble && c.cellBubble.delayedHide();
              }),
              this.kl(t),
              (this.divTimeScroll = t);
            var i = document.createElement('div');
            return (
              (i.style.width = this.Jj() * this.cellWidth + 5e3 + 'px'),
              (this.divNorth = i),
              t.appendChild(i),
              t
            );
          }),
          (this.pc = function() {
            var e = 0,
              t = c.heightSpec;
            return 'Fixed' === t || 'Parent100Pct' === t
              ? this.height
                ? this.height
                : 0
              : ((e = c.Hj()),
                ('Max' === t || 'Max100Pct' === t) && e > c.height
                  ? c.height
                  : e);
          }),
          (this.pl = null),
          (this.ql = 0),
          (this.rl = 0),
          (this.sl = 0),
          (this.rh = function() {
            if (
              'function' == typeof c.onHeightChanged ||
              'function' == typeof c.onDimensionsChanged
            ) {
              c.pl && clearTimeout(c.pl);
              var e = function() {
                var e = c.nav.top.offsetHeight,
                  t = c.ql;
                c.ql = e;
                var i = c.nav.top.offsetWidth,
                  n = c.rl;
                c.rl = i;
                var a = c.mh(),
                  o = c.sl;
                if (
                  ((c.sl = a),
                  'function' == typeof c.onHeightChanged && e !== t)
                ) {
                  var r = {};
                  (r.oldHeight = t), (r.newHeight = e), c.onHeightChanged(r);
                }
                if (
                  'function' == typeof c.onDimensionsChanged &&
                  (e !== t || i !== n || a !== o)
                ) {
                  var r = {};
                  (r.oldHeight = t),
                    (r.newHeight = e),
                    (r.oldWidth = n),
                    (r.newWidth = i),
                    (r.oldRowHeaderWidth = o),
                    (r.newRowHeaderWidth = a),
                    c.onDimensionsChanged(r);
                }
              };
              c.pl = setTimeout(e, 100);
            }
          }),
          (this.Hj = function() {
            var e;
            return (
              this.wg !== -1
                ? ((e = this.wg),
                  this.wg > 0 &&
                    'auto' === c.nav.scroll.style.overflowX &&
                    (e += DayPilot.sh(c.nav.scroll)))
                : (e = this.rowlist.length * this.Lc.eventHeight()),
              e
            );
          }),
          (this.Z = function() {
            c.ul &&
              ((c.ul = !1),
              this._(),
              this.vl(),
              this.wl(),
              this._j(),
              this.Gj(),
              c.cellBubble && c.cellBubble.hideOnMouseOut(),
              c.bubble && c.bubble.hideOnMouseOut());
          }),
          (this.dl = function() {
            var e = document.createElement('div');
            if (
              ((e.style.overflow = 'auto'),
              (e.style.overflowX = 'auto'),
              (e.style.overflowY = 'auto'),
              (e.style.height = this.pc() + 'px'),
              'Top' === c.timeHeaderPosition
                ? ((e.style.top = this.lh() + 1 + 'px'),
                  (e.style.position = 'absolute'))
                : (e.style.position = 'relative'),
              (e.style.width = '100%'),
              (e.className = this.r('_scrollable')),
              (e.oncontextmenu = function() {
                return !1;
              }),
              this.kl(e),
              c.overrideWheelScrolling)
            ) {
              var t = c.jl();
              (e.onwheel = function(i) {
                var n = i.deltaY > 0 ? t : -t;
                (c.nav.scroll.scrollTop = e.scrollTop + n),
                  i.preventDefault && i.preventDefault();
              }),
                (e.onmousewheel = function(i) {
                  i = i || window.event;
                  var n = i.wheelDelta < 0 ? t : -t;
                  (c.nav.scroll.scrollTop = e.scrollTop + n),
                    i.preventDefault && i.preventDefault(),
                    (i.returnValue = !1);
                });
            }
            (this.nav.scroll = e),
              (this.Xg = document.createElement('div')),
              (this.Xg.style.MozUserSelect = 'none'),
              (this.Xg.style.KhtmlUserSelect = 'none'),
              (this.Xg.style.webkitUserSelect = 'none'),
              (this.Xg.daypilotMainD = !0),
              (this.Xg.calendar = this),
              i && (this.Xg.style.webkitTransform = 'translateZ(0px)'),
              (this.Xg.style.position = 'absolute');
            var n = this.jh();
            return (
              n > 0 && !isNaN(n) && (this.Xg.style.width = n + 'px'),
              this.Xg.setAttribute('unselectable', 'on'),
              (this.Xg.onmousedown = this.xl),
              (this.Xg.onmousemove = this.ak),
              (this.Xg.onmouseup = this.yl),
              (this.Xg.oncontextmenu = this.zl),
              (this.Xg.ondblclick = this.Al),
              (this.Xg.className = this.r('_matrix')),
              (this.divStretch = document.createElement('div')),
              (this.divStretch.style.position = 'absolute'),
              (this.divStretch.style.height = '1px'),
              this.Xg.appendChild(this.divStretch),
              (this.divCells = document.createElement('div')),
              (this.divCells.style.position = 'absolute'),
              (this.divCells.oncontextmenu = this.zl),
              this.Xg.appendChild(this.divCells),
              (this.divLines = document.createElement('div')),
              (this.divLines.style.position = 'absolute'),
              (this.divLines.oncontextmenu = this.zl),
              this.Xg.appendChild(this.divLines),
              (this.divBreaks = document.createElement('div')),
              (this.divBreaks.style.position = 'absolute'),
              (this.divBreaks.oncontextmenu = this.zl),
              this.Xg.appendChild(this.divBreaks),
              (this.divSeparators = document.createElement('div')),
              (this.divSeparators.style.position = 'absolute'),
              (this.divSeparators.oncontextmenu = this.zl),
              this.Xg.appendChild(this.divSeparators),
              (this.divLinksBelow = document.createElement('div')),
              (this.divLinksBelow.style.position = 'absolute'),
              this.Xg.appendChild(this.divLinksBelow),
              (this.divCrosshair = document.createElement('div')),
              (this.divCrosshair.style.position = 'absolute'),
              (this.divCrosshair.ondblclick = this.Al),
              this.Xg.appendChild(this.divCrosshair),
              (this.divRange = document.createElement('div')),
              (this.divRange.style.position = 'absolute'),
              (this.divRange.oncontextmenu = this.zl),
              this.Xg.appendChild(this.divRange),
              (this.divEvents = document.createElement('div')),
              (this.divEvents.style.position = 'absolute'),
              this.Xg.appendChild(this.divEvents),
              (this.divSeparatorsAbove = document.createElement('div')),
              (this.divSeparatorsAbove.style.position = 'absolute'),
              (this.divSeparatorsAbove.oncontextmenu = this.zl),
              this.Xg.appendChild(this.divSeparatorsAbove),
              (this.divLinksAbove = document.createElement('div')),
              (this.divLinksAbove.style.position = 'absolute'),
              this.Xg.appendChild(this.divLinksAbove),
              (this.divLinkShadow = document.createElement('div')),
              (this.divLinkShadow.style.position = 'absolute'),
              this.Xg.appendChild(this.divLinkShadow),
              (this.divLinkpoints = document.createElement('div')),
              (this.divLinkpoints.style.position = 'absolute'),
              this.Xg.appendChild(this.divLinkpoints),
              (this.divRectangle = document.createElement('div')),
              (this.divRectangle.style.position = 'absolute'),
              this.Xg.appendChild(this.divRectangle),
              (this.divHover = document.createElement('div')),
              (this.divHover.style.position = 'absolute'),
              this.Xg.appendChild(this.divHover),
              (this.divShadow = document.createElement('div')),
              (this.divShadow.style.position = 'absolute'),
              this.Xg.appendChild(this.divShadow),
              e.appendChild(this.Xg),
              e
            );
          }),
          (this.Bl = {});
        var C = this.Bl;
        (C.create = function() {
          if (!c.nav.overlay) {
            var e = document.createElement('div');
            (e.style.position = 'absolute'),
              (e.style.left = '0px'),
              (e.style.right = '0px'),
              (e.style.top = '0px'),
              (e.style.bottom = '0px'),
              (e.className = c.r('_block')),
              c.nav.top.appendChild(e),
              (c.nav.overlay = e);
          }
        }),
          (C.show = function() {
            C.create(), (c.nav.overlay.style.display = '');
          }),
          (C.hide = function() {
            c.nav.overlay && (c.nav.overlay.style.display = 'none');
          }),
          (this.N = function(e) {
            var t = e ? 0 : 100;
            c.loadingTimeout && window.clearTimeout(c.loadingTimeout),
              (c.loadingTimeout = window.setTimeout(function() {
                c.loadingLabelVisible &&
                  ((c.nav.loading.innerHTML = c.loadingLabelText),
                  (c.nav.loading.style.display = '')),
                  c.blockOnCallBack && C.show();
              }, t));
          }),
          (this.da = function() {
            this.loadingTimeout && window.clearTimeout(this.loadingTimeout),
              (this.nav.loading.style.display = 'none'),
              this.blockOnCallBack && C.hide();
          }),
          (this.loadingStart = function() {
            c.N();
          }),
          (this.loadingStop = function() {
            c.da();
          }),
          (this.uiBlock = function() {
            C.show();
          }),
          (this.uiUnblock = function() {
            C.hide();
          }),
          (this.Jd = function() {
            this.startDate = new DayPilot.Date(this.startDate).getDatePart();
          }),
          (this.Od = function(e) {
            var t = document.createElement('div');
            (t.style.position = 'absolute'),
              (t.style.top = '-2000px'),
              (t.style.left = '-2000px'),
              (t.className = this.r(e)),
              document.body.appendChild(t);
            var i = t.offsetHeight,
              n = t.offsetWidth;
            document.body.removeChild(t);
            var a = {};
            return (a.height = i), (a.width = n), a;
          }),
          (this.Aa = function(e) {
            if (
              (e && (this.autoRefreshEnabled = !0),
              this.autoRefreshEnabled && !(this.F >= this.autoRefreshMaxCount))
            ) {
              this.S();
              var t = this.autoRefreshInterval;
              if (!t || t < 10)
                throw 'The minimum autoRefreshInterval is 10 seconds';
              this.autoRefreshTimeout = window.setTimeout(function() {
                c.td();
              }, 1e3 * this.autoRefreshInterval);
            }
          }),
          (this.S = function() {
            this.autoRefreshTimeout &&
              (window.clearTimeout(this.autoRefreshTimeout),
              (this.autoRefreshTimeout = null));
          }),
          (this.autoRefreshStart = function(e) {
            c.Aa(e);
          }),
          (this.autoRefreshPause = function() {
            c.S();
          }),
          (this.Cl = function() {
            return !(n.resizing || n.moving || n.drag || n.range);
          }),
          (this.td = function() {
            if (c.Cl()) {
              var e = !1;
              if ('function' == typeof this.onAutoRefresh) {
                var t = {};
                (t.i = this.F),
                  (t.preventDefault = function() {
                    this.preventDefault.value = !0;
                  }),
                  c.onAutoRefresh(t),
                  t.preventDefault.value && (e = !0);
              }
              !e && this.t() && this.commandCallBack(this.autoRefreshCommand),
                this.F++;
            }
            this.F < this.autoRefreshMaxCount &&
              (this.autoRefreshTimeout = window.setTimeout(function() {
                c.td();
              }, 1e3 * this.autoRefreshInterval));
          }),
          (this.ud = function() {
            n.globalHandlers ||
              ((n.globalHandlers = !0),
              DayPilot.re(document, 'mousemove', n.gMouseMove),
              DayPilot.re(document, 'mouseup', n.gMouseUp),
              DayPilot.re(document, 'mousedown', n.gMouseDown),
              DayPilot.re(document, 'touchmove', n.gTouchMove),
              DayPilot.re(document, 'touchend', n.gTouchEnd),
              DayPilot.re(window, 'keyup', n.gKeyUp)),
              DayPilot.re(window, 'resize', this.Te);
          }),
          (this.Dl = function() {
            (this.nav.scroll.root = this),
              (this.nav.scroll.onscroll = this.Sg),
              (c.Kj = this.nav.scroll.scrollLeft),
              (c.Ij = this.nav.scroll.scrollTop),
              (c.Lj = this.divNorth.clientWidth);
          }),
          (this.$f = function() {
            if (this.nav.state) {
              var e = {};
              (e.scrollX = this.nav.scroll.scrollLeft),
                (e.scrollY = this.nav.scroll.scrollTop);
              var t = c.Hi(e.scrollX, e.scrollY),
                i = c.Ii(t),
                n = c.Ji(t);
              (e.rangeStart = i.start),
                (e.rangeEnd = i.end),
                (e.resources = n),
                this.syncResourceTree && (e.tree = this.Y()),
                (this.nav.state.value = DayPilot.he(JSON.stringify(e)));
            }
          }),
          (this.Ng = function() {
            if (this.separators)
              for (var e = 0; e < this.separators.length; e++) this.Bd(e);
          }),
          (this.El = {}),
          (this.El.step = 300),
          (this.El.delay = 10),
          (this.El.mode = 'display'),
          (this.El.layers = !1),
          (this.Nj = function(e) {
            if (c.sg) return void S.calculateEventPositionsRow(e);
            for (var t = 0, i = 0; i < e.lines.length; i++) {
              var n = e.lines[i];
              (n.height = 0), (n.top = t);
              for (var a = 0; a < n.length; a++) {
                var o = n[a];
                if ((!o.part.top, !0)) {
                  (o.part.line = i),
                    o.part.height || (o.part.height = e.eventHeight);
                  var r = o.part.Ck();
                  r > n.height && (n.height = r),
                    (o.part.top = t + e.marginTop);
                  var l = 'Above' === c.eventVersionPosition;
                  if (
                    c.eventVersionsEnabled &&
                    !DayPilot.list(o.data.versions).isEmpty()
                  ) {
                    var s = (o.data.versions.length, o.part.top);
                    l || (s += o.part.height + c.eventVersionMargin),
                      DayPilot.list(o.data.versions).each(function(e, t) {
                        if (o.versions[t]) {
                          var i =
                            t * (c.eventVersionHeight + c.eventVersionMargin);
                          (o.versions[t].top = s + i),
                            l &&
                              ((o.part.top += c.eventVersionHeight),
                              (o.part.top += c.eventVersionMargin));
                        }
                      });
                  }
                  (o.part.top += c.eventMarginBottom),
                    (o.part.right = o.part.left + o.part.width),
                    (o.part.fullTop =
                      this.rowlist[o.part.dayIndex].top + o.part.top),
                    (o.part.fullBottom = o.part.fullTop + o.part.height);
                }
              }
              t +=
                ((n.height || e.eventHeight) * e.eventStackingLineHeight) / 100;
            }
          });
        var S = {};
        (S.loadRow = function(e) {
          (e.evColumns = DayPilot.list(c.itline).map(function(e, t) {
            return { events: DayPilot.list() };
          })),
            DayPilot.list(e.events).each(function(t) {
              var i = t.start(),
                n = c.Jh(i);
              e.evColumns[n.i].events.push(t);
            });
        }),
          (S.calculateEventPositions = function() {
            var e = c.tg,
              t = 0;
            DayPilot.list(c.rowlist).each(function(i) {
              var n = 0;
              i.evColumns.each(function(t, a) {
                var o = c.itline[a],
                  r = c.rowMarginTop;
                t.events.each(function(t) {
                  (t.part.left = o.left),
                    (t.part.width = o.width),
                    (t.part.top = r),
                    t.part.height ||
                      (e
                        ? (t.part.height =
                            S.getEventAutoHeight(t) + c.durationBarHeight)
                        : (t.part.height = i.eventHeight)),
                    (r += t.part.height + c.eventMarginBottom);
                }),
                  (t.height = r),
                  t.height > n && (n = t.height);
              }),
                (i.maxColumnHeight = n),
                (i.top = t);
              var a = i.height;
              (i.height = i.getHeight()),
                n > c.rowMarginTop && (i.height = n + c.rowMarginBottom),
                a !== i.height && (c.gi = !0),
                (t += i.height);
            }),
              (c.wg = t);
          }),
          (S.getEventAutoHeight = function(e) {
            var t = e.client.html(),
              i = document.createElement('div');
            (i.style.position = 'absolute'),
              (i.style.top = '-2000px'),
              (i.style.left = '-2000px'),
              (i.style.width = e.part.width + 'px'),
              (i.className = c.r(T.event));
            var n = document.createElement('div');
            (n.className = c.r(T.eventInner)),
              (n.innerHTML = t),
              (n.style.position = 'static'),
              (n.style.overflow = 'auto'),
              i.appendChild(n);
            var a = c.divEvents;
            a.appendChild(i);
            var o = i.offsetHeight;
            return a.removeChild(i), o;
          }),
          (S.calculateEventPositionsRow = function(e) {
            S.calculateEventPositions();
          }),
          (S.drawEventsWithoutCheckingOverflow = function() {
            DayPilot.list(c.rowlist).each(function(e) {
              S.drawEventsRow(e);
            });
          }),
          (S.drawEvents = function() {
            S.drawEventsWithoutCheckingOverflow(),
              S.checkOverflow(),
              c.Ig(),
              c.ra();
          }),
          (S.checkOverflow = function() {
            if (c.tg) {
              var e = !1;
              DayPilot.list(c.elements.events).each(function(t) {
                var i = t.firstChild,
                  n =
                    i.offsetHeight -
                    i.clientHeight +
                    t.offsetHeight -
                    t.clientHeight,
                  a = i.scrollHeight + n,
                  o = t.event.part.height;
                (t.event.part.height = a), o !== a && (e = !0);
              }),
                e &&
                  (c.T(),
                  S.calculateEventPositions(),
                  S.drawEventsWithoutCheckingOverflow(),
                  c.Jg(),
                  c.Mg());
            }
          }),
          (S.drawEventsRow = function(e) {
            e.evColumns.each(function(e, t) {
              e.events.each(function(e) {
                c.fc(e);
              });
            });
          }),
          (this.Yh = null),
          (this.xa = function(e) {
            if (!c.Ld) {
              if (c.sg) return void S.drawEvents();
              var t = this.El.step;
              this.El.layers &&
                ((c.divEvents = document.createElement('div')),
                (c.divEvents.style.position = 'absolute'),
                c.Xg.insertBefore(this.divEvents, this.divSeparatorsAbove)),
                'display' === this.El.mode
                  ? (this.divEvents.style.display = 'none')
                  : 'visibility' === this.El.mode &&
                    (this.divEvents.style.visibility = 'hidden'),
                this.divEvents.setAttribute('role', 'region'),
                this.divEvents.setAttribute('aria-label', 'scheduler events');
              for (
                var i = 'Progressive' === this.dynamicEventRendering,
                  n = this.ah(),
                  a = n.pixels.top,
                  o = n.pixels.bottom,
                  r = c.allowMultiMove || c.allowMultiResize,
                  l = 0;
                l < this.rowlist.length;
                l++
              ) {
                var s = this.rowlist[l],
                  d = s.top - this.dynamicEventRenderingMargin,
                  h = d + s.height + 2 * this.dynamicEventRenderingMargin;
                if (!i || r || !(o <= d || a >= h)) {
                  this.Nj(s);
                  for (var u = 0; u < s.lines.length; u++)
                    for (var f = s.lines[u], p = 0; p < f.length; p++) {
                      var g = f[p],
                        m = this.fc(g);
                      if (e && m && (t--, t <= 0))
                        return (
                          (this.divEvents.style.visibility = ''),
                          (this.divEvents.style.display = ''),
                          void (c.Yh = window.setTimeout(function() {
                            c.xa(e);
                          }, c.El.delay))
                        );
                    }
                }
              }
              (this.divEvents.style.display = ''),
                DayPilot.list(c.multiselect.ob).isEmpty() ||
                  c.multiselect.redraw(),
                this.dh(),
                v.load();
            }
          }),
          (this.ii = function(e) {
            var t = this.rowlist[e];
            if (c.sg) return void S.drawEventsRow(t);
            (this.divEvents = document.createElement('div')),
              (this.divEvents.style.position = 'absolute'),
              (this.divEvents.style.display = 'none'),
              this.Xg.insertBefore(this.divEvents, this.divSeparatorsAbove),
              this.Nj(t);
            for (var i = 0; i < t.lines.length; i++)
              for (var n = t.lines[i], a = 0; a < n.length; a++) {
                var o = n[a];
                this.fc(o);
              }
            this.divEvents.style.display = '';
          }),
          (this.T = function() {
            if (this.elements.events)
              for (var e = this.elements.events.length, t = 0; t < e; t++) {
                var i = this.elements.events[t];
                this.ej(i);
              }
            this.elements.events = [];
          }),
          (this.hi = function(e) {
            if (this.elements.events) {
              for (
                var t = this.elements.events.length, i = [], n = 0;
                n < t;
                n++
              ) {
                var a = this.elements.events[n];
                a.event.part.dayIndex === e && (this.ej(a), i.push(n));
              }
              for (var n = i.length - 1; n >= 0; n--)
                this.elements.events.splice(i[n], 1);
            }
          }),
          (this.ej = function(e) {
            if ('function' == typeof c.onDomRemoveEvent) {
              var t = e.domArgs;
              (e.domArgs = null), c.onDomRemoveEvent(t);
            }
            e.parentNode && e.parentNode.removeChild(e),
              (e.onclick = null),
              (e.oncontextmenu = null),
              (e.onmouseover = null),
              (e.onmouseout = null),
              (e.onmousemove = null),
              (e.onmousedown = null),
              (e.ondblclick = null),
              e.event && ((e.event.rendered = null), (e.event = null)),
              e.related && DayPilot.de(e.related);
          }),
          (this.Fl = function(e) {
            e.event && (e.event.rendered = !1),
              (e.onclick = null),
              (e.onmousedown = null),
              (e.event = null),
              e.parentNode && e.parentNode.removeChild(e);
          }),
          (this.Gl = function() {
            if ('Progressive' === this.dynamicEventRendering) {
              if (c.dynamicEventRenderingCacheSweeping) {
                var e = c.dynamicEventRenderingCacheSize || 0;
                this.divEvents.style.display = 'none';
                for (
                  var t = [], i = 0, n = this.elements.events.length, a = n - 1;
                  a >= 0;
                  a--
                ) {
                  var o = this.elements.events[a];
                  this.Hl(o.event)
                    ? e > 0
                      ? (e--, t.unshift(o))
                      : (this.ej(o), i++)
                    : t.unshift(o);
                }
                (this.elements.events = t), (this.divEvents.style.display = '');
              }
            }
          }),
          (this.Il = function(e) {
            for (
              var t = [],
                i = 0,
                n = this.ah(),
                a = this.elements.cells.length,
                o = a - 1;
              o >= 0;
              o--
            ) {
              var r = this.elements.cells[o];
              n.xStart < r.coords.x &&
              r.coords.x <= n.xEnd &&
              n.yStart < r.coords.y &&
              r.coords.y <= n.yEnd
                ? t.unshift(r)
                : e > 0
                ? (e--, t.unshift(r))
                : (this.mj(r), i++);
            }
          }),
          (this.mj = function(e) {
            if (e && e.coords) {
              var t = e.coords.x,
                i = e.coords.y;
              DayPilot.rfa(c.elements.cells, e),
                DayPilot.de(e),
                (c.E.cells[t + '_' + i] = null);
            }
          }),
          (this.Kg = function() {
            if (this.elements.separators)
              for (var e = 0; e < this.elements.separators.length; e++) {
                var t = this.elements.separators[e];
                DayPilot.de(t);
              }
            this.elements.separators = [];
          }),
          (this.Jl = function() {
            var e = 'Progressive' === this.dynamicEventRendering;
            if (!this.nav.scroll) return !1;
            for (
              var t = this.nav.scroll.scrollTop,
                i = t + this.nav.scroll.clientHeight,
                n = 0;
              n < this.rowlist.length;
              n++
            ) {
              var a = this.rowlist[n],
                o = a.top,
                r = a.top + a.height;
              if (!e || !(i <= o || t >= r))
                for (var l = 0; l < a.lines.length; l++)
                  for (var s = a.lines[l], d = 0; d < s.length; d++) {
                    var c = s[d];
                    if (this.Kl(c)) return !0;
                  }
            }
            return !1;
          }),
          (this.Kl = function(e) {
            if (e.rendered) return !1;
            var t = 'Progressive' === this.dynamicEventRendering,
              i = this.nav.scroll.scrollLeft,
              n = i + this.nav.scroll.clientWidth,
              a = e.part.left,
              o = e.part.left + e.part.width;
            return !t || !(n <= a || i >= o);
          }),
          (this.Hl = function(e) {
            if (!e.rendered) return !0;
            var t = this.ah(),
              i = t.pixels.top,
              n = t.pixels.bottom,
              a = t.pixels.left - this.dynamicEventRenderingMargin,
              o = t.pixels.right + this.dynamicEventRenderingMargin,
              r = e.part.left,
              l = e.part.right,
              s = e.part.fullTop,
              d = e.part.fullBottom;
            return o <= r || a >= l || (n <= s || i >= d);
          }),
          (this.Bk = DayPilot.list()),
          (this.Ll = function(e) {
            if (e.rendered) return !1;
            if (e.row.hidden) return !1;
            var t = e.min,
              i = e.max - e.min,
              n = c.eventHeight,
              a = e.row.top,
              o = document.createElement('div');
            (o.style.position = 'absolute'),
              (o.style.left = t + 'px'),
              (o.style.top = a + 'px'),
              (o.style.width = i + 'px'),
              (o.style.height = n + 'px'),
              (o.className = c.r('_event_group')),
              (o.style.cursor = 'pointer');
            var r = {};
            (r.group = {}),
              (r.group.count = e.events.length),
              (r.group.events = DayPilot.list(e.events, !0)),
              (r.group.html = '[+] ' + e.events.length + ' events'),
              'function' == typeof c.onBeforeGroupRender &&
                c.onBeforeGroupRender(r);
            var l = document.createElement('div');
            return (
              (l.innerHTML = r.group.html),
              o.appendChild(l),
              (o.onmousedown = function(e) {
                var e = e || window.event;
                e.cancelBubble = !0;
              }),
              (o.onclick = function(e) {
                var t = o.event;
                (t.expanded = !0), c.Fl(o);
                var i = DayPilot.indexOf(c.elements.events, o);
                i !== -1 && c.elements.events.splice(i, 1);
                var n = c.Bk;
                DayPilot.list(t.events).each(function(e) {
                  n.push(e.id());
                }),
                  c.Qh(),
                  c.Rh(t.part.dayIndex),
                  c.ra();
                var e = e || window.event;
                e.cancelBubble = !0;
              }),
              (e.part = {}),
              (e.part.left = t),
              (e.part.width = i),
              (e.part.height = c.eventHeight),
              (e.part.dayIndex = DayPilot.indexOf(c.rowlist, e.row)),
              (e.part.top = 0),
              (e.part.isBlock = !0),
              (e.client = {}),
              (e.client.html = function() {
                return r.group.html;
              }),
              (e.data = {}),
              (o.event = e),
              this.elements.events.push(o),
              this.divEvents.appendChild(o),
              (e.rendered = !0),
              !0
            );
          }),
          (this.fc = function(e, t) {
            t = t || {};
            var i = t.forced;
            if (e.rendered) return !1;
            if (c.groupConcurrentEvents) {
              var n = e.part.block;
              if (n.events.length > 1 && !n.expanded) return c.Ll(n);
            }
            var a = 'Progressive' === this.dynamicEventRendering,
              o = e.part.dayIndex,
              r = this.rowlist[o];
            if (r.hidden) return !1;
            var l = r.top,
              s = this.ah(),
              d = s.pixels.left - this.dynamicEventRenderingMargin,
              h = s.pixels.right + this.dynamicEventRenderingMargin,
              u = s.pixels.top,
              f = s.pixels.bottom,
              v = e.part.left,
              p = e.part.left + e.part.width,
              g = e.part.top + l,
              m = g + e.part.height,
              y = c.multiselect.Nb(e);
            if (!i && !y && a && (h <= v || d >= p || f <= g || u >= m))
              return !1;
            var b = 'Milestone' === e.data.type,
              w = e.part.width,
              D = e.part.height,
              k = e.cache || e.data;
            (w = DayPilot.Util.atLeast(0, w)),
              (D = DayPilot.Util.atLeast(0, D));
            var P = document.createElement('div');
            if (
              ((P.related = []),
              (function(t) {
                c.eventVersionsEnabled &&
                  DayPilot.list(e.data.versions).each(function(i, n) {
                    if (i) {
                      var a = e.versions[n];
                      if (a) {
                        var o = document.createElement('div');
                        (o.style.position = 'absolute'),
                          (o.style.left = a.left + 'px'),
                          (o.style.top = l + a.top + 'px'),
                          (o.style.width = a.width + 'px'),
                          (o.style.height = c.eventVersionHeight + 'px'),
                          (o.className =
                            c.r(T.event) +
                            ' ' +
                            c.r('_event_previous') +
                            ' ' +
                            c.r('_event_version')),
                          i.toolTip && (o.title = i.toolTip),
                          i.cssClass && DayPilot.Util.addClass(o, i.cssClass);
                        var r = document.createElement('div');
                        r.setAttribute('unselectable', 'on'),
                          (r.className = c.r(T.eventInner)),
                          (r.innerHTML = i.html || i.text || ''),
                          i.backColor &&
                            ((r.style.background = i.backColor),
                            (DayPilot.browser.ie9 || DayPilot.browser.ielt9) &&
                              (r.style.filter = '')),
                          i.fontColor && (r.style.color = i.fontColor),
                          i.borderColor &&
                            (r.style.borderColor = i.borderColor),
                          i.backImage &&
                            ((r.style.backgroundImage =
                              'url(' + i.backImage + ')'),
                            i.backRepeat &&
                              (r.style.backgroundRepeat = i.backRepeat)),
                          o.appendChild(r),
                          a.continueLeft &&
                            !b &&
                            DayPilot.Util.addClass(
                              o,
                              c.r('_event_continueleft')
                            ),
                          a.continueRight &&
                            !b &&
                            DayPilot.Util.addClass(
                              o,
                              c.r('_event_continueright')
                            );
                        var s = c.durationBarVisible && !i.barHidden,
                          d = a.width;
                        if (s && d > 0) {
                          var h = (100 * a.barLeft) / d,
                            u = Math.ceil((100 * a.barWidth) / d);
                          'PercentComplete' === c.durationBarMode &&
                            ((h = 0), (u = i.complete || 0));
                          var f = document.createElement('div');
                          f.setAttribute('unselectable', 'on'),
                            (f.className = c.r(T.eventBar)),
                            (f.style.position = 'absolute'),
                            i.barBackColor &&
                              (f.style.backgroundColor = i.barBackColor);
                          var v = document.createElement('div');
                          v.setAttribute('unselectable', 'on'),
                            (v.className = c.r(T.eventBarInner)),
                            (v.style.left = h + '%'),
                            0 < u && u <= 1
                              ? (v.style.width = '1px')
                              : (v.style.width = u + '%'),
                            i.barColor &&
                              (v.style.backgroundColor = i.barColor),
                            i.barImageUrl &&
                              (v.style.backgroundImage =
                                'url(' + i.barImageUrl + ')'),
                            f.appendChild(v),
                            o.appendChild(f);
                        }
                        if (i.htmlLeft) {
                          var p = c.eventHtmlLeftMargin,
                            g = document.createElement('div');
                          (g.style.position = 'absolute'),
                            (g.style.right = -(a.left - p) + 'px'),
                            (g.style.top = l + a.top + 'px'),
                            (g.style.height = c.eventHeight + 'px'),
                            (g.style.boxSizing = 'border-box'),
                            (g.innerHTML = i.htmlLeft),
                            (g.className = c.r('_event_left')),
                            (g.type = 'divLeft'),
                            (g.versionPart = a),
                            t.related.push(g),
                            c.divEvents.appendChild(g);
                        }
                        if (i.htmlRight) {
                          var p = c.eventHtmlRightMargin,
                            m = document.createElement('div');
                          (m.style.position = 'absolute'),
                            (m.style.left = a.left + a.width + p + 'px'),
                            (m.style.top = l + a.top + 'px'),
                            (m.style.height = c.eventHeight + 'px'),
                            (m.style.boxSizing = 'border-box'),
                            (m.innerHTML = i.htmlRight),
                            (m.className = c.r('_event_right')),
                            (m.type = 'divRight'),
                            (m.versionPart = a),
                            t.related.push(m),
                            c.divEvents.appendChild(m);
                        }
                        (o.versionPart = a),
                          (o.type = 'version'),
                          t.related.push(o),
                          c.divEvents.appendChild(o);
                      }
                    }
                  });
              })(P),
              k.htmlLeft)
            ) {
              var x = c.eventHtmlLeftMargin,
                C = document.createElement('div');
              (C.style.position = 'absolute'),
                (C.style.right = -(e.part.left - x) + 'px'),
                (C.style.top = l + e.part.top + 'px'),
                (C.style.height = c.eventHeight + 'px'),
                (C.style.boxSizing = 'border-box'),
                (C.innerHTML = k.htmlLeft),
                (C.className = c.r('_event_left')),
                (C.type = 'divLeft'),
                P.related.push(C),
                this.divEvents.appendChild(C);
            }
            if (k.htmlRight) {
              var x = c.eventHtmlRightMargin,
                S = document.createElement('div');
              (S.style.position = 'absolute'),
                (S.style.left = e.part.left + e.part.width + x + 'px'),
                (S.style.top = l + e.part.top + 'px'),
                (S.style.height = c.eventHeight + 'px'),
                (S.style.boxSizing = 'border-box'),
                (S.innerHTML = k.htmlRight),
                (S.className = c.r('_event_right')),
                (S.type = 'divRight'),
                P.related.push(S),
                this.divEvents.appendChild(S);
            }
            var u = l + e.part.top;
            if (c.treeAnimation) {
              var E =
                'number' == typeof r.forcedHeight ? r.forcedHeight : r.height;
              e.part.top + e.part.height > E &&
                (D = Math.max(0, E - e.part.top));
            }
            (P.style.position = 'absolute'),
              (P.style.left = e.part.left + c.eventMarginLeft + 'px'),
              (P.style.top = l + e.part.top + 'px'),
              (P.style.width =
                w - c.eventMarginLeft - c.eventMarginRight + 'px'),
              (P.style.height = D + 'px'),
              c.eventTextWrappingEnabled || (P.style.whiteSpace = 'nowrap'),
              (P.style.overflow = 'hidden'),
              (P.className = this.r(T.event)),
              b && DayPilot.Util.addClass(P, c.r('_task_milestone')),
              'Group' === e.data.type &&
                (DayPilot.Util.addClass(P, c.r('_task_parent')),
                DayPilot.Util.addClass(P, c.r('_task_group'))),
              k.cssClass && DayPilot.Util.addClass(P, k.cssClass);
            'number' == typeof e.part.line &&
              DayPilot.Util.addClass(P, this.r(T.eventLine + e.part.line)),
              P.setAttribute('unselectable', 'on'),
              this.showToolTip &&
                !this.bubble &&
                (P.title = e.client.toolTip() || ''),
              (P.onmousemove = this.gc),
              (P.onmouseout = this.hc),
              (P.onmousedown = this.ic),
              (P.onmouseup = this.Ml),
              (P.ontouchstart = A.onEventTouchStart),
              (P.ontouchmove = A.onEventTouchMove),
              (P.ontouchend = A.onEventTouchEnd),
              e.client.clickEnabled() && (P.onclick = this.tf),
              e.client.doubleClickEnabled() && (P.ondblclick = this.Sa),
              (P.oncontextmenu = this.Ta),
              'undefined' != typeof k.ariaLabel
                ? P.setAttribute('aria-label', k.ariaLabel)
                : P.setAttribute('aria-label', k.text),
              P.setAttribute('tabindex', '-1');
            var M = document.createElement('div');
            M.setAttribute('unselectable', 'on'),
              (M.className = c.r(T.eventInner)),
              k.backColor &&
                ((M.style.background = k.backColor),
                (DayPilot.browser.ie9 || DayPilot.browser.ielt9) &&
                  (M.style.filter = '')),
              k.fontColor && (M.style.color = k.fontColor),
              k.borderColor && (M.style.borderColor = k.borderColor),
              k.backImage &&
                ((M.style.backgroundImage = 'url(' + k.backImage + ')'),
                k.backRepeat && (M.style.backgroundRepeat = k.backRepeat)),
              P.appendChild(M);
            var H = e.start().getTime() === e.part.start.getTime(),
              _ = e.rawend().getTime() === e.part.end.getTime();
            if (
              (H ||
                b ||
                DayPilot.Util.addClass(P, this.r('_event_continueleft')),
              _ ||
                b ||
                DayPilot.Util.addClass(P, this.r('_event_continueright')),
              e.client.barVisible() && w > 0 && !b)
            ) {
              var R = (100 * e.part.barLeft) / w,
                B = Math.ceil((100 * e.part.barWidth) / w);
              'PercentComplete' === this.durationBarMode &&
                ((R = 0), (B = k.complete || 0));
              var N = document.createElement('div');
              N.setAttribute('unselectable', 'on'),
                (N.className = this.r(T.eventBar)),
                (N.style.position = 'absolute'),
                k.barBackColor && (N.style.backgroundColor = k.barBackColor);
              var U = document.createElement('div');
              U.setAttribute('unselectable', 'on'),
                (U.className = this.r(T.eventBarInner)),
                (U.style.left = R + '%'),
                0 < B && B <= 1
                  ? (U.style.width = '1px')
                  : (U.style.width = B + '%'),
                k.barColor && (U.style.backgroundColor = k.barColor),
                k.barImageUrl &&
                  (U.style.backgroundImage = 'url(' + k.barImageUrl + ')'),
                N.appendChild(U),
                P.appendChild(N);
            }
            if (((P.row = o), k.areas))
              for (var L = 0; L < k.areas.length; L++) {
                var s = k.areas[L],
                  z = s.visibility || s.v || 'Visible';
                if ('Visible' === z) {
                  s.start &&
                    (s.left =
                      c.getPixels(new DayPilot.Date(s.start)).left -
                      e.part.left),
                    s.end &&
                      (s.right =
                        e.part.left +
                        e.part.width -
                        c.getPixels(new DayPilot.Date(s.end)).left);
                  var O = DayPilot.Areas.createArea(P, e, s);
                  P.appendChild(O);
                }
              }
            if (
              ((P.event = e),
              y && (c.multiselect.add(P.event, !0), c.multiselect.Yb(P)),
              (function() {
                var t = {};
                (t.e = e),
                  (t.element = null),
                  (P.domArgs = t),
                  'function' == typeof c.onDomAddEvent && c.onDomAddEvent(t),
                  t.element
                    ? M.appendChild(t.element)
                    : b || (M.innerHTML = e.client.innerHTML());
              })(),
              this.elements.events.push(P),
              this.divEvents.appendChild(P),
              (e.rendered = !0),
              c.Ba())
            ) {
              if ('function' == typeof c.onAfterEventRender) {
                var I = {};
                (I.e = P.event), (I.div = P), c.onAfterEventRender(I);
              }
            } else c.afterEventRender && c.afterEventRender(P.event, P);
            return !0;
          }),
          (this.Ba = function() {
            return 2 === c.api;
          }),
          (this.ji = function() {
            for (var e = 0; e < this.elements.events.length; e++) {
              var t = this.elements.events[e],
                i = t.event,
                n = i.part.dayIndex,
                a = this.rowlist[n],
                o = a.top,
                r = o + i.part.top,
                l =
                  'number' == typeof a.forcedHeight ? a.forcedHeight : a.height,
                s = i.part.height,
                d = !1;
              i.part.top + i.part.height > l &&
                ((s = Math.max(0, l - i.part.top)), (d = !0)),
                (t.style.top = r + 'px'),
                (t.style.height = s + 'px'),
                DayPilot.list(t.related)
                  .filter(function(e) {
                    return !!e.versionPart;
                  })
                  .each(function(e) {
                    var t = e.versionPart;
                    e.style.top = o + t.top + 'px';
                  }),
                DayPilot.list(t.related)
                  .filter(function(e) {
                    return (
                      !e.versionPart &&
                      ('divLeft' === e.type || 'divRight' === e.type)
                    );
                  })
                  .each(function(e) {
                    e.style.top = r + 'px';
                  });
            }
          }),
          (this.Gd = function(e) {
            if (!e) return null;
            for (var t = 0; t < c.elements.events.length; t++) {
              var i = c.elements.events[t];
              if (i.event === e || i.event.data === e.data) return i;
            }
            return null;
          }),
          (this.aj = function(e) {
            var t = c.events.Zi(e.data);
            if (!t) return null;
            var i = c.rowlist[t.part.dayIndex];
            return c.Nj(i), c.fc(t, { forced: !0 }), c.Gd(t);
          }),
          (this.hc = function(e) {
            var t = this;
            DayPilot.Areas.hideAreas(t, e),
              t.active ||
                (DayPilot.Util.removeClass(t, c.r('_event_hover')),
                c.Nl(t),
                s.source || v.hideLinkpointsWithDelay(),
                c.bubble &&
                  'Bubble' === c.eventHoverHandling &&
                  c.bubble.hideOnMouseOut());
          }),
          (this.Ol = function(e) {
            if ('function' == typeof this.onEventMouseOver) {
              var t = {};
              (t.div = e), (t.e = e.event), this.onEventMouseOver(t);
            }
          }),
          (this.Nl = function(e) {
            if ('function' == typeof this.onEventMouseOut) {
              var t = {};
              (t.div = e), (t.e = e.event), this.onEventMouseOut(t);
            }
          }),
          (this.Pl = function(e) {
            var t = e.row;
            if ('function' == typeof this.onRowMouseOver) {
              var i = {};
              (i.div = e), (i.row = c.ui(t)), this.onRowMouseOver(i);
            }
          }),
          (this.Ql = function(e) {
            var t = e.row;
            if ('function' == typeof this.onRowMouseOut) {
              var i = {};
              (i.div = e), (i.row = c.ui(t)), this.onRowMouseOut(i);
            }
          }),
          (this.gc = function(e) {
            (e = e || window.event), c.cellBubble && c.cellBubble.delayedHide();
            for (var t = this; t && !t.event; ) t = t.parentNode;
            c.Rl(t, e);
            var i = t.event.cache
              ? t.event.cache.deleteDisabled
              : t.event.data.deleteDisabled;
            if (!t.active) {
              var n = [];
              if ('Disabled' !== c.eventDeleteHandling && !i) {
                var a = c.durationBarVisible ? c.durationBarHeight : 0;
                n.push({
                  action: 'JavaScript',
                  v: 'Hover',
                  w: 17,
                  h: 17,
                  top: a + 2,
                  right: 2,
                  css: c.r(T.eventDelete),
                  js: function(e) {
                    c.Xa(e);
                  }
                });
              }
              var o = t.event.cache ? t.event.cache.areas : t.event.data.areas;
              o && o.length > 0 && (n = n.concat(o)),
                DayPilot.Areas.showAreas(t, t.event, null, n),
                DayPilot.Util.addClass(t, c.r('_event_hover')),
                c.Ol(t);
            }
            'Disabled' === c.linkCreateHandling ||
              s.source ||
              (v.clearHideTimeout(),
              v.hideLinkpoints(),
              c.Cl() && v.showLinkpoint(t)),
              c.Sl(e),
              (c.coords.insideEvent = !0);
          }),
          (this.Tl = {});
        var E = this.Tl;
        (this.Ml = function(e) {
          if (c.ionicEventClickFix) {
            var t = E.originalMouse;
            if (t) {
              var i = DayPilot.mc(e);
              t.x === i.x &&
                t.y === i.y &&
                (c.tf.call(this, e), e.preventDefault(), e.stopPropagation());
            }
          }
        }),
          (this.ic = function(e) {
            if (
              (c.Z(),
              'undefined' != typeof DayPilot.Bubble &&
                (DayPilot.Bubble.hideActive(), DayPilot.Bubble.cancelShowing()),
              (e = e || window.event),
              !c.coords)
            ) {
              var t = c.Xg;
              c.coords = DayPilot.mo3(t, e);
            }
            var i = DayPilot.Util.mouseButton(e);
            if ((e.preventDefault(), e.stopPropagation(), i.left)) {
              var a = e.shiftKey;
              if ('Disabled' !== c.multiSelectRectangle && a)
                return M.start(), !1;
              'w-resize' === this.style.cursor ||
              'e-resize' === this.style.cursor
                ? ((n.preventEventClick = !0),
                  (n.resizing = this),
                  (n.resizingEvent = this.event),
                  (n.originalMouse = DayPilot.mc(e)),
                  (document.body.style.cursor = this.style.cursor),
                  v.hideLinkpoints())
                : ('move' === this.style.cursor ||
                    ('Full' === c.moveBy && this.event.client.moveEnabled())) &&
                  c.Ul(this, e);
            }
            DayPilot.Menu &&
              DayPilot.Menu.active &&
              (DayPilot.Menu.active.hide(), (DayPilot.Menu.active = null));
          }),
          (this.Ul = function(e, t) {
            c.Sl(t),
              (E.start = !0),
              (E.moving = e),
              (E.movingEvent = e.event),
              (E.originalMouse = DayPilot.mc(t)),
              (E.moveOffsetX = DayPilot.mo3(e, t).x),
              (E.moveDragStart = c.getDate(c.coords.x, !0)),
              v.hideLinkpoints();
          }),
          (this.jc = {});
        var A = c.jc;
        'undefined' == typeof DayPilot.Global.touch &&
          (DayPilot.Global.touch = {}),
          (DayPilot.Global.touch.active = !1),
          (DayPilot.Global.touch.start = !1),
          (A.timeouts = []),
          (A.onEventTouchStart = function(e) {
            if (!DayPilot.Global.touch.active && !DayPilot.Global.touch.start) {
              e.stopPropagation(),
                A.clearTimeouts(),
                (DayPilot.Global.touch.start = !0),
                (DayPilot.Global.touch.active = !1);
              var i = this;
              c.coords = A.relativeCoords(e);
              var n = c.tapAndHoldTimeout;
              A.timeouts.push(
                window.setTimeout(function() {
                  (DayPilot.Global.touch.active = !0),
                    (DayPilot.Global.touch.start = !1),
                    e.preventDefault();
                  var n = i.event;
                  switch (c.eventTapAndHoldHandling) {
                    case 'Move':
                      if (n.client.moveEnabled()) {
                        var a = t(e);
                        A.startMoving(i, a);
                      }
                      break;
                    case 'ContextMenu':
                      DayPilot.Menu && DayPilot.Menu.touchPosition(e);
                      var o = n.client.contextMenu();
                      o ? o.show(n) : c.contextMenu && c.contextMenu.show(n);
                  }
                }, n)
              );
            }
          }),
          (A.onEventTouchMove = function(e) {
            A.clearTimeouts(), (DayPilot.Global.touch.start = !1);
          }),
          (A.onEventTouchEnd = function(e) {
            if (!DayPilot.Util.isMouseEvent(e)) {
              if ((A.clearTimeouts(), DayPilot.Global.touch.start)) {
                (DayPilot.Global.touch.start = !1),
                  e.preventDefault(),
                  e.stopPropagation();
                var t = this;
                window.setTimeout(function() {
                  c.Pa(t, e);
                });
              }
              window.setTimeout(function() {
                (DayPilot.Global.touch.start = !1),
                  (DayPilot.Global.touch.active = !1);
              }, 500);
            }
          }),
          (A.onMainTouchStart = function(e) {
            if (
              !(
                DayPilot.Global.touch.active ||
                DayPilot.Global.touch.start ||
                e.touches.length > 1 ||
                'Disabled' === c.timeRangeSelectedHandling
              )
            ) {
              A.clearTimeouts(),
                (DayPilot.Global.touch.start = !0),
                (DayPilot.Global.touch.active = !1);
              var t = c.tapAndHoldTimeout;
              A.timeouts.push(
                window.setTimeout(function() {
                  (DayPilot.Global.touch.active = !0),
                    (DayPilot.Global.touch.start = !1),
                    e.preventDefault(),
                    (c.coords = A.relativeCoords(e)),
                    (A.range = c.Vl());
                }, t)
              );
              c.coords = A.relativeCoords(e);
            }
          }),
          (A.onMainTouchMove = function(e) {
            if (
              (A.clearTimeouts(),
              (DayPilot.Global.touch.start = !1),
              n.resizing)
            )
              return e.preventDefault(), void A.updateResizing();
            if (DayPilot.Global.touch.active) {
              if (
                (e.preventDefault(), (c.coords = A.relativeCoords(e)), n.moving)
              )
                return void A.updateMoving();
              if (A.range) {
                var t = A.range;
                (t.end = {
                  x: Math.floor(c.coords.x / c.cellWidth),
                  time: c.getDate(c.coords.x, !0)
                }),
                  c.pi(t);
              }
            }
          }),
          (A.debug = function(e) {}),
          (A.onMainTouchEnd = function(e) {
            A.clearTimeouts();
            if (DayPilot.Global.touch.active) {
              if (n.moving) {
                e.preventDefault();
                var t = n.movingEvent;
                if (c !== n.movingShadow.calendar) return;
                var i = n.movingShadow.start,
                  a = n.movingShadow.end,
                  o = 'Days' !== c.viewType ? n.movingShadow.row.id : null,
                  r = n.drag && t.part.external,
                  l = n.movingShadow.overlapping,
                  s = !n.movingShadow.allowed;
                if (
                  (DayPilot.Util.removeClass(
                    n.moving,
                    c.r(c.Wl.eventMovingSource)
                  ),
                  DayPilot.de(n.movingShadow),
                  c._j(),
                  (n.movingShadow.calendar = null),
                  (document.body.style.cursor = ''),
                  (n.moving = null),
                  (n.movingEvent = null),
                  (n.movingShadow = null),
                  c.Vj.clear(),
                  l || s || c.Vj.forbidden || c.Vj.invalid)
                )
                  return;
                c.db(t, i, a, o, r);
              }
              if (A.range) {
                var d = A.range;
                A.range = null;
                var h = c.elements.range2;
                h && h.overlapping ? c.clearSelection() : c.mi(d);
              }
            } else if (DayPilot.Global.touch.start) {
              if (c.coords.x < c.getScrollX()) return;
              var d = c.Vl();
              c.pi(d);
              var h = c.elements.range2;
              h && h.overlapping ? c.clearSelection() : c.mi(d);
            }
            window.setTimeout(function() {
              (DayPilot.Global.touch.start = !1),
                (DayPilot.Global.touch.active = !1);
            }, 500);
          }),
          (A.clearTimeouts = function() {
            for (var e = 0; e < A.timeouts.length; e++)
              clearTimeout(A.timeouts[e]);
            A.timeouts = [];
          }),
          (A.relativeCoords = function(e) {
            var t = c.Xg,
              i = e.touches[0].pageX,
              n = e.touches[0].pageY,
              a = DayPilot.abs(t);
            return {
              x: i - a.x,
              y: n - a.y,
              toString: function() {
                return 'x: ' + this.x + ', y:' + this.y;
              }
            };
          }),
          (A.startMoving = function(e, t) {
            (n.moving = e), (n.movingEvent = e.event), (n.originalMouse = t);
            var i = DayPilot.abs(e);
            (n.moveOffsetX = t.x - i.x),
              (n.moveDragStart = c.getDate(c.coords.x, !0)),
              (n.movingShadow = c.Ca(e)),
              c.Fj();
          }),
          (A.startResizing = function(e, t) {
            (n.resizing = e),
              (n.resizingEvent = e.event),
              (n.resizing.dpBorder = t),
              n.resizingShadow || (n.resizingShadow = c.Ca(e)),
              c.Wj();
          }),
          (A.updateResizing = function() {
            if (!n.resizingShadow) {
              var e = n.resizing;
              n.resizingShadow = c.Ca(e);
            }
            c.Wj();
          }),
          (A.updateMoving = function() {
            if (
              (n.movingShadow && n.movingShadow.calendar !== c && c._j(),
              !n.movingShadow)
            ) {
              var e = n.moving;
              n.movingShadow = c.Ca(e);
            }
            n.movingShadow.calendar.Fj();
          }),
          (this.Rl = function(e, t) {
            var i = this.eventResizeMargin,
              a = this.eventMoveMargin,
              o = e;
            if ('undefined' != typeof n) {
              var r = DayPilot.mo3(e, t);
              if (r && ((c.eventOffset = r), !n.resizing && !n.moving)) {
                var l =
                    o.event.part.start.toString() ===
                    o.event.start().toString(),
                  s =
                    o.event.part.end.toString() === o.event.rawend().toString();
                if (
                  ('Top' === c.moveBy &&
                  r.y <= a &&
                  o.event.client.moveEnabled() &&
                  'Disabled' !== c.eventMoveHandling
                    ? (e.style.cursor = 'move')
                    : ('Top' === c.moveBy || 'Full' === c.moveBy) &&
                      r.x <= i &&
                      o.event.client.resizeEnabled() &&
                      'Disabled' !== c.eventResizeHandling
                    ? l
                      ? ((e.style.cursor = 'w-resize'), (e.dpBorder = 'left'))
                      : (e.style.cursor = 'not-allowed')
                    : 'Left' === c.moveBy &&
                      r.x <= a &&
                      o.event.client.moveEnabled() &&
                      'Disabled' !== c.eventMoveHandling
                    ? (e.style.cursor = 'move')
                    : e.offsetWidth - r.x <= i &&
                      o.event.client.resizeEnabled() &&
                      'Disabled' !== c.eventResizeHandling
                    ? s
                      ? ((e.style.cursor = 'e-resize'), (e.dpBorder = 'right'))
                      : (e.style.cursor = 'not-allowed')
                    : n.resizing ||
                      n.moving ||
                      (o.event.client.clickEnabled() &&
                      'Disabled' !== c.eventClickHandling
                        ? (e.style.cursor = 'pointer')
                        : (e.style.cursor = 'default')),
                  'undefined' != typeof DayPilot.Bubble &&
                    c.bubble &&
                    'Bubble' === c.eventHoverHandling &&
                    ('default' === e.style.cursor ||
                      'pointer' === e.style.cursor))
                ) {
                  this.xd && r.x === this.xd.x && r.y === this.xd.y;
                  (this.xd = r), c.bubble.showEvent(e.event);
                }
              }
            }
          }),
          (this.Jj = function() {
            return 'Days' !== this.viewType
              ? this.itline.length
              : Math.floor(1440 / this.cellDuration);
          }),
          (this.ni = function(e) {
            var e = e || n.range || c.rangeHold;
            if (!e) return null;
            var t = c.rowlist[e.start.y];
            if (!t) return null;
            var i,
              a,
              o = e.Xl ? e.Xl : e,
              r = o.end.x > o.start.x,
              l = t.id,
              s = r ? o.start.x : o.end.x,
              d = r ? o.end.x : o.start.x,
              h = t.start.getTime() - this.Ja().getTime(),
              u = c.snapToGrid && c.snapToGridTimeRangeSelecting;
            return (
              u
                ? ((i = this.itline[s].start.addTime(h)),
                  (a = this.itline[d].end.addTime(h)))
                : r
                ? ((i = o.start.time), (a = o.end.time))
                : ((i = o.end.time), (a = o.start.time)),
              new DayPilot.Selection(i, a, l, c)
            );
          }),
          (this.Ib = function(e) {
            var t = e.parentNode,
              i = c.eventEditMinWidth,
              n = document.createElement('textarea');
            return (
              (n.style.position = 'absolute'),
              (n.style.width =
                (e.offsetWidth < i ? i : e.offsetWidth - 2) + 'px'),
              (n.style.height = e.offsetHeight - 2 + 'px'),
              (n.style.fontFamily =
                DayPilot.gs(e, 'fontFamily') || DayPilot.gs(e, 'font-family')),
              (n.style.fontSize =
                DayPilot.gs(e, 'fontSize') || DayPilot.gs(e, 'font-size')),
              (n.style.left = e.offsetLeft + 'px'),
              (n.style.top = e.offsetTop + 'px'),
              (n.style.border = '1px solid black'),
              (n.style.padding = '0px'),
              (n.style.marginTop = '0px'),
              (n.style.backgroundColor = 'white'),
              (n.value = DayPilot.tr(e.event.text())),
              (n.event = e.event),
              t.appendChild(n),
              n
            );
          }),
          (this.Yl = function(e) {
            var t = h.events();
            t.sort(function(e, t) {
              var i = e.event,
                n = t.event;
              return i.part.dayIndex !== n.part.dayIndex
                ? i.part.dayIndex - n.part.dayIndex
                : i.start() !== n.start()
                ? i.start().getTime() - n.start().getTime()
                : n.end().getTime() - i.end().getTime();
            });
            var i = t.indexOf(e);
            return i === -1 ? null : i + 1 < t.length ? t[i + 1] : t[0];
          }),
          (this.Qa = function(e) {
            if (e && (n.editing && n.editing.blur(), e.event)) {
              var t = this.Ib(e);
              (n.editing = t),
                DayPilot.re(t, DayPilot.touch.start, function(e) {
                  e.stopPropagation();
                }),
                (t.onblur = function() {
                  if (
                    ((t.onblur = null),
                    n.editing === t && (n.editing = null),
                    t.parentNode && t.parentNode.removeChild(t),
                    e.event)
                  ) {
                    var i = (e.event.text(), t.value);
                    c.mb(e.event, i, t.canceling);
                  }
                }),
                (t.onmousedown = function(e) {
                  (e = e || window.event),
                    e.stopPropagation && e.stopPropagation();
                }),
                (t.onkeypress = function(e) {
                  return (
                    13 !== (window.event ? event.keyCode : e.keyCode) ||
                    (this.onblur(), !1)
                  );
                }),
                (t.cancel = function() {
                  n.editing && ((n.editing.canceling = !0), n.editing.blur());
                }),
                (t.onkeydown = function(t) {
                  var i = window.event ? event.keyCode : t.keyCode;
                  if (27 === i) n.editing.cancel();
                  else if (9 === i) {
                    var a = c.Yl(e);
                    return (
                      n.editing.cancel(),
                      a &&
                        (DayPilot.browser.ie
                          ? setTimeout(function() {
                              c.Qa(a);
                            }, 0)
                          : c.Qa(a)),
                      !1
                    );
                  }
                }),
                t.select(),
                t.focus();
            }
          }),
          (this.Zl = {}),
          (this.Zl.resource = (function() {
            return 'undefined' != typeof DayPilot.Bubble
              ? new DayPilot.Bubble()
              : { showResource: function() {}, hideOnMouseOut: function() {} };
          })()),
          (this.Zl.cell = (function() {
            return 'undefined' != typeof DayPilot.Bubble
              ? new DayPilot.Bubble()
              : { showResource: function() {}, hideOnMouseOut: function() {} };
          })()),
          (this.ok = function(e) {
            var t = this,
              i = t.row;
            if ('undefined' != typeof DayPilot.Bubble) {
              c.cellBubble;
              var n = c.ui(i);
              (n.div = t),
                c.resourceBubble
                  ? c.resourceBubble.showResource(n)
                  : i.bubbleHtml && c.Zl.resource.showResource(n);
            }
          }),
          (this.mk = function(e) {
            var t = this;
            t.active || ((t.active = !0), c.Pl(t));
          }),
          (this.nk = function(e) {
            var t = this;
            delete t.active, c.Ql(t);
          }),
          (this.pk = function(e) {
            var t = this;
            'undefined' != typeof DayPilot.Bubble && c.resourceBubble
              ? c.resourceBubble.hideOnMouseOut()
              : c.Zl.resource.hideOnMouseOut();
            var i = t.firstChild;
            DayPilot.Areas.hideAreas(i, e), (i.data = null);
          }),
          (this.qk = function(e) {
            l.row &&
              ((P.cancelClick = !0),
              setTimeout(function() {
                P.cancelClick = !1;
              }, 100));
          }),
          (this.Fg = function() {
            if (this.timeHeader) {
              this.E.timeHeader = {};
              var e = document.createElement('div');
              (e.style.position = 'relative'), (this.nav.timeHeader = e);
              for (var t = 0; t < this.timeHeader.length; t++)
                for (var i = this.timeHeader[t], n = 0; n < i.length; n++)
                  this.$l(n, t);
              var a = this.divNorth;
              if (1 === a.childNodes.length) a.replaceChild(e, a.childNodes[0]);
              else {
                if (DayPilot.browser.ie && a && a.firstChild) {
                  for (
                    var o = [], r = 0;
                    r < a.firstChild.childNodes.length;
                    r++
                  )
                    o.push(a.firstChild.childNodes[r]);
                  DayPilot.de(o);
                }
                (a.innerHTML = ''), a.appendChild(e);
              }
              var l = this.jh();
              a.style.width = l + 5e3 + 'px';
              var s = {};
              (s.html = c.cornerHtml),
                'function' == typeof c.onBeforeCornerRender &&
                  c.onBeforeCornerRender(s),
                (c.divCorner.innerHTML = s.html || ''),
                l > 0 && (this.divStretch.style.width = l + 'px');
            }
          }),
          (this.Fh = function(e, t) {
            var i = null,
              n = this.Lc.locale(),
              t = t || this.cellGroupBy,
              a = e.start;
            e.end;
            switch (t) {
              case 'Minute':
                i = a.toString('m');
                break;
              case 'Hour':
                i =
                  'Clock12Hours' === c.Lc.timeFormat()
                    ? a.toString('h tt', n)
                    : a.toString('H', n);
                break;
              case 'Day':
                i = a.toString(n.datePattern);
                break;
              case 'Week':
                i = 1 === R.weekStarts() ? a.weekNumberISO() : a.weekNumber();
                break;
              case 'Month':
                i = a.toString('MMMM yyyy', n);
                break;
              case 'Quarter':
                i = 'Q' + Math.floor(a.getMonth() / 3 + 1);
                break;
              case 'Year':
                i = a.toString('yyyy');
                break;
              case 'None':
                i = '';
                break;
              case 'Cell':
                var o = (e.end.ticks - e.start.ticks) / 6e4;
                i = this._l(a, o);
                break;
              default:
                throw new DayPilot.Exception('Invalid groupBy value: ' + t);
            }
            return i;
          }),
          (this._l = function(e, t) {
            var i = this.Lc.locale(),
              t = t || this.cellDuration;
            return t < 1
              ? e.toString('ss')
              : t < 60
              ? e.toString('mm')
              : t < 1440
              ? 'Clock12Hours' === c.Lc.timeFormat()
                ? e.toString('h tt', i)
                : e.toString('H', i)
              : t < 10080
              ? e.toString('d')
              : 10080 === t
              ? 1 === R.weekStarts()
                ? e.weekNumberISO()
                : e.weekNumber()
              : e.toString('MMMM yyyy', i);
          }),
          (this.Bh = function(e) {
            var t = this.scale;
            switch (t) {
              case 'Cell':
                throw 'Invalid scale: Cell';
              case 'Manual':
                throw 'Internal error (addScaleSize in Manual mode)';
              case 'CellDuration':
                return e.addMinutes(this.cellDuration);
              default:
                return this.Eh(e, t, !0);
            }
          }),
          (this.Eh = function(e, t, i) {
            var n,
              a = 'Days' !== this.viewType ? this.days : 1,
              o = this.startDate.addDays(a);
            'Manual' === c.scale && (o = c.Dh());
            var t = t || this.cellGroupBy,
              r = 60;
            switch (t) {
              case 'Minute':
                e.getMinutes() + e.getSeconds() + e.getMilliseconds() > 0 &&
                  (e = e
                    .getDatePart()
                    .addHours(e.getHours())
                    .addMinutes(e.getMinutes())),
                  (n = e.addMinutes(1));
                break;
              case 'Hour':
                e.getHours() +
                  e.getMinutes() +
                  e.getSeconds() +
                  e.getMilliseconds() >
                  0 && (e = e.getDatePart().addHours(e.getHours())),
                  (n = e.addHours(1));
                break;
              case 'Day':
                n = e.getDatePart().addDays(1);
                break;
              case 'Week':
                for (
                  n = e.getDatePart().addDays(1);
                  n.dayOfWeek() !== R.weekStarts();

                )
                  n = n.addDays(1);
                break;
              case 'Month':
                (e = e.getDatePart()),
                  (n = e.addMonths(1)),
                  (n = n.firstDayOfMonth());
                for (
                  var l = (DayPilot.DateUtil.diff(n, e) / 6e4) % r === 0;
                  !l;

                )
                  (n = n.addHours(1)),
                    (l = (DayPilot.DateUtil.diff(n, e) / 6e4) % r === 0);
                break;
              case 'Quarter':
                for (
                  e = e.getDatePart(),
                    n = e.addMonths(1),
                    n = n.firstDayOfMonth();
                  n.getMonth() % 3;

                )
                  n = n.addMonths(1);
                for (
                  var l = (DayPilot.DateUtil.diff(n, e) / 6e4) % r === 0;
                  !l;

                )
                  (n = n.addHours(1)),
                    (l = (DayPilot.DateUtil.diff(n, e) / 6e4) % r === 0);
                break;
              case 'Year':
                (e = e.getDatePart()),
                  (n = e.addYears(1)),
                  (n = n.firstDayOfYear());
                for (
                  var l = (DayPilot.DateUtil.diff(n, e) / 6e4) % r === 0;
                  !l;

                )
                  (n = n.addHours(1)),
                    (l = (DayPilot.DateUtil.diff(n, e) / 6e4) % r === 0);
                break;
              case 'None':
                n = o;
                break;
              case 'Cell':
                var s = this.Jh(e);
                n = s.current
                  ? s.current.end
                  : s.past
                  ? s.previous.end
                  : s.next.start;
                break;
              default:
                throw i
                  ? new DayPilot.Exception('Invalid scale value: ' + t)
                  : new DayPilot.Exception('Invalid groupBy value: ' + t);
            }
            return n.getTime() > o.getTime() && (n = o), n;
          }),
          (this.Wl = {}),
          (this.Wl.timeheadercol = '_timeheadercol'),
          (this.Wl.timeheadercolInner = '_timeheadercol_inner'),
          (this.Wl.resourcedivider = '_resourcedivider'),
          (this.Wl.eventFloat = '_event_float'),
          (this.Wl.eventFloatInner = '_event_float_inner'),
          (this.Wl.event = '_event'),
          (this.Wl.eventInner = '_event_inner'),
          (this.Wl.eventBar = '_event_bar'),
          (this.Wl.eventBarInner = '_event_bar_inner'),
          (this.Wl.eventDelete = '_event_delete'),
          (this.Wl.eventLine = '_event_line'),
          (this.Wl.eventMovingSource = '_event_moving_source');
        var T = this.Wl;
        (this.$l = function(e, t) {
          var i = this.nav.timeHeader,
            n = this.timeHeader[t][e],
            a = t < this.timeHeader.length - 1,
            o = n.left,
            r = n.width,
            l = B.timeHeader(t),
            s = l.top,
            d = l.height,
            h = document.createElement('div');
          (h.style.position = 'absolute'),
            (h.style.top = s + 'px'),
            (h.style.left = o + 'px'),
            (h.style.width = r + 'px'),
            (h.style.height = d + 'px'),
            n.toolTip && (h.title = n.toolTip),
            h.setAttribute('aria-hidden', 'true'),
            n.cssClass && DayPilot.Util.addClass(h, n.cssClass),
            h.setAttribute('unselectable', 'on'),
            (h.style.KhtmlUserSelect = 'none'),
            (h.style.MozUserSelect = 'none'),
            (h.style.webkitUserSelect = 'none'),
            (h.oncontextmenu = function() {
              return !1;
            }),
            (h.cell = {}),
            (h.cell.start = n.start),
            (h.cell.end = n.end),
            (h.cell.level = t),
            (h.cell.th = n),
            (h.onclick = this.vk),
            (h.style.overflow = 'hidden'),
            c.timeHeaderTextWrappingEnabled || (h.style.whiteSpace = 'nowrap');
          var u = document.createElement('div');
          u.setAttribute('unselectable', 'on'),
            n.innerHTML && (u.innerHTML = n.innerHTML),
            n.backColor && (u.style.background = n.backColor),
            n.fontColor && (u.style.color = n.fontColor);
          var f = this.r(T.timeheadercol),
            v = this.r(T.timeheadercolInner);
          a &&
            ((f = this.r('_timeheadergroup')),
            (v = this.r('_timeheadergroup_inner'))),
            DayPilot.Util.addClass(h, f),
            DayPilot.Util.addClass(u, v),
            DayPilot.Util.addClass(h, c.r('_timeheader_cell')),
            DayPilot.Util.addClass(u, c.r('_timeheader_cell_inner')),
            DayPilot.list(n.areas).each(function(e) {
              e.start &&
                ((e.left = c.getPixels(new DayPilot.Date(e.start)).left - o),
                e.end &&
                  (e.width =
                    c.getPixels(new DayPilot.Date(e.end)).left - e.left - o));
            }),
            h.appendChild(u),
            DayPilot.Areas.attach(h, n, { areas: n.areas }),
            (this.E.timeHeader[e + '_' + t] = h),
            i.appendChild(h);
        }),
          (this.Qh = function() {
            if (c.sg) return void S.calculateEventPositions();
            for (var e = 0; e < this.rowlist.length; e++) {
              var t = this.rowlist[e],
                i = t.getHeight() + t.marginBottom + t.marginTop;
              t.height !== i && (this.gi = !0), (t.height = i);
            }
            c.gi && (c.E.drawArea = null);
          }),
          (this.Ig = function() {
            var e = this.divHeader;
            if (!e) return !1;
            for (
              var t = this.rowlist.length,
                i = (this.rowHeaderCols ? this.rowHeaderCols.length : 1, 0),
                n = 0;
              n < t;
              n++
            ) {
              var a = this.rowlist[n];
              if (!a.hidden) {
                var o = this.hk ? n : i;
                if (e.rows[o]) {
                  for (var r = 0; r < e.rows[o].cells.length; r++) {
                    var l = e.rows[o].cells[r];
                    this.hk && (l.style.top = a.top + 'px');
                    var s = a.height;
                    l &&
                      l.firstChild &&
                      parseInt(l.firstChild.style.height, 10) !== s &&
                      (l.firstChild.style.height = s + 'px');
                  }
                  i++;
                }
              }
            }
            this.hk &&
              c.nav.resScrollSpace &&
              (c.nav.resScrollSpace.style.top = c.wg + 'px');
          }),
          (this.Bd = function(e) {
            var t = this.separators[e];
            (t.location = t.location || t.Location),
              (t.color = t.color || t.Color),
              (t.layer = t.layer || t.Layer),
              (t.width = t.width || t.Width),
              (t.opacity = t.opacity || t.Opacity);
            var i = new DayPilot.Date(t.location),
              n = t.color,
              a = t.width ? t.width : 1,
              o = !!t.layer && 'AboveEvents' === t.layer,
              r = t.opacity ? t.opacity : 100;
            if (
              !(
                i.getTime() < this.Ja().getTime() ||
                i.getTime() >= this.Dh().getTime()
              )
            ) {
              var l = this.getPixels(i);
              if (
                !l.cut &&
                !(l.left < 0 || l.left > this.Jj() * this.cellWidth)
              ) {
                var s = document.createElement('div');
                (s.style.width = a + 'px'),
                  (s.style.height = c.wg + 'px'),
                  (s.style.position = 'absolute'),
                  (s.style.left = l.left - 1 + 'px'),
                  (s.style.top = '0px'),
                  (s.style.backgroundColor = n),
                  (s.style.opacity = r / 100),
                  (s.style.filter = 'alpha(opacity=' + r + ')'),
                  (s.className = c.r('_separator')),
                  t.cssClass && (s.className += ' ' + t.cssClass),
                  o
                    ? this.divSeparatorsAbove.appendChild(s)
                    : this.divSeparators.appendChild(s),
                  this.elements.separators.push(s);
              }
            }
          }),
          (this.Al = function(e) {
            if ('Disabled' === c.timeRangeDoubleClickHandling) return !1;
            n.timeRangeTimeout &&
              (clearTimeout(n.timeRangeTimeout), (n.timeRangeTimeout = null));
            if (!c.coords) {
              var t = c.Xg;
              c.coords = DayPilot.mo3(t, e);
            }
            if (
              ((e = e || window.event),
              e.stopPropagation && e.stopPropagation(),
              (e.cancelBubble = !0),
              c.bm(c.coords))
            ) {
              var i = c.ni(c.rangeHold);
              c.lb(i.start, i.end, i.resource);
            } else if (((n.range = c.Vl()), n.range)) {
              n.rangeCalendar = c;
              var i = c.ni(n.range);
              c.lb(i.start, i.end, i.resource), (c.rangeHold = n.range);
            }
            n.range = null;
          }),
          (this.xl = function(e) {
            if (!DayPilot.Global.touch.start && !DayPilot.Global.touch.active) {
              if ((n.timeRangeTimeout, 1, c.cm(), c.vl(), !c.coords)) {
                var t = c.Xg;
                c.coords = DayPilot.mo3(t, e);
              }
              if (n.rectangleSelect) return !1;
              e = e || window.event;
              var i = DayPilot.Util.mouseButton(e);
              if (i.middle || (i.right && c.bm(c.coords))) return !1;
              if (c.bm(c.coords)) return !1;
              var a = i.left
                  ? 'left'
                  : i.right
                  ? 'right'
                  : i.middle
                  ? 'middle'
                  : 'unknown',
                o = e.ctrlKey,
                r = e.metaKey,
                l = e.shiftKey,
                s = o || r,
                d = {};
              if (
                ((d.action = 'None'),
                'Disabled' !== c.multiSelectRectangle && l
                  ? (d.action = 'RectangleSelect')
                  : 'Disabled' !== c.timeRangeSelectedHandling &&
                    (d.action = 'TimeRangeSelect'),
                (d.shift = l),
                (d.ctrl = l),
                (d.meta = r),
                (d.originalEvent = e),
                (d.button = a),
                (d.preventDefault = function() {
                  d.action = 'None';
                }),
                'function' == typeof c.onGridMouseDown && c.onGridMouseDown(d),
                'None' === d.action)
              )
                return e.preventDefault(), e.stopPropagation(), !1;
              if ('RectangleSelect' === d.action) {
                var h = {};
                return (
                  (h.start = c.coords),
                  (h.calendar = c),
                  (n.rectangleSelect = h),
                  !1
                );
              }
              c.allowMultiRange && !s && H.clear();
              var u = c.Ni(c.coords.y).i;
              return (
                !c.rowlist[u].isNewRow &&
                ((n.range = c.Vl()),
                n.range && ((n.range.ctrl = s), (n.rangeCalendar = c)),
                !1)
              );
            }
          }),
          (this.Vl = function() {
            var e = {},
              t = this.Hh(c.coords.x).x,
              i = c.getDate(c.coords.x, !0);
            return (
              (e.start = { y: c.Ni(c.coords.y).i, x: t, time: i }),
              (e.end = { x: t, time: i }),
              this.Ui(c.Ni(c.coords.y).i)
                ? null
                : ((e.calendar = c), c.pi(e), e)
            );
          }),
          (this.Xj = function() {
            c.ad();
            var e = n.resizingShadow,
              t = n.resizing;
            !(function() {
              var i = c.dm,
                a = { start: e.start, end: c.Jf(e.end) };
              e.original = a;
              var o = e.original;
              if (!o || !i || i.start !== o.start || i.end !== c.Jf(o.end)) {
                i &&
                  (DayPilot.Util.removeClass(e, i.cssClass),
                  (e.firstChild.innerHTML = ''));
                var r = t.event.part.dayIndex,
                  l = c.rowlist[r],
                  s = {};
                (s.start = a.start),
                  (s.end = a.end),
                  (s.duration = new DayPilot.Duration(s.start, s.end)),
                  (s.row = c.ui(l)),
                  (s.e = t.event),
                  (s.allowed = !0),
                  (s.resizing =
                    'left' === n.resizing.dpBorder ? 'start' : 'end'),
                  (s.what = 'left' === n.resizing.dpBorder ? 'start' : 'end'),
                  (s.left = {}),
                  (s.left.html = s.start.toString(
                    c.eventResizingStartEndFormat,
                    R.locale()
                  )),
                  (s.left.enabled = c.eventResizingStartEndEnabled),
                  (s.left.space = 5),
                  (s.left.width = null),
                  (s.right = {}),
                  (s.right.html = s.end.toString(
                    c.eventResizingStartEndFormat,
                    R.locale()
                  )),
                  (s.right.enabled = c.eventResizingStartEndEnabled),
                  (s.right.space = 5),
                  (s.right.width = null),
                  (s.cssClass = null),
                  (s.html = null),
                  (s.multiresize = DayPilot.list(b.list));
                var d = {};
                (d.event = t),
                  (d.start = s.start),
                  (d.end = s.end),
                  s.multiresize.splice(0, 0, d),
                  (c.dm = a),
                  'function' == typeof c.onEventResizing &&
                    c.onEventResizing(s),
                  (e.allowed = s.allowed),
                  DayPilot.Util.addClass(e, s.cssClass),
                  s.html && (e.firstChild.innerHTML = s.html);
                var h = s.start,
                  u = c.jf(s.end);
                if (
                  ((e.finalStart = h), (e.finalEnd = u), 'Days' === c.viewType)
                ) {
                  var f = l.start.getTime() - c.Ja().getTime();
                  (h = h.addTime(-f)), (u = u.addTime(-f));
                }
                var v = DayPilot.DateUtil.diff(h, u);
                v = DayPilot.Util.atLeast(v, 1);
                var p = R.useBox(v),
                  g = p ? c.getPixels(h).boxLeft : c.getPixels(h).left,
                  m = p ? c.getPixels(u).boxRight : c.getPixels(u).left;
                (e.style.left = g + 'px'),
                  (e.style.width = m - g + 'px'),
                  (e.left = g),
                  (e.width = m - g),
                  c.Yj(n.resizingShadow, s),
                  c.Zj(n.resizingShadow, s);
              }
            })();
          }),
          (this.yl = function(e) {
            if (n.rectangleSelect) {
              var e = e || window.event;
              return (
                (e.cancelBubble = !0),
                e.preventDefault && e.preventDefault(),
                n.gMouseUp(e),
                !1
              );
            }
            if (((E = {}), c.rangeHold)) {
              var t = DayPilot.Util.mouseButton(e);
              if (t.left) {
                var i = c.rangeHold;
                if (c.bm(c.coords)) {
                  var a = function(e) {
                    return function() {
                      n.timeRangeTimeout = null;
                      var t = c.ni(e);
                      if (t) {
                        var i = {};
                        (i.start = t.start),
                          (i.end = t.end),
                          (i.resource = t.resource),
                          (i.preventDefault = function() {
                            i.preventDefault.value = !0;
                          }),
                          'function' == typeof c.onTimeRangeClick &&
                            c.onTimeRangeClick(i),
                          i.preventDefault.value ||
                            ('function' == typeof c.onTimeRangeClicked &&
                              c.onTimeRangeClicked(i));
                      }
                    };
                  };
                  'Disabled' != c.timeRangeClickHandling &&
                    ('Disabled' === c.timeRangeDoubleClickHandling
                      ? a(i)()
                      : (clearTimeout(n.timeRangeTimeout),
                        (n.timeRangeTimeout = setTimeout(
                          a(i),
                          c.doubleClickTimeout
                        ))));
                }
              }
            }
            var t = DayPilot.Util.mouseButton(e);
            t.right && c.em(e);
          }),
          (this.em = function(e) {
            if (
              'Disabled' !== c.timeRangeSelectedHandling &&
              'Disabled' !== c.timeRangeRightClickHandling
            ) {
              var t = null;
              if ((t = c.bm(c.coords) ? c.ni(c.rangeHold) : c.ni())) {
                t.end = c.Jf(t.end);
                var i = {};
                (i.start = t.start),
                  (i.end = t.end),
                  (i.resource = t.resource),
                  (i.ctrl = e.ctrlKey),
                  (i.shift = e.shiftKey),
                  (i.meta = e.metaKey),
                  (i.preventDefault = function() {
                    this.preventDefault.value = !0;
                  }),
                  ('function' == typeof c.onTimeRangeRightClick &&
                    (c.onTimeRangeRightClick(i), i.preventDefault.value)) ||
                    ('ContextMenu' === c.timeRangeRightClickHandling &&
                      c.contextMenuSelection &&
                      c.contextMenuSelection.show(t),
                    'function' == typeof c.onTimeRangeRightClicked &&
                      c.onTimeRangeRightClicked(i));
              }
            }
          }),
          (this.fm = function() {
            return !!(n.resizing || n.moving || n.range) || !!E.start;
          }),
          (this.Sl = function(e) {
            var t = DayPilot.mo3(c.Xg, e);
            (c.coords && c.coords.x === t.x && c.coords.y === t.y) ||
              (c.coords = t);
          }),
          (this.getCoords = function() {
            if (!c.coords) return null;
            var e = {};
            (e.x = c.coords.x), (e.y = c.coords.y);
            var t = c.Ni(e.y).i,
              i = c.ui(c.rowlist[t]);
            return (
              (e.row = i),
              (e.time = c.getDate(e.x, !0)),
              (e.cell = c.cells.findByPixels(e.x, e.y)[0]),
              e
            );
          }),
          (this.ul = !0),
          (this.ak = function(e) {
            if (!DayPilot.Global.touch.active) {
              (n.activeCalendar = c), (e = e || window.event);
              var t = DayPilot.mc(e);
              if (
                (c.Sl(e),
                (e.insideMainD = !0),
                (c.ul = !0),
                window.event &&
                  window.event.srcElement &&
                  (window.event.srcElement.inside = !0),
                E.start)
              ) {
                DayPilot.distance(E.originalMouse, t) > 3 &&
                  (DayPilot.Util.copyProps(E, n),
                  (document.body.style.cursor = 'move'),
                  (E = {}));
              }
              if (n.resizing && n.resizingEvent.calendar === c)
                n.resizing.event || (n.resizing.event = n.resizingEvent),
                  c.gm();
              else if (n.movingEvent)
                (n.movingEvent.calendar === c ||
                  n.movingEvent.calendar.dragOutAllowed) &&
                  c.hm(),
                  n.movingEvent.calendar !== c &&
                    (n.movingEvent.part.external = !0),
                  n.movingEvent.calendar !== c && n.movingEvent.calendar.Z();
              else if (n.range && n.range.calendar === c)
                (n.range.moved = !0), c.im();
              else if (s.source) {
                var i = s.source;
                v.drawShadow(i.coords, c.coords);
              } else
                n.rectangleSelect && ((n.rectangleSelect.moved = !0), M.draw());
              'Disabled' !== c.crosshairType && c.jm(), c.km();
              var a = c.coords.insideEvent;
              if (
                c.cellBubble &&
                c.coords &&
                c.rowlist &&
                c.rowlist.length > 0 &&
                !a
              ) {
                var o = c.Hh(c.coords.x).x,
                  r = c.Ni(c.coords.y).i;
                if (
                  0 <= r &&
                  r < c.rowlist.length &&
                  0 <= o &&
                  o < c.itline.length
                ) {
                  var l = {};
                  (l.calendar = c),
                    (l.start = c.itline[o].start),
                    (l.end = c.itline[o].end),
                    (l.resource = c.rowlist[r].id),
                    (l.toJSON = function() {
                      var e = {};
                      return (
                        (e.start = this.start),
                        (e.end = this.end),
                        (e.resource = this.resource),
                        e
                      );
                    }),
                    c.cellBubble.showCell(l);
                }
              }
              if (n.drag) {
                if (
                  (c.cm(),
                  n.gShadow && document.body.removeChild(n.gShadow),
                  (n.gShadow = null),
                  !n.movingShadow && c.coords && c.rowlist.length > 0)
                ) {
                  if (!n.movingEvent) {
                    n.moving = n.drag.schedulerSourceEvent || {};
                    var h = n.drag.event;
                    if (h) {
                      if (c !== h.calendar) {
                        var f = h.calendar,
                          p = h,
                          g = DayPilot.Util.copyProps(h.data);
                        (h = new DayPilot.Event(g)),
                          (h.calendar = f),
                          (h.part.duration = f.vj(p));
                      }
                    } else {
                      var m = c.itline[0].start,
                        e = {
                          id: n.drag.id,
                          start: m,
                          end: m.addSeconds(n.drag.duration),
                          text: n.drag.text
                        },
                        y = n.drag.data;
                      if (y) {
                        var b = [
                          'duration',
                          'element',
                          'remove',
                          'duration',
                          'id',
                          'text'
                        ];
                        for (var w in y)
                          DayPilot.contains(b, w) || (e[w] = y[w]);
                      }
                      (h = new DayPilot.Event(e)),
                        (h.calendar = c),
                        (h.part.duration = 1e3 * n.drag.duration);
                    }
                    h.part.external = !0;
                    var i = n.drag.schedulerSourceEvent;
                    i &&
                      i.event &&
                      i.event.calendar === c &&
                      (h.part.external = !1),
                      n.moving.event
                        ? h.part.external && (n.moving.event.part.external = !0)
                        : (n.moving.event = h),
                      (n.movingEvent = h);
                  }
                  n.movingShadow = c.Ca(n.movingEvent);
                }
                e.cancelBubble = !0;
              }
              var D = n.moving || n.resizing || n.range || n.rectangleSelect,
                k = 'Always' === c.autoScroll,
                P = 'Drag' === c.autoScroll && D,
                x = k || P,
                C = n.resizing || n.range;
              if (x) {
                var S = c.nav.scroll,
                  A = { x: c.coords.x, y: c.coords.y };
                (A.x -= S.scrollLeft), (A.x += u.shiftX), (A.y -= S.scrollTop);
                var T = S.clientWidth,
                  H = S.clientHeight,
                  _ = 30,
                  R = A.x < _ ? A.x : 0,
                  B = T - A.x < _ ? T - A.x : 0,
                  N = A.y < _ ? A.y : 0,
                  U = H - A.y < _ ? H - A.y : 0,
                  o = 0,
                  r = 0,
                  L = 50;
                R && (o = -50 * d(R, _)),
                  B && (o = L * d(B, _)),
                  N && (r = (-50 * d(N, _)) / 2),
                  U && (r = (L * d(N, _)) / 2),
                  C && (r = 0),
                  o || r ? c.lm(o, r) : c.vl();
              }
            }
          }),
          (this.im = function() {
            var e = n.range,
              t = c.Hh(c.coords.x).x,
              i = c.getDate(c.coords.x, !0);
            (e.end = { x: t, time: i }), c.pi(e);
          }),
          (this.gm = function() {
            n.resizingShadow || (n.resizingShadow = c.Ca(n.resizing)), c.Wj();
          }),
          (this.hm = function() {
            if (
              (n.movingShadow &&
                n.movingShadow.calendar !== c &&
                ((n.movingShadow.calendar = null),
                DayPilot.de(n.movingShadow),
                (n.movingShadow = null)),
              !n.movingShadow)
            ) {
              window.navigator.userAgent.indexOf('Chrome/61.0') > -1 ||
                DayPilot.Util.addClass(n.moving, c.r(T.eventMovingSource));
              var e = n.movingEvent;
              n.movingShadow = c.Ca(e);
            }
            c.Dj(), c.Fj();
          }),
          (this.mm = {});
        var M = this.mm;
        (M.start = function() {
          var e = {};
          (e.start = c.coords), (e.calendar = c), (n.rectangleSelect = e);
        }),
          (M.draw = function() {
            var e = n.rectangleSelect,
              t = n.rectangleSelect.start,
              i = c.coords;
            M.clear();
            var a,
              o,
              r,
              l,
              s,
              d,
              u,
              f,
              v = { x: e.x, y: e.y, width: e.width, height: e.height };
            if (
              ((function() {
                (s = Math.min(t.x, i.x)),
                  (u = Math.max(t.x, i.x)),
                  'Free' === c.multiSelectRectangle
                    ? ((d = Math.min(t.y, i.y)), (f = Math.max(t.y, i.y)))
                    : 'Row' === c.multiSelectRectangle &&
                      ((d = t.y), (f = t.y));
              })(),
              'Free' === c.multiSelectRectangle)
            )
              (a = s), (o = d), (r = u - s), (l = f - d);
            else {
              if ('Row' !== c.multiSelectRectangle)
                throw 'Invalid DayPilot.Scheduler.multiSelectRectangle value: ' +
                  c.multiSelectRectangle;
              var p = c.Ni(d).i,
                g = c.rowlist[p];
              (o = g.top), (l = g.height);
              a = c.Hh(s).cell.left;
              var m = c.Hh(u).cell;
              r = m.left + m.width - a;
            }
            var y = DayPilot.Util.div(c.divRectangle, a, o, r, l);
            if (
              ((y.style.boxSizing = 'border-box'),
              (y.className = c.r('_selectionrectangle')),
              (e.x = a),
              (e.y = o),
              (e.width = r),
              (e.height = l),
              (e.x !== v.x ||
                e.y !== v.y ||
                e.width !== v.width ||
                e.height !== v.height) &&
                'function' == typeof c.onRectangleEventSelecting)
            ) {
              var b = {};
              (b.events = h
                .eventsInRectangle(e.x, e.y, e.width, e.height)
                .map(function(e) {
                  return e.event;
                })),
                (b.start = c.getDate(e.x, !0)),
                (b.end = c.getDate(e.x + e.width, !0)),
                c.onRectangleEventSelecting(b);
            }
          }),
          (M.clear = function() {
            (c.divRectangle.innerHTML = ''), (c.elements.rectangle = []);
          }),
          (this.nm = function() {
            var e, t;
            if (
              !(
                c.coords &&
                c.rowlist &&
                c.rowlist.length > 0 &&
                c.itline &&
                c.itline.length > 0
              )
            )
              return null;
            if (
              ((e = c.Hh(c.coords.x).x),
              (t = c.Ni(c.coords.y).i),
              !(t >= c.rowlist.length))
            ) {
              return c.cells.findXy(e, t)[0];
            }
          }),
          (this.km = function() {
            var e = this.nm();
            if (this.hover.cell) {
              if (this.hover.cell.x === e.x && this.hover.cell.y === e.y)
                return;
              this.wl();
            }
            if (
              ((this.hover.cell = e), 'function' == typeof this.onCellMouseOver)
            ) {
              var t = {};
              (t.cell = e), this.onCellMouseOver(t);
            }
          }),
          (this.wl = function() {
            if (this.hover.cell) {
              if ('function' == typeof this.onCellMouseOut) {
                var e = {};
                (e.cell = this.hover.cell), this.onCellMouseOut(e);
              }
              this.hover.cell = null;
            }
          }),
          (this.hover = {}),
          (this.jm = function() {
            var e = this.nm();
            e &&
              ((this.hover.cell &&
                this.hover.cell.x === e.x &&
                this.hover.cell.y === e.y) ||
                this._c());
          }),
          (this.cm = function() {
            (this.divCrosshair.innerHTML = ''),
              (this.om = null),
              (this.pm = null);
          }),
          (this._ = function() {
            if (
              (this.cm(),
              this.qm &&
                this.qm.parentNode &&
                (this.qm.parentNode.removeChild(this.qm), (this.qm = null)),
              this.rm)
            ) {
              for (var e = 0; e < this.rm.length; e++) {
                var t = this.rm[e];
                t.parentNode && t.parentNode.removeChild(t);
              }
              this.rm = null;
            }
            (this.vg = -1), (this.ug = -1);
          }),
          (this._c = function() {
            var e, t;
            if (
              c.coords &&
              c.rowlist &&
              c.rowlist.length > 0 &&
              ((e = c.Hh(c.coords.x).x),
              (t = c.Ni(c.coords.y).i),
              !(t >= c.rowlist.length))
            ) {
              var i = this.crosshairType,
                n = c.rowlist[t];
              if ('Full' === i) {
                var a = this.itline[e],
                  o = a.left,
                  r = this.om;
                if (!r) {
                  var r = document.createElement('div');
                  (r.style.height = c.wg + 'px'),
                    (r.style.position = 'absolute'),
                    (r.style.top = '0px'),
                    (r.className = c.r('_crosshair_vertical')),
                    (this.om = r),
                    this.divCrosshair.appendChild(r);
                }
                (r.style.left = o + 'px'), (r.style.width = a.width + 'px');
                var l = n.top,
                  s = n.height,
                  d = this.jh(),
                  r = this.pm;
                if (!r) {
                  var r = document.createElement('div');
                  (r.style.width = d + 'px'),
                    (r.style.height = s + 'px'),
                    (r.style.position = 'absolute'),
                    (r.style.top = l + 'px'),
                    (r.style.left = '0px'),
                    (r.className = c.r('_crosshair_horizontal')),
                    (this.pm = r),
                    this.divCrosshair.appendChild(r);
                }
                (r.style.top = l + 'px'), (r.style.height = s + 'px');
              }
              var h = this.sm(this.coords.x);
              if (h && this.vg !== h.x) {
                this.qm &&
                  this.qm.parentNode &&
                  (this.qm.parentNode.removeChild(this.qm), (this.qm = null));
                var s = B.timeHeader(c.timeHeaders.length - 1).height,
                  r = document.createElement('div');
                (r.style.width = h.cell.width + 'px'),
                  (r.style.height = s + 'px'),
                  (r.style.left = '0px'),
                  (r.style.top = '0px'),
                  (r.style.position = 'absolute'),
                  (r.className = c.r('_crosshair_top')),
                  (this.qm = r);
                var u = this.divNorth,
                  f = this.timeHeader ? this.timeHeader.length - 1 : 1;
                this.nav.timeHeader
                  ? this.E.timeHeader[h.x + '_' + f].appendChild(r)
                  : u.firstChild.rows[f].cells[e] &&
                    u.firstChild.rows[f].cells[e].firstChild.appendChild(r);
              }
              if (this.ug !== t) {
                if (this.rm) {
                  for (var v = 0; v < this.rm.length; v++) {
                    var p = this.rm[v];
                    p.parentNode && p.parentNode.removeChild(p);
                  }
                  this.rm = null;
                }
                this.rowHeaderCols ? this.rowHeaderCols.length : 1;
                if (((this.rm = []), this.divHeader.rows[t]))
                  for (
                    var v = 0;
                    v < this.divHeader.rows[t].cells.length;
                    v++
                  ) {
                    var d = c.mh(),
                      r = document.createElement('div');
                    (r.style.width = d + 'px'),
                      (r.style.height = n.height + 'px'),
                      (r.style.left = '0px'),
                      (r.style.top = '0px'),
                      (r.style.position = 'absolute'),
                      (r.className = c.r('_crosshair_left')),
                      this.rm.push(r),
                      this.divHeader.rows[t].cells[v].firstChild.appendChild(r);
                  }
              }
              h && (this.vg = h.x), (this.ug = t);
            }
          }),
          (this.Mj = function(e, t) {
            var i = c.timeHeader[e];
            if (!i) return null;
            for (var n = 0; n < i.length; n++) {
              var a = i[n];
              if (t >= a.left && t < a.left + a.width) {
                var o = {};
                return (o.cell = a), (o.x = n), o;
              }
            }
            return null;
          }),
          (this.sm = function(e) {
            return c.Mj(c.timeHeader.length - 1, e);
          }),
          (this.zl = function(e) {
            if (((e.cancelBubble = !0), !c.allowDefaultContextMenu)) return !1;
          }),
          (this.bm = function(e) {
            var t = c.rangeHold;
            if (!t || !t.start || !t.end) return !1;
            var i = this.$i(t.start.y),
              n = t.start.x < t.end.x,
              a = (n ? t.start.x : t.end.x) * this.cellWidth,
              o = (n ? t.end.x : t.start.x) * this.cellWidth + this.cellWidth,
              r = i.top,
              l = i.bottom;
            return e.x >= a && e.x <= o && e.y >= r && e.y <= l;
          }),
          (this.pi = function(e, t) {
            function i(e) {
              var t,
                i,
                n,
                a,
                o = e.end.time > e.start.time,
                r = e.start.y,
                l = e.start.time && e.end.time;
              if ((c.snapToGrid && c.snapToGridTimeRangeSelecting) || !l) {
                var s = o ? e.start.x : e.end.x,
                  d = o ? e.end.x : e.start.x,
                  h = c.itline[s],
                  u = c.itline[d];
                (n = h.start),
                  (a = u.end),
                  (t = h.left),
                  (i = u.left + u.width);
              } else
                o
                  ? ((n = e.start.time), (a = e.end.time))
                  : ((n = e.end.time), (a = e.start.time)),
                  (t = c.getPixels(n).left),
                  (i = c.getPixels(a).left);
              var f = i - t,
                v = c.elements.range2;
              if (!v) {
                (v = document.createElement('div')),
                  (v.style.position = 'absolute'),
                  v.setAttribute('unselectable', 'on'),
                  (v.className = c.r('_shadow'));
                var p = document.createElement('div');
                (p.className = c.r('_shadow_inner')),
                  v.appendChild(p),
                  c.divShadow.appendChild(v);
              }
              return (
                (v.style.left = t + 'px'),
                (v.style.top = c.rowlist[r].top + 'px'),
                (v.style.width = f + 'px'),
                (v.style.height = c.rowlist[r].height - 1 + 'px'),
                (v.calendar = c),
                (c.elements.range2 = v),
                (function() {
                  v.overlapping = !1;
                  var e = c.rowlist[r];
                  c.Sj(v, e, t, f, null), c.Tj(v, n, a, e.id);
                })(),
                v
              );
            }
            var e = e || n.range;
            e &&
              e.calendar === c &&
              !(function() {
                var n = e.end.time > e.start.time,
                  a = n ? e.start.x : e.end.x,
                  o = n ? e.end.x : e.start.x,
                  r = e.start.y,
                  l = c.rowlist[r];
                if (l && !l.hidden) {
                  var s = c.itline[a],
                    d = c.itline[o],
                    h = c.tm,
                    u = s.start.addTime(l.data.offset),
                    f = d.end.addTime(l.data.offset);
                  if (
                    ((c.snapToGrid && c.snapToGridTimeRangeSelecting) ||
                      (n
                        ? ((u = e.start.time), (f = e.end.time))
                        : ((u = e.end.time), (f = e.start.time))),
                    t ||
                      !h ||
                      h.start.getTime() !== u.getTime() ||
                      h.end.getTime() !== f.getTime() ||
                      h.resource !== c.rowlist[r].id)
                  ) {
                    var v = {
                        start: u,
                        end: c.Jf(f),
                        resource: c.rowlist[r].id
                      },
                      p = {};
                    (p.start = v.start),
                      (p.end = v.end),
                      (p.duration = new DayPilot.Duration(u, f)),
                      (p.resource = c.rowlist[r].id),
                      (p.row = c.ui(l)),
                      (p.allowed = !0),
                      (p.left = {}),
                      (p.left.html = p.start.toString(
                        c.timeRangeSelectingStartEndFormat,
                        R.locale()
                      )),
                      (p.left.enabled = c.timeRangeSelectingStartEndEnabled),
                      (p.left.space = 5),
                      (p.left.width = null),
                      (p.right = {}),
                      (p.right.html = p.end.toString(
                        c.timeRangeSelectingStartEndFormat,
                        R.locale()
                      )),
                      (p.right.enabled = c.timeRangeSelectingStartEndEnabled),
                      (p.right.space = 5),
                      (p.right.width = null),
                      (p.html = null),
                      (p.cssClass = null),
                      (c.tm = p),
                      'function' != typeof c.onTimeRangeSelecting ||
                        t ||
                        (c.onTimeRangeSelecting(p), (p.resource = v.resource)),
                      (p.end = c.jf(p.end)),
                      (e.args = p);
                    var g = c.um(e);
                    c.oi(g, p.start, p.end);
                    var m = i(g);
                    p.html && (m.firstChild.innerHTML = p.html),
                      p.cssClass && DayPilot.Util.addClass(m, p.cssClass),
                      c.Yj(m, p),
                      (e.Xl = g),
                      (e.disabled = !p.allowed),
                      c.Zj(m, p);
                  }
                }
              })();
          }),
          (this.um = function(e) {
            return {
              start: { x: e.start.x, y: e.start.y, time: e.start.time },
              end: { x: e.end.x, time: e.end.time },
              disabled: e.disabled,
              calendar: e.calendar,
              args: e.args
            };
          }),
          (this.range = {}),
          (this.range.all = function() {
            return H.get();
          }),
          (this.vm = {});
        var H = this.vm;
        (this.vm.list = []),
          (this.vm.clear = function() {
            DayPilot.de(
              DayPilot.list(H.list).map(function(e) {
                return e.div;
              })
            ),
              (H.list = []);
          }),
          (this.vm.add = function(e) {
            (e.div = c.elements.range2),
              (c.elements.range2 = null),
              c._j(),
              H.list.push(e);
          }),
          (this.vm.get = function() {
            return DayPilot.list(H.list).map(function(e) {
              return c.ni(e);
            });
          }),
          (this.vm.dispatch = function() {
            if (c.allowMultiRange && !n.range) {
              var e = DayPilot.list(H.list).last();
              c.mi(e);
            }
          }),
          (this.wm = function(e) {
            if ('Disabled' === c.timeRangeSelectedHandling) return !1;
            if (!DayPilot.Global.touch.active && !DayPilot.Global.touch.start) {
              e = e || window.event;
              var t = DayPilot.Util.mouseButton(e);
              if (
                !n.range &&
                !n.rectangleSelect &&
                !(
                  (c.rangeHold && c.bm(c.coords) && (t.right || t.middle)) ||
                  c.Ui(c.Ni(c.coords.y).i)
                )
              ) {
                var i = {},
                  a = c.Hh(c.coords.x).x;
                (i.start = { y: c.Ni(c.coords.y).i, x: a }),
                  (i.end = { x: a }),
                  (i.calendar = c),
                  (c.rangeHold = i),
                  c.mi(i);
              }
            }
          }),
          (this.timeouts = {}),
          (this.timeouts.drawEvents = null),
          (this.timeouts.drawCells = null),
          (this.timeouts.click = null),
          (this.timeouts.resClick = []),
          (this.timeouts.updateFloats = null),
          (this.Sg = function(e) {
            c.Ag();
            var t = c.nav.scroll;
            if (
              ((c.Kj = t.scrollLeft),
              (c.Ij = t.scrollTop),
              (c.Lj = t.clientWidth),
              (c.divTimeScroll.scrollLeft = c.Kj),
              (c.divResScroll.scrollTop = c.Ij),
              u.isEnabled() && c.G && 'Auto' != c.cellWidthSpec)
            )
              if (u.active) a();
              else {
                if (c.nav.scroll.scrollLeft < c.infiniteScrollingMargin)
                  return (
                    (u.active = !0),
                    (c.nav.scroll.style.overflowX = 'hidden'),
                    void setTimeout(function() {
                      u.shiftStart(-c.infiniteScrollingStepDays);
                    }, 100)
                  );
                if (
                  c.nav.scroll.scrollWidth -
                    (c.nav.scroll.scrollLeft + c.nav.scroll.clientWidth) <
                  c.infiniteScrollingMargin
                )
                  return (
                    (u.active = !0),
                    (c.nav.scroll.style.overflowX = 'hidden'),
                    void setTimeout(function() {
                      u.shiftStart(c.infiniteScrollingStepDays);
                    }, 100)
                  );
              }
            if (
              (c.navigatorBackSync &&
                !(function() {
                  var e = DayPilot.Util.evalVariable(c.navigatorBackSync),
                    t = c.getViewPort().start;
                  e.select(t, { dontNotify: !0, dontFocus: !0 });
                })(),
              c.timeouts.drawCells &&
                (clearTimeout(c.timeouts.drawCells),
                (c.timeouts.drawCells = null)),
              c.scrollDelayCells > 0)
            )
              c.timeouts.drawCells = setTimeout(c.xm(), c.scrollDelayCells);
            else {
              c.xm()();
            }
            return c.dynamicLoading
              ? (c.$f(), void c.ym())
              : (c.timeouts.drawEvents &&
                  (clearTimeout(c.timeouts.drawEvents),
                  (c.timeouts.drawEvents = null)),
                c.scrollDelayEvents > 0
                  ? (c.timeouts.drawEvents = setTimeout(
                      c.zm(),
                      c.scrollDelayEvents
                    ))
                  : c.xa(),
                c.timeouts.updateFloats &&
                  (clearTimeout(c.timeouts.updateFloats),
                  (c.timeouts.updateFloats = null)),
                c.scrollDelayFloats > 0
                  ? (c.timeouts.updateFloats = setTimeout(function() {
                      c.Qg();
                    }, c.scrollDelayFloats))
                  : c.Qg(),
                void (c.onScrollCalled = !0));
          }),
          (this.xm = function() {
            return function() {
              c && (c.$f(), c.Mg());
            };
          }),
          (this.zm = function() {
            return function() {
              c &&
                (c.Jl()
                  ? window.setTimeout(function() {
                      c.Gl(),
                        window.setTimeout(function() {
                          c.xa(!0);
                        }, 50);
                    }, 50)
                  : c.dh());
            };
          }),
          (this.Ag = function() {
            (this.E.eventHeight = null), (this.E.drawArea = null);
          }),
          (this.show = function() {
            (this.visible = !0),
              (this.yg = !0),
              (c.nav.top.style.display = ''),
              this.wa(),
              this.Hg(),
              this.kj(),
              c.Sg();
          }),
          (this.hide = function() {
            (this.visible = !1),
              (this.yg = !1),
              (c.nav.top.style.display = 'none');
          }),
          (this.Am = function() {}),
          (this.ym = function() {
            var e = c.nav.scroll;
            (c.Kj = e.scrollLeft),
              (c.Ij = e.scrollTop),
              (c.Lj = e.clientWidth),
              (c.divTimeScroll.scrollLeft = c.Kj),
              (c.divResScroll.scrollTop = c.Ij),
              c.refreshTimeout && window.clearTimeout(c.refreshTimeout);
            var t = c.scrollDelayDynamic;
            (c.refreshTimeout = window.setTimeout(
              c.Bm(e.scrollLeft, e.scrollTop),
              t
            )),
              c.Qg();
          }),
          (this.gj = function(e) {
            if (!c.events.list) return null;
            for (var t = 0; t < this.events.list.length; t++) {
              var i = this.events.list[t];
              if (c.Id(i, e)) {
                var n = {};
                return (n.ex = i), (n.index = t), (n.modified = !c.Cm(e, i)), n;
              }
            }
            return null;
          }),
          (this.Cm = function(e, t) {
            for (var i in e)
              if (
                ('object' != typeof e[i] || e[i] instanceof DayPilot.Date) &&
                e[i] !== t[i]
              )
                return !1;
            for (var i in t)
              if ('object' != typeof t[i] && e[i] !== t[i]) return !1;
            return !0;
          }),
          (this.Og = function(e, t, i) {
            var n = i && i.clearEvents,
              a = i && i.remove,
              o = i && i.dontForceCellRendering,
              r = [];
            if ((c.events.list || (c.events.list = []), n)) c.ja(e);
            else {
              var l = [];
              DayPilot.list(a).forEach(function(e) {
                var t = DayPilot.list(c.events.list).find(function(t) {
                  return t.id === e;
                });
                t && l.push(t);
              }),
                l.forEach(function(e) {
                  var t = c.events.Nh(e);
                  r = r.concat(t);
                });
              for (var s = [], d = 0; d < e.length; d++) {
                var h = e[d];
                s[d] = c.gj(h);
              }
              for (var d = 0; d < e.length; d++) {
                var h = e[d],
                  u = s[d],
                  f = u && u.modified,
                  v = !u;
                if (f) {
                  this.events.list[u.index] = h;
                  var p = c.events.Nh(u.ex);
                  r = r.concat(p);
                } else v && this.events.list.push(h);
                (f || v) && (r = r.concat(c.events.Oh(h)));
              }
              c.Ph(r), c.Qh();
            }
            c.Gg(), c.ra();
            if (n || o) {
              c.T();
              var g = c.gi;
              g && c.Jg(), c.Ig(), g ? c.Mg() : c.kj(), c.xa();
            } else
              c.Rh(r, !1, function() {
                t && t(), c.Gl(), c.xa();
              }),
                c.kj();
          }),
          (this.Bm = function(e, t) {
            return c.t()
              ? function() {
                  (c.scrollX = e), (c.scrollY = t), c.M('Scroll');
                }
              : function() {
                  if ('function' == typeof c.onScroll) {
                    var e = function(e) {
                        var t = function() {
                          if (c.Ba() && 'function' == typeof c.onAfterRender) {
                            var e = {};
                            (e.isCallBack = !1),
                              (e.isScroll = !0),
                              (e.data = null),
                              c.onAfterRender(e);
                          }
                        };
                        c.Og(e.events, t, e);
                      },
                      t = {};
                    (t.viewport = c.getViewPort()),
                      (t.async = !1),
                      (t.events = []),
                      (t.remove = []),
                      (t.clearEvents = !1),
                      (t.dontForceCellRendering = !1),
                      (t.loaded = function() {
                        this.async && e(t);
                      }),
                      c.onScroll(t),
                      t.async || e(t);
                  }
                };
          }),
          (this.Dm = function() {
            var e = this.ah(),
              t = e.xStart,
              i = e.xEnd - e.xStart,
              n = e.yStart,
              a = e.yEnd - e.yStart;
            this.cellProperties || (this.cellProperties = {});
            for (var o = 0; o <= i; o++) {
              for (var r = t + o, l = 0; l < a; l++) {
                var s = n + l;
                this.rowlist[s].hidden || this.Ff(r, s);
              }
              this.Em(r);
            }
            for (var d = this.dk(), s = d.start; s < d.end; s++)
              this.rowlist[s].hidden || this.Fm(s);
          }),
          (this.Mg = function() {
            if (!c.Ld) {
              if (
                (c.progressiveRowRendering && this.Xh(),
                null !== this.rowlist && this.rowlist.length > 0)
              ) {
                if (this.cellSweeping) {
                  var e = this.cellSweepingCacheSize;
                  this.Il(e);
                }
                this.Dm(), this.Gm(), P.Fk();
              }
              this.gi = !1;
            }
          }),
          (this.Gm = function() {
            for (var e = this.ah(), t = e.xStart; t < e.xEnd; t++) {
              t < this.itline.length - 1 &&
                this.itline[t + 1].breakBefore &&
                this.Hm(t);
            }
          }),
          (this.Hm = function(e) {
            var t = 'x' + e;
            if (!this.E.breaks[t]) {
              var i = this.itline[e + 1].left - 1,
                n = this.wg,
                a = document.createElement('div');
              (a.style.left = i + 'px'),
                (a.style.top = '0px'),
                (a.style.width = '1px'),
                (a.style.height = n + 'px'),
                (a.style.fontSize = '1px'),
                (a.style.lineHeight = '1px'),
                (a.style.overflow = 'hidden'),
                (a.style.position = 'absolute'),
                a.setAttribute('unselectable', 'on'),
                (a.className = this.r('_matrix_vertical_break')),
                this.divBreaks.appendChild(a),
                this.elements.breaks.push(a),
                (this.E.breaks[t] = a);
            }
          }),
          (this.ah = function() {
            if (c.E.drawArea) return c.E.drawArea;
            if (!this.nav.scroll) return null;
            var e = c.Ij,
              t = {},
              i =
                null != this.dynamicEventRenderingMarginX
                  ? this.dynamicEventRenderingMarginX
                  : this.dynamicEventRenderingMargin,
              n =
                null != this.dynamicEventRenderingMarginY
                  ? this.dynamicEventRenderingMarginY
                  : this.dynamicEventRenderingMargin,
              a = c.Kj - i - u.shiftX,
              o = a + c.Lj + 2 * i,
              r = 0,
              l = 0;
            if (c.itline && c.itline.length > 0) {
              (r = c.Hh(a).x), (l = c.Hh(o, !0).x);
              var s = this.Jj();
              (l = Math.min(l, s)), (r = DayPilot.Util.atLeast(r, 0));
            }
            var d = e - n,
              h = e + this.nav.scroll.offsetHeight + 2 * n,
              f = this.Ni(d).i,
              v = this.Ni(h).i;
            return (
              v < this.rowlist.length && v++,
              (t.xStart = r),
              (t.xEnd = l),
              (t.yStart = f),
              (t.yEnd = v),
              (t.pixels = {}),
              (t.pixels.left = this.nav.scroll.scrollLeft - u.shiftX),
              (t.pixels.right =
                this.nav.scroll.scrollLeft -
                u.shiftX +
                this.nav.scroll.clientWidth),
              (t.pixels.top = this.nav.scroll.scrollTop),
              (t.pixels.bottom =
                this.nav.scroll.scrollTop + this.nav.scroll.clientHeight),
              (t.pixels.width = this.nav.scroll.scrollWidth),
              (c.E.drawArea = t),
              t
            );
          }),
          (this.jh = function() {
            var e = 0,
              t = this.itline[this.itline.length - 1];
            return (
              (e = t ? t.left + t.width : 0), (e < 0 || isNaN(e)) && (e = 0), e
            );
          }),
          (this.Fm = function(e) {
            var t = 'y' + e;
            if (!this.E.linesHorizontal[t]) {
              var i = c.rowlist[e],
                n =
                  'number' == typeof i.forcedHeight ? i.forcedHeight : i.height,
                a = i.top + n - 1,
                o = this.jh(),
                r = document.createElement('div');
              (r.style.left = '0px'),
                (r.style.top = a + 'px'),
                (r.style.width = o + 'px'),
                (r.style.height = '1px'),
                (r.style.fontSize = '1px'),
                (r.style.lineHeight = '1px'),
                (r.style.overflow = 'hidden'),
                (r.style.position = 'absolute'),
                r.setAttribute('unselectable', 'on'),
                (r.className = this.r('_matrix_horizontal_line')),
                this.divLines.appendChild(r),
                (this.E.linesHorizontal[t] = r);
            }
          }),
          (this.Em = function(e) {
            var t = this.itline[e];
            if (t) {
              var i = 'x' + e;
              if (!this.E.linesVertical[i]) {
                var n = t.left + t.width - 1,
                  a = document.createElement('div');
                (a.style.left = n + 'px'),
                  (a.style.top = '0px'),
                  (a.style.width = '1px'),
                  (a.style.height = c.wg + 'px'),
                  (a.style.fontSize = '1px'),
                  (a.style.lineHeight = '1px'),
                  (a.style.overflow = 'hidden'),
                  (a.style.position = 'absolute'),
                  a.setAttribute('unselectable', 'on'),
                  (a.className = this.r('_matrix_vertical_line')),
                  this.divLines.appendChild(a),
                  this.elements.linesVertical.push(a),
                  (this.E.linesVertical[i] = a);
              }
            }
          }),
          (this.Ej = function(e) {
            function t() {
              var t = c.Im(e, i.expanded, !1);
              if (!n)
                for (var a = 0; a < t.length; a++) {
                  var o = t[a];
                  c.hi(o);
                }
              c.yk(), c.$f();
              var r = c.ui(i, e);
              n ? c.Di(r) : c.Ci(r);
            }
            c.Tg.skip = !0;
            var i = this.rowlist[e],
              n = !i.expanded;
            if (
              ((i.expanded = n),
              i.resource && (i.resource.expanded = n),
              c.treeAnimation)
            ) {
              var a = this.Im(e, i.expanded, !0);
              c.xk(a, n ? 'show' : 'hide', function() {
                t();
              });
            } else t();
          }),
          (this.yk = function() {
            c.Gg(),
              c.Eg(),
              c.ra(),
              c.Ag(),
              c.ji(),
              v.load(),
              c.Jg(),
              c.Mg(),
              c.Pg(),
              c.xa(),
              c.Ag();
          }),
          (this.uk = function(e) {
            var t = {};
            if (((t.index = e), 'function' == typeof this.onLoadNode)) {
              var i = {},
                n = this.rowlist[e].resource;
              (i.resource = n),
                (i.async = !1),
                (i.loaded = function() {
                  this.async &&
                    ((n.dynamicChildren = !1), (n.expanded = !0), c.update());
                }),
                this.onLoadNode(i),
                i.async ||
                  ((n.dynamicChildren = !1), (n.expanded = !0), this.update());
            } else this.M('LoadNode', t);
          }),
          (this.Im = function(e, t, i) {
            var n = this.rowlist[e],
              a = [];
            if (null === n.children || 0 === n.children.length) return a;
            for (var o = 0; o < n.children.length; o++) {
              var r = n.children[o],
                l = this.rowlist[r],
                s = t && n.expanded && !l.Xk;
              t && l.hidden && (l.forcedHeight = 0),
                (i && !t) || (l.hidden = !s),
                i || delete l.forcedHeight,
                t === s && a.push(r);
              var d = this.Im(r, t);
              d.length > 0 && (a = a.concat(d));
            }
            return a;
          }),
          (this.lm = function(e, t) {
            this.vl(), this.Jm(e, t);
          }),
          (this.Km = function(e) {
            if (!e) return !1;
            var t = this.nav.scroll.scrollWidth,
              i = this.nav.scroll.scrollLeft,
              n = this.nav.scroll.clientWidth,
              a = i + n;
            return (
              !(e < 0 && i <= 0) &&
              (!(e > 0 && a >= t) &&
                ((this.nav.scroll.scrollLeft += e),
                (c.coords.x += e),
                c.Lm(),
                !0))
            );
          }),
          (this.Mm = function(e) {
            if (!e) return !1;
            var t = this.nav.scroll.scrollHeight,
              i = this.nav.scroll.scrollTop,
              n = this.nav.scroll.clientHeight,
              a = i + n;
            return (
              !(e < 0 && i <= 0) &&
              (!(e > 0 && a >= t) &&
                ((this.nav.scroll.scrollTop += e),
                (c.coords.y += e),
                c.Lm(),
                !0))
            );
          }),
          (this.Lm = function() {
            n.resizing && n.resizing.event.calendar === c
              ? c.gm()
              : n.moving &&
                (n.movingEvent.calendar === c ||
                  n.movingEvent.calendar.dragOutAllowed)
              ? (n.moving.event || (n.moving.event = n.movingEvent), c.hm())
              : n.range && n.range.calendar === c && c.im();
          }),
          (this.Jm = function(e, t) {
            if (this.Km(e) || this.Mm(t)) {
              var i = function(e, t) {
                return function() {
                  c.Jm(e, t);
                };
              };
              this.Nm = window.setTimeout(i(e, t), 100);
            }
          }),
          (this.vl = function() {
            c.Nm && (window.clearTimeout(c.Nm), (c.Nm = null));
          }),
          (this.Gg = function() {
            for (var e = 0, t = 0, i = 0; i < this.rowlist.length; i++) {
              var n = this.rowlist[i];
              n.hidden ||
                ((n.top = e),
                (n.displayY = t),
                (e +=
                  'number' == typeof n.forcedHeight
                    ? n.forcedHeight
                    : n.height),
                (t += 1));
            }
            this.wg = e;
          }),
          (this.Jg = function() {
            DayPilot.browser.ie && c.Om(),
              (this.elements.cells = []),
              (this.elements.breaks = []),
              (this.E.cells = []),
              (this.E.breaks = []),
              (this.divCells.innerHTML = ''),
              (this.divBreaks.innerHTML = ''),
              c.lk();
          }),
          (this.lk = function() {
            (this.divLines.innerHTML = ''),
              (this.E.linesVertical = {}),
              (this.E.linesHorizontal = {}),
              (this.elements.linesVertical = []);
          }),
          (this.Om = function(e) {
            var t = DayPilot.list();
            for (var i in c.E.cells) t.push(c.E.cells[i]);
            t.each(function(e) {
              c.mj(e);
            });
          }),
          (this.ki = function(e) {
            var t = DayPilot.list();
            for (var i in c.E.cells) t.push(c.E.cells[i]);
            t.filter(function(t) {
              return t && t.coords && t.coords.y === e;
            }).each(function(e) {
              c.mj(e);
            });
          }),
          (this.Pm = 0),
          (this.Qm = DayPilot.list([
            'html',
            'cssClass',
            'backColor',
            'backImage',
            'backRepeat',
            'areas',
            'disabled'
          ])),
          (this.Rm = c.Qm.add('business')),
          (this.Ff = function(e, t) {
            if (this.G) {
              var i = c.Kh(e);
              if (i) {
                var n = e + '_' + t;
                if (!this.E.cells[n]) {
                  var a = this.nj(e, t);
                  if ((c.Oj(e, t), !this.drawBlankCells)) {
                    var o = !1;
                    if (
                      (this.Bj(t) ? (o = !1) : this.Sm(a, c.Qm) || (o = !0), o)
                    )
                      return;
                  }
                  var r = document.createElement('div');
                  (r.style.left = i.left + 'px'),
                    (r.style.top = this.rowlist[t].top + 'px'),
                    (r.style.width = i.width + 'px'),
                    (r.style.height = this.rowlist[t].height + 'px'),
                    (r.style.position = 'absolute'),
                    a && a.backColor && (r.style.backgroundColor = a.backColor),
                    r.setAttribute('unselectable', 'on'),
                    (r.className = this.r('_cell')),
                    (r.coords = {}),
                    (r.coords.x = e),
                    (r.coords.y = t),
                    this.Bj(t) &&
                      DayPilot.Util.addClass(r, this.r('_cellparent'));
                  var l = c.cells.findXy(e, t)[0];
                  a &&
                    (a.cssClass && DayPilot.Util.addClass(r, a.cssClass),
                    DayPilot.Util.isNullOrUndefined(a.html) ||
                      (r.innerHTML = a.html),
                    a.backImage &&
                      (r.style.backgroundImage = 'url("' + a.backImage + '")'),
                    a.backRepeat && (r.style.backgroundRepeat = a.backRepeat),
                    a.business &&
                      c.cellsMarkBusiness &&
                      DayPilot.Util.addClass(r, c.r('_cell_business')),
                    a.disabled &&
                      DayPilot.Util.addClass(r, c.r('_cell_disabled')),
                    DayPilot.list(a.areas).each(function(e) {
                      (e.start || e.end) &&
                        ((e.left =
                          c.getPixels(new DayPilot.Date(e.start)).left -
                          i.left),
                        (e.width =
                          c.getPixels(new DayPilot.Date(e.end)).left -
                          e.left -
                          i.left));
                    }),
                    DayPilot.Areas.attach(r, l, { areas: a.areas }));
                  var s = _.getCell();
                  if (
                    (s &&
                      s.x === e &&
                      s.y === t &&
                      DayPilot.Util.addClass(r, c.r('_cell_focus')),
                    this.divCells.appendChild(r),
                    this.elements.cells.push(r),
                    (this.E.cells[n] = r),
                    'function' == typeof c.onAfterCellRender)
                  ) {
                    var d = {};
                    (d.cell = DayPilot.Util.copyProps(l, {}, [
                      'x',
                      'y',
                      'displayY',
                      'start',
                      'end',
                      'resource'
                    ])),
                      (d.div = r),
                      c.onAfterCellRender(d);
                  }
                }
              }
            }
          }),
          (this.Ah = {}),
          (this.kj = function() {
            c.Tm().each(function(e) {
              c.ki(e);
            }),
              c.Mg();
          }),
          (this.Tm = function() {
            for (
              var e = DayPilot.list(),
                t = this.ah(),
                i = t.xStart,
                n = t.xEnd - t.xStart,
                a = t.yStart,
                o = t.yEnd - t.yStart,
                r = 0;
              r < o;
              r++
            )
              for (var l = a + r, s = 0; s <= n; s++) {
                var d = i + s;
                if (!this.rowlist[l].hidden && !c.Ah[d + '_' + l]) {
                  e.push(l);
                  break;
                }
              }
            return e;
          }),
          (this.Oj = function(e, t) {
            if ('function' == typeof this.onBeforeCellRender) {
              if (c.beforeCellRenderCaching && c.Ah[e + '_' + t]) return;
              c.Ah[e + '_' + t] = !0;
              var i = c.Kh(e);
              if (!i) return;
              var n = c.cells.findXy(e, t)[0],
                a = {};
              return (
                (a.cell = n),
                (a.getPixels = function(e) {
                  var e = new DayPilot.Date(e);
                  return c.getPixels(e).left - i.left;
                }),
                this.onBeforeCellRender(a),
                DayPilot.Util.copyProps(a.cell, a.cell.properties, c.Rm),
                a.cell.properties.disabled && (c.Ah.$j = !0),
                a
              );
            }
          }),
          (this.Sm = function(e, t) {
            if (t) {
              for (var i = 0; i < t.length; i++)
                if (!DayPilot.Util.isNullOrUndefined(e[t[i]])) return !0;
            } else
              for (var n in e)
                if (!DayPilot.Util.isNullOrUndefined(e[n])) return !0;
            return !1;
          }),
          (this.clearSelection = function() {
            this.Pg(), H.clear();
          }),
          (this.cleanSelection = this.clearSelection),
          (this.selectTimeRange = function(e, t, i, n) {
            (e = new DayPilot.Date(e)), (t = new DayPilot.Date(t));
            var a = c.$g(i),
              o = c.Jh(e),
              r = o.current || o.next;
            if (!r)
              throw new DayPilot.Exception(
                "Time range selection 'start' out of timeline"
              );
            var l = c.Jh(new DayPilot.Date(t).addMilliseconds(-1)),
              s = l.current || l.previous;
            if (!s)
              throw new DayPilot.Exception(
                "Time range selection 'end' out of timeline"
              );
            var d = {};
            (d.start = {
              y: a.index,
              x: DayPilot.indexOf(c.itline, r),
              time: e
            }),
              (d.end = { x: DayPilot.indexOf(c.itline, s), time: t }),
              (d.calendar = this),
              c.pi(d),
              n ||
                setTimeout(function() {
                  c.mi(d);
                }, 0);
          }),
          (this.li = function() {
            DayPilot.de(n.movingShadow),
              (n.movingShadow = null),
              c._j(),
              c.Vj.clear(),
              DayPilot.Global.movingLink &&
                (DayPilot.Global.movingLink.clear(),
                (DayPilot.Global.movingLink = null));
          }),
          (this.Pg = function() {
            (this.divShadow.innerHTML =
              '<div style="position:absolute; left:0px; top:0px; width:0px; height:0px;"></div>'),
              (this.elements.range = []),
              (this.elements.range2 = null),
              this._j(),
              (c.rangeHold = null);
          });
        var _ = {};
        (_.cell = null),
          (_.focusCell = function(e, t) {
            _.unfocusCell();
            var i = _.cellDiv(e, t);
            i && DayPilot.Util.addClass(i, c.r('_cell_focus')),
              (_.cell = { x: e, y: t });
            var n = c.Oi();
            if (n.start.x >= e) {
              var a = c.itline[e].start;
              c.scrollTo(a);
            } else if (n.end.x <= e) {
              var o = c.itline[e].end;
              c.scrollTo(o, !1, 'right');
            }
          }),
          (_.unfocusCell = function() {
            if (_.cell) {
              var e = _.cellDiv(_.cell.x, _.cell.y);
              e && DayPilot.Util.removeClass(e, c.r('_cell_focus')),
                (_.cell = null);
            }
          }),
          (_.cellDiv = function(e, t) {
            var i = e + '_' + t;
            return c.E.cells[i];
          }),
          (_.getCell = function() {
            return _.cell;
          }),
          (_.target = function() {
            var e = c.temp.keyboardTarget;
            switch (e) {
              case 'component':
                return c.nav.top;
              case 'document':
                return document;
            }
            throw new DayPilot.Exception('Invalid keyboardTarget value: ' + e);
          }),
          (_.Um = null),
          (_.activateGrid = function() {
            var e = _.target();
            e !== document && c.nav.top.setAttribute('tabindex', '-1'),
              e.addEventListener('keyup', function(e) {
                if (16 === e.keyCode) {
                  var t = _.Um;
                  (_.Um = null),
                    _.timeRangeSelect(t.start.x, t.start.y, t.end.x);
                }
              }),
              e.addEventListener('keydown', function(e) {
                var t = 37,
                  i = 38,
                  n = 39,
                  a = 40,
                  o = 13;
                [t, i, n, a].indexOf(e.keyCode) !== -1 && e.preventDefault(),
                  e.shiftKey &&
                    !_.Um &&
                    (_.Um = {
                      calendar: c,
                      start: { x: _.cell.x, y: _.cell.y }
                    });
                var r = !_.Um;
                switch (e.keyCode) {
                  case n:
                    _.cell.x < c.itline.length - 1 &&
                      _.focusCell(_.cell.x + 1, _.cell.y);
                    break;
                  case t:
                    _.cell.x > 0 && _.focusCell(_.cell.x - 1, _.cell.y);
                    break;
                  case i:
                    _.cell.y > 0 && r && _.focusCell(_.cell.x, _.cell.y - 1);
                    break;
                  case a:
                    _.cell.y < c.rowlist.length - 1 &&
                      r &&
                      _.focusCell(_.cell.x, _.cell.y + 1);
                    break;
                  case o:
                    _.timeRangeSelect(_.cell.x, _.cell.y);
                }
                (e.keyCode !== t && e.keyCode !== n) ||
                  (_.Um &&
                    ((_.Um.end = { x: _.cell.x, y: _.cell.y }), c.pi(_.Um)));
              });
          }),
          (_.timeRangeSelect = function(e, t, i) {
            var n = {};
            (n.start = { y: t, x: e }),
              (n.end = { x: 'undefined' == typeof i ? e : i }),
              (n.calendar = c),
              (c.rangeHold = n),
              c.mi(n);
          }),
          (_.initGrid = function() {
            _.activateGrid();
            var e = c.Oi();
            _.focusCell(e.start.x, e.start.y),
              _.target() !== document && c.nav.top.focus();
          }),
          (this.Vm = _),
          (this.Lc = {});
        var R = this.Lc;
        (R.clearCache = function() {
          delete c.E.eventHeight, delete c.E.headerHeight;
        }),
          (R.locale = function() {
            return DayPilot.Locale.find(c.locale);
          }),
          (R.timeFormat = function() {
            return 'Auto' !== c.timeFormat
              ? c.timeFormat
              : R.locale().timeFormat;
          }),
          (R.weekStarts = function() {
            if ('Auto' === c.weekStarts) {
              var e = R.locale();
              return e ? e.weekStarts : 0;
            }
            return c.weekStarts || 0;
          }),
          (R.mobile = function() {
            var e = navigator.userAgent.toLowerCase();
            return e.indexOf('mobile') !== -1 || e.indexOf('android') != -1;
          }),
          (R.layout = function() {
            var e = /MSIE 6/i.test(navigator.userAgent);
            return 'Auto' === c.layout
              ? e
                ? 'TableBased'
                : 'DivBased'
              : c.layout;
          }),
          (R.notifyType = function() {
            var e;
            if ('Immediate' === c.notifyCommit) e = 'Notify';
            else {
              if ('Queue' !== c.notifyCommit)
                throw 'Invalid notifyCommit value: ' + c.notifyCommit;
              e = 'Queue';
            }
            return e;
          }),
          (R.isResourcesView = function() {
            return 'Days' !== c.viewType;
          }),
          (R.useBox = function(e) {
            return (
              'Always' === c.useEventBoxes ||
              ('Never' !== c.useEventBoxes && e < 60 * c.tj() * 1e3)
            );
          }),
          (R.eventHeight = function() {
            if (c.E.eventHeight) return c.E.eventHeight;
            var e = c.Od('_event_height').height;
            return e || (e = c.eventHeight), (c.E.eventHeight = e), e;
          }),
          (R.headerHeight = function() {
            if (c.E.headerHeight) return c.E.headerHeight;
            var e = c.Od('_header_height').height;
            return e || (e = c.headerHeight), (c.E.headerHeight = e), e;
          }),
          (R.splitterWidth = function() {
            return c.rowHeaderScrolling ? c.rowHeaderSplitterWidth : 1;
          }),
          (this.Wm = {});
        var B = this.Wm;
        (B.timeHeader = function(e) {
          var t = {};
          (t.top = 0), (t.height = 0);
          for (var i = R.headerHeight(), n = 0; n <= e; n++) {
            var a = c.timeHeaders[n];
            (t.top += t.height), (t.height = a.height || i);
          }
          return t;
        }),
          (this.Xc = function(e, t) {
            var i = e + '_' + t;
            return this.cellProperties && this.cellProperties[i]
              ? this.cellProperties[i].backColor
              : null;
          }),
          (this.nj = function(e, t) {
            var i = e + '_' + t;
            if (c.cellConfig)
              for (var n = 0, a = 0; a < c.resources.length; a++)
                if (!c.resources[a].hidden) {
                  if (n === t) {
                    t = a;
                    break;
                  }
                  n += 1;
                }
            if (
              (this.cellProperties || (this.cellProperties = {}),
              this.cellProperties[i])
            )
              return this.cellProperties[i];
            if (
              (this.qg && (this.cellProperties[i] = c.Xm(e, t)),
              !this.cellProperties[i])
            ) {
              var o = c.rowlist[t],
                r = o.id,
                l = o.start.getTime() - c.Ja().getTime(),
                s = c.Kh(e),
                d = s.start.addTime(l),
                h = s.end.addTime(l),
                u = {};
              (u.start = d), (u.end = h), (u.resource = r);
              var f = {};
              (f.business = c.isBusiness(u)),
                o.cellsDisabled && ((c.Ah.$j = !0), (f.disabled = !0)),
                (this.cellProperties[i] = f);
            }
            return this.cellProperties[i];
          }),
          (this.Ym = function(e, t, i) {
            var n = t + '_' + i;
            return (
              (this.cellProperties[n] = {}),
              DayPilot.Util.copyProps(e, this.cellProperties[n], c.Rm),
              this.cellProperties[n]
            );
          }),
          (this.Xm = function(e, t) {
            if (!this.cellConfig) return null;
            var i = this.cellConfig,
              n = this.cellProperties[e + '_' + t];
            !n && i.vertical && (n = this.cellProperties[e + '_0']),
              !n && i.horizontal && (n = this.cellProperties['0_' + t]),
              !n && i['default'] && (n = i['default']);
            var a = {};
            return DayPilot.Util.copyProps(n, a, c.Rm), a;
          }),
          (this.ia = function() {
            if (!this.qg && !this.rg && ((this.rg = !0), this.cellConfig)) {
              var e = this.cellConfig;
              if (e.vertical)
                for (var t = 0; t < e.x; t++) {
                  var i = this.cellProperties[t + '_0'];
                  if (i) for (var n = 1; n < e.y; n++) this.Ym(i, t, n);
                }
              if (e.horizontal)
                for (var n = 0; n < e.y; n++) {
                  var i = this.cellProperties['0_' + n];
                  if (i) for (var t = 1; t < e.x; t++) this.Ym(i, t, n);
                }
              if (e['default'])
                for (var i = e['default'], n = 0; n < e.y; n++)
                  for (var t = 0; t < e.x; t++)
                    this.cellProperties[t + '_' + n] || this.Ym(i, t, n);
            }
          }),
          (this.isBusiness = function(e, t) {
            var i = e.start,
              n = e.end,
              a = (n.getTime() - i.getTime()) / 6e4;
            if (
              a <= 1440 &&
              !(
                c.businessWeekends ||
                t ||
                (0 !== e.start.dayOfWeek() && 6 !== e.start.dayOfWeek())
              )
            )
              return !1;
            if (a < 720) {
              var o = i.getHours();
              if (
                ((o += i.getMinutes() / 60),
                (o += i.getSeconds() / 3600),
                (o += i.getMilliseconds() / 36e5),
                o < this.businessBeginsHour)
              )
                return !1;
              if (this.businessEndsHour >= 24) return !0;
              if (o >= this.businessEndsHour) return !1;
            }
            return !0;
          }),
          (this.nc = function() {
            switch (c.H) {
              case 'aspnet':
                if (!this.R())
                  throw new DayPilot.Exception(
                    'ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/'
                  );
                break;
              case 'netmvc':
                if (!this.backendUrl)
                  throw new DayPilot.Exception(
                    'DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/'
                  );
                break;
              case 'javaxx':
                if (!this.backendUrl)
                  throw new DayPilot.Exception(
                    'DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/'
                  );
            }
          }),
          (this.wa = function() {
            'hidden' === this.nav.top.style.visibility &&
              (this.nav.top.style.visibility = 'visible');
          }),
          (this.qd = function() {
            var e = c.nav.top;
            return !!e && (e.offsetWidth > 0 && e.offsetHeight > 0);
          }),
          (this.rd = function() {
            var e = c.qd;
            e() ||
              c.sd ||
              (c.sd = setInterval(function() {
                e() && (clearInterval(c.sd), c.show(), c.fk());
              }, 100));
          }),
          (this.Zm = function(e) {
            'Parent100Pct' !== this.heightSpec && (this.heightSpec = 'Fixed'),
              (this.height = e - (this.lh() + 2)),
              this.ra();
          }),
          (this.setHeight = this.Zm),
          (this.$g = function(e) {
            return DayPilot.list(D.rowcache[e]).first();
          }),
          (this.Td = function() {
            if (this.id && this.id.tagName) this.nav.top = this.id;
            else {
              if ('string' != typeof this.id)
                throw 'DayPilot.Scheduler() constructor requires the target element or its ID as a parameter';
              if (
                ((this.nav.top = document.getElementById(this.id)),
                !this.nav.top)
              )
                throw "DayPilot.Scheduler: The placeholder element not found: '" +
                  e +
                  "'.";
            }
          }),
          (this.$m = function() {
            this.Jd(),
              this.Dg(),
              this.ci(),
              this.Hg(),
              this.ud(),
              this.X(),
              n.register(this),
              this.ea(this.afterRenderData, !1),
              this.Dl(),
              this.Aa(),
              this.M('Init');
          }),
          (this.init = function() {
            return (
              this.nc(),
              this._m(),
              this.an(),
              this.rd(),
              this.nl(),
              this.bn(),
              this
            );
          }),
          (this.bn = function() {
            c.temp.keyboard && _.initGrid();
          }),
          (this.cn = function() {
            c.multiselect.Lg(c.selectedEvents);
          }),
          (this.an = function() {
            if ((this.Td(), !this.nav.top.dp)) {
              this.$h();
              if (this.Sd()) return this.$m(), (this.G = !0), void this.Ag();
              this.ud(),
                this.X(),
                n.register(this),
                this.Dl(),
                this.cn(),
                c.zoomLevels &&
                  c.zoomLevels[c.zoom.active] &&
                  c.zoom.setActive(c.zoom.active),
                this.Yb();
              var angular = c.Hd.scope || c.Tg.enabled;
              c.scrollToDate
                ? c.scrollTo(c.scrollToDate)
                : c.scrollX || c.scrollY
                ? c.setScroll(c.scrollX, c.scrollY)
                : angular || c.Sg(),
                c.scrollToResourceId &&
                  (c.scrollToResource(c.scrollToResourceId),
                  (c.scrollToResourceId = null));
              var e = function() {
                c.scrollY && c.setScroll(c.scrollX, c.scrollY);
              };
              window.setTimeout(e, 200),
                this.messageHTML &&
                  window.setTimeout(function() {
                    c.message(c.messageHTML);
                  }, 0),
                this.Aa(),
                this.Ag(),
                this.ea(this.afterRenderData, !1),
                c.initEventEnabled &&
                  setTimeout(function() {
                    c.M('Init');
                  }),
                this.Vd(),
                (this.G = !0),
                (this.Qi = !0);
              var t = c.Vg;
              t ? c.scrollTo(t.date, t.animated, t.position) : c.Sg();
            }
          }),
          (this._m = function() {
            c.t() && delete c.infinite;
          }),
          (this.Wd = null),
          (this.Md = function(e) {
            if (e) {
              var t = {
                events: {
                  preInit: function() {
                    var e = this.data;
                    e &&
                      (DayPilot.isArray(e.list)
                        ? (c.events.list = e.list)
                        : (c.events.list = e));
                  },
                  postInit: function() {}
                },
                links: {
                  preInit: function() {
                    var e = this.data;
                    e &&
                      (DayPilot.isArray(e.list)
                        ? (c.links.list = e.list)
                        : (c.links.list = e));
                  },
                  postInit: function() {}
                },
                scrollTo: {
                  preInit: function() {},
                  postInit: function() {
                    this.data &&
                      c.Ug(this.data, e.scrollToAnimated, e.scrollToPosition);
                  }
                },
                scrollX: {
                  postInit: function() {
                    this.data && c.Yg(this.data);
                  }
                },
                scrollY: {
                  postInit: function() {
                    this.data && c.kh(this.data);
                  }
                },
                zoom: {
                  preInit: function() {
                    var e = this.data,
                      t = e !== c.zoom.active,
                      i = c.zoom.ig();
                    c.zoom.Sh(e, i);
                    t ? (this.date = i) : (this.date = null);
                  },
                  postInit: function() {
                    this.date && c.Ug(this.date, !1, c.zoomPosition);
                  }
                }
              };
              (c.Wd = t),
                c.Tg.scrollToRequested &&
                  ((t.scrollTo.data = c.Tg.scrollToRequested),
                  (c.Tg.scrollToRequested = null)),
                c.Tg.scrollXRequested &&
                  ((t.scrollX.data = c.Tg.scrollXRequested),
                  (c.Tg.scrollXRequested = null)),
                c.Tg.scrollYRequested &&
                  ((t.scrollY.data = c.Tg.scrollYRequested),
                  (c.Tg.scrollYRequested = null));
              for (var i in e) t[i] || (c[i] = e[i]);
              for (var i in e)
                if (t[i]) {
                  var n = t[i];
                  (n.data = e[i]), n.preInit && n.preInit();
                }
            }
          }),
          (this.Vd = function() {
            var e = c.Wd;
            for (var t in e) {
              var i = e[t];
              i.postInit && i.postInit();
            }
            c.Wd = {};
          }),
          (this.diag = function() {
            var e = {};
            return (
              (e.dataEvents = c.events.list && c.events.list.length),
              (e.dataRows = c.rowlist && c.rowlist.length),
              (e.dataTimeline = c.itline && c.itline.length),
              (e.dataCells = e.dataTimeline * e.dataRows),
              (e.renderedEvents = c.elements.events.length),
              (e.renderedCells = c.elements.cells.length),
              (e.renderedRows =
                c.divResScroll.firstChild.childNodes.length - 1),
              (e.domEvents = c.divEvents.getElementsByTagName('*').length),
              (e.domCells = c.divCells.getElementsByTagName('*').length),
              (e.domRows = c.divResScroll.getElementsByTagName('*').length),
              e
            );
          }),
          (this.temp = {}),
          (this.temp.getPosition = function() {
            var e = Math.floor(c.coords.x / c.cellWidth),
              t = c.Ni(c.coords.y).i;
            if (t < c.rowlist.length) {
              var i = {};
              return (
                (i.start = c.itline[e].start),
                (i.end = c.itline[e].end),
                (i.resource = c.rowlist[t].id),
                i
              );
            }
            return null;
          }),
          (this.temp.keyboard = !1),
          (this.temp.keyboardTarget = 'document'),
          (this.temp.allowDuplicateEventIds = !1),
          (this.internal = {}),
          (this.internal.initialized = function() {
            return c.G;
          }),
          (this.internal.dragInProgress = this.fm),
          (this.internal.startMoving = this.Ul),
          (this.internal.invokeEvent = this.Ya),
          (this.internal.eventMenuClick = this.ib),
          (this.internal.timeRangeMenuClick = this.jb),
          (this.internal.resourceHeaderMenuClick = this.ri),
          (this.internal.linkMenuClick = this.qi),
          (this.internal.bubbleCallBack = this.gb),
          (this.internal.findEventDiv = this.Gd),
          (this.internal.rowtools = this.Ai),
          (this.internal.getNodeChildren = this.ca),
          (this.internal.callback = function() {
            c.M.apply(c, arguments);
          }),
          (this.internal.createRowObject = this.ui),
          (this.internal.restools = this.Qk),
          (this.internal.gantt = null),
          (this.internal.adjustEndIn = c.jf),
          (this.internal.adjustEndNormalize = c.Lf),
          (this.internal.touch = c.jc),
          (this.internal.cssNames = c.Wl),
          (this.internal.enableCellStacking = function(e) {
            (c.sg = !0), (c.tg = e);
          }),
          (this.internal.deleteDragSource = function() {
            c.eb();
          }),
          (this.internal.skipUpdate = c.Tg.skipUpdate),
          (this.internal.skipped = c.Tg.skipped),
          (this.internal.loadOptions = c.Md),
          (this.internal.postInit = c.Vd),
          (this.internal.enableAngular2 = function() {
            c.Tg.enabled = !0;
          }),
          (this.Init = this.init),
          this.Md(o);
      }),
        (o = '2019.3.3913' === new DayPilot.Scheduler().v),
        (DayPilot.Row = function(e, t) {
          if (!e) throw 'Now row object supplied when creating DayPilot.Row';
          if (!t) throw 'No parent control supplied when creating DayPilot.Row';
          var i = DayPilot.indexOf(t.rowlist, e);
          this.dn = {};
          var n = this.dn;
          (n.id = e.id),
            (n.name = e.name),
            (n.data = e.resource),
            (n.tags = e.tags);
          var a = this;
          (a.isRow = !0),
            (a.menuType = 'resource'),
            (a.start = e.start),
            (a.name = e.name),
            (a.value = e.id),
            (a.id = e.id),
            (a.tags = e.tags),
            (a.bubbleHtml = e.bubbleHtml),
            (a.index = i),
            (a.displayY = e.displayY),
            (a.level = e.level),
            (a.calendar = t),
            (a.data = e.resource),
            (a.en = e),
            (a.$ = {}),
            (a.$.row = e),
            (a.toJSON = function(e) {
              var t = {};
              return (
                (t.start = this.start),
                (t.name = this.name),
                (t.value = this.value),
                (t.id = this.id),
                (t.index = this.index),
                t
              );
            }),
            (a.parent = function() {
              return a.en.Yk ? t.ui(a.en.Yk) : null;
            }),
            (a.children = function() {
              var e = DayPilot.list(a.$.row.children).map(function(e) {
                return t.ui(t.rowlist[e]);
              });
              return (
                (e.add = function(e) {
                  var t = a.$.row.resource;
                  t.children || (t.children = []), t.children.push(e);
                }),
                e
              );
            }),
            (a.loaded = function() {
              return a.en.loaded;
            }),
            (a.cells = {}),
            (a.cells.all = function() {
              for (
                var e = [], i = t.itline.length, n = a.index, o = 0;
                o < i;
                o++
              ) {
                var r = t.cells.findXy(o, n);
                e.push(r[0]);
              }
              return t.oj(e);
            }),
            (a.cells.forRange = function(e, i) {
              var n = a,
                o = n.start.getTime() - t.Ja().getTime();
              (e = new DayPilot.Date(e)), (i = new DayPilot.Date(i));
              var r = t.Ja().addTime(o),
                l = t.Dh().addTime(o);
              e < r && (e = r), i > l && (i = l);
              var s = t.cells.find(e, a.id)[0],
                d = t.cells.find(i.addTime(-1), a.id)[0];
              if (!s) return null;
              if (!d) return null;
              if (s.y !== d.y) return null;
              for (var c = s.y, h = [], u = s.x; u <= d.x; u++)
                h.push(t.cells.lj(u, c));
              return t.oj(h);
            }),
            (a.cells.totalDuration = function() {
              return new DayPilot.Duration(
                a.cells
                  .all()
                  .map(function(e) {
                    return e.end.getTime() - e.start.getTime();
                  })
                  .reduce(function(e, t) {
                    return e + t;
                  }, 0)
              );
            }),
            (a.events = {}),
            (a.events.all = function() {
              for (var e = DayPilot.list(), t = 0; t < a.en.events.length; t++)
                e.push(a.en.events[t]);
              return e;
            }),
            (a.events.isEmpty = function() {
              return 0 === a.en.events.length;
            }),
            (a.events.forRange = function(e, t) {
              return a.en.events.forRange(e, t);
            }),
            (a.events.totalDuration = function() {
              var e = 0;
              return (
                a.events.all().each(function(t) {
                  e += t.part.end.getTime() - t.part.start.getTime();
                }),
                new DayPilot.Duration(e)
              );
            }),
            (a.groups = {}),
            (a.groups.collapseAll = function() {
              for (var e = 0; e < a.en.blocks.length; e++) {
                new o(a.en.blocks[e]).gn();
              }
              t.Qh(), t.Rh(a.index), t.ra();
            }),
            (a.groups.expandAll = function() {
              for (var e = 0; e < a.en.blocks.length; e++) {
                new o(a.en.blocks[e]).hn();
              }
              t.Qh(), t.Rh(a.index), t.ra();
            }),
            (a.groups.expanded = function() {
              for (var e = [], i = 0; i < a.en.blocks.length; i++) {
                var n = a.en.blocks[i];
                n.expanded &&
                  n.lines.length > t.groupConcurrentEventsLimit &&
                  e.push(new o(n));
              }
              return DayPilot.list(e);
            }),
            (a.groups.collapsed = function() {
              for (var e = [], t = 0; t < a.en.blocks.length; t++) {
                var i = a.en.blocks[t];
                i.expanded || e.push(new o(i));
              }
              return DayPilot.list(e);
            }),
            (a.groups.all = function() {
              for (var e = [], t = 0; t < a.en.blocks.length; t++) {
                var i = a.en.blocks[t];
                e.push(new o(i));
              }
              return DayPilot.list(e);
            }),
            (a.events.collapseGroups = a.groups.collapseAll),
            (a.events.expandGroups = a.groups.expandAll),
            (a.column = function(e) {
              return new r(a, e);
            }),
            (a.toggle = function() {
              t.Ej(a.index);
            }),
            (a.collapse = function() {
              a.$.row.expanded && a.toggle();
            }),
            (a.expand = function() {
              a.$.row.expanded || a.toggle();
            }),
            (a.remove = function() {
              t.rows.remove(a);
            }),
            (a.edit = function() {
              t.rows.edit(a);
            }),
            (a.addClass = function(e) {
              var i = a,
                n = t.divHeader,
                i = n.rows[i.index];
              if (i) {
                var o = DayPilot.list(i.cells).map(function(e) {
                  return e.cellDiv;
                });
                DayPilot.Util.addClass(o, e);
              }
              (a.$.row.cssClass = DayPilot.Util.addClassToString(
                a.$.row.cssClass,
                e
              )),
                (a.data.cssClass = e);
            }),
            (a.removeClass = function(e) {
              var i = a,
                n = t.divHeader,
                i = n.rows[i.index];
              if (i) {
                var o = DayPilot.list(i.cells).map(function(e) {
                  return e.cellDiv;
                });
                DayPilot.Util.removeClass(o, e);
              }
              (a.$.row.cssClass = DayPilot.Util.removeClassFromString(
                a.$.row.cssClass,
                e
              )),
                (a.data.cssClass = DayPilot.Util.removeClassFromString(
                  a.data.cssClass,
                  e
                ));
            });
          var o = function(e) {
              var i = function(e) {
                for (var i = 0; i < t.elements.events.length; i++) {
                  var n = t.elements.events[i];
                  if (n.event === e) return n;
                }
                return null;
              };
              (this.hn = function() {
                e.expanded = !0;
                var n = t.Bk;
                DayPilot.list(e.events).each(function(e) {
                  n.push(e.id());
                });
                var a = i(e);
                if (a) {
                  t.Fl(a);
                  var o = DayPilot.indexOf(t.elements.events, a);
                  o !== -1 && t.elements.events.splice(o, 1);
                }
              }),
                (this.expand = function() {
                  this.hn(), t.Qh(), t.Rh(e.row.index), t.ra();
                }),
                (this.gn = function() {
                  if (e.lines.length > t.groupConcurrentEventsLimit) {
                    e.expanded = !1;
                    var i = DayPilot.list(e.events).map(function(e) {
                      return e.id();
                    });
                    t.Bk = t.Bk.filter(function(e) {
                      return !DayPilot.contains(i, e);
                    });
                  }
                }),
                (this.collapse = function() {
                  this.gn(), t.Qh(), t.Rh(e.row.index), t.ra();
                });
            },
            r = function(e, t) {
              this.html = function(i) {
                var n = e.calendar.divHeader,
                  a = n.rows[e.index].cells[t],
                  o = a.textDiv;
                return 'undefined' == typeof i
                  ? o.innerHTML
                  : void (o.innerHTML = i);
              };
            };
        }),
        (n.moving = null),
        (n.movingEvent = null),
        (n.originalMouse = null),
        (n.resizing = null),
        (n.resizingEvent = null),
        (n.preventEventClick = !1),
        (n.globalHandlers = !1),
        (n.timeRangeTimeout = null),
        (n.selectedCells = null),
        (n.dragStart = function(e, t, i, a) {
          DayPilot.us(e);
          var o = (n.drag = {});
          return (
            (o.element = e),
            (o.duration = t),
            (o.text = a),
            (o.id = i),
            (o.data = { id: i, text: a, duration: t, externalHtml: a }),
            !1
          );
        }),
        (DayPilot.Scheduler.startDragging = function(e) {
          var e = e || {},
            t = e.element,
            i = e.keepElement ? null : t;
          DayPilot.us(t);
          var a = (n.drag = {});
          return (
            (a.element = i),
            (a.id = e.id),
            (a.duration = e.duration || 60),
            (a.text = e.text || ''),
            (a.data = e),
            !1
          );
        }),
        (DayPilot.Scheduler.makeDraggable = function(e) {
          function t() {
            var t = e.duration || 60;
            t instanceof DayPilot.Duration && (t = t.totalSeconds());
            var i = (n.drag = {});
            (i.element = a),
              (i.id = e.id),
              (i.duration = t),
              (i.text = e.text || ''),
              (i.data = e);
          }
          e = e || {};
          var i = e.element,
            a = e.keepElement ? null : e.remove || i;
          if (!i)
            throw new DayPilot.Exception(
              'makeDraggable(options): options.element must be specified'
            );
          DayPilot.us(i),
            DayPilot.re(i, 'mousedown', function(e) {
              if (DayPilot.Util.mouseButton(e).left) {
                t();
                var i = e.target || e.srcElement;
                if (i.tagName) {
                  var n = i.tagName.toLowerCase();
                  if ('textarea' === n || 'select' === n || 'input' === n)
                    return !1;
                }
                return e.preventDefault && e.preventDefault(), !1;
              }
            }),
            (i.ontouchstart = function(e) {
              window.setTimeout(function() {
                t(), n.gTouchMove(e), e.preventDefault();
              }, 0),
                e.preventDefault();
            });
        }),
        (DayPilot.Scheduler.stopDragging = function() {
          if (n.drag && n.drag.schedulerSourceEvent) {
            var e = n.drag.schedulerSourceEvent,
              t = e.event.calendar;
            DayPilot.Util.removeClass(e, t.r(i.Wl.eventMovingSource));
          }
          if (
            (n.dragStop(),
            n.resizing &&
              (DayPilot.de(n.resizingShadow),
              (n.resizing = null),
              (n.resizingEvent = null),
              (n.resizingShadow = null)),
            n.moving)
          ) {
            var i = n.movingEvent.calendar;
            DayPilot.Util.removeClass(n.moving, i.r(i.Wl.eventMovingSource)),
              DayPilot.de(n.movingShadow),
              (n.moving = null),
              (n.movingEvent = null),
              (n.movingShadow = null);
          }
          if (n.range) {
            var i = n.range.calendar;
            i.clearSelection(), (n.range = null);
          }
          (document.body.style.cursor = ''),
            DayPilot.list(n.registered).each(function(e) {
              e.vl(), e._j(), e.Ai.resetMoving();
            });
        }),
        (n.dragStop = function() {
          n.gShadow &&
            (document.body.removeChild(n.gShadow), (n.gShadow = null)),
            (n.drag = null);
        }),
        (n.register = function(e) {
          n.registered ||
            ((n.registered = DayPilot.list()),
            (n.registered.out = function() {
              n.registered.forEach(function(e) {
                e.Z();
              });
            }));
          for (var t = 0; t < n.registered.length; t++)
            if (n.registered[t] === e) return;
          n.registered.push(e);
        }),
        (n.unregister = function(e) {
          var t = n.registered;
          if (t) {
            var i = DayPilot.indexOf(t, e);
            i !== -1 && t.splice(i, 1), 0 === t.length && (t = null);
          }
          t ||
            (DayPilot.ue(document, 'mousemove', n.gMouseMove),
            DayPilot.ue(document, 'mouseup', n.gMouseUp),
            DayPilot.ue(document, 'mousedown', n.gMouseDown),
            DayPilot.ue(document, 'touchmove', n.gTouchMove),
            DayPilot.ue(document, 'touchend', n.gTouchEnd),
            DayPilot.ue(window, 'keyup', n.gKeyUp),
            (n.globalHandlers = !1));
        }),
        (n.gTouchMove = function(i) {
          if (n.resizing) {
            var a = n.resizing.event.calendar;
            (a.coords = a.jc.relativeCoords(i)),
              a.jc.updateResizing(),
              i.preventDefault();
          }
          if (n.moving && !n.drag) {
            var a = n.movingEvent.calendar;
            (a.coords = a.jc.relativeCoords(i)),
              a.jc.updateMoving(),
              i.preventDefault(),
              (function() {
                if (a.dragOutAllowed) {
                  var t = e(i);
                  if (!t || t !== a) {
                    var o = n.movingEvent;
                    n.drag = {};
                    var r = n.drag;
                    (r.id = o.id()),
                      (r.text = o.text()),
                      (r.schedulerSourceEvent = n.moving),
                      (r.element = null),
                      (r.duration =
                        (o.rawend().getTime() - o.start().getTime()) / 1e3),
                      (r.text = o.text()),
                      (r.id = o.id()),
                      (r.event = DayPilot.Util.copyProps(
                        o,
                        new DayPilot.Event()
                      )),
                      a._j(),
                      DayPilot.de(n.movingShadow),
                      (n.movingShadow.calendar = null),
                      (n.movingShadow = null),
                      (n.moveDragStart = null),
                      n.registered.out();
                  }
                }
              })();
          }
          if (n.drag) {
            i.preventDefault();
            var o = t(i),
              a = e(i);
            if (a) {
              if (
                (n.gShadow && document.body.removeChild(n.gShadow),
                (n.gShadow = null),
                (a.coords = a.jc.relativeCoords(i)),
                !n.movingShadow && a.rowlist.length > 0)
              ) {
                if (!n.moving) {
                  n.moving = {};
                  var r = n.drag.event;
                  if (!r) {
                    var l = a.itline[0].start,
                      i = {
                        id: n.drag.id,
                        start: l,
                        end: l.addSeconds(n.drag.duration),
                        text: n.drag.text
                      },
                      s = n.drag.data;
                    if (s) {
                      var d = ['duration', 'element', 'remove', 'id', 'text'];
                      for (var c in s) DayPilot.contains(d, c) || (i[c] = s[c]);
                    }
                    (r = new DayPilot.Event(i)),
                      (r.calendar = a),
                      (r.part.duration = 1e3 * n.drag.duration);
                  }
                  r.part.external = !0;
                  var h = n.drag.schedulerSourceEvent;
                  h &&
                    h.event &&
                    h.event.calendar === a &&
                    (r.part.external = !1),
                    (n.movingEvent = r);
                }
                n.movingShadow = a.Ca(n.movingEvent);
              }
              n.moving && a.jc.updateMoving();
            } else {
              DayPilot.de(n.movingShadow);
              var u = n.moving;
              (n.moving = null),
                (n.movingEvent = null),
                (n.movingShadow = null),
                n.gShadow ||
                  ((n.gShadow = n.createGShadow(n.drag.data)),
                  (n.gShadow.source = u));
              var f = n.gShadow;
              (f.style.left = o.x + 'px'),
                (f.style.top = o.y + 'px'),
                n.registered.out();
            }
          }
        }),
        (n.gTouchEnd = function(e) {
          n.gMouseUp(e);
        }),
        (n.gMouseMove = function(e) {
          if (
            'undefined' != typeof n &&
            !(
              DayPilot.Global.touch.active ||
              DayPilot.Global.touch.start ||
              ((e = e || window.event),
              e.insideMainD || (e.srcElement && e.srcElement.inside))
            )
          ) {
            var t = DayPilot.mc(e);
            if (n.drag) {
              if (!n.drag.startFired) {
                var i = n.drag.data || {},
                  a = i.onDragStart,
                  o = !1;
                if ('function' == typeof a) {
                  var r = {};
                  (r.data = i),
                    (r.preventDefault = function() {
                      r.preventDefault.value = !0;
                    }),
                    a(r),
                    (o = r.preventDefault.value);
                }
                if (((n.drag.startFired = !0), o)) return void (n.drag = null);
              }
              (document.body.style.cursor = 'move'),
                n.gShadow || (n.gShadow = n.createGShadow(n.drag.data));
              var l = n.gShadow;
              if (
                ((l.style.left = t.x + 'px'),
                (l.style.top = t.y + 'px'),
                (n.moving = null),
                (n.movingEvent = null),
                n.movingShadow)
              ) {
                var s = n.movingShadow.calendar;
                s && s._j(),
                  (n.movingShadow.calendar = null),
                  DayPilot.de(n.movingShadow),
                  (n.movingShadow = null);
              }
            } else if (
              n.moving &&
              n.movingEvent &&
              n.movingEvent.calendar.dragOutAllowed &&
              !n.drag
            ) {
              var s = n.movingEvent.calendar,
                e = n.movingEvent;
              (document.body.style.cursor = 'move'),
                n.gShadow ||
                  ((n.gShadow = n.createGShadow(e.data)),
                  (n.gShadow.source = n.moving));
              var l = n.gShadow;
              (l.style.left = t.x + 'px'),
                (l.style.top = t.y + 'px'),
                (n.drag = {});
              var d = n.drag;
              (d.schedulerSourceEvent = n.moving),
                (d.element = null),
                (d.duration =
                  (e.rawend().getTime() - e.start().getTime()) / 1e3),
                (d.text = e.text()),
                (d.id = e.value()),
                (d.event = DayPilot.Util.copyProps(e, new DayPilot.Event())),
                s._j(),
                DayPilot.de(n.movingShadow),
                (n.movingShadow.calendar = null),
                (n.movingShadow = null);
            }
            n.registered.out();
          }
        }),
        (n.gUnload = function(e) {
          if (n.registered)
            for (var t = 0; t < n.registered.length; t++) {
              var i = n.registered[t];
              n.unregister(i);
            }
        }),
        (n.gMouseDown = function(e) {
          n.editing && n.editing.blur();
        }),
        (n.gKeyUp = function(e) {
          var e = e || window.event;
          17 === e.keyCode && n.rangeCalendar && n.rangeCalendar.vm.dispatch();
        }),
        (n.gMouseUp = function(e) {
          if (
            (DayPilot.list(n.registered).each(function(e) {
              e.vl();
            }),
            n.resizing)
          ) {
            var t = function() {
              var e = n.resizingEvent,
                t = e.calendar;
              (document.body.style.cursor = ''),
                (n.resizing = null),
                (n.resizingEvent = null),
                DayPilot.de(n.resizingShadow),
                (n.resizingShadow = null),
                t.Am(),
                t && (t.dm = null);
            };
            if (
              (setTimeout(function() {
                n.preventEventClick = !1;
              }),
              !n.resizingShadow)
            )
              return void t();
            var i = n.resizingEvent,
              o = i.calendar,
              r = n.resizingShadow.finalStart,
              d = n.resizingShadow.finalEnd,
              c = n.resizingShadow.overlapping,
              h = !n.resizingShadow.allowed;
            o._j(), o.Rj.clear();
            var u = 'left' === n.resizing.dpBorder ? 'start' : 'end';
            if ((t(), c || h)) return;
            o.ab(i, r, d, u);
          } else if (n.movingEvent) {
            var t = function() {
              DayPilot.Global.movingAreaData = null;
              var e = n.movingShadow && n.movingShadow.calendar;
              n.movingShadow &&
                (DayPilot.de(n.movingShadow), (n.movingShadow.calendar = null)),
                (document.body.style.cursor = ''),
                (n.moving = null),
                (n.movingEvent = null),
                (n.drag = null),
                e.Am(),
                e && (e.bd = null);
            };
            if (!n.movingShadow) return void t();
            var i = n.movingEvent,
              o = n.movingShadow.calendar;
            if (!o) return void t();
            if (i.calendar !== o) {
              var f = i.calendar,
                v = i,
                p = DayPilot.Util.copyProps(i.data);
              (i = new DayPilot.Event(p, o)),
                (i.part = { external: !0, duration: f.vj(v) });
            }
            if (
              (DayPilot.Util.removeClass(n.moving, o.r(o.Wl.eventMovingSource)),
              (function() {
                if (n.drag && n.drag.schedulerSourceEvent) {
                  var e = n.drag.schedulerSourceEvent;
                  if (e && e.event) {
                    var t = e.event.calendar;
                    DayPilot.Util.removeClass(e, t.r(o.Wl.eventMovingSource));
                  }
                }
              })(),
              !n.movingShadow.row)
            )
              return void t();
            clearTimeout(o.Cj.timeout);
            var r = n.movingShadow.start,
              d = n.movingShadow.end,
              g = 'Days' !== o.viewType ? n.movingShadow.row.id : null,
              m = i.part.external,
              y = n.movingShadow.line,
              c = n.movingShadow.overlapping,
              h = !n.movingShadow.allowed;
            if (
              (n.drag &&
                (o.todo || (o.todo = {}),
                (o.todo.del = n.drag.element),
                (n.drag = null)),
              (n.movingShadow.calendar = null),
              (document.body.style.cursor = ''),
              (n.moving = null),
              (n.movingEvent = null),
              c || h || o.Vj.forbidden || o.Vj.invalid)
            )
              return void o.li();
            var e = e || window.event;
            o.db(i, r, d, g, m, e, y), (DayPilot.Global.movingAreaData = null);
          } else if (n.range) {
            e = e || window.event;
            var b = DayPilot.Util.mouseButton(e),
              w = n.range,
              o = w.calendar,
              t = function() {
                o.Am();
              };
            o.tm = null;
            var D = e.ctrlKey || e.metaKey;
            if (o.allowMultiRange)
              return (
                o.elements.range2.overlapping
                  ? (DayPilot.de(o.elements.range2),
                    (o.elements.range2 = null),
                    o._j())
                  : o.vm.add(w),
                (n.range = null),
                D || o.vm.dispatch(),
                void t()
              );
            if (n.timeRangeTimeout)
              return (
                clearTimeout(n.timeRangeTimeout),
                (n.timeRangeTimeout = null),
                void t()
              );
            (o.rangeHold = w), (n.range = null);
            var k = function(e) {
                return function() {
                  n.timeRangeTimeout = null;
                  var t = o.elements.range2;
                  return t && t.overlapping
                    ? void o.clearSelection()
                    : (o.mi(e),
                      void ('Hold' !== o.timeRangeSelectedHandling &&
                      'HoldForever' !== o.timeRangeSelectedHandling
                        ? a()
                        : (o.rangeHold = e)));
                };
              },
              P = o.um(w);
            if ((t(), !b.left)) return void (n.timeRangeTimeout = null);
            if (w.moved || 'Disabled' === o.timeRangeDoubleClickHandling) {
              k(P)();
              var e = e || window.event;
              return (e.cancelBubble = !0), !1;
            }
            n.timeRangeTimeout = setTimeout(k(P), o.doubleClickTimeout);
          } else if (l.row) {
            var o = l.calendar;
            o && o.Mk();
          } else if (s.source) {
            var o = s.calendar;
            o.Vi.clearShadow(),
              o.Vi.hideLinkpoints(),
              (s.source = null),
              (s.calendar = null);
          } else if (n.splitting) {
            var x = n.splitting;
            x.cleanup(), (n.splitting = null);
          } else if (n.rectangleSelect) {
            var C = n.rectangleSelect,
              o = C.calendar;
            if (!C.moved)
              return (
                (n.rectangleSelect = null), void (o.bm(o.coords) || o.wm(e))
              );
            var S = C.x,
              E = C.y,
              A = C.width,
              T = C.height,
              M = !1,
              H = o.eh.eventsInRectangle(S, E, A, T).map(function(e) {
                return e.event;
              });
            if ('function' == typeof o.onRectangleEventSelect) {
              var _ = o.Ni(E).i,
                R = o.Ni(E + T).i,
                B = { start: { y: _ }, end: { y: R } },
                N = o.Ji(B),
                U = {};
              if (
                ((U.events = H),
                (U.append = !1),
                (U.start = o.getDate(S, !0)),
                (U.end = o.getDate(S + A, !0)),
                (U.resources = N),
                (U.preventDefault = function() {
                  this.preventDefault.value = !0;
                }),
                o.onRectangleEventSelect(U),
                U.preventDefault.value)
              )
                return o.mm.clear(), void (n.rectangleSelect = null);
              M = U.append;
            }
            if (
              (M || o.multiselect.clear(!0),
              H.each(function(e) {
                o.multiselect.add(e, !0);
              }),
              o.multiselect.redraw(),
              setTimeout(function() {
                o.mm.clear(), (n.rectangleSelect = null);
              }, 0),
              'function' == typeof o.onRectangleEventSelected)
            ) {
              var U = {};
              (U.events = H), o.onRectangleEventSelected(U);
            }
          }
          if (
            (n.drag &&
              (n.drag.event &&
                n.drag.event.part &&
                delete n.drag.event.part.external,
              (n.drag = null),
              (document.body.style.cursor = '')),
            n.gShadow)
          ) {
            if (n.gShadow.source) {
              var o = n.gShadow.source.event.calendar;
              DayPilot.Util.removeClass(
                n.gShadow.source,
                o.r(o.Wl.eventMovingSource)
              );
            }
            document.body.removeChild(n.gShadow), (n.gShadow = null);
          }
          (n.moveOffsetX = null), (n.moveDragStart = null);
        }),
        (n.createGShadow = function(e) {
          var e = e || {},
            t = document.createElement('div');
          return (
            t.setAttribute('unselectable', 'on'),
            (t.style.position = 'absolute'),
            (t.style.width = '100px'),
            (t.style.height = '20px'),
            (t.style.zIndex = 101),
            (t.style.pointerEvents = 'none'),
            (t.style.backgroundColor = '#aaaaaa'),
            (t.style.opacity = 0.5),
            (t.style.filter = 'alpha(opacity=50)'),
            (t.className = e.externalCssClass),
            e.externalHtml && (t.innerHTML = e.externalHtml),
            document.body.appendChild(t),
            t
          );
        });
      var l = {};
      DayPilot.Global.rowmoving = l;
      var s = {};
      (DayPilot.Global.linking = s),
        'undefined' != typeof jQuery &&
          !(function(e) {
            e.fn.daypilotScheduler = function(e) {
              var t = null,
                i = this.each(function() {
                  if (!this.daypilot) {
                    var i = new DayPilot.Scheduler(this.id || this, e);
                    i.init(), (this.daypilot = i), t || (t = i);
                  }
                });
              return 1 === this.length ? t : i;
            };
          })(jQuery),
        (function() {
          var e = DayPilot.am();
          e &&
            e.directive('daypilotScheduler', [
              '$parse',
              function(e) {
                return {
                  restrict: 'E',
                  template: "<div id='{{id}}'></div>",
                  compile: function(t, i) {
                    return (
                      t[0].removeAttribute('id'),
                      (t[0].innerHTML = this['template'].replace(
                        '{{id}}',
                        i['id']
                      )),
                      function(t, i, n) {
                        var a = new DayPilot.Scheduler(i[0].firstChild);
                        a.Hd.scope = t;
                        var o = n['id'];
                        o && (t[o] = a);
                        var r = n['publishAs'];
                        if (r) {
                          (0, e(r).assign)(t, a);
                        }
                        for (var l in n)
                          if (0 === l.indexOf('on')) {
                            var s = DayPilot.Util.shouldApply(l);
                            s
                              ? !(function(i) {
                                  a[i] = function(a) {
                                    var o = e(n[i]);
                                    DayPilot.Util.safeApply(t, function() {
                                      o(t, { args: a });
                                    });
                                  };
                                })(l)
                              : !(function(i) {
                                  a[i] = function(a) {
                                    e(n[i])(t, { args: a });
                                  };
                                })(l);
                          }
                        var d = t['$watch'],
                          c = n['config'] || n['daypilotConfig'],
                          h = n['events'] || n['daypilotEvents'];
                        c || a.init(),
                          d.call(
                            t,
                            c,
                            function(e, t) {
                              a.Md(e), a.G ? (a.update(), a.Vd()) : a.init();
                            },
                            !0
                          ),
                          h &&
                            d.call(
                              t,
                              h,
                              function(e) {
                                (a.events.list = e), a.Yb({ eventsOnly: !0 });
                              },
                              !0
                            ),
                          t.$on('$destroy', function() {
                            a.dispose();
                          });
                      }
                    );
                  }
                };
              }
            ]);
        })(),
        'undefined' != typeof Sys &&
          Sys.Application &&
          Sys.Application.notifyScriptLoaded &&
          Sys.Application.notifyScriptLoaded();
    }
  })(),
  'undefined' == typeof DayPilot)
)
  var DayPilot = {};
'undefined' == typeof DayPilot.Global && (DayPilot.Global = {}),
  (function() {
    'undefined' == typeof DayPilot.Year &&
      (DayPilot.Year = function(e, t) {
        this.v = '2019.3.3913';
        (this.startDate = new DayPilot.Date()),
          (this.cssOnly = !0),
          (this.cssClassPrefix = null),
          (this.columns = 4),
          (this.cellWidth = 20),
          (this.showWeekNumbers = !1),
          (this.in = []),
          (this.Mf = function() {
            (this.root.dp = this),
              (this.Ge = new DayPilot.Date(
                this.startDate.toString('yyyy-01-01', 'en-us')
              ));
          }),
          (this.r = function(e) {
            return this.cssClassPrefix ? this.cssClassPrefix + e : '';
          }),
          (this.Nf = function() {
            return this.showWeekNumbers ? this.cellWidth : 0;
          }),
          (this.jn = function() {
            this.in = [];
            var e = this.columns,
              t = 12 / e;
            (this.root.className = this.r('_main')),
              (this.root.style.width =
                e * (7 * this.cellWidth + this.Nf()) + 'px');
            for (var i = 0; i < t; i++) {
              for (var n = 0; n < e; n++) {
                var a = i * e + n,
                  o = o + '_nav_' + a,
                  r = document.createElement('div');
                (r.id = o), (r.style.float = 'left'), this.root.appendChild(r);
                var l = new DayPilot.Navigator(o);
                (l.startDate = this.Ge.addMonths(a)),
                  (l.cssOnly = this.cssOnly),
                  (l.cssClassPrefix = this.cssClassPrefix),
                  (l.cellWidth = this.cellWidth),
                  (l.showWeekNumbers = this.showWeekNumbers),
                  (l.internal.showLinks = {}),
                  (l.selectMode = 'none'),
                  (l.timeRangeSelectedHandling = 'JavaScript'),
                  (l.onTimeRangeSelected = this.kn),
                  l.init(),
                  (l.root.className = ''),
                  this.in.push(l);
              }
              var s = document.createElement('div');
              (s.style.clear = 'left'), this.root.appendChild(s);
            }
          }),
          (this.kn = function(e) {
            alert('clicked: ' + e.day);
          }),
          (this.init = function() {
            if (((this.root = document.getElementById(e)), !this.root.dp))
              return this.Mf(), this.jn(), this;
          });
      });
  })();
