/**
 @license
 DayPilot Pro
 Copyright (c) 2005 - 2017 Annpoint s.r.o.
 http://www.daypilot.org/
 Use of this software is subject to license terms.
 Version: 2607
 */
if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
}; (function() {
    if (typeof DayPilot.$ !== 'undefined') {
        return;
    };
    DayPilot.$ = function(id) {
        return document.getElementById(id);
    };
    DayPilot.isKhtml = (navigator && navigator.userAgent && navigator.userAgent.indexOf("KHTML") !== -1);
    DayPilot.isIE = (navigator && navigator.userAgent && (navigator.userAgent.indexOf("MSIE") !== -1 || navigator.userAgent.indexOf("Trident") !== -1));
    DayPilot.isIEQuirks = DayPilot.isIE && (document.compatMode && document.compatMode === "BackCompat");
    DayPilot.browser = {};
    DayPilot.browser.ie8 = (function() {
        var $a = document.createElement("div");
        $a.innerHTML = "<!--[if IE 8]><i></i><![endif]-->";
        var $b = ($a.getElementsByTagName("i").length === 1);
        return $b;
    })();
    DayPilot.browser.ie9 = (function() {
        var $a = document.createElement("div");
        $a.innerHTML = "<!--[if IE 9]><i></i><![endif]-->";
        var $b = ($a.getElementsByTagName("i").length === 1);
        return $b;
    })();
    DayPilot.browser.ielt9 = (function() {
        var $a = document.createElement("div");
        $a.innerHTML = "<!--[if lt IE 9]><i></i><![endif]-->";
        var $b = ($a.getElementsByTagName("i").length === 1);
        return $b;
    })();
    DayPilot.browser.ff = (navigator && navigator.userAgent && navigator.userAgent.indexOf("Firefox") !== -1);
    DayPilot.browser.chrome = (navigator && navigator.userAgent && navigator.userAgent.indexOf("Chrome") !== -1);
    DayPilot.browser.ie = DayPilot.isIE;
    DayPilot.libs = {};
    DayPilot.libs.angularjs = typeof $c === "object";
    DayPilot.touch = {};
    DayPilot.touch.start = window.navigator.msPointerEnabled ? "MSPointerDown": "touchstart";
    DayPilot.touch.move = window.navigator.msPointerEnabled ? "MSPointerMove": "touchmove";
    DayPilot.touch.end = window.navigator.msPointerEnabled ? "MSPointerUp": "touchend";
    DayPilot.mo2 = function($d, ev) {
        ev = ev || window.event;
        if (typeof(ev.offsetX) !== 'undefined') {
            var $e = {
                x: ev.offsetX + 1,
                y: ev.offsetY + 1
            };
            if (!$d) {
                return $e;
            };
            var $f = ev.srcElement;
            while ($f && $f !== $d) {
                if ($f.tagName !== 'SPAN') {
                    $e.x += $f.offsetLeft;
                    if ($f.offsetTop > 0) {
                        $e.y += $f.offsetTop - $f.scrollTop;
                    }
                };
                $f = $f.offsetParent;
            };
            if ($f) {
                return $e;
            };
            return null;
        };
        if (typeof(ev.layerX) !== 'undefined') {
            var $e = {
                x: ev.layerX,
                y: ev.layerY,
                $g: ev.target
            };
            if (!$d) {
                return $e;
            };
            var $f = ev.target;
            while ($f && $f.style.position !== 'absolute' && $f.style.position !== 'relative') {
                $f = $f.parentNode;
                if (DayPilot.isKhtml) {
                    $e.y += $f.scrollTop;
                }
            }
            while ($f && $f !== $d) {
                $e.x += $f.offsetLeft;
                $e.y += $f.offsetTop - $f.scrollTop;
                $f = $f.offsetParent;
            };
            if ($f) {
                return $e;
            };
            return null;
        };
        return null;
    };
    DayPilot.mo3 = function($d, ev) {
        ev = ev || window.event;
        var $e;
        var $h = DayPilot.page(ev);
        if ($h) {
            var $i = DayPilot.abs($d);
            $e = {
                x: $h.x - $i.x,
                y: $h.y - $i.y
            };
        } else {
            $e = DayPilot.mo2($d, ev);
        };
        $e.shift = ev.shiftKey;
        $e.meta = ev.metaKey;
        $e.ctrl = ev.ctrlKey;
        $e.alt = ev.altKey;
        return $e;
    };
    DayPilot.mc = function(ev) {
        if (ev.pageX || ev.pageY) {
            return {
                x: ev.pageX,
                y: ev.pageY
            };
        };
        return {
            x: ev.clientX + document.documentElement.scrollLeft,
            y: ev.clientY + document.documentElement.scrollTop
        };
    };
    DayPilot.Stats = {};
    DayPilot.Stats.eventObjects = 0;
    DayPilot.Stats.dateObjects = 0;
    DayPilot.Stats.cacheHitsCtor = 0;
    DayPilot.Stats.cacheHitsParsing = 0;
    DayPilot.Stats.cacheHitsTicks = 0;
    DayPilot.Stats.print = function() {
        console.log("DayPilot.Stats.eventObjects: " + DayPilot.Stats.eventObjects);
        console.log("DayPilot.Stats.dateObjects: " + DayPilot.Stats.dateObjects);
        console.log("DayPilot.Stats.cacheHitsCtor: " + DayPilot.Stats.cacheHitsCtor);
        console.log("DayPilot.Stats.cacheHitsParsing: " + DayPilot.Stats.cacheHitsParsing);
        console.log("DayPilot.Stats.cacheHitsTicks: " + DayPilot.Stats.cacheHitsTicks);
        console.log("DayPilot.Date.Cache.Ctor keys: " + Object.keys(DayPilot.Date.Cache.Ctor).length);
        console.log("DayPilot.Date.Cache.Parsing keys: " + Object.keys(DayPilot.Date.Cache.Parsing).length);
    };
    DayPilot.list = function($j, $k) {
        if ($j && $j.isDayPilotList && !$k) {
            return $j;
        };
        var $l = DayPilot.isArray($j) || Object.prototype.toString.call($j) === "[object NodeList]";
        var $m = !$l && !DayPilot.Util.isNullOrUndefined($j);
        var $n = [];
        $n.isDayPilotList = true;
        $n.clone = function() {
            var $b = DayPilot.list();
            $n.each(function($o) {
                $b.push($o);
            });
            return $b;
        };
        $n.each = function(f) {
            if (!f) {
                return;
            };
            if ($n.forEach) {
                $n.forEach(f);
                return;
            };
            for (var i = 0; i < this.length; i++) {
                f($n[i], i, $n);
            }
        };
        $n.addProps = function($p) {
            var $b = $n.clone();
            if ($p) {
                for (var name in $p) {
                    $b[name] = $p[name];
                }
            };
            return $b;
        };
        $n.last = function() {
            if ($n.length === 0) {
                return null;
            };
            return $n[$n.length - 1];
        };
        $n.first = function() {
            if ($n.length === 0) {
                return null;
            };
            return $n[0];
        };
        $n.add = function($o) {
            var $b = $n.clone();
            $b.push($o);
            return $b;
        };
        $n.map = function(f) {
            if (typeof f !== "function") {
                throw "DayPilot.list().map(f): Function expected";
            };
            var $b = DayPilot.list();
            $n.each(function($o, i, $j) {
                $b.push(f($o, i, $j));
            });
            return $b;
        };
        $n.filter = function(f) {
            var $b = DayPilot.list();
            if (typeof f !== "function") {
                throw "DayPilot.list().filter(f): Function expected";
            };
            $n.each(function($o) {
                if (f($o)) {
                    $b.push($o);
                }
            });
            return $b;
        };
        $n.concat = function($q) {
            if (!$q) {
                return $n;
            };
            var $b = $n.clone();
            for (var i = 0; i < $q.length; i++) {
                $b.push($q[i]);
            };
            return $b;
        };
        if (!$n.find) {
            $n.find = function(f) {
                if (typeof f !== "function") {
                    throw "DayPilot.list().find(f): Function expected";
                };
                for (var i = 0; i < this.length; i++) {
                    if (f($n[i])) {
                        return $n[i];
                    }
                };
                return undefined;
            };
        };
        if (!$n.findIndex) {
            $n.findIndex = function(f) {
                if (typeof f !== "function") {
                    throw "DayPilot.list().findIndex(f): Function expected";
                };
                for (var i = 0; i < this.length; i++) {
                    if (f($n[i])) {
                        return i;
                    }
                };
                return - 1;
            };
        };
        if (!$n.some) {
            $n.some = function(f) {
                if (typeof f !== "function") {
                    throw "DayPilot.list().some(f): Function expected";
                };
                for (var i = 0; i < this.length; i++) {
                    if (f($n[i])) {
                        return true;
                    }
                };
                return false;
            };
        };
        if (!$n.reduce) {
            $n.reduce = function(f, $r) {
                if (typeof f !== "function") {
                    throw "DayPilot.list().reduce(f): Function expected";
                };
                var $b;
                var $s = 0;
                if (typeof $r !== 'undefined') {
                    $b = $r;
                } else {
                    $s = 1;
                    if ($n.length === 0) {
                        throw "DayPilot.list().reduce(f): No initial value and empty list";
                    };
                    $b = $n[0];
                };
                for (var i = $s; i < this.length; i++) {
                    $b = f($b, $n[i], i, this);
                };
                return $b;
            };
        };
        $n.isEmpty = function() {
            return $n.length === 0;
        };
        if ($l) {
            for (var i = 0; i < $j.length; i++) {
                $n[i] = $j[i];
            }
        } else if ($m) {
            $n[0] = $j;
        };
        return $n;
    };
    DayPilot.line = function(x1, y1, x2, y2, $t) {
        var $u = {
            x: x1,
            y: y1
        };
        var $d = {
            x: x2,
            y: y2,
            "deg": DayPilot.deg(x1, y1, x2, y2)
        };
        if (y1 < y2) {
            var $v = y1;
            y1 = y2;
            y2 = $v;
            $v = x1;
            x1 = x2;
            x2 = $v;
        };
        var $w = DayPilot.deg(x1, y1, x2, y2);
        var $x = (function() {
            var a = Math.abs(x1 - x2);
            var b = Math.abs(y1 - y2);
            return Math.sqrt(a * a + b * b);
        })();
        var x = (function() {
            var a = Math.abs(x1 - x2);
            var b = Math.abs(y1 - y2);
            var sx = (x1 + x2) / 2;
            var sy = (y1 + y2) / 2;
            var $x = Math.sqrt(a * a + b * b);
            return sx - $x / 2;
        })();
        var y = (function() {
            return (y1 + y2) / 2;
        })();
        var $a = document.createElement("div");
        $a.setAttribute('style', 'border:1px solid black;width:' + $x + 'px;height:0px;-moz-transform:rotate(' + $w + 'deg);-webkit-transform:rotate(' + $w + 'deg);-ms-transform:rotate(' + $w + 'deg);transform:rotate(' + $w + 'deg);position:absolute;top:' + y + 'px;left:' + x + 'px;');
        var $y = document.createElement("div");
        $y.appendChild($a);
        if ($t) {
            var $x = 6;
            var top = $d.y - $x;
            var $z = $d.x - $x;;
            var $w = $w;
            if ($d.y > $u.y) {
                $w -= 180;
            };
            var a = document.createElement("div");
            a.style.borderColor = "transparent black transparent transparent";
            a.style.borderWidth = $x + "px";
            a.style.borderStyle = "solid";
            a.style.position = "absolute";
            a.style.left = $z + "px";
            a.style.top = top + "px";
            a.style.transform = "rotate(" + $w + "deg)";
            $y.appendChild(a);
        };
        return $y;
    };
    DayPilot.deg = function(x1, y1, x2, y2) {
        var a = Math.abs(x1 - x2);
        var b = Math.abs(y1 - y2);
        var c;
        var sx = (x1 + x2) / 2;
        var sy = (y1 + y2) / 2;
        var $x = Math.sqrt(a * a + b * b);
        var x = sx - $x / 2;
        var y = sy;
        a = $x / 2;
        c = Math.abs(sx - x);
        b = Math.sqrt(Math.abs(x1 - x) * Math.abs(x1 - x) + Math.abs(y1 - y) * Math.abs(y1 - y));
        var $A = (b * b - a * a - c * c) / (2 * a * c);
        var $B = Math.acos($A);
        var $w = ($B * 180) / Math.PI;
        return $w;
    };
    DayPilot.complete = function(f) {
        if (document.readyState === "complete") {
            f();
            return;
        };
        if (!DayPilot.complete.list) {
            DayPilot.complete.list = [];
            DayPilot.re(document, "readystatechange",
                function() {
                    if (document.readyState === "complete") {
                        for (var i = 0; i < DayPilot.complete.list.length; i++) {
                            var d = DayPilot.complete.list[i];
                            d();
                        };
                        DayPilot.complete.list = [];
                    }
                });
        };
        DayPilot.complete.list.push(f);
    };
    DayPilot.page = function(ev) {
        ev = ev || window.event;
        if (typeof ev.pageX !== 'undefined') {
            return {
                x: ev.pageX,
                y: ev.pageY
            };
        };
        if (typeof ev.clientX !== 'undefined') {
            return {
                x: ev.clientX + document.body.scrollLeft + document.documentElement.scrollLeft,
                y: ev.clientY + document.body.scrollTop + document.documentElement.scrollTop
            };
        };
        return null;
    };
    DayPilot.rel = function(element, $C) {
        var $D = DayPilot.abs(element);
        var $E = DayPilot.abs($C);
        return {
            "x": $D.x - $E.x,
            "y": $D.y - $E.y,
            "w": element.offsetWidth,
            "h": element.offsetHeight
        };
    };
    DayPilot.abs = function(element, $F) {
        if (!element) {
            return null;
        };
        var r = {
            x: element.offsetLeft,
            y: element.offsetTop,
            w: element.clientWidth,
            h: element.clientHeight,
            toString: function() {
                return "x:" + this.x + " y:" + this.y + " w:" + this.w + " h:" + this.h;
            }
        };
        if (element.getBoundingClientRect) {
            var b = null;
            try {
                b = element.getBoundingClientRect();
            } catch(e) {
                b = {
                    top: element.offsetTop,
                    $z: element.offsetLeft
                };
            };
            r.x = b.left;
            r.y = b.top;
            var d = DayPilot.doc();
            r.x -= d.clientLeft || 0;
            r.y -= d.clientTop || 0;
            var $G = DayPilot.pageOffset();
            r.x += $G.x;
            r.y += $G.y;
            if ($F) {
                var $H = DayPilot.absOffsetBased(element, false);
                var $F = DayPilot.absOffsetBased(element, true);
                r.x += $F.x - $H.x;
                r.y += $F.y - $H.y;
                r.w = $F.w;
                r.h = $F.h;
            };
            return r;
        } else {
            return DayPilot.absOffsetBased(element, $F);
        }
    };
    DayPilot.isArray = function(o) {
        return Object.prototype.toString.call(o) === '[object Array]';
    };
    DayPilot.absOffsetBased = function(element, $F) {
        var r = {
            x: element.offsetLeft,
            y: element.offsetTop,
            w: element.clientWidth,
            h: element.clientHeight,
            toString: function() {
                return "x:" + this.x + " y:" + this.y + " w:" + this.w + " h:" + this.h;
            }
        };
        while (DayPilot.op(element)) {
            element = DayPilot.op(element);
            r.x -= element.scrollLeft;
            r.y -= element.scrollTop;
            if ($F) {
                if (r.x < 0) {
                    r.w += r.x;
                    r.x = 0;
                };
                if (r.y < 0) {
                    r.h += r.y;
                    r.y = 0;
                };
                if (element.scrollLeft > 0 && r.x + r.w > element.clientWidth) {
                    r.w -= r.x + r.w - element.clientWidth;
                };
                if (element.scrollTop && r.y + r.h > element.clientHeight) {
                    r.h -= r.y + r.h - element.clientHeight;
                }
            };
            r.x += element.offsetLeft;
            r.y += element.offsetTop;
        };
        var $G = DayPilot.pageOffset();
        r.x += $G.x;
        r.y += $G.y;
        return r;
    };
    DayPilot.wd = function() {
        var $I = DayPilot.isIEQuirks;
        var $J = document.documentElement.clientHeight;
        if ($I) {
            $J = document.body.clientHeight;
        };
        var $K = document.documentElement.clientWidth;
        if ($I) {
            $K = document.body.clientWidth;
        };
        var $L = (document.documentElement && document.documentElement.scrollTop) || document.body.scrollTop;
        var $M = (document.documentElement && document.documentElement.scrollLeft) || document.body.scrollLeft;
        var $b = {};
        $b.width = $K;
        $b.height = $J;
        $b.scrollTop = $L;
        $b.scrollLeft = $M;
        return $b;
    };
    DayPilot.op = function(element) {
        try {
            return element.offsetParent;
        } catch(e) {
            return document.body;
        }
    };
    DayPilot.distance = function($N, $O) {
        return Math.sqrt(Math.pow($N.x - $O.x, 2) + Math.pow($N.y - $O.y, 2));
    };
    DayPilot.doc = function() {
        var de = document.documentElement;
        return (de && de.clientHeight) ? de: document.body;
    };
    DayPilot.pageOffset = function() {
        if (typeof pageXOffset !== 'undefined') {
            return {
                x: pageXOffset,
                y: pageYOffset
            };
        };
        var d = DayPilot.doc();
        return {
            x: d.scrollLeft,
            y: d.scrollTop
        };
    };
    DayPilot.ac = function(e, $P) {
        if (!$P) {
            var $P = [];
        };
        for (var i = 0; e.children && i < e.children.length; i++) {
            $P.push(e.children[i]);
            DayPilot.ac(e.children[i], $P);
        };
        return $P;
    };
    DayPilot.indexOf = function($j, $Q, $R) {
        if (!$j || !$j.length) {
            return - 1;
        };
        for (var i = 0; i < $j.length; i++) {
            if ($R) {
                if ($R($j[i], $Q)) {
                    return i;
                }
            } else if ($j[i] === $Q) {
                return i;
            }
        };
        return - 1;
    };
    DayPilot.contains = function($j, $Q) {
        if (!$j) {
            return false;
        };
        if ($j === $Q && !DayPilot.isArray($j)) {
            return true;
        };
        return DayPilot.indexOf($j, $Q) !== -1;
    };
    DayPilot.rfa = function($j, $Q) {
        var i = DayPilot.indexOf($j, $Q);
        if (i === -1) {
            return;
        };
        $j.splice(i, 1);
    };
    DayPilot.sheet = function() {
        var style = document.createElement("style");
        style.setAttribute("type", "text/css");
        if (!style.styleSheet) {
            style.appendChild(document.createTextNode(""));
        };
        var h = document.head || document.getElementsByTagName('head')[0];
        h.appendChild(style);
        var $S = !!style.styleSheet;
        var $T = {};
        $T.rules = [];
        $T.commit = function() {
            try {
                if ($S) {
                    style.styleSheet.cssText = this.rules.join("\n");
                }
            } catch(e) {}
        };
        $T.add = function($U, $V, $W) {
            if ($S) {
                this.rules.push($U + "{" + $V + "\u007d");
                return;
            };
            if (style.sheet.insertRule) {
                if (typeof $W === "undefined") {
                    $W = style.sheet.cssRules.length;
                };
                style.sheet.insertRule($U + "{" + $V + "\u007d", $W);
            } else if (style.sheet.addRule) {
                style.sheet.addRule($U, $V, $W);
            } else {
                throw "No CSS registration method found";
            }
        };
        return $T;
    };
    DayPilot.Args = function($X) {
        var $Y = this;
        this.preventDefault = function() {
            if ($X) {
                $X.preventDefault();
            };
            $Y.preventDefault.value = true;
        };
    };
    DayPilot.Debug = function($Z) {
        var debug = this;
        this.printToBrowserConsole = false;
        this.enabled = false;
        this.messages = [];
        this.$49 = null;
        this.clear = function() {
            this.messages = [];
            if (debug.$49) {
                debug.$49.innerHTML = '';
            }
        };
        this.hide = function() {
            DayPilot.de(debug.$49);
            debug.$49 = null;
        };
        this.show = function() {
            if (debug.$49) {
                debug.hide();
            };
            var $C = $Z.nav.top;
            var $a = document.createElement("div");
            $a.style.position = "absolute";
            $a.style.top = "0px";
            $a.style.bottom = "0px";
            $a.style.left = "0px";
            $a.style.right = "0px";
            $a.style.backgroundColor = "black";
            $a.style.color = "#ccc";
            $a.style.overflow = "auto";
            $a.style.webkitUserSelect = 'auto';
            $a.style.MozUserSelect = 'all';
            $a.onclick = function() {
                debug.hide();
            };
            for (var i = 0; i < this.messages.length; i++) {
                var $00 = debug.messages[i];
                var $01 = $00.$4a();
                $a.appendChild($01);
            };
            this.$49 = $a;
            $C.appendChild($a);
        };
        this.message = function($02, $03) {
            if (!this.enabled) {
                return;
            };
            var $00 = {};
            $00.time = new DayPilot.Date();
            $00.level = $03 || "debug";
            $00.text = $02;
            $00.$4a = function() {
                var $01 = document.createElement("div");
                $01.innerHTML = $00.time + " (" + $00.level + "): " + $00.text;
                switch ($00.level) {
                    case "error":
                        $01.style.color = "red";
                        break;
                    case "warning":
                        $01.style.color = "orange";
                        break;
                    case "info":
                        $01.style.color = "white";
                        break;
                    case "debug":
                        break;
                };
                return $01;
            };
            this.messages.push($00);
            if (this.printToBrowserConsole && typeof console !== 'undefined') {
                console.log($00);
            }
        };
    };
    DayPilot.re = function(el, ev, $04) {
        if (!$04) {
            return;
        };
        if (!el) {
            return;
        };
        if (el.addEventListener) {
            el.addEventListener(ev, $04, false);
        } else if (el.attachEvent) {
            var f = function(ev) {
                $04.call(el, ev);
            };
            el.attachEvent("on" + ev, f);
        }
    };
    DayPilot.ue = function(el, ev, $04) {
        if (el.removeEventListener) {
            el.removeEventListener(ev, $04, false);
        } else if (el.detachEvent) {
            el.detachEvent("on" + ev, $04);
        }
    };
    DayPilot.tr = function($05) {
        if (!$05) return '';
        if (typeof $05 === "string") {
            return $05.replace(/^\s+|\s+$/g, "");
        };
        return $05;
    };
    DayPilot.ds = function(d) {
        return DayPilot.Date.toStringSortable(d);
    };
    DayPilot.gs = function(el, $06) {
        var x = el;
        if (x.currentStyle) var y = x.currentStyle[$06];
        else if (window.getComputedStyle) var y = document.defaultView.getComputedStyle(x, null).getPropertyValue($06);
        if (typeof(y) === 'undefined') y = '';
        return y;
    };
    DayPilot.StyleReader = function(element) {
        function capitalizeFirstLetter($07) {
            return $07.charAt(0).toUpperCase() + $07.slice(1);
        };
        this.get = function($08) {
            var $09 = DayPilot.list($08.split("-"));
            var $0a = $09.reduce(function($0b, $f, i) {
                $f = capitalizeFirstLetter($f);
                return $0b + $f;
            });
            if (!element) {
                return null;
            };
            return DayPilot.gs(element, $0a) || DayPilot.gs(element, $08);
        }
    };
    DayPilot.he = function(str) {
        var $b = str.replace(/&/g, "&amp;");
        $b = $b.replace(/</g, "&lt;");
        $b = $b.replace(/>/g, "&gt;");
        $b = $b.replace(/"/g, "&quot;");
        return $b;
    };
    DayPilot.he2 = function(str) {
        var $02 = document.createTextNode(str);
        var $a = document.createElement("div");
        $a.appendChild($02);
        return $a.innerHTML;
    };
    DayPilot.us = function(element) {
        if (element) {
            element.setAttribute("unselectable", "on");
            element.style.userSelect = 'none';
            element.style.MozUserSelect = 'none';
            element.style.KhtmlUserSelect = 'none';
            element.style.webkitUserSelect = 'none';
            for (var i = 0; i < element.childNodes.length; i++) {
                if (element.childNodes[i].nodeType === 1) {
                    DayPilot.us(element.childNodes[i]);
                }
            }
        }
    };
    DayPilot.pu = function(d) {
        var a = d.attributes,
            i, l, n;
        if (a) {
            l = a.length;
            for (i = 0; i < l; i += 1) {
                if (!a[i]) {
                    continue;
                };
                n = a[i].name;
                if (typeof d[n] === 'function') {
                    d[n] = null;
                }
            }
        };
        a = d.childNodes;
        if (a) {
            l = a.length;
            for (i = 0; i < l; i += 1) {
                var $P = DayPilot.pu(d.childNodes[i]);
            }
        }
    };
    DayPilot.puc = function(d) {
        var a = d.childNodes,
            i, l;
        if (a) {
            var l = a.length;
            for (i = 0; i < l; i += 1) {
                DayPilot.pu(d.childNodes[i]);
            }
        }
    };
    DayPilot.de = function(e) {
        if (!e) {
            return;
        };
        if (DayPilot.isArray(e)) {
            for (var i = 0; i < e.length; i++) {
                DayPilot.de(e[i]);
            };
            return;
        };
        e.parentNode && e.parentNode.removeChild(e);
    };
    DayPilot.fade = function(element, $0c, end) {
        if (!element) {
            return;
        };
        clearTimeout(element.messageTimeout);
        var $0d = 50;
        var $F = element.style.display !== 'none';
        var $0e = $0c > 0;
        var $0f = $0c < 0;
        if ($0c === 0) {
            return;
        };
        if ($0e) {
            element.status = "in";
        } else if ($0f) {
            element.status = "out";
        };
        if ($0e && !$F) {
            element.target = parseFloat(element.style.opacity);
            element.opacity = 0;
            element.style.opacity = 0;
            element.style.filter = "alpha(opacity=0)";
            element.style.display = '';
        } else if ($0f && !element.target) {
            element.target = element.style.opacity;
        } else {
            var $f = element.opacity;
            var $0g = Math.floor(10 * ($f + $0c)) / 10;
            if ($0e && $0g > element.target) {
                $0g = element.target;
            };
            if ($0f && $0g < 0) {
                $0g = 0;
            };
            var ie = $0g * 100;
            element.opacity = $0g;
            element.style.opacity = $0g;
            element.style.filter = "alpha(opacity=" + ie + ")";
        };
        if (($0e && (element.opacity >= element.target || element.opacity >= 1)) || ($0f && element.opacity <= 0)) {
            element.target = null;
            if ($0f) {
                element.style.opacity = element.target;
                element.opacity = element.target;
                var $0h = element.target ? "alpha(opacity=" + (element.target * 100) + ")": null;
                element.style.filter = $0h;
                element.style.display = 'none';
            };
            if (end && typeof end === 'function') {
                element.status = null;
                end();
            }
        } else {
            element.messageTimeout = setTimeout(function() {
                    DayPilot.fade(element, $0c, end);
                },
                $0d);
        }
    };
    DayPilot.sw = function(element) {
        if (!element) {
            return 0;
        };
        return element.offsetWidth - element.clientWidth;
    };
    DayPilot.swa = function() {
        var $a = document.createElement("div");
        $a.style.position = "absolute";
        $a.style.top = "-2000px";
        $a.style.left = "-2000px";
        $a.style.width = '200px';
        $a.style.height = '100px';
        $a.style.overflow = 'auto';
        var $0i = document.createElement("div");
        $0i.style.width = '300px';
        $0i.style.height = '300px';
        $a.appendChild($0i);
        document.body.appendChild($a);
        var sw = DayPilot.sw($a);
        document.body.removeChild($a);
        return sw;
    };
    DayPilot.sh = function(element) {
        if (!element) {
            return 0;
        };
        return element.offsetHeight - element.clientHeight;
    };
    DayPilot.guid = function() {
        var S4 = function() {
            return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);
        };
        return ("" + S4() + S4() + "-" + S4() + "-" + S4() + "-" + S4() + "-" + S4() + S4() + S4());
    };
    DayPilot.ua = function($j) {
        if (typeof $j === "string" || typeof $j === "number") {
            return [$j];
        };
        var u = {},
            a = [];
        for (var i = 0,
                 l = $j.length; i < l; ++i) {
            if ($j[i] in u) {
                continue;
            };
            a.push($j[i]);
            u[$j[i]] = 1;
        };
        return a;
    };
    DayPilot.am = function() {
        if (typeof angular === "undefined") {
            return null;
        };
        if (!DayPilot.am.cached) {
            DayPilot.am.cached = angular.module("daypilot", []);
        };
        return DayPilot.am.cached;
    }; (function() {
        DayPilot.pop = wave;
        function wave($a, $0j) {
            var $d = {
                w: $a.offsetWidth,
                h: $a.offsetHeight,
                x: parseInt($a.style.left),
                y: parseInt($a.style.top)
            };
            $d.height = $a.style.height;
            $d.width = $a.style.width;
            $d.top = $a.style.top;
            $d.left = $a.style.left;
            $d.toString = function() {
                return "w: " + this.w + " h:" + this.h;
            };
            var $0k = {};
            $0k.finished = null;
            $0k.vertical = 'center';
            $0k.horizontal = 'center';
            if ($0j) {
                for (var name in $0j) {
                    $0k[name] = $0j[name];
                }
            };
            $a.style.visibility = 'hidden';
            $a.style.display = '';
            var $0l = $0j.animation || "fast";
            var $0m = createPlan($0l);
            $0m.div = $a;
            $0m.i = 0;
            $0m.target = $d;
            $0m.config = $0k;
            doStep($0m);
        };
        function createPlan($0n) {
            var $0o = function() {
                var $0m = [];
                $0m.time = 10;
                var $0p;
                var $0c = 0.08;
                $0p = 0.1;
                for (var i = $0p; i < 1.2; i += $0c) {
                    $0m.push(i);
                    $0p = i;
                };
                $0c = 0.03;
                for (var i = $0p; i > 0.8; i -= $0c) {
                    $0m.push(i);
                    $0p = i;
                };
                for (var i = $0p; i <= 1; i += $0c) {
                    $0m.push(i);
                    $0p = i;
                };
                return $0m;
            };
            var $0q = function() {
                var $0m = [];
                $0m.time = 10;
                var $0p;
                var $0c = 0.04;
                $0p = 0.1;
                for (var i = $0p; i <= 1; i += $0c) {
                    $0m.push(i);
                    $0p = i;
                };
                return $0m;
            };
            var $0r = function() {
                var $0m = [];
                $0m.time = 10;
                var $0p;
                var $0c = 0.08;
                $0p = 0.1;
                for (var i = $0p; i <= 1; i += $0c) {
                    $0m.push(i);
                    $0p = i;
                };
                return $0m;
            };
            var $0s = {
                "fast": $0r,
                "slow": $0q,
                "jump": $0o
            };
            if (!$0s[$0n]) {
                $0n = "fast";
            };
            return $0s[$0n]();
        };
        function doStep($0m) {
            var $a = $0m.div;
            var $0t = $0m[$0m.i];
            var $0u = $0t * $0m.target.h;
            var top;
            switch ($0m.config.vertical) {
                case "center":
                    top = $0m.target.y - ($0u - $0m.target.h) / 2;
                    break;
                case "top":
                    top = $0m.target.y;
                    break;
                case "bottom":
                    top = $0m.target.y - ($0u - $0m.target.h);
                    break;
                default:
                    throw "Unexpected 'vertical' value.";
            };
            var $x = $0t * $0m.target.w;
            var $z;
            switch ($0m.config.horizontal) {
                case "left":
                    $z = $0m.target.x;
                    break;
                case "center":
                    $z = $0m.target.x - ($x - $0m.target.w) / 2;
                    break;
                case "right":
                    $z = $0m.target.x - ($x - $0m.target.w);
                    break;
                default:
                    throw "Unexpected 'horizontal' value.";
            };
            var wd = DayPilot.wd();
            var $0v = (wd.height + wd.scrollTop) - (top + $0u);
            if ($0v < 0) {
                top += $0v;
            };
            var $0w = (wd.width) - ($z + $x);
            if ($0w < 0) {
                $z += $0w;
            };
            $a.style.height = $0u + "px";
            $a.style.top = top + "px";
            $a.style.width = $x + "px";
            $a.style.left = $z + "px";
            $a.style.visibility = 'visible';
            $0m.i++;
            if ($0m.i < $0m.length - 1) {
                setTimeout((function($0m) {
                    return function() {
                        doStep($0m);
                    };
                })($0m), $0m.time);
            } else {
                $a.style.width = $0m.target.width;
                $a.style.height = $0m.target.height;
                $a.style.top = $0m.target.top;
                $a.style.left = $0m.target.left;
                if (typeof $0m.config.finished === 'function') {
                    $0m.config.finished();
                }
            }
        }
    })();
    DayPilot.Util = {};
    DayPilot.Util.addClass = function($Q, name) {
        if (!name) {
            return;
        };
        if (!$Q) {
            return;
        };
        if (DayPilot.isArray($Q)) {
            for (var i = 0; i < $Q.length; i++) {
                DayPilot.Util.addClass($Q[i], name);
            };
            return;
        };
        if (!$Q.className) {
            $Q.className = name;
            return;
        };
        var $0x = new RegExp("(^|\\s)" + name + "($|\\s)");
        if (!$0x.test($Q.className)) {
            $Q.className = $Q.className + ' ' + name;
        }
    };
    DayPilot.Util.normalizeColor = function($0y) {
        if ($0y.indexOf("rgb") === 0) {
            return rgbToHex($0y);
        };
        return $0y;
        function rgbToHex(a) {
            a = a.replace(/[^\d,]/g, "").split(",");
            return "#" + ((1 << 24) + ( + a[0] << 16) + ( + a[1] << 8) + ( + a[2])).toString(16).slice(1);
        }
    };
    DayPilot.Util.addClassToString = function(str, name) {
        if (!str) {
            return name;
        };
        var $0x = new RegExp("(^|\\s)" + name + "($|\\s)");
        if (!$0x.test(str)) {
            return str + ' ' + name;
        } else {
            return str;
        }
    };
    DayPilot.Util.removeClassFromString = function(str, name) {
        if (!str) {
            return "";
        };
        var $0x = new RegExp("(^|\\s)" + name + "($|\\s)");
        return str.replace($0x, ' ').replace(/^\s\s*/, '').replace(/\s\s*$/, '');
    };
    DayPilot.Util.removeClass = function($Q, name) {
        if (!$Q) {
            return;
        };
        if (DayPilot.isArray($Q)) {
            for (var i = 0; i < $Q.length; i++) {
                DayPilot.Util.removeClass($Q[i], name);
            };
            return;
        };
        var $0x = new RegExp("(^|\\s)" + name + "($|\\s)");
        $Q.className = $Q.className.replace($0x, ' ').replace(/^\s\s*/, '').replace(/\s\s*$/, '');
    };
    DayPilot.Util.props = function(o) {
        var t = [];
        for (var a in o) {
            t.push(a);
            t.push(o[a]);
        };
        return t.join("-");
    };
    DayPilot.Util.propArray = function($0z, name, $0A) {
        return DayPilot.list($0z).map(function($o) {
            return $o[name] ? $o[name] : $0A;
        });
    };
    DayPilot.Util.updatePropsFromArray = function($0z, name, $j) {
        for (var i = 0; i < $j.length; i++) {
            $0z[i][name] = $j[i];
        }
    };
    DayPilot.Util.copyProps = function($u, $d, $0z) {
        if (!$u) {
            return;
        };
        if (typeof $0z === 'undefined') {
            for (var name in $u) {
                if (typeof $u[name] !== 'undefined') {
                    $d[name] = $u[name];
                }
            }
        } else {
            for (var i = 0; i < $0z.length; i++) {
                var name = $0z[i];
                if (typeof $u[name] !== 'undefined') {
                    $d[name] = $u[name];
                }
            }
        }
    };
    DayPilot.Util.firstPropValue = function($Q) {
        for (var name in $Q) {
            return $Q[name];
        }
    };
    DayPilot.Util.createArrayCopy = function($u, $0B) {
        if (!DayPilot.isArray($u)) {
            return [];
        };
        var $n = [];
        for (var i = 0; i < $u.length; i++) {
            var $o = {};
            DayPilot.Util.copyProps($u[i], $o, $0B);
            $n.push($o);
        };
        return $n;
    };
    DayPilot.Util.avg = function(a, b) {
        return (a + b) / 2;
    };
    DayPilot.Util.div = function(parent, $z, top, $x, $0u) {
        var $a = document.createElement("div");
        if ($z || top || $x || $0u) {
            if ($x < 0) {
                $z += $x;
                $x *= -1;
            };
            if ($0u < 0) {
                top += $0u;
                $0u *= -1;
            };
            $a.style.position = "absolute";
            if (typeof $z === "number") {
                $a.style.left = $z + "px";
            } else if (typeof $z === "string") {
                $a.style.left = $z;
            };
            if (typeof top === "number") {
                $a.style.top = top + "px";
            } else if (typeof top === "string") {
                $a.style.top = top;
            };
            if (typeof $x === "number") {
                $a.style.width = $x + "px";
            } else if (typeof $x === "string") {
                $a.style.width = $x;
            };
            if (typeof $0u === "number") {
                $a.style.height = $0u + "px";
            } else if (typeof $0u === "string") {
                $a.style.height = $0u;
            }
        };
        if (parent) {
            parent.appendChild($a);
        };
        return $a;
    };
    DayPilot.Util.overlaps = function($0C, $0D, $0E, $0F) {
        return ! ($0D <= $0E || $0C >= $0F);
    };
    DayPilot.Util.isMouseEvent = function(ev) {
        if (!navigator.msPointerEnabled) {
            return false;
        };
        if (!ev.pointerType) {
            return false;
        };
        if (ev.pointerType === "mouse") {
            return true;
        };
        if (ev.pointerType === 4) {
            return true;
        };
        return false;
    };
    DayPilot.Util.mouseButton = function(ev) {
        var $b = {};
        ev = ev || window.event;
        if (typeof ev.which === 'undefined') {
            switch (ev.button) {
                case 1:
                    $b.left = true;
                    break;
                case 4:
                    $b.middle = true;
                    break;
                case 2:
                    $b.right = true;
                    break;
                case 0:
                    $b.unknown = true;
                    break;
            }
        } else {
            switch (ev.which) {
                case 1:
                    $b.left = true;
                    break;
                case 2:
                    $b.middle = true;
                    break;
                case 3:
                    $b.right = true;
                    break;
            }
        };
        return $b;
    };
    DayPilot.Util.membersPlain = function($0G) {
        var $0H = DayPilot.Util.members($0G, 2);
        var $0I = function($j) {
            for (var i = 0; i < $j.length; i++) {
                var $o = $j[i];
                var name = $o.name;
                if ($o.obsolete) {
                    name += " (obsolete)";
                };
                if ($o.noCssOnly) {
                    name += " (!cssOnly)";
                };
                if ($o.aspnet) {
                    name += " (ASP.NET)";
                };
                if ($o.mvc) {
                    name += "(MVC)";
                };
                $j[i] = name;
            }
        };
        $0I($0H.events);
        $0I($0H.methods);
        $0I($0H.properties);
        return $0H;
    };
    DayPilot.Util.shouldApply = function(name) {
        if (!name) {
            return false;
        };
        var $0J = name.toLowerCase();
        if ($0J.indexOf("before") >= 0) {
            return false;
        };
        if ($0J.indexOf("after") >= 0) {
            return false;
        };
        return true;
    };
    DayPilot.Util.safeApply = function($0K, f) {
        var $0L = $0K["$root"]["$$phase"];
        if ($0L === "$apply" || $0L === "$digest") {
            $0K["$eval"](f);
        } else {
            $0K["$apply"](f);
        }
    };
    DayPilot.Util.members = function($0G, $0M) {
        var $0N = DayPilot.list();
        var $0O = DayPilot.list();
        var $0P = DayPilot.list();
        var $0Q = ($0G && $0G.members) ? $0G.members.obsolete: [];
        var $0R = ($0G && $0G.members) ? $0G.members.noCssOnly: [];
        var $0S = ($0G && $0G.members) ? $0G.members.ignore: [];
        var $0T = ($0G && $0G.members && $0G.members.ignoreFilter) ? $0G.members.ignoreFilter: function() {
                return false;
            };
        for (var name in $0G) {
            if (name.indexOf("$") === 0) {
                continue;
            };
            if (name.indexOf("_") === 0) {
                continue;
            };
            if (name.indexOf("number") === 0) {
                continue;
            };
            if (name.indexOf("is") === 0) {
                continue;
            };
            if (name === "v") {
                continue;
            };
            if (DayPilot.contains($0S, name)) {
                continue;
            };
            if ($0T(name)) {
                continue;
            };
            if (name.indexOf("on") === 0) {
                $0N.push(name);
                continue;
            };
            if (typeof $0G[name] === 'function') {
                $0O.push(name);
                continue;
            };
            if (typeof $0G[name] === 'object') {
                var o = $0G[name];
                if ($0M === 0) {
                    $0P.push(name);
                    continue;
                };
                if (o && o.nodeType > 0) {
                    $0P.push(name);
                    continue;
                };
                if (o instanceof DayPilot.Bubble) {
                    $0P.push(name);
                    continue;
                };
                if (o instanceof DayPilot.Date) {
                    $0P.push(name);
                    continue;
                };
                if (o instanceof DayPilot.Menu) {
                    $0P.push(name);
                    continue;
                };
                if (o instanceof DayPilot.Scheduler) {
                    $0P.push(name);
                    continue;
                };
                if (DayPilot.isArray(o)) {
                    $0P.push(name);
                    continue;
                };
                if (o === null) {
                    $0P.push(name);
                };
                var ml = null;
                if (typeof $0M === "number") {
                    ml = $0M - 1;
                };
                var $0H = DayPilot.Util.members(o, ml);
                for (var i = 0; i < $0H.events.length; i++) {
                    $0N.push(name + "." + $0H.events[i].name);
                };
                for (var i = 0; i < $0H.methods.length; i++) {
                    $0O.push(name + "." + $0H.methods[i].name);
                };
                for (var i = 0; i < $0H.properties.length; i++) {
                    $0P.push(name + "." + $0H.properties[i].name);
                };
                continue;
            };
            $0P.push(name);
        };
        $0N.sort();
        $0O.sort();
        $0P.sort();
        var $0I = function($j) {
            for (var i = 0; i < $j.length; i++) {
                var name = $j[i];
                var $o = {};
                $o.name = name;
                $j[i] = $o;
                if (DayPilot.contains($0Q, name)) {
                    $o.obsolete = true;
                };
                if (DayPilot.contains($0R, name)) {
                    $o.noCssOnly = true;
                };
                if (name.indexOf("CallBack") !== -1) {
                    $o.aspnet = true;
                    $o.mvc = true;
                };
                if (name.indexOf("PostBack") !== -1) {
                    $o.aspnet = true;
                };
                if (name.indexOf("Notify") !== -1) {
                    $o.aspnet = true;
                    $o.mvc = true;
                }
            }
        };
        $0I($0N);
        $0I($0O);
        $0I($0P);
        return {
            "events": $0N,
            "methods": $0O,
            "properties": $0P
        };
    };
    DayPilot.Util.replaceCharAt = function(str, $W, $0U) {
        return str.substr(0, $W) + $0U + str.substr($W + $0U.length);
    };
    DayPilot.Util.evalVariable = function(str, $0V) {
        $0V = $0V || ['object'];
        if (str === null || typeof str === 'undefined') {
            return null;
        };
        if (DayPilot.indexOf($0V, typeof str) !== -1) {
            return str;
        };
        if (typeof str !== "string") {
            throw "Unable to resolve a variable name (not a string).";
        };
        if (!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(str)) {
            throw "Invalid variable name: " + str;
        };
        return eval(str);
    };
    DayPilot.Util.evalFunction = function(str) {
        if (str === null) {
            return null;
        };
        if (typeof str === "function") {
            return str;
        };
        if (typeof str !== "string") {
            throw "Unable to resolve a function (not a string).";
        };
        if (!/^\(?function/.test(str)) {
            throw "Invalid function string";
        };
        return eval("(" + str + ")");
    };
    DayPilot.Util.parseJSON = function(str) {
        if (JSON && JSON.parse) {
            return JSON.parse(str);
        } else {
            return DayPilot.JSON.parse(str);
        }
    };
    DayPilot.Util.isNullOrUndefined = function($0W) {
        return $0W === null || typeof $0W === "undefined";
    };
    DayPilot.Util.log = function($0X) {
        window.console && window.console.log && window.console.log($0X);
    };
    DayPilot.Util.adiff = function(a, b, f) {
        var $b = {};
        $b.add = [];
        $b.remove = [];
        return $b;
    };
    DayPilot.Util.workerFrom = function(f) {
        var $02 = f.toString();
        var $0Y = $02.slice($02.indexOf("{") + 1, $02.lastIndexOf("};"));
        var $0Z = new Blob([$0Y]);
        var $10 = window.URL.createObjectURL($0Z);
        return new Worker($10);
    };
    DayPilot.Util.dataUriToBlob = function($11) {
        if (typeof $11 !== "string") {
            throw "DayPilot.Util.dataUriToBlob(): dataURI string expected";
        };
        var $12 = $11.split(",");
        var $13 = $12[0];
        var $0Y = $12[1];
        var $14 = $13.indexOf("base64") !== -1;
        var $15 = $14 ? atob: decodeURI;
        var $16 = $13.split(":")[1].split(";")[0];
        var $17 = $15($0Y);
        var $j = new window.Uint8Array($17.length);
        for (var i = 0; i < $17.length; i++) {
            $j[i] = $17.charCodeAt(i);
        };
        return new Blob([$j], {
            "type": $16
        });
    };
    DayPilot.Util.downloadDataUri = function($11, name) {
        var $0Z = DayPilot.Util.dataUriToBlob($11);
        DayPilot.Util.downloadBlob($0Z, name);
    };
    DayPilot.Util.downloadBlob = function($0Z, name) {
        var name = name || "download";
        if (window.navigator.msSaveBlob) {
            window.navigator.msSaveBlob($0Z, name);
        } else {
            var $18 = window.URL.createObjectURL($0Z);
            var $19 = document.createElement("a");
            $19.download = name;
            $19.href = $18;
            $19.style = "display:none";
            document.body.appendChild($19);
            $19.click();
            setTimeout(function() {
                document.body.removeChild($19);
                window.URL.revokeObjectURL($18);
            });
        }
    };
    DayPilot.Util.monitor = function($0G, name, $1a) {
        var $1b = $0G[name];
        $0G[name] = function() {
            $1a.apply($0G, arguments);
            $1b.apply($0G, arguments);
        };
    };
    DayPilot.Areas = {};
    DayPilot.Areas.attach = function($a, e, $0j) {
        var $0j = $0j || {};
        var $1c = $0j.areas;
        var $0V = $0j.allowed ||
            function() {
                return true;
            };
        var $1d = $0j.offsetX || 0;
        $1c = $1e(e, $1c);
        if (!$1c) {
            return;
        };
        if (!DayPilot.isArray($1c)) {
            return;
        };
        if ($1c.length === 0) {
            return;
        };
        DayPilot.re($a, "mousemove",
            function(ev) {
                if (!$a.active && !$a.areasDisabled && $0V()) {
                    DayPilot.Areas.showAreas($a, e, ev, $1c, {
                        "offsetX": $1d,
                        "eventDiv": $0j.eventDiv
                    });
                }
            });
        DayPilot.re($a, "mouseout",
            function(ev) {
                DayPilot.Areas.hideAreas($a, ev);
            });
        DayPilot.list($1c).each(function($1f) {
            var v = $1f.visibility || $1f.v || "Visible";
            if (v !== "Visible") {
                return;
            };
            var a = DayPilot.Areas.createArea($a, e, $1f, {
                "offsetX": $1d,
                "eventDiv": $0j.eventDiv
            });
            $a.appendChild(a);
        });
    };
    DayPilot.Areas.disable = function($a) {
        $a.areasDisabled = true;
        DayPilot.list($a.childNodes).filter(function($o) {
            return $o.isActiveArea && !$o.area.start;
        }).each(function($o) {
            $o.style.display = "none";
        });
    };
    DayPilot.Areas.enable = function($a) {
        $a.areasDisabled = false;
        DayPilot.list($a.childNodes).filter(function($o) {
            return $o.isActiveArea && !$o.area.start;
        }).each(function($o) {
            $o.style.display = "";
        });
    };
    var $1e = function(e, $1c) {
        if (!DayPilot.isArray($1c)) {
            $1c = e.areas;
            if (!$1c) {
                if (e.cache) {
                    $1c = e.cache.areas;
                } else if (e.data) {
                    $1c = e.data.areas;
                }
            }
        };
        return $1c;
    };
    DayPilot.Areas.showAreas = function($a, e, ev, $1c, $0j) {
        if (DayPilot.Global.resizing) {
            return;
        };
        if (DayPilot.Global.moving) {
            return;
        };
        if (DayPilot.Areas.all && DayPilot.Areas.all.length > 0) {
            for (var i = 0; i < DayPilot.Areas.all.length; i++) {
                var d = DayPilot.Areas.all[i];
                if (d !== $a) {
                    DayPilot.Areas.hideAreas(d, ev);
                }
            }
        };
        if ($a.active) {
            return;
        };
        $a.active = {};
        if (!DayPilot.isArray($1c)) {
            $1c = e.areas;
            if (!$1c) {
                if (e.cache) {
                    $1c = e.cache.areas;
                } else if (e.data) {
                    $1c = e.data.areas;
                }
            }
        };
        if (!$1c || $1c.length === 0) {
            return;
        };
        if ($a.areas && $a.areas.length > 0) {
            return;
        };
        $a.areas = [];
        for (var i = 0; i < $1c.length; i++) {
            var $1f = $1c[i];
            var v = $1f.visibility || $1f.v || "Visible";
            if (v !== 'Hover') {
                continue;
            };
            var a = DayPilot.Areas.createArea($a, e, $1f, $0j);
            $a.areas.push(a);
            $a.appendChild(a);
            DayPilot.Areas.all.push($a);
        };
        $a.active.children = DayPilot.ac($a);
    };
    DayPilot.Areas.createArea = function($a, e, $1f, $0j) {
        var $0j = $0j || {};
        var $1d = $0j.offsetX || 0;
        var $1g = $0j.eventDiv || $a;
        var a = document.createElement("div");
        a.isActiveArea = true;
        a.area = $1f;
        a.setAttribute("unselectable", "on");
        var w = $1f.w || $1f.width;
        var h = $1f.h || $1f.height;
        var $1h = $1f.cssClass || $1f.css || $1f.className;
        if (typeof $1f.style !== "undefined") {
            a.setAttribute("style", $1f.style);
        };
        a.style.position = "absolute";
        if (typeof w !== 'undefined') {
            a.style.width = w + "px";
        };
        if (typeof h !== 'undefined') {
            a.style.height = h + "px";
        };
        if (typeof $1f.right !== 'undefined') {
            a.style.right = $1f.right + "px";
        };
        if (typeof $1f.top !== 'undefined') {
            a.style.top = $1f.top + "px";
        };
        if (typeof $1f.left !== 'undefined') {
            a.style.left = ($1f.left + $1d) + "px";
        };
        if (typeof $1f.bottom !== 'undefined') {
            a.style.bottom = $1f.bottom + "px";
        };
        if (typeof $1f.html !== 'undefined' && $1f.html) {
            a.innerHTML = $1f.html;
        };
        if ($1h) {
            a.className = $1h;
        };
        if ($1f.toolTip) {
            a.setAttribute("title", $1f.toolTip);
        };
        if ($1f.backColor) {
            a.style.background = $1f.backColor;
        };
        if ($1f.background) {
            a.style.background = $1f.background;
        };
        if ($1f.fontColor) {
            a.style.color = $1f.fontColor;
        };
        if ($1f.padding) {
            a.style.padding = $1f.padding + "px";
            a.style.boxSizing = "border-box";
        };
        if ($1f.action === "ResizeEnd" || $1f.action === "ResizeStart" || $1f.action === "Move") {
            if (e.calendar.isCalendar) {
                switch ($1f.action) {
                    case "ResizeEnd":
                        $1f.cursor = "s-resize";
                        $1f.dpBorder = "bottom";
                        break;
                    case "ResizeStart":
                        $1f.cursor = "n-resize";
                        $1f.dpBorder = "top";
                        break;
                    case "Move":
                        $1f.cursor = "move";
                        break;
                }
            };
            if (e.calendar.isScheduler || e.calendar.isMonth) {
                switch ($1f.action) {
                    case "ResizeEnd":
                        $1f.cursor = "e-resize";
                        $1f.dpBorder = "right";
                        break;
                    case "ResizeStart":
                        $1f.cursor = "w-resize";
                        $1f.dpBorder = "left";
                        break;
                    case "Move":
                        $1f.cursor = "move";
                        break;
                }
            };
            a.onmousemove = (function($a, e, $1f) {
                return function(ev) {
                    var ev = ev || window.event;
                    ev.cancelBubble = true;
                    if (e.calendar.internal && e.calendar.internal.dragInProgress && e.calendar.internal.dragInProgress()) {
                        return;
                    };
                    $a.style.cursor = $1f.cursor;
                    if ($1f.dpBorder) {
                        $a.dpBorder = $1f.dpBorder;
                    }
                };
            })($1g, e, $1f);
            a.onmouseout = (function($a, e, $1f) {
                return function(ev) {
                    $a.style.cursor = '';
                };
            })($1g, e, $1f);
        };
        if (($1f.action === "ResizeEnd" || $1f.action === "ResizeStart") && e.isEvent) {
            if (e.calendar.internal.touch) {
                var $1i = (function($a, e, $1f) {
                    return function(ev) {
                        ev.cancelBubble = true;
                        var $1j = e.calendar.internal.touch;
                        var t = ev.touches ? ev.touches[0] : ev;
                        var $e = {
                            x: t.pageX,
                            y: t.pageY
                        };
                        e.calendar.coords = $1j.relativeCoords(ev);
                        $1j.preventEventTap = true;
                        if (e.calendar.isScheduler) {
                            $1j.startResizing($a, $1f.action === "ResizeEnd" ? "right": "left");
                        } else if (e.calendar.isCalendar) {
                            $1j.startResizing($a, $1f.action === "ResizeEnd" ? "bottom": "top", $e);
                        }
                    };
                })($1g, e, $1f);
                DayPilot.re(a, DayPilot.touch.start, $1i);
            }
        };
        if ($1f.action === "ContextMenu" && e.isEvent) {
            if (e.calendar.internal.touch) {
                var $1i = (function($a, e, $1f) {
                    return function(ev) {
                        ev.cancelBubble = true;
                        ev.preventDefault();
                        showContextMenu($a, e, $1f, ev);
                        var $1j = e.calendar.internal.touch;
                        $1j.preventEventTap = true;
                    };
                })($1g, e, $1f);
                var $1k = (function($a, e, $1f) {
                    return function(ev) {
                        ev.cancelBubble = true;
                        ev.preventDefault();
                    };
                })($1g, e, $1f);
                DayPilot.re(a, DayPilot.touch.start, $1i);
                DayPilot.re(a, DayPilot.touch.end, $1k);
            }
        };
        if ($1f.action === "Bubble" && e.isEvent) {
            if (e.calendar.internal.touch) {
                var $1i = (function($a, e, $1f) {
                    return function(ev) {
                        ev.cancelBubble = true;
                        ev.preventDefault();
                        showBubble(e, $1f, ev);
                        var $1j = e.calendar.internal.touch;
                        $1j.preventEventTap = true;
                    };
                })($1g, e, $1f);
                var $1k = (function($a, e, $1f) {
                    return function(ev) {
                        ev.cancelBubble = true;
                        ev.preventDefault();
                    };
                })($1g, e, $1f);
                DayPilot.re(a, DayPilot.touch.start, $1i);
                DayPilot.re(a, DayPilot.touch.end, $1k);
            }
        };
        if ($1f.action === "Move" && e.isEvent) {
            if (e.calendar.internal.touch) {
                var $1i = (function($a, e, $1f) {
                    return function(ev) {
                        ev.cancelBubble = true;
                        var $1j = e.calendar.internal.touch;
                        var t = ev.touches ? ev.touches[0] : ev;
                        var $e = {
                            x: t.pageX,
                            y: t.pageY
                        };
                        e.calendar.coords = $1j.relativeCoords(ev);
                        $1j.preventEventTap = true;
                        $1j.startMoving($a, $e);
                    };
                })($1g, e, $1f);
                DayPilot.re(a, DayPilot.touch.start, $1i);
            }
        };
        if ($1f.action === "Move" && e.isRow) {
            if (e.calendar.internal.touch) {}
        };
        if ($1f.action === "Bubble" && e.isEvent) {
            a.onmousemove = (function($a, e, $1f) {
                return function(ev) {
                    if (e.calendar.bubble) {
                        e.calendar.bubble.showEvent(e, true);
                    }
                };
            })($a, e, $1f);
            a.onmouseout = (function($a, e, $1f) {
                return function(ev) {
                    if (typeof DayPilot.Bubble !== "undefined") {
                        if (e.calendar.bubble) {
                            e.calendar.bubble.hideOnMouseOut();
                        }
                    }
                };
            })($a, e, $1f);
        };
        if ($1f.action === "HoverMenu") {
            a.onmousemove = (function($a, e, $1f) {
                return function(ev) {
                    var m = $1f.menu;
                    if (typeof m === 'string') {
                        m = DayPilot.Util.evalVariable(m);
                    };
                    if (m && m.show) {
                        if (!m.visible) {
                            m.show(e);
                        } else if (m.source && typeof m.source.id !== 'undefined' && m.source.id !== e.id) {
                            m.show(e);
                        };
                        m.cancelHideTimeout();
                    }
                };
            })($a, e, $1f);
            a.onmouseout = (function($a, e, $1f) {
                return function(ev) {
                    var m = $1f.menu;
                    if (typeof m === 'string') {
                        m = DayPilot.Util.evalVariable(m);
                    };
                    if (!m) {
                        return;
                    };
                    if (m.hideOnMouseOver) {
                        m.delayedHide();
                    }
                };
            })($a, e, $1f);
        };
        if ($1f.action === "JavaScript") {
            var $1i = (function($a, e, $1f) {
                return function(ev) {
                    if (DayPilot.Util.isMouseEvent(ev)) {
                        return;
                    };
                    ev.cancelBubble = true;
                    ev.preventDefault();
                    var $1j = e.calendar.internal.touch;
                    $1j.start = true;
                };
            })($1g, e, $1f);
            var $1k = (function($a, e, $1f) {
                return function(ev) {
                    if (DayPilot.Util.isMouseEvent(ev)) {
                        return;
                    };
                    ev.cancelBubble = true;
                    ev.preventDefault();
                    var $1j = e.calendar.internal.touch;
                    $1j.start = false;
                    var f = $1f.js;
                    if (typeof f === 'string') {
                        f = DayPilot.Util.evalFunction($1f.js);
                    };
                    if (typeof f === 'function') {
                        var $d = $1f.target || e;
                        f.call(this, $d);
                    }
                };
            })($1g, e, $1f);
            DayPilot.re(a, DayPilot.touch.start, $1i);
            DayPilot.re(a, DayPilot.touch.end, $1k);
        };
        a.onmousedown = (function($a, e, $1f) {
            return function(ev) {
                if (typeof $1f.onmousedown === 'function') {
                    $1f.onmousedown(ev);
                };
                if (typeof $1f.mousedown === 'function') {
                    var $Y = {};
                    $Y.area = $1f;
                    $Y.div = $a;
                    $Y.originalEvent = ev;
                    $Y.source = e;
                    $1f.mousedown($Y);
                };
                if ($1f.action === "Move" && e.isRow) {
                    var $1l = e.$.row;
                    var $1m = e.calendar.internal.rowtools;
                    $1m.startMoving($1l);
                };
                var $1n = true;
                if ($1n) {
                    if ($1f.action === "Move" || $1f.action === "ResizeEnd" || $1f.action === "ResizeStart" || !$1f.action) {
                        return;
                    };
                    ev = ev || window.event;
                    ev.preventDefault();
                    ev.cancelBubble = true;
                }
            };
        })($a, e, $1f);
        a.onclick = (function($a, e, $1f) {
            return function(ev) {
                var ev = ev || window.event;
                if (!$1f.action) {
                    return;
                };
                switch ($1f.action) {
                    case "JavaScript":
                        var f = $1f.js;
                        if (typeof f === 'string') {
                            f = DayPilot.Util.evalFunction($1f.js);
                        };
                        if (typeof f === 'function') {
                            var $d = $1f.target || e;
                            f.call(this, $d);
                        };
                        break;
                    case "ContextMenu":
                        showContextMenu($a, e, $1f, ev);
                        break;
                    case "CallBack":
                        alert("callback not implemented yet, id: " + $1f.id);
                        break;
                };
                ev.cancelBubble = true;
            };
        })($a, e, $1f);
        function showBubble(e, $1f, ev) {
            if (DayPilot.Bubble) {
                DayPilot.Bubble.touchPosition(ev);
            };
            if (e.calendar.bubble) {
                e.calendar.bubble.showEvent(e, true);
            }
        };
        function showContextMenu($a, e, $1f, ev) {
            if (DayPilot.Menu) {
                DayPilot.Menu.touchPosition(ev);
            };
            var m = $1f.menu;
            if (typeof m === 'string') {
                m = DayPilot.Util.evalVariable(m);
            } else if (e.isEvent && e.calendar.contextMenu) {
                m = DayPilot.Util.evalVariable(e.calendar.contextMenu);
            } else if (e.isRow && e.calendar.contextMenu) {
                m = DayPilot.Util.evalVariable(e.calendar.contextMenuResource);
            };
            if (m && m.show) {
                var $1o = {
                    "type": "area",
                    "div": $a,
                    "e": e,
                    "area": $1f
                };
                m.show(e, {
                    "initiator": $1o
                });
            }
        };
        return a;
    };
    DayPilot.Areas.all = [];
    DayPilot.Areas.hideAreas = function($a, ev) {
        if (!$a) {
            return;
        };
        if (!$a || !$a.active) {
            return;
        };
        var $1p = $a.active;
        var $1c = $a.areas;
        if ($1p && $1p.children) {
            var ev = ev || window.event;
            if (ev) {
                var $d = ev.toElement || ev.relatedTarget;
                if (~DayPilot.indexOf($1p.children, $d)) {
                    return;
                }
            }
        };
        if (!$1c || $1c.length === 0) {
            $a.active = null;
            return;
        };
        DayPilot.de($1c);
        $a.active = null;
        $a.areas = [];
        DayPilot.rfa(DayPilot.Areas.all, $a);
        $1p.children = null;
    };
    DayPilot.Areas.hideAll = function(ev) {
        if (!DayPilot.Areas.all || DayPilot.Areas.all.length === 0) {
            return;
        };
        for (var i = 0; i < DayPilot.Areas.all.length; i++) {
            DayPilot.Areas.hideAreas(DayPilot.Areas.all[i], ev);
        }
    };
    DayPilot.Action = function($Z, name, $1q, $1r) {
        var $1s = this;
        this.calendar = $Z;
        this.isAction = true;
        this.action = name;
        this.params = $1q;
        this.data = $1r;
        this.notify = function() {
            $1s.calendar.internal.invokeEvent("Immediate", this.action, this.params, this.data);
        };
        this.auto = function() {
            $1s.calendar.internal.invokeEvent("Notify", this.action, this.params, this.data);
        };
        this.queue = function() {
            $1s.calendar.queue.add(this);
        };
        this.toJSON = function() {
            var $1t = {};
            $1t.name = this.action;
            $1t.params = this.params;
            $1t.data = this.data;
            return $1t;
        };
    };
    DayPilot.Selection = function($s, end, $1u, $1v) {
        this.menuType = 'selection';
        this.start = new DayPilot.Date($s);
        this.end = new DayPilot.Date(end);
        this.resource = $1u;
        this.root = $1v;
        this.calendar = $1v;
        this.toJSON = function($1w) {
            var $1t = {};
            $1t.start = this.start;
            $1t.end = this.end;
            $1t.resource = this.resource;
            return $1t;
        };
    };
    DayPilot.Link = function($1r, $Z) {
        this.isLink = true;
        this.data = $1r;
        this.calendar = $Z;
        this.to = function() {
            return this.data.to;
        };
        this.from = function() {
            return this.data.from;
        };
        this.type = function() {
            return this.data.type;
        };
        this.id = function() {
            return this.data.id;
        };
        this.toJSON = function() {
            var $1t = {};
            $1t.from = this.data.from;
            $1t.to = this.data.to;
            $1t.id = this.data.id;
            $1t.type = this.data.type;
            return $1t;
        };
    };
    DayPilot.Args = function() {
        this.isArgs = true;
        this.preventDefault = function() {
            this.preventDefault.value = true;
        };
    };
    DayPilot.Event = function($1r, $Z, $1x) {
        var e = this;
        this.calendar = $Z;
        this.data = $1r ? $1r: {};
        this.part = $1x ? $1x: {};
        if (typeof this.data.id === 'undefined') {
            this.data.id = this.data.value;
        };
        var $1y = {};
        var $1z = ["id", "text", "start", "end", "resource"];
        this.isEvent = true;
        DayPilot.Stats.eventObjects += 1;
        this.temp = function() {
            if ($1y.dirty) {
                return $1y;
            };
            for (var i = 0; i < $1z.length; i++) {
                $1y[$1z[i]] = e.data[$1z[i]];
            };
            $1y.dirty = true;
            return $1y;
        };
        this.copy = function() {
            var $b = {};
            DayPilot.Util.copyProps(e.data, $b);
            return $b;
        };
        this.commit = function() {
            if (!$1y.dirty) {
                return;
            };
            for (var i = 0; i < $1z.length; i++) {
                e.data[$1z[i]] = $1y[$1z[i]];
            };
            $1y.dirty = false;
        };
        this.dirty = function() {
            return $1y.dirty;
        };
        this.id = function($0W) {
            if (typeof $0W === 'undefined') {
                return e.data.id;
            } else {
                this.temp().id = $0W;
            }
        };
        this.value = function($0W) {
            if (typeof $0W === 'undefined') {
                return e.id();
            } else {
                e.id($0W);
            }
        };
        this.text = function($0W) {
            if (typeof $0W === 'undefined') {
                return e.data.text;
            } else {
                this.temp().text = $0W;
                this.client.innerHTML($0W);
            }
        };
        this.start = function($0W) {
            if (typeof $0W === 'undefined') {
                return new DayPilot.Date(e.data.start);
            } else {
                this.temp().start = new DayPilot.Date($0W);
            }
        };
        this.end = function($0W) {
            if (typeof $0W === 'undefined') {
                if ($Z && $Z.internal.adjustEndNormalize) {
                    return $Z.internal.adjustEndNormalize(new DayPilot.Date(e.data.end));
                };
                return new DayPilot.Date(e.data.end);
            } else {
                this.temp().end = new DayPilot.Date($0W);
            }
        };
        this.duration = function() {
            return new DayPilot.Duration(this.start(), this.end());
        };
        this.rawend = function() {
            if (typeof $0W === 'undefined') {
                if ($Z && $Z.internal.adjustEndIn) {
                    return $Z.internal.adjustEndIn(new DayPilot.Date(e.data.end));
                };
                return new DayPilot.Date(e.data.end);
            } else {
                this.temp().end = new DayPilot.Date($0W);
            }
        };
        this.partStart = function() {
            return new DayPilot.Date(this.part.start);
        };
        this.partEnd = function() {
            return new DayPilot.Date(this.part.end);
        };
        this.row = function() {
            return this.resource();
        };
        this.allday = function() {
            if (typeof $0W === 'undefined') {
                return e.data.allday;
            } else {
                this.temp().allday = $0W;
            }
        };
        this.isAllDay = this.allday;
        this.resource = function($0W) {
            if (typeof $0W === 'undefined') {
                return e.data.resource;
            } else {
                this.temp().resource = $0W;
            }
        };
        this.recurrent = function() {
            return e.data.recurrent;
        };
        this.recurrentMasterId = function() {
            return e.data.recurrentMasterId;
        };
        this.useBox = function() {
            return this.part.box;
        };
        this.staticBubbleHTML = function() {
            return this.bubbleHtml();
        };
        this.bubbleHtml = function() {
            if (e.cache) {
                return e.cache.bubbleHtml || e.data.bubbleHtml;
            };
            return e.data.bubbleHtml;
        };
        this.tag = function($1A) {
            if (e.data.tags) {
                return e.data.tags[$1A];
            } else {
                var $1B = e.data.tag;
                if (!$1B) {
                    return null;
                };
                if (typeof $1A === 'undefined') {
                    return e.data.tag;
                };
                var $p = e.calendar.tagFields;
                var $W = -1;
                for (var i = 0; i < $p.length; i++) {
                    if ($1A === $p[i]) $W = i;
                };
                if ($W === -1) {
                    throw "Field name not found.";
                };
                return $1B[$W];
            }
        };
        this.client = {};
        this.client.innerHTML = function($0W) {
            if (typeof $0W === 'undefined') {
                if (e.cache && typeof e.cache.html !== "undefined") {
                    return e.cache.html;
                };
                if (typeof e.data.html !== "undefined") {
                    return e.data.html;
                };
                return e.data.text;
            } else {
                e.data.html = $0W;
                if (e.cache) {
                    e.cache.html = $0W;
                }
            }
        };
        this.client.html = this.client.innerHTML;
        this.client.header = function($0W) {
            if (typeof $0W === 'undefined') {
                return e.data.header;
            } else {
                e.data.header = $0W;
            }
        };
        this.client.cssClass = function($0W) {
            if (typeof $0W === 'undefined') {
                return e.data.cssClass;
            } else {
                e.data.cssClass = $0W;
            }
        };
        this.client.toolTip = function($0W) {
            if (typeof $0W === 'undefined') {
                if (e.cache && typeof e.cache.toolTip !== "undefined") {
                    return e.cache.toolTip;
                };
                return typeof e.data.toolTip !== 'undefined' ? e.data.toolTip: e.data.text;
            } else {
                e.data.toolTip = $0W;
            }
        };
        this.client.backColor = function($0W) {
            if (typeof $0W === 'undefined') {
                if (e.cache && typeof e.cache.backColor !== "undefined") {
                    return e.cache.backColor;
                };
                return typeof e.data.backColor !== "undefined" ? e.data.backColor: e.calendar.eventBackColor;
            } else {
                e.data.backColor = $0W;
            }
        };
        this.client.borderColor = function($0W) {
            if (typeof $0W === 'undefined') {
                if (e.cache && typeof e.cache.borderColor !== "undefined") {
                    return e.cache.borderColor;
                };
                return typeof e.data.borderColor !== "undefined" ? e.data.borderColor: e.calendar.eventBorderColor;
            } else {
                e.data.borderColor = $0W;
            }
        };
        this.client.barColor = function($0W) {
            if (typeof $0W === 'undefined') {
                if (e.cache && typeof e.cache.barColor !== "undefined") {
                    return e.cache.barColor;
                };
                return typeof e.data.barColor !== "undefined" ? e.data.barColor: e.calendar.durationBarColor;
            } else {
                e.data.barColor = $0W;
            }
        };
        this.client.barVisible = function($0W) {
            if (typeof $0W === 'undefined') {
                if (e.cache && typeof e.cache.barHidden !== "undefined") {
                    return ! e.cache.barHidden;
                };
                return e.calendar.durationBarVisible && !e.data.barHidden;
            } else {
                e.data.barHidden = !$0W;
            }
        };
        this.client.contextMenu = function($0W) {
            if (typeof $0W === 'undefined') {
                if (e.oContextMenu) {
                    return e.oContextMenu;
                };
                var cm = e.cache ? e.cache.contextMenu: e.data.contextMenu;
                return (cm) ? DayPilot.Util.evalVariable(cm) : null;
            } else {
                e.oContextMenu = $0W;
            }
        };
        this.client.moveEnabled = function($0W) {
            if (typeof $0W === 'undefined') {
                if (e.cache && typeof e.cache.moveDisabled !== "undefined") {
                    return ! e.cache.moveDisabled;
                };
                return e.calendar.eventMoveHandling !== 'Disabled' && !e.data.moveDisabled;
            } else {
                e.data.moveDisabled = !$0W;
            }
        };
        this.client.resizeEnabled = function($0W) {
            if (typeof $0W === 'undefined') {
                if (e.cache && typeof e.cache.resizeDisabled !== "undefined") {
                    return ! e.cache.resizeDisabled;
                };
                return e.calendar.eventResizeHandling !== 'Disabled' && !e.data.resizeDisabled;
            } else {
                e.data.resizeDisabled = !$0W;
            }
        };
        this.client.rightClickEnabled = function($0W) {
            if (typeof $0W === 'undefined') {
                if (e.cache && typeof e.cache.rightClickDisabled !== "undefined") {
                    return ! e.cache.rightClickDisabled;
                };
                return e.calendar.rightClickHandling !== 'Disabled' && !e.data.rightClickDisabled;
            } else {
                e.data.rightClickDisabled = !$0W;
            }
        };
        this.client.clickEnabled = function($0W) {
            if (typeof $0W === 'undefined') {
                if (e.cache && typeof e.cache.clickDisabled !== "undefined") {
                    return ! e.cache.clickDisabled;
                };
                return e.calendar.clickHandling !== 'Disabled' && !e.data.clickDisabled;
            } else {
                e.data.clickDisabled = !$0W;
            }
        };
        this.client.deleteEnabled = function($0W) {
            if (typeof $0W === 'undefined') {
                if (e.cache && typeof e.cache.deleteDisabled !== "undefined") {
                    return ! e.cache.deleteDisabled;
                };
                return e.calendar.eventDeleteHandling !== 'Disabled' && !e.data.deleteDisabled;
            } else {
                e.data.deleteDisabled = !$0W;
            }
        };
        this.client.doubleClickEnabled = function($0W) {
            if (typeof $0W === 'undefined') {
                if (e.cache && typeof e.cache.doubleClickDisabled !== "undefined") {
                    return ! e.cache.doubleClickDisabled;
                };
                return e.calendar.eventDoubleClickHandling !== 'Disabled' && !e.data.doubleClickDisabled;
            } else {
                e.data.doubleClickDisabled = !$0W;
            }
        };
        this.client.deleteClickEnabled = function($0W) {
            if (typeof $0W === 'undefined') {
                if (e.cache && typeof e.cache.deleteDisabled !== "undefined") {
                    return ! e.cache.deleteDisabled;
                };
                return e.calendar.eventDeleteHandling !== 'Disabled' && !e.data.deleteDisabled;
            } else {
                e.data.deleteDisabled = !$0W;
            }
        };
        this.toJSON = function($1w) {
            var $1t = {};
            $1t.value = this.id();
            $1t.id = this.id();
            $1t.text = this.text();
            $1t.start = this.start().toJSON();
            $1t.end = this.end().toJSON();
            $1t.resource = this.resource();
            $1t.isAllDay = false;
            $1t.recurrentMasterId = this.recurrentMasterId();
            $1t.join = this.data.join;
            $1t.tag = {};
            if (e.data.tags) {
                for (var name in e.data.tags) {
                    if (e.data.tags.hasOwnProperty(name)) {
                        $1t.tag[name] = "" + e.data.tags[name];
                    }
                }
            } else {
                if (e.calendar && e.calendar.tagFields) {
                    var $p = e.calendar.tagFields;
                    for (var i = 0; i < $p.length; i++) {
                        $1t.tag[$p[i]] = this.tag($p[i]);
                    }
                }
            };
            return $1t;
        };
    };
    DayPilot.Task = function($1r, $Z) {
        if (!$1r) {
            throw "Trying to initialize DayPilot.Task with null data parameter";
        };
        var e = this;
        var event = null;
        if ($1r instanceof DayPilot.Event) {
            event = $1r;
            this.data = $1r.data.task;
        } else if ($1r instanceof DayPilot.Task) {
            return $1r;
        } else if ($1r.isTaskWrapper) {
            this.data = $1r.data;
        } else {
            this.data = $1r;
        };
        var $1y = {};
        var $1z = ["id", "text", "start", "end", "complete", "type"];
        this.isTask = true;
        this.calendar = $Z;
        this.temp = function() {
            if ($1y.dirty) {
                return $1y;
            };
            for (var i = 0; i < $1z.length; i++) {
                $1y[$1z[i]] = e.data[$1z[i]];
            };
            $1y.dirty = true;
            return $1y;
        };
        this.copy = function() {
            var $b = {};
            DayPilot.Util.copyProps(e.data, $b);
            return $b;
        };
        this.commit = function() {
            if (!$1y.dirty) {
                return;
            };
            for (var i = 0; i < $1z.length; i++) {
                e.data[$1z[i]] = $1y[$1z[i]];
            };
            $1y.dirty = false;
        };
        this.dirty = function() {
            return $1y.dirty;
        };
        this.id = function($0W) {
            if (typeof $0W === 'undefined') {
                return e.data.id;
            } else {
                this.temp().id = $0W;
            }
        };
        this.text = function($0W) {
            if (typeof $0W === 'undefined') {
                return e.data.text;
            } else {
                this.temp().text = $0W;
                this.client.innerHTML($0W);
            }
        };
        this.start = function($0W) {
            if (typeof $0W === 'undefined') {
                return new DayPilot.Date(e.data.start);
            } else {
                this.temp().start = new DayPilot.Date($0W);
            }
        };
        this.duration = function() {
            return new DayPilot.Duration(this.start(), this.end());
        };
        this.end = function($0W) {
            if (typeof $0W === 'undefined') {
                if ($Z && $Z.eventEndSpec === "Date") {
                    return new DayPilot.Date(e.data.end).getDatePart().addDays(1);
                };
                return new DayPilot.Date(e.data.end);
            } else {
                this.temp().end = new DayPilot.Date($0W);
            }
        };
        this.type = function($0W) {
            if (typeof $0W === 'undefined') {
                if (event) {
                    return event.data.type;
                };
                return e.data.type;
            } else {
                this.temp().type = $0W;
            }
        };
        this.complete = function($0W) {
            if (typeof $0W === 'undefined') {
                if (!e.data.complete) {
                    return 0;
                };
                return e.data.complete;
            } else {
                this.temp().complete = $0W;
            }
        };
        this.children = function() {
            var $n = [];
            $n.add = function($1r) {
                var $1C = new DayPilot.Task($1r);
                if (!this.data.children) {
                    this.data.children = [];
                };
                this.children.push($1C.data);
            };
            for (var i = 0; this.data.children && i < this.data.children.length; i++) {
                $n.push(new DayPilot.Task(this.data.children[i], $Z));
            };
            return $n;
        };
        this.toJSON = function($1w) {
            var $1t = {};
            $1t.id = this.id();
            $1t.text = this.text();
            $1t.start = this.start().toJSON();
            $1t.end = this.end().toJSON();
            $1t.type = this.type();
            $1t.tags = {};
            DayPilot.Util.copyProps(this.data.tags, $1t.tags);
            return $1t;
        };
        this.row = {};
        var $1l = this.row;
        $1l.expanded = function($0W) {
            if (typeof $0W === 'undefined') {
                if (!e.data.row) {
                    return true;
                };
                return ! e.data.row.collapsed;
            } else {
                if (!e.data.row) {
                    e.data.row = {};
                };
                if ( !! e.data.row.collapsed !== !$0W) {
                    $Z.internal.rowObjectForTaskData(e.data).toggle();
                };
                e.data.row.collapsed = !$0W;
            }
        };
        $1l.expand = function() {
            $1l.expanded(true);
        };
        $1l.collapse = function() {
            $1l.expanded(false);
        };
        $1l.toggle = function() {
            $1l.expanded(!$1l.expanded());
        };
    };
    DayPilot.request = function($18, $1D, $1E, $1F) {
        var $1G = DayPilot.createXmlHttp();
        if (!$1G) {
            return;
        };
        $1G.open("POST", $18, true);
        $1G.setRequestHeader('Content-type', 'text/plain');
        $1G.onreadystatechange = function() {
            if ($1G.readyState !== 4) return;
            if ($1G.status !== 200 && $1G.status !== 304) {
                if ($1F) {
                    $1F($1G);
                } else {
                    if (window.console) {
                        console.log('HTTP error ' + $1G.status);
                    }
                };
                return;
            };
            $1D($1G);
        };
        if ($1G.readyState === 4) {
            return;
        };
        if (typeof $1E === 'object') {
            $1E = DayPilot.JSON.stringify($1E);
        };
        $1G.send($1E);
    };
    DayPilot.ajax = function($Q) {
        var $1G = DayPilot.createXmlHttp();
        if (!$1G) {
            return;
        };
        var $1H = $Q.method || "GET";
        var $1I = $Q.success ||
            function() {};
        var $1J = $Q.error ||
            function() {};
        var $1r = $Q.data;
        var $18 = $Q.url;
        var $1K = $Q.contentType || "text/plain";
        $1G.open($1H, $18, true);
        $1G.setRequestHeader('Content-type', $1K);
        $1G.onreadystatechange = function() {
            if ($1G.readyState !== 4) return;
            if ($1G.status !== 200 && $1G.status !== 304) {
                if ($1J) {
                    var $Y = {};
                    $Y.request = $1G;
                    $1J($Y);
                } else {
                    if (window.console) {
                        console.log('HTTP error ' + $1G.status);
                    }
                };
                return;
            };
            var $Y = {};
            $Y.request = $1G;
            $1I($Y);
        };
        if ($1G.readyState === 4) {
            return;
        };
        if (typeof $1r === 'object') {
            $1r = DayPilot.JSON.stringify($1r);
        };
        $1G.send($1r);
    };
    DayPilot.createXmlHttp = function() {
        return new XMLHttpRequest();
    };
    DayPilot.Duration = function($1L) {
        var d = this;
        var $1M = 1000 * 60 * 60 * 24;
        var $1N = 1000 * 60 * 60;
        var $1O = 1000 * 60;
        var $1P = 1000;
        if (arguments.length === 2) {
            var $s = arguments[0];
            var end = arguments[1];
            if (! ($s instanceof DayPilot.Date)) {
                throw "DayPilot.Duration(): Invalid start argument, DayPilot.Date expected";
            };
            if (! (end instanceof DayPilot.Date)) {
                throw "DayPilot.Duration(): Invalid end argument, DayPilot.Date expected";
            };
            this.ticks = end.getTime() - $s.getTime();
        } else {
            this.ticks = $1L;
        };
        this.toString = function($1Q) {
            if (!$1Q) {
                return d.days() + "." + d.hours() + ":" + d.minutes() + ":" + d.seconds() + "." + d.milliseconds();
            };
            var $1R = d.minutes();
            $1R = ($1R < 10 ? "0": "") + $1R;
            var $b = $1Q;
            $b = $b.replace("mm", $1R);
            $b = $b.replace("m", d.minutes());
            $b = $b.replace("H", d.hours());
            $b = $b.replace("h", d.hours());
            $b = $b.replace("d", d.days());
            $b = $b.replace("s", d.seconds());
            return $b;
        };
        this.totalHours = function() {
            return d.ticks / $1N;
        };
        this.totalDays = function() {
            return d.ticks / $1M;
        };
        this.totalMinutes = function() {
            return d.ticks / $1O;
        };
        this.totalSeconds = function() {
            return d.ticks / $1P;
        };
        this.days = function() {
            return Math.floor(d.totalDays());
        };
        this.hours = function() {
            var $1S = d.ticks - d.days() * $1M;
            return Math.floor($1S / $1N);
        };
        this.minutes = function() {
            var $1T = d.ticks - Math.floor(d.totalHours()) * $1N;
            return Math.floor($1T / $1O);
        };
        this.seconds = function() {
            var $1U = d.ticks - Math.floor(d.totalMinutes()) * $1O;
            return Math.floor($1U / $1P);
        };
        this.milliseconds = function() {
            return d.ticks % $1P;
        };
    };
    DayPilot.TimeSpan = function() {
        DayPilot.Duration.apply(this, arguments);
    };
    try {
        DayPilot.TimeSpan.prototype = Object.create(DayPilot.Duration.prototype);
    } catch(e) {};
    DayPilot.Date = function($1V, $1W) {
        if ($1V instanceof DayPilot.Date) {
            return $1V;
        };
        var $1L;
        if (DayPilot.Util.isNullOrUndefined($1V)) {
            $1L = DayPilot.DateUtil.fromLocal().getTime();
            $1V = $1L;
        };
        var $1X = DayPilot.Date.Cache.Ctor;
        if ($1X[$1V]) {
            DayPilot.Stats.cacheHitsCtor += 1;
            return $1X[$1V];
        };
        var $1Y = false;
        if (typeof $1V === "string") {
            $1L = DayPilot.DateUtil.fromStringSortable($1V, $1W).getTime();
            $1Y = true;
        } else if (typeof $1V === "number") {
            if (isNaN($1V)) {
                throw "Cannot create DayPilot.Date from NaN";
            };
            $1L = $1V;
        } else if ($1V instanceof Date) {
            if ($1W) {
                $1L = DayPilot.DateUtil.fromLocal($1V).getTime();
            } else {
                $1L = $1V.getTime();
            }
        } else {
            throw "Unrecognized parameter: use Date, number or string in ISO 8601 format";
        };
        var $1Z = ticksToSortable($1L);
        if ($1X[$1Z]) {
            return $1X[$1Z];
        };
        $1X[$1Z] = this;
        $1X[$1L] = this;
        if ($1Y && $1Z !== $1V && DayPilot.DateUtil.hasTzSpec($1V)) {
            $1X[$1V] = this;
        };
        if (Object.defineProperty && !DayPilot.browser.ielt9) {
            Object.defineProperty(this, "ticks", {
                get: function() {
                    return $1L;
                }
            });
            Object.defineProperty(this, "value", {
                "value": $1Z,
                "writable": false,
                "enumerable": true
            });
        } else {
            this.ticks = $1L;
            this.value = $1Z;
        };
        if (DayPilot.Date.Config.legacyShowD) {
            this.d = new Date($1L);
        };
        DayPilot.Stats.dateObjects += 1;
    };
    DayPilot.Date.Config = {};
    DayPilot.Date.Config.legacyShowD = false;
    DayPilot.Date.Cache = {};
    DayPilot.Date.Cache.Parsing = {};
    DayPilot.Date.Cache.Ctor = {};
    DayPilot.Date.Cache.Ticks = {};
    DayPilot.Date.Cache.clear = function() {
        DayPilot.Date.Cache.Parsing = {};
        DayPilot.Date.Cache.Ctor = {};
        DayPilot.Date.Cache.Ticks = {};
    };
    DayPilot.Date.prototype.addDays = function($20) {
        return new DayPilot.Date(this.ticks + $20 * 24 * 60 * 60 * 1000);
    };
    DayPilot.Date.prototype.addHours = function($21) {
        return this.addTime($21 * 60 * 60 * 1000);
    };
    DayPilot.Date.prototype.addMilliseconds = function($22) {
        return this.addTime($22);
    };
    DayPilot.Date.prototype.addMinutes = function($1R) {
        return this.addTime($1R * 60 * 1000);
    };
    DayPilot.Date.prototype.addMonths = function($23) {
        var $1V = new Date(this.ticks);
        if ($23 === 0) return this;
        var y = $1V.getUTCFullYear();
        var m = $1V.getUTCMonth() + 1;
        if ($23 > 0) {
            while ($23 >= 12) {
                $23 -= 12;
                y++;
            };
            if ($23 > 12 - m) {
                y++;
                m = $23 - (12 - m);
            } else {
                m += $23;
            }
        } else {
            while ($23 <= -12) {
                $23 += 12;
                y--;
            };
            if (m + $23 <= 0) {
                y--;
                m = 12 + m + $23;
            } else {
                m = m + $23;
            }
        };
        var d = new Date($1V.getTime());
        d.setUTCDate(1);
        d.setUTCFullYear(y);
        d.setUTCMonth(m - 1);
        var $24 = new DayPilot.Date(d).daysInMonth();
        d.setUTCDate(Math.min($24, $1V.getUTCDate()));
        return new DayPilot.Date(d);
    };
    DayPilot.Date.prototype.addSeconds = function($25) {
        return this.addTime($25 * 1000);
    };
    DayPilot.Date.prototype.addTime = function($1L) {
        if ($1L instanceof DayPilot.Duration) {
            $1L = $1L.ticks;
        };
        return new DayPilot.Date(this.ticks + $1L);
    };
    DayPilot.Date.prototype.addYears = function($26) {
        var $1b = new Date(this.ticks);
        var d = new Date(this.ticks);
        var y = this.getYear() + $26;
        var m = this.getMonth();
        d.setUTCDate(1);
        d.setUTCFullYear(y);
        d.setUTCMonth(m);
        var $24 = new DayPilot.Date(d).daysInMonth();
        d.setUTCDate(Math.min($24, $1b.getUTCDate()));
        return new DayPilot.Date(d);
    };
    DayPilot.Date.prototype.dayOfWeek = function() {
        return new Date(this.ticks).getUTCDay();
    };
    DayPilot.Date.prototype.getDayOfWeek = function() {
        return new Date(this.ticks).getUTCDay();
    };
    DayPilot.Date.prototype.daysInMonth = function() {
        var $1V = new Date(this.ticks);
        var $27 = $1V.getUTCMonth() + 1;
        var $28 = $1V.getUTCFullYear();
        var m = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
        if ($27 !== 2) return m[$27 - 1];
        if ($28 % 4 !== 0) return m[1];
        if ($28 % 100 === 0 && $28 % 400 !== 0) return m[1];
        return m[1] + 1;
    };
    DayPilot.Date.prototype.daysInYear = function() {
        var $28 = this.getYear();
        if ($28 % 4 !== 0) {
            return 365;
        };
        if ($28 % 100 === 0 && $28 % 400 !== 0) {
            return 365;
        };
        return 366;
    };
    DayPilot.Date.prototype.dayOfYear = function() {
        return Math.ceil((this.getDatePart().getTime() - this.firstDayOfYear().getTime()) / 86400000) + 1;
    };
    DayPilot.Date.prototype.equals = function($q) {
        if ($q === null) {
            return false;
        };
        if ($q instanceof DayPilot.Date) {
            return this === $q;
        } else {
            throw "The parameter must be a DayPilot.Date object (DayPilot.Date.equals())";
        }
    };
    DayPilot.Date.prototype.firstDayOfMonth = function() {
        var d = new Date();
        d.setUTCFullYear(this.getYear(), this.getMonth(), 1);
        d.setUTCHours(0);
        d.setUTCMinutes(0);
        d.setUTCSeconds(0);
        d.setUTCMilliseconds(0);
        return new DayPilot.Date(d);
    };
    DayPilot.Date.prototype.firstDayOfYear = function() {
        var $28 = this.getYear();
        var d = new Date();
        d.setUTCFullYear($28, 0, 1);
        d.setUTCHours(0);
        d.setUTCMinutes(0);
        d.setUTCSeconds(0);
        d.setUTCMilliseconds(0);
        return new DayPilot.Date(d);
    };
    DayPilot.Date.prototype.firstDayOfWeek = function($29) {
        var d = this;
        var $29 = $29 || 0;
        var $1M = d.dayOfWeek();
        while ($1M !== $29) {
            d = d.addDays( - 1);
            $1M = d.dayOfWeek();
        };
        return new DayPilot.Date(d);
    };
    DayPilot.Date.prototype.getDay = function() {
        return new Date(this.ticks).getUTCDate();
    };
    DayPilot.Date.prototype.getDatePart = function() {
        var d = new Date(this.ticks);
        d.setUTCHours(0);
        d.setUTCMinutes(0);
        d.setUTCSeconds(0);
        d.setUTCMilliseconds(0);
        return new DayPilot.Date(d);
    };
    DayPilot.Date.prototype.getYear = function() {
        return new Date(this.ticks).getUTCFullYear();
    };
    DayPilot.Date.prototype.getHours = function() {
        return new Date(this.ticks).getUTCHours();
    };
    DayPilot.Date.prototype.getMilliseconds = function() {
        return new Date(this.ticks).getUTCMilliseconds();
    };
    DayPilot.Date.prototype.getMinutes = function() {
        return new Date(this.ticks).getUTCMinutes();
    };
    DayPilot.Date.prototype.getMonth = function() {
        return new Date(this.ticks).getUTCMonth();
    };
    DayPilot.Date.prototype.getSeconds = function() {
        return new Date(this.ticks).getUTCSeconds();
    };
    DayPilot.Date.prototype.getTotalTicks = function() {
        return this.getTime();
    };
    DayPilot.Date.prototype.getTime = function() {
        return this.ticks;
    };
    DayPilot.Date.prototype.getTimePart = function() {
        var $2a = this.getDatePart();
        return DayPilot.DateUtil.diff(this, $2a);
    };
    DayPilot.Date.prototype.lastDayOfMonth = function() {
        var d = new Date(this.firstDayOfMonth().getTime());
        var length = this.daysInMonth();
        d.setUTCDate(length);
        return new DayPilot.Date(d);
    };
    DayPilot.Date.prototype.weekNumber = function() {
        var $2b = this.firstDayOfYear();
        var $20 = (this.getTime() - $2b.getTime()) / 86400000;
        return Math.ceil(($20 + $2b.dayOfWeek() + 1) / 7);
    };
    DayPilot.Date.prototype.weekNumberISO = function() {
        var $2c = false;
        var $2d = this.dayOfYear();
        var $2e = this.firstDayOfYear().dayOfWeek();
        var $2f = this.firstDayOfYear().addYears(1).addDays( - 1).dayOfWeek();
        if ($2e === 0) {
            $2e = 7;
        };
        if ($2f === 0) {
            $2f = 7;
        };
        var $2g = 8 - ($2e);
        if ($2e === 4 || $2f === 4) {
            $2c = true;
        };
        var $2h = Math.ceil(($2d - ($2g)) / 7.0);
        var $2i = $2h;
        if ($2g >= 4) {
            $2i = $2i + 1;
        };
        if ($2i > 52 && !$2c) {
            $2i = 1;
        };
        if ($2i === 0) {
            $2i = this.firstDayOfYear().addDays( - 1).weekNumberISO();
        };
        return $2i;
    };
    DayPilot.Date.prototype.toDateLocal = function() {
        var $1V = new Date(this.ticks);
        var d = new Date();
        d.setFullYear($1V.getUTCFullYear(), $1V.getUTCMonth(), $1V.getUTCDate());
        d.setHours($1V.getUTCHours());
        d.setMinutes($1V.getUTCMinutes());
        d.setSeconds($1V.getUTCSeconds());
        d.setMilliseconds($1V.getUTCMilliseconds());
        return d;
    };
    DayPilot.Date.prototype.toDate = function() {
        return new Date(this.ticks);
    };
    DayPilot.Date.prototype.toJSON = function() {
        return this.value;
    };
    DayPilot.Date.prototype.toString = function($1Q, $2j) {
        if (typeof $1Q === 'undefined') {
            return this.toStringSortable();
        };
        return new $2k($1Q, $2j).print(this);
    };
    DayPilot.Date.prototype.toStringSortable = function() {
        return ticksToSortable(this.ticks);
    };
    function ticksToSortable($1L) {
        var $1X = DayPilot.Date.Cache.Ticks;
        if ($1X[$1L]) {
            DayPilot.Stats.cacheHitsTicks += 1;
            return $1X[$1L];
        };
        var d = new Date($1L);
        var $2l;
        var ms = d.getUTCMilliseconds();
        if (ms === 0) {
            $2l = "";
        } else if (ms < 10) {
            $2l = ".00" + ms;
        } else if (ms < 100) {
            $2l = ".0" + ms;
        } else {
            $2l = "." + ms
        };
        var $1P = d.getUTCSeconds();
        if ($1P < 10) $1P = "0" + $1P;
        var $1O = d.getUTCMinutes();
        if ($1O < 10) $1O = "0" + $1O;
        var $1N = d.getUTCHours();
        if ($1N < 10) $1N = "0" + $1N;
        var $1M = d.getUTCDate();
        if ($1M < 10) $1M = "0" + $1M;
        var $27 = d.getUTCMonth() + 1;
        if ($27 < 10) $27 = "0" + $27;
        var $28 = d.getUTCFullYear();
        if ($28 <= 0) {
            throw "The minimum year supported is 1.";
        };
        if ($28 < 10) {
            $28 = "000" + $28;
        } else if ($28 < 100) {
            $28 = "00" + $28;
        } else if ($28 < 1000) {
            $28 = "0" + $28;
        };
        var $b = $28 + "-" + $27 + "-" + $1M + 'T' + $1N + ":" + $1O + ":" + $1P + $2l;
        $1X[$1L] = $b;
        return $b;
    };
    DayPilot.Date.parse = function(str, $1Q, $2j) {
        var p = new $2k($1Q, $2j);
        return p.parse(str);
    };
    var $2m = 0;
    DayPilot.Date.today = function() {
        return new DayPilot.Date(DayPilot.DateUtil.localToday());
    };
    DayPilot.Date.fromYearMonthDay = function($28, $27, $1M) {
        $27 = $27 || 1;
        $1M = $1M || 1;
        var d = new Date(0);
        d.setUTCFullYear($28);
        d.setUTCMonth($27 - 1);
        d.setUTCDate($1M);
        return new DayPilot.Date(d);
    };
    DayPilot.DateUtil = {};
    DayPilot.DateUtil.fromStringSortable = function($07, $1W) {
        if (!$07) {
            throw "Can't create DayPilot.Date from an empty string";
        };
        var $2n = $07.length;
        var $1V = $2n === 10;
        var $2o = $2n === 19;
        var long = $2n > 19;
        if (!$1V && !$2o && !long) {
            throw "Invalid string format (use '2010-01-01' or '2010-01-01T00:00:00'): " + $07;
        };
        if (DayPilot.Date.Cache.Parsing[$07] && !$1W) {
            DayPilot.Stats.cacheHitsParsing += 1;
            return DayPilot.Date.Cache.Parsing[$07];
        };
        var $28 = $07.substring(0, 4);
        var $27 = $07.substring(5, 7);
        var $1M = $07.substring(8, 10);
        var d = new Date(0);
        d.setUTCFullYear($28, $27 - 1, $1M);
        if ($1V) {
            DayPilot.Date.Cache.Parsing[$07] = d;
            return d;
        };
        var $21 = $07.substring(11, 13);
        var $1R = $07.substring(14, 16);
        var $25 = $07.substring(17, 19);
        d.setUTCHours($21);
        d.setUTCMinutes($1R);
        d.setUTCSeconds($25);
        if ($2o) {
            DayPilot.Date.Cache.Parsing[$07] = d;
            return d;
        };
        var $2p = $07[19];
        var $2q = 0;
        if ($2p === ".") {
            var ms = parseInt($07.substring(20, 23));
            d.setUTCMilliseconds(ms);
            $2q = DayPilot.DateUtil.getTzOffsetMinutes($07.substring(23));
        } else {
            $2q = DayPilot.DateUtil.getTzOffsetMinutes($07.substring(19));
        };
        var dd = new DayPilot.Date(d);
        if (!$1W) {
            dd = dd.addMinutes( - $2q);
        };
        d = dd.toDate();
        DayPilot.Date.Cache.Parsing[$07] = d;
        return d;
    };
    DayPilot.DateUtil.getTzOffsetMinutes = function($07) {
        if (DayPilot.Util.isNullOrUndefined($07) || $07 === "") {
            return 0;
        };
        if ($07 === "Z") {
            return 0;
        };
        var $2p = $07[0];
        var $2r = parseInt($07.substring(1, 3));
        var $2s = parseInt($07.substring(4));
        var $2q = $2r * 60 + $2s;
        if ($2p === "-") {
            return - $2q;
        } else if ($2p === "+") {
            return $2q;
        } else {
            throw "Invalid timezone spec: " + $07;
        }
    };
    DayPilot.DateUtil.hasTzSpec = function($07) {
        if ($07.indexOf("+")) {
            return true;
        };
        if ($07.indexOf("-")) {
            return true;
        };
        return false;
    };
    DayPilot.DateUtil.daysDiff = function($2b, $1P) { ($2b && $1P) || (function() {
        throw "two parameters required";
    })();
        $2b = new DayPilot.Date($2b);
        $1P = new DayPilot.Date($1P);
        if ($2b.getTime() > $1P.getTime()) {
            return null;
        };
        var i = 0;
        var $2t = $2b.getDatePart();
        var $2u = $1P.getDatePart();
        while ($2t < $2u) {
            $2t = $2t.addDays(1);
            i++;
        };
        return i;
    };
    DayPilot.DateUtil.daysSpan = function($2b, $1P) { ($2b && $1P) || (function() {
        throw "two parameters required";
    })();
        $2b = new DayPilot.Date($2b);
        $1P = new DayPilot.Date($1P);
        if ($2b === $1P) {
            return 0;
        };
        var $2v = DayPilot.DateUtil.daysDiff($2b, $1P);
        if ($1P == $1P.getDatePart()) {
            $2v--;
        };
        return $2v;
    };
    DayPilot.DateUtil.diff = function($2b, $1P) {
        if (! ($2b && $1P && $2b.getTime && $1P.getTime)) {
            throw "Both compared objects must be Date objects (DayPilot.Date.diff).";
        };
        return $2b.getTime() - $1P.getTime();
    };
    DayPilot.DateUtil.fromLocal = function($2w) {
        if (!$2w) {
            $2w = new Date();
        };
        var d = new Date();
        d.setUTCFullYear($2w.getFullYear(), $2w.getMonth(), $2w.getDate());
        d.setUTCHours($2w.getHours());
        d.setUTCMinutes($2w.getMinutes());
        d.setUTCSeconds($2w.getSeconds());
        d.setUTCMilliseconds($2w.getMilliseconds());
        return d;
    };
    DayPilot.DateUtil.localToday = function() {
        var d = new Date();
        d.setUTCHours(0);
        d.setUTCMinutes(0);
        d.setUTCSeconds(0);
        d.setUTCMilliseconds(0);
        return d;
    };
    DayPilot.DateUtil.hours = function($1V, $2x) {
        var $1O = $1V.getUTCMinutes();
        if ($1O < 10) $1O = "0" + $1O;
        var $1N = $1V.getUTCHours();
        if ($2x) {
            var am = $1N < 12;
            var $1N = $1N % 12;
            if ($1N === 0) {
                $1N = 12;
            };
            var $2y = am ? "AM": "PM";
            return $1N + ':' + $1O + ' ' + $2y;
        } else {
            return $1N + ':' + $1O;
        }
    };
    DayPilot.DateUtil.max = function($2b, $1P) {
        if ($2b.getTime() > $1P.getTime()) {
            return $2b;
        } else {
            return $1P;
        }
    };
    DayPilot.DateUtil.min = function($2b, $1P) {
        if ($2b.getTime() < $1P.getTime()) {
            return $2b;
        } else {
            return $1P;
        }
    };
    var $2k = function($1Q, $2j) {
        if (typeof $2j === "string") {
            $2j = DayPilot.Locale.find($2j);
        };
        var $2j = $2j || DayPilot.Locale.US;
        var $2z = [{
            "seq": "yyyy",
            "expr": "[0-9]{4,4\u007d",
            "str": function(d) {
                return d.getYear();
            }
        },
            {
                "seq": "yy",
                "expr": "[0-9]{2,2\u007d",
                "str": function(d) {
                    return d.getYear() % 100;
                }
            },
            {
                "seq": "mm",
                "expr": "[0-9]{2,2\u007d",
                "str": function(d) {
                    var r = d.getMinutes();
                    return r < 10 ? "0" + r: r;
                }
            },
            {
                "seq": "m",
                "expr": "[0-9]{1,2\u007d",
                "str": function(d) {
                    var r = d.getMinutes();
                    return r;
                }
            },
            {
                "seq": "HH",
                "expr": "[0-9]{2,2\u007d",
                "str": function(d) {
                    var r = d.getHours();
                    return r < 10 ? "0" + r: r;
                }
            },
            {
                "seq": "H",
                "expr": "[0-9]{1,2\u007d",
                "str": function(d) {
                    var r = d.getHours();
                    return r;
                }
            },
            {
                "seq": "hh",
                "expr": "[0-9]{2,2\u007d",
                "str": function(d) {
                    var $1N = d.getHours();
                    var $1N = $1N % 12;
                    if ($1N === 0) {
                        $1N = 12;
                    };
                    var r = $1N;
                    return r < 10 ? "0" + r: r;
                }
            },
            {
                "seq": "h",
                "expr": "[0-9]{1,2\u007d",
                "str": function(d) {
                    var $1N = d.getHours();
                    var $1N = $1N % 12;
                    if ($1N === 0) {
                        $1N = 12;
                    };
                    return $1N;
                }
            },
            {
                "seq": "ss",
                "expr": "[0-9]{2,2\u007d",
                "str": function(d) {
                    var r = d.getSeconds();
                    return r < 10 ? "0" + r: r;
                }
            },
            {
                "seq": "s",
                "expr": "[0-9]{1,2\u007d",
                "str": function(d) {
                    var r = d.getSeconds();
                    return r;
                }
            },
            {
                "seq": "MMMM",
                "expr": "[^\\s0-9]*",
                "str": function(d) {
                    var r = $2j.monthNames[d.getMonth()];
                    return r;
                },
                "transform": function($0y) {
                    var $W = DayPilot.indexOf($2j.monthNames, $0y, equalsIgnoreCase);
                    if ($W < 0) {
                        return null;
                    };
                    return $W + 1;
                }
            },
            {
                "seq": "MMM",
                "expr": "[^\\s0-9]*",
                "str": function(d) {
                    var r = $2j.monthNamesShort[d.getMonth()];
                    return r;
                },
                "transform": function($0y) {
                    var $W = DayPilot.indexOf($2j.monthNamesShort, $0y, equalsIgnoreCase);
                    if ($W < 0) {
                        return null;
                    };
                    return $W + 1;
                }
            },
            {
                "seq": "MM",
                "expr": "[0-9]{2,2\u007d",
                "str": function(d) {
                    var r = d.getMonth() + 1;
                    return r < 10 ? "0" + r: r;
                }
            },
            {
                "seq": "M",
                "expr": "[0-9]{1,2\u007d",
                "str": function(d) {
                    var r = d.getMonth() + 1;
                    return r;
                }
            },
            {
                "seq": "dddd",
                "expr": "[^\\s0-9]*",
                "str": function(d) {
                    var r = $2j.dayNames[d.getDayOfWeek()];
                    return r;
                }
            },
            {
                "seq": "ddd",
                "expr": "[^\\s0-9]*",
                "str": function(d) {
                    var r = $2j.dayNamesShort[d.getDayOfWeek()];
                    return r;
                }
            },
            {
                "seq": "dd",
                "expr": "[0-9]{2,2\u007d",
                "str": function(d) {
                    var r = d.getDay();
                    return r < 10 ? "0" + r: r;
                }
            },
            {
                "seq": "%d",
                "expr": "[0-9]{1,2\u007d",
                "str": function(d) {
                    var r = d.getDay();
                    return r;
                }
            },
            {
                "seq": "d",
                "expr": "[0-9]{1,2\u007d",
                "str": function(d) {
                    var r = d.getDay();
                    return r;
                }
            },
            {
                "seq": "tt",
                "expr": "(AM|PM|am|pm)",
                "str": function(d) {
                    var $1N = d.getHours();
                    var am = $1N < 12;
                    return am ? "AM": "PM";
                },
                "transform": function($0y) {
                    return $0y.toUpperCase();
                }
            },
        ];
        var $2A = function($02) {
            return $02.replace(/[-[\]{};()*+?.,\\^$|#\s]/g, "\\$&");
        };
        this.init = function() {
            this.year = this.findSequence("yyyy");
            this.month = this.findSequence("MMMM") || this.findSequence("MMM") || this.findSequence("MM") || this.findSequence("M");
            this.day = this.findSequence("dd") || this.findSequence("d");
            this.hours = this.findSequence("HH") || this.findSequence("H");
            this.minutes = this.findSequence("mm") || this.findSequence("m");
            this.seconds = this.findSequence("ss") || this.findSequence("s");
            this.ampm = this.findSequence("tt");
            this.hours12 = this.findSequence("hh") || this.findSequence("h");
            if (this.hours && this.ampm) {
                throw new DayPilot.Exception("'HH' and 'H' specifiers cannot be used in combination with 'tt'. Use 12-hour clock specifiers: 'hh' or 'h'.");
            }
        };
        this.findSequence = function($2B) {
            function defaultTransform($1Z) {
                return parseInt($1Z);
            };
            var $W = $1Q.indexOf($2B);
            if ($W === -1) {
                return null;
            };
            return {
                "findValue": function($0y) {
                    var $2C = $2A($1Q);
                    var $2D = null;
                    for (var i = 0; i < $2z.length; i++) {
                        var $2n = $2z[i].length;
                        var $2E = ($2B === $2z[i].seq);
                        var $2F = $2z[i].expr;
                        if ($2E) {
                            $2F = "(" + $2F + ")";
                            $2D = $2z[i].transform;
                        };
                        $2C = $2C.replace($2z[i].seq, $2F);
                    };
                    $2C = "^" + $2C + "$";
                    try {
                        var r = new RegExp($2C);
                        var $j = r.exec($0y);
                        if (!$j) {
                            return null;
                        };
                        $2D = $2D || defaultTransform;
                        return $2D($j[1]);
                    } catch(e) {
                        throw "unable to create regex from: " + $2C;
                    }
                }
            };
        };
        this.print = function($1V) {
            var find = function(t) {
                for (var i = 0; i < $2z.length; i++) {
                    if ($2z[i] && $2z[i].seq === t) {
                        return $2z[i];
                    }
                };
                return null;
            };
            var $2G = $1Q.length <= 0;
            var $2H = 0;
            var $2I = [];
            while (!$2G) {
                var $2J = $1Q.substring($2H);
                var $2K = /%?(.)\1*/.exec($2J);
                if ($2K && $2K.length > 0) {
                    var $2L = $2K[0];
                    var q = find($2L);
                    if (q) {
                        $2I.push(q);
                    } else {
                        $2I.push($2L);
                    };
                    $2H += $2L.length;
                    $2G = $1Q.length <= $2H;
                } else {
                    $2G = true;
                }
            };
            for (var i = 0; i < $2I.length; i++) {
                var c = $2I[i];
                if (typeof c !== 'string') {
                    $2I[i] = c.str($1V);
                }
            };
            return $2I.join("");
        };
        this.parse = function($0y) {
            var $28 = this.year.findValue($0y);
            if (!$28) {
                return null;
            };
            var $27 = this.month.findValue($0y);
            if (DayPilot.Util.isNullOrUndefined($27)) {
                return null;
            };
            if ($27 > 12 || $27 < 1) {
                return null;
            };
            var $1M = this.day.findValue($0y);
            var $2M = DayPilot.Date.fromYearMonthDay($28, $27).daysInMonth();
            if ($1M < 1 || $1M > $2M) {
                return null;
            };
            var $21 = this.hours ? this.hours.findValue($0y) : 0;
            var $1R = this.minutes ? this.minutes.findValue($0y) : 0;
            var $25 = this.seconds ? this.seconds.findValue($0y) : 0;
            var $2N = this.ampm ? this.ampm.findValue($0y) : null;
            if (this.ampm && this.hours12) {
                var $2O = this.hours12.findValue($0y);
                if ($2O < 1 || $2O > 12) {
                    return null;
                };
                if ($2N === "PM") {
                    if ($2O === 12) {
                        $21 = 12;
                    } else {
                        $21 = $2O + 12;
                    }
                } else {
                    if ($2O === 12) {
                        $21 = 0;
                    } else {
                        $21 = $2O;
                    }
                }
            };
            if ($21 < 0 || $21 > 23) {
                return null;
            };
            if ($1R < 0 || $1R > 59) {
                return null;
            };
            if ($25 < 0 || $25 > 59) {
                return null;
            };
            var d = new Date();
            d.setUTCFullYear($28, $27 - 1, $1M);
            d.setUTCHours($21);
            d.setUTCMinutes($1R);
            d.setUTCSeconds($25);
            d.setUTCMilliseconds(0);
            return new DayPilot.Date(d);
        };
        this.init();
    };
    function equalsIgnoreCase($2P, $2Q) {
        if (DayPilot.Util.isNullOrUndefined($2P)) {
            return false;
        };
        if (DayPilot.Util.isNullOrUndefined($2Q)) {
            return false;
        };
        return $2P.toLocaleLowerCase() === $2Q.toLocaleLowerCase();
    };
    DayPilot.Canvas = function($x, $0u, $2R, $2S, $2T) {
        var $2S = $2S || 1;
        var $2U = document.createElement("canvas");
        $2U.width = $x * $2S;
        $2U.height = $0u * $2S;
        var $2V = $2U.getContext("2d");
        $2V.scale($2S, $2S);
        this.defaultFileName = "image.png";
        if ($2R === "image/jpeg") {
            this.defaultFileName = "image.jpg";
            $2T = $2T || 0.92;
        };
        this.fillRect = function($2W, $2X) {
            $2V.save();
            $2V.strokeStyle = "rgb(0,0,0,0)";
            $2V.fillStyle = $2X;
            $2V.fillRect($2W.x + .5, $2W.y + .5, $2W.w - .5, $2W.h - .5);
            $2V.restore();
        };
        this.rect = function($2W, $2X) {
            $2V.save();
            $2V.strokeStyle = $2X;
            $2V.beginPath();
            $2V.rect($2W.x + .5, $2W.y + .5, $2W.w - 1, $2W.h - 1);
            $2V.stroke();
            $2V.restore();
        };
        this.text = function($2W, $02, $2Y, $2X, $2Z, $30) {
            if (typeof $02 === "number") {
                $02 = "" + $02;
            };
            if (typeof $02 !== "string") {
                throw "String expected";
            };
            $2Z = $2Z || "left";
            $30 = $30 || 0;
            $2X = $2X || "#000";
            $2V.save();
            var $31 = parseInt($2Y.size);
            var $32 = DayPilot.browser.ff ? 3 : 0;
            $32 += $31 * 0.2;
            $32 += DayPilot.browser.chrome ? 1 : 0;
            $32 += DayPilot.browser.ie ? 1 : 0;
            $2V.rect($2W.x + .5 + $30, $2W.y + .5 + $30, $2W.w - 1 - $30, $2W.h - 1 - $30);
            $2V.clip();
            $2V.fillStyle = $2X;
            $2V.font = $2Y.style + " " + $2Y.size + " " + $2Y.family;
            $2V.textBaseline = "top";
            $2V.textAlign = $2Z;
            var x = $2W.x;
            switch ($2Z) {
                case "center":
                    x += $2W.w / 2;
                    break;
                case "right":
                    x += $2W.w;
                    break;
            };
            var $33 = 0;
            x += $33;
            var $34 = parseInt($2Y.size) * 1.2;
            var $35 = $02.split("\n");
            var top = $2W.y + $33 + $30 + $32;
            for (var i = 0; i < $35.length; i++) {
                var $01 = $35[i];
                $2V.fillText($01, x + $30, top);
                top += $34;
            };
            $2V.restore();
        };
        this.line = function(x1, y1, x2, y2, $2X) {
            $2V.save();
            $2V.lineWidth = 1;
            $2V.strokeStyle = $2X;
            $2V.beginPath();
            $2V.moveTo(x1 + .5, y1 + .5);
            $2V.lineTo(x2 + .5, y2 + .5);
            $2V.stroke();
            $2V.restore();
        };
        this.image = function($2W, $36) {
            if (!$36) {
                return;
            };
            if (typeof $36 === "string") {
                var $37 = $36;
                var $36 = document.createElement("img");
                if ($37.indexOf("data:") !== 0) {
                    $36.onload = function() {
                        $2V.save();
                        $2V.drawImage($36, $2W.x, $2W.y);
                        $2V.restore();
                    };
                    $36.src = $37;
                    return;
                };
                $36.src = $37;
            };
            $2V.save();
            $2V.drawImage($36, $2W.x, $2W.y);
            $2V.restore();
        };
        this.getWidth = function() {
            return $2U.width;
        };
        this.getHeight = function() {
            return $2U.height;
        };
        this.getElement = function() {
            return $2U;
        };
        this.getSource = function() {
            return "<img src='" + $2U.toDataURL($2R, $2T) + "' />";
        };
        this.getDataUri = function() {
            return $2U.toDataURL($2R, $2T);
        };
        this.getDefaultFileName = function() {
            return this.defaultFileName;
        };
        this.getBlob = function() {
            if ($2U.msToBlob) {
                return $2U.msToBlob();
            };
            return DayPilot.Util.dataUriToBlob(this.getDataUri());
        };
    };
    DayPilot.Svg = function($x, $0u) {
        var ns = "http://www.w3.org/2000/svg";
        var $38 = document.createElementNS(ns, "svg");
        if ($38.outerHTML) {
            $38.setAttribute("xmlns", ns);
        };
        $38.setAttribute("viewBox", "0 0 " + $x + " " + $0u);
        this.defaultFileName = "image.svg";
        this.fillRect = function($2W, $2X) {
            var r = document.createElementNS(ns, "rect");
            r.setAttribute('x', $2W.x + 0.5);
            r.setAttribute('y', $2W.y + 0.5);
            r.setAttribute('width', $2W.w - 1);
            r.setAttribute('height', $2W.h - 1);
            r.setAttribute('fill', $2X);
            $38.appendChild(r);
        };
        this.rect = function($2W, $2X) {
            var r = document.createElementNS(ns, "rect");
            r.setAttribute('x', $2W.x + 0.5);
            r.setAttribute('y', $2W.y + 0.5);
            r.setAttribute('width', $2W.w - 1);
            r.setAttribute('height', $2W.h - 1);
            r.setAttribute('stroke', $2X);
            r.setAttribute("stroke-width", "1");
            r.setAttribute("fill", "transparent");
            $38.appendChild(r);
        };
        this.text = function($2W, $02, $2Y, $2X, $2Z, $30) {
            if (typeof $02 === "number") {
                $02 = "" + $02;
            };
            if (typeof $02 !== "string") {
                throw "String expected";
            };
            var $2Z = $2Z || "left";
            var $30 = $30 || 0;
            var $32 = 3;
            var x = $2W.x;
            var $39 = "start";
            switch ($2Z) {
                case "center":
                    x += $2W.w / 2;
                    $39 = "middle";
                    break;
                case "right":
                    x += $2W.w;
                    $39 = "end";
                    break;
            };
            var $3a = document.createElementNS(ns, "clipPath");
            $3a.id = "clip" + DayPilot.guid();
            var r = document.createElementNS(ns, "rect");
            r.setAttribute('x', $2W.x);
            r.setAttribute('y', $2W.y);
            r.setAttribute('width', $2W.w);
            r.setAttribute('height', $2W.h);
            $3a.appendChild(r);
            $38.appendChild($3a);
            var $34 = parseInt($2Y.size) * 1.2;
            var $35 = $02.split("\n");
            var top = $2W.y + $30 + $32;
            for (var i = 0; i < $35.length; i++) {
                var $01 = $35[i];
                printLine($01, x + $30, top);
                top += $34;
            };
            function printLine($02, x, y) {
                var $3b = document.createElementNS(ns, "text");
                $3b.setAttribute("fill", $2X);
                $3b.setAttribute("font-family", $2Y.family);
                $3b.setAttribute("font-size", $2Y.size);
                $3b.setAttribute("font-style", $2Y.style);
                $3b.setAttribute("x", x);
                $3b.setAttribute("y", y);
                $3b.setAttribute("dy", "1em");
                $3b.setAttribute("text-anchor", $39);
                $3b.setAttribute("clip-path", "url(#" + $3a.id + ")");
                var $0i = document.createTextNode($02);
                $3b.appendChild($0i);
                $38.appendChild($3b);
            }
        };
        this.line = function(x1, y1, x2, y2, $2X) {
            var $01 = document.createElementNS(ns, "line");
            $01.setAttribute("x1", x1 + 0.5);
            $01.setAttribute("y1", y1 + 0.5);
            $01.setAttribute("x2", x2 + 0.5);
            $01.setAttribute("y2", y2 + 0.5);
            $01.setAttribute("stroke", $2X);
            $38.appendChild($01);
        };
        this.image = function($2W, $36) {
            function doit($Y) {
                var $3c = 'http://www.w3.org/1999/xlink';
                var $3d = document.createElementNS(ns, "image");
                $3d.setAttributeNS($3c, "href", $Y.dataUri);
                $3d.setAttribute("x", $2W.x);
                $3d.setAttribute("y", $2W.y);
                $3d.setAttribute("width", $2W.w);
                $3d.setAttribute("height", $2W.h);
                $38.appendChild($3d);
            };
            getDataUri($36, doit);
        };
        function getDataUri($36, $3e) {
            var $37 = null;
            if (!$36) {
                return;
            };
            if (typeof $36 === "string") {
                if ($36.indexOf("data:") === 0) {
                    var $Y = {};
                    $Y.dataUri = $36;
                    $3e($Y);
                };
                $37 = $36;
            } else {
                $37 = $36.src;
            };
            var $36 = document.createElement("img");
            $36.onload = function() {
                var $2U = document.createElement("canvas");
                $2U.width = this.naturalWidth;
                $2U.height = this.naturalHeight;
                $2U.getContext("2d").drawImage(this, 0, 0);
                var $Y = {};
                $Y.dataUri = $2U.toDataURL('image/png');
                $3e($Y);
            };
            $36.src = $37;
        };
        this.getWidth = function() {
            return $x;
        };
        this.getHeight = function() {
            return $0u;
        };
        this.getElement = function() {
            return $38;
        };
        this.getSource = function() {
            if ($38.outerHTML) {
                return $38.outerHTML;
            } else {
                var $a = document.createElement('div');
                var $3f = $38.cloneNode(true);
                $a.appendChild($3f);
                return $a.innerHTML;
            }
        };
        this.getDataUri = function() {
            return 'data:application/octet-stream,' + encodeURIComponent(this.getSource());
        };
        this.getDefaultFileName = function() {
            return this.defaultFileName;
        };
        this.getBlob = function() {
            return new Blob([this.getSource()]);
        };
    };
    DayPilot.Excel = function() {
        var $3g = this;
        var $3h = null;
        var $3i = null;
        var $3j = null;
        var ns = {};
        ns.xmlns = 'urn:schemas-microsoft-com:office:spreadsheet';
        ns.o = "urn:schemas-microsoft-com:office:office";
        ns.x = "urn:schemas-microsoft-com:office:excel";
        ns.ss = "urn:schemas-microsoft-com:office:spreadsheet";
        ns.html = "http://www.w3.org/TR/REC-html40";
        this.init = function() {
            $3h = document.implementation.createDocument(ns.xmlns, 'Workbook', null);
            $3h.documentElement.setAttribute("xmlns:o", ns.o);
            $3h.documentElement.setAttribute("xmlns:x", ns.x);
            $3h.documentElement.setAttribute("xmlns:ss", ns.ss);
            $3h.documentElement.setAttribute("xmlns:html", ns.html);
            var $3k = $3h.createElement("x:ExcelWorkbook");
            $3h.documentElement.appendChild($3k);
            $3i = $3h.createElement("ss:Styles");
            $3h.documentElement.appendChild($3i);
            $3j = $3g.styles.create();
            $3j.setId("Default");
            $3j.setName("Normal");
        };
        this.worksheets = [];
        this.worksheets.create = function(name) {
            var element = $3g.el(ns.ss, "Worksheet");
            var ws = new $3l(element);
            ws.setName(name);
            this.push(ws);
            return ws;
        };
        this.styles = [];
        this.styles.create = function($0j) {
            var style = $3h.createElement("ss:Style");
            $3i.appendChild(style);
            var s = new $3m(style);
            this.push(s);
            return s;
        };
        this.styles.getDefault = function() {
            return $3j;
        };
        this.el = function(ns, element) {
            var e = $3h.createElementNS(ns, element);
            $3h.documentElement.appendChild(e);
            return e;
        };
        this.getSource = function() {
            var $3n = new XMLSerializer();
            var $3o = $3n.serializeToString($3h);
            return "<?xml version=\"1.0\"?>" + $3o;
        };
        this.getDataUri = function() {
            return 'data:application/vnd.ms-excel,' + encodeURIComponent(this.getSource());
        };
        this.getElement = function() {
            return $3h;
        };
        this.getDefaultFileName = function() {
            return "spreadsheet.xls";
        };
        this.getBlob = function() {
            return new Blob([this.getSource()]);
        };
        var $3l = function(element) {
            var $3p = $3h.createElement("Table");
            element.appendChild($3p);
            var $0j = $3h.createElement("x:WorksheetOptions");
            element.appendChild($0j);
            this.rows = [];
            this.setName = function(name) {
                element.setAttribute("ss:Name", name);
            };
            this.cell = function(x, y) {
                while (y >= this.rows.length) {
                    var $1l = $3h.createElement("Row");
                    $3p.appendChild($1l);
                    this.rows.push(new $3q($1l));
                };
                var r = this.rows[y];
                return r.cell(x);
            };
            this.enableGridlines = function($1Z) {
                var $3r = DayPilot.list($0j.childNodes).find(function($3s) {
                    return $3s.tagName === "x:DoNotDisplayGridlines";
                });
                if (!$3r && !$1Z) {
                    var $3t = $3h.createElement("x:DoNotDisplayGridlines");
                    $0j.appendChild($3t);
                };
                if ($3r && $1Z) {
                    $0j.removeChild($3r);
                }
            };
            var $3q = function(element) {
                this.cells = [];
                this.getElement = function() {
                    return element;
                };
                this.cell = function(x) {
                    while (x >= this.cells.length) {
                        var $3u = $3h.createElement("Cell");
                        element.appendChild($3u);
                        this.cells.push(new $3v($3u));
                    };
                    return this.cells[x];
                };
                var $3v = function(element) {
                    this.setText = function($02) {
                        var $1r = $3h.createElement("Data");
                        $1r.setAttribute("ss:Type", "String");
                        var $0i = $3h.createTextNode($02);
                        $1r.appendChild($0i);
                        while (element.firstChild) {
                            element.removeChild(element.firstChild);
                        };
                        element.appendChild($1r);
                        return this;
                    };
                    this.setColspan = function(i) {
                        if (i > 1) {
                            element.setAttribute("ss:MergeAcross", i - 1);
                        } else {
                            element.removeAttribute("ss:MergeAcross");
                        };
                        return this;
                    };
                    this.setRowspan = function(i) {
                        if (i > 1) {
                            element.setAttribute("ss:MergeDown", i - 1);
                        } else {
                            element.removeAttribute("ss:MergeDown");
                        };
                        return this;
                    };
                    this.setStyle = function(style) {
                        if (! (style instanceof $3m)) {
                            throw "Invalid argument, Style expected";
                        };
                        element.setAttribute("ss:StyleID", style.getId());
                        return this;
                    }
                };
            };
        };
        var $3m = function(element) {
            var id = DayPilot.guid();
            element.setAttribute("ss:ID", id);
            var $3w = $3h.createElement("ss:Alignment");
            element.appendChild($3w);
            var $3x = $3h.createElement("ss:Interior");
            element.appendChild($3x);
            var $3y = $3h.createElement("ss:Borders");
            element.appendChild($3y);
            this.setHorizontalAlignment = function($1Z) {
                $3w.setAttribute("ss:Horizontal", $1Z);
            };
            this.setVerticalAlignment = function($1Z) {
                $3w.setAttribute("ss:Vertical", $1Z);
            };
            this.setBackColor = function($1Z) {
                var $3z = DayPilot.Util.normalizeColor($1Z);
                $3x.setAttribute("ss:Color", $3z);
                $3x.setAttribute("ss:Pattern", "Solid");
            };
            this.setBorderColor = function($2X) {
                this.clearBorders();
                var $3A = createBorder("Left", $2X);
                $3y.appendChild($3A);
                var $3B = createBorder("Right", $2X);
                $3y.appendChild($3B);
                var $3C = createBorder("Top", $2X);
                $3y.appendChild($3C);
                var $3D = createBorder("Bottom", $2X);
                $3y.appendChild($3D);
                function createBorder($3E, $2X) {
                    var $3F = $3h.createElement("ss:Border");
                    $3F.setAttribute("ss:Position", $3E);
                    $3F.setAttribute("ss:LineStyle", "Continuous");
                    $3F.setAttribute("ss:Color", DayPilot.Util.normalizeColor($2X));
                    return $3F;
                }
            };
            this.clearBorders = function() {
                while ($3y.firstChild) {
                    $3y.removeChild($3y.firstChild);
                }
            };
            this.getId = function() {
                return id;
            };
            this.setId = function($1Z) {
                id = $1Z;
                element.setAttribute("ss:ID", id);
            };
            this.setName = function($1Z) {
                element.setAttribute("ss:Name", $1Z);
            };
        };
        this.init();
    };
    DayPilot.Exception = function($00) {
        this.message = $00;
    };
    DayPilot.Locale = function(id, $0k) {
        this.id = id;
        this.dayNames = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
        this.dayNamesShort = ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"];
        this.monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
        this.monthNamesShort = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
        this.datePattern = "M/d/yyyy";
        this.timePattern = "H:mm";
        this.dateTimePattern = "M/d/yyyy H:mm";
        this.timeFormat = "Clock12Hours";
        this.weekStarts = 0;
        if ($0k) {
            for (var name in $0k) {
                this[name] = $0k[name];
            }
        }
    };
    DayPilot.Locale.all = {};
    DayPilot.Locale.find = function(id) {
        if (!id) {
            return null;
        };
        var $3z = id.toLowerCase();
        if ($3z.length > 2) {
            $3z = DayPilot.Util.replaceCharAt($3z, 2, '-');
        };
        return DayPilot.Locale.all[$3z];
    };
    DayPilot.Locale.register = function($2j) {
        DayPilot.Locale.all[$2j.id] = $2j;
    };
    DayPilot.Locale.register(new DayPilot.Locale('ca-es', {
        'dayNames': ['diumenge', 'dilluns', 'dimarts', 'dimecres', 'dijous', 'divendres', 'dissabte'],
        'dayNamesShort': ['dg', 'dl', 'dt', 'dc', 'dj', 'dv', 'ds'],
        'monthNames': ['gener', 'febrer', 'març', 'abril', 'maig', 'juny', 'juliol', 'agost', 'setembre', 'octubre', 'novembre', 'desembre', ''],
        'monthNamesShort': ['gen.', 'febr.', 'març', 'abr.', 'maig', 'juny', 'jul.', 'ag.', 'set.', 'oct.', 'nov.', 'des.', ''],
        'timePattern': 'H:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('cs-cz', {
        'dayNames': ['neděle', 'pondělí', 'úterý', 'středa', 'čtvrtek', 'pátek', 'sobota'],
        'dayNamesShort': ['ne', 'po', 'út', 'st', 'čt', 'pá', 'so'],
        'monthNames': ['leden', 'únor', 'březen', 'duben', 'květen', 'červen', 'červenec', 'srpen', 'září', 'říjen', 'listopad', 'prosinec', ''],
        'monthNamesShort': ['I', 'II', 'III', 'IV', 'V', 'VI', 'VII', 'VIII', 'IX', 'X', 'XI', 'XII', ''],
        'timePattern': 'H:mm',
        'datePattern': 'd. M. yyyy',
        'dateTimePattern': 'd. M. yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('da-dk', {
        'dayNames': ['søndag', 'mandag', 'tirsdag', 'onsdag', 'torsdag', 'fredag', 'lørdag'],
        'dayNamesShort': ['sø', 'ma', 'ti', 'on', 'to', 'fr', 'lø'],
        'monthNames': ['januar', 'februar', 'marts', 'april', 'maj', 'juni', 'juli', 'august', 'september', 'oktober', 'november', 'december', ''],
        'monthNamesShort': ['jan', 'feb', 'mar', 'apr', 'maj', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'dec', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd-MM-yyyy',
        'dateTimePattern': 'dd-MM-yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('de-at', {
        'dayNames': ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
        'dayNamesShort': ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],
        'monthNames': ['Jänner', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember', ''],
        'monthNamesShort': ['Jän', 'Feb', 'Mär', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('de-ch', {
        'dayNames': ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
        'dayNamesShort': ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],
        'monthNames': ['Januar', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember', ''],
        'monthNamesShort': ['Jan', 'Feb', 'Mrz', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('de-de', {
        'dayNames': ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
        'dayNamesShort': ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],
        'monthNames': ['Januar', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember', ''],
        'monthNamesShort': ['Jan', 'Feb', 'Mrz', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('de-lu', {
        'dayNames': ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
        'dayNamesShort': ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],
        'monthNames': ['Januar', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember', ''],
        'monthNamesShort': ['Jan', 'Feb', 'Mrz', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('en-au', {
        'dayNames': ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
        'dayNamesShort': ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
        'monthNames': ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December', ''],
        'monthNamesShort': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', ''],
        'timePattern': 'h:mm tt',
        'datePattern': 'd/MM/yyyy',
        'dateTimePattern': 'd/MM/yyyy h:mm tt',
        'timeFormat': 'Clock12Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('en-ca', {
        'dayNames': ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
        'dayNamesShort': ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
        'monthNames': ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December', ''],
        'monthNamesShort': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', ''],
        'timePattern': 'h:mm tt',
        'datePattern': 'yyyy-MM-dd',
        'dateTimePattern': 'yyyy-MM-dd h:mm tt',
        'timeFormat': 'Clock12Hours',
        'weekStarts': 0
    }));
    DayPilot.Locale.register(new DayPilot.Locale('en-gb', {
        'dayNames': ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
        'dayNamesShort': ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
        'monthNames': ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December', ''],
        'monthNamesShort': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('en-us', {
        'dayNames': ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
        'dayNamesShort': ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
        'monthNames': ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December', ''],
        'monthNamesShort': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', ''],
        'timePattern': 'h:mm tt',
        'datePattern': 'M/d/yyyy',
        'dateTimePattern': 'M/d/yyyy h:mm tt',
        'timeFormat': 'Clock12Hours',
        'weekStarts': 0
    }));
    DayPilot.Locale.register(new DayPilot.Locale('es-es', {
        'dayNames': ['domingo', 'lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábado'],
        'dayNamesShort': ['D', 'L', 'M', 'X', 'J', 'V', 'S'],
        'monthNames': ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre', ''],
        'monthNamesShort': ['ene.', 'feb.', 'mar.', 'abr.', 'may.', 'jun.', 'jul.', 'ago.', 'sep.', 'oct.', 'nov.', 'dic.', ''],
        'timePattern': 'H:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('es-mx', {
        'dayNames': ['domingo', 'lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábado'],
        'dayNamesShort': ['do.', 'lu.', 'ma.', 'mi.', 'ju.', 'vi.', 'sá.'],
        'monthNames': ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre', ''],
        'monthNamesShort': ['ene.', 'feb.', 'mar.', 'abr.', 'may.', 'jun.', 'jul.', 'ago.', 'sep.', 'oct.', 'nov.', 'dic.', ''],
        'timePattern': 'hh:mm tt',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy hh:mm tt',
        'timeFormat': 'Clock12Hours',
        'weekStarts': 0
    }));
    DayPilot.Locale.register(new DayPilot.Locale('eu-es', {
        'dayNames': ['igandea', 'astelehena', 'asteartea', 'asteazkena', 'osteguna', 'ostirala', 'larunbata'],
        'dayNamesShort': ['ig', 'al', 'as', 'az', 'og', 'or', 'lr'],
        'monthNames': ['urtarrila', 'otsaila', 'martxoa', 'apirila', 'maiatza', 'ekaina', 'uztaila', 'abuztua', 'iraila', 'urria', 'azaroa', 'abendua', ''],
        'monthNamesShort': ['urt.', 'ots.', 'mar.', 'api.', 'mai.', 'eka.', 'uzt.', 'abu.', 'ira.', 'urr.', 'aza.', 'abe.', ''],
        'timePattern': 'H:mm',
        'datePattern': 'yyyy/MM/dd',
        'dateTimePattern': 'yyyy/MM/dd H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('fi-fi', {
        'dayNames': ['sunnuntai', 'maanantai', 'tiistai', 'keskiviikko', 'torstai', 'perjantai', 'lauantai'],
        'dayNamesShort': ['su', 'ma', 'ti', 'ke', 'to', 'pe', 'la'],
        'monthNames': ['tammikuu', 'helmikuu', 'maaliskuu', 'huhtikuu', 'toukokuu', 'kesäkuu', 'heinäkuu', 'elokuu', 'syyskuu', 'lokakuu', 'marraskuu', 'joulukuu', ''],
        'monthNamesShort': ['tammi', 'helmi', 'maalis', 'huhti', 'touko', 'kesä', 'heinä', 'elo', 'syys', 'loka', 'marras', 'joulu', ''],
        'timePattern': 'H:mm',
        'datePattern': 'd.M.yyyy',
        'dateTimePattern': 'd.M.yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('fr-be', {
        'dayNames': ['dimanche', 'lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi'],
        'dayNamesShort': ['di', 'lu', 'ma', 'me', 'je', 've', 'sa'],
        'monthNames': ['janvier', 'février', 'mars', 'avril', 'mai', 'juin', 'juillet', 'août', 'septembre', 'octobre', 'novembre', 'décembre', ''],
        'monthNamesShort': ['janv.', 'févr.', 'mars', 'avr.', 'mai', 'juin', 'juil.', 'août', 'sept.', 'oct.', 'nov.', 'déc.', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd-MM-yy',
        'dateTimePattern': 'dd-MM-yy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('fr-ca', {
        'dayNames': ['dimanche', 'lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi'],
        'dayNamesShort': ['di', 'lu', 'ma', 'me', 'je', 've', 'sa'],
        'monthNames': ['janvier', 'février', 'mars', 'avril', 'mai', 'juin', 'juillet', 'août', 'septembre', 'octobre', 'novembre', 'décembre', ''],
        'monthNamesShort': ['janv.', 'févr.', 'mars', 'avr.', 'mai', 'juin', 'juil.', 'août', 'sept.', 'oct.', 'nov.', 'déc.', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'yyyy-MM-dd',
        'dateTimePattern': 'yyyy-MM-dd HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 0
    }));
    DayPilot.Locale.register(new DayPilot.Locale('fr-ch', {
        'dayNames': ['dimanche', 'lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi'],
        'dayNamesShort': ['di', 'lu', 'ma', 'me', 'je', 've', 'sa'],
        'monthNames': ['janvier', 'février', 'mars', 'avril', 'mai', 'juin', 'juillet', 'août', 'septembre', 'octobre', 'novembre', 'décembre', ''],
        'monthNamesShort': ['janv.', 'févr.', 'mars', 'avr.', 'mai', 'juin', 'juil.', 'août', 'sept.', 'oct.', 'nov.', 'déc.', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('fr-fr', {
        'dayNames': ['dimanche', 'lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi'],
        'dayNamesShort': ['di', 'lu', 'ma', 'me', 'je', 've', 'sa'],
        'monthNames': ['janvier', 'février', 'mars', 'avril', 'mai', 'juin', 'juillet', 'août', 'septembre', 'octobre', 'novembre', 'décembre', ''],
        'monthNamesShort': ['janv.', 'févr.', 'mars', 'avr.', 'mai', 'juin', 'juil.', 'août', 'sept.', 'oct.', 'nov.', 'déc.', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('fr-lu', {
        'dayNames': ['dimanche', 'lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi'],
        'dayNamesShort': ['di', 'lu', 'ma', 'me', 'je', 've', 'sa'],
        'monthNames': ['janvier', 'février', 'mars', 'avril', 'mai', 'juin', 'juillet', 'août', 'septembre', 'octobre', 'novembre', 'décembre', ''],
        'monthNamesShort': ['janv.', 'févr.', 'mars', 'avr.', 'mai', 'juin', 'juil.', 'août', 'sept.', 'oct.', 'nov.', 'déc.', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('gl-es', {
        'dayNames': ['domingo', 'luns', 'martes', 'mércores', 'xoves', 'venres', 'sábado'],
        'dayNamesShort': ['do', 'lu', 'ma', 'mé', 'xo', 've', 'sá'],
        'monthNames': ['xaneiro', 'febreiro', 'marzo', 'abril', 'maio', 'xuño', 'xullo', 'agosto', 'setembro', 'outubro', 'novembro', 'decembro', ''],
        'monthNamesShort': ['xan', 'feb', 'mar', 'abr', 'maio', 'xuño', 'xul', 'ago', 'set', 'out', 'nov', 'dec', ''],
        'timePattern': 'H:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('it-it', {
        'dayNames': ['domenica', 'lunedì', 'martedì', 'mercoledì', 'giovedì', 'venerdì', 'sabato'],
        'dayNamesShort': ['do', 'lu', 'ma', 'me', 'gi', 've', 'sa'],
        'monthNames': ['gennaio', 'febbraio', 'marzo', 'aprile', 'maggio', 'giugno', 'luglio', 'agosto', 'settembre', 'ottobre', 'novembre', 'dicembre', ''],
        'monthNamesShort': ['gen', 'feb', 'mar', 'apr', 'mag', 'giu', 'lug', 'ago', 'set', 'ott', 'nov', 'dic', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('it-ch', {
        'dayNames': ['domenica', 'lunedì', 'martedì', 'mercoledì', 'giovedì', 'venerdì', 'sabato'],
        'dayNamesShort': ['do', 'lu', 'ma', 'me', 'gi', 've', 'sa'],
        'monthNames': ['gennaio', 'febbraio', 'marzo', 'aprile', 'maggio', 'giugno', 'luglio', 'agosto', 'settembre', 'ottobre', 'novembre', 'dicembre', ''],
        'monthNamesShort': ['gen', 'feb', 'mar', 'apr', 'mag', 'giu', 'lug', 'ago', 'set', 'ott', 'nov', 'dic', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('ja-jp', {
        'dayNames': ['日曜日', '月曜日', '火曜日', '水曜日', '木曜日', '金曜日', '土曜日'],
        'dayNamesShort': ['日', '月', '火', '水', '木', '金', '土'],
        'monthNames': ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月', ''],
        'monthNamesShort': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', ''],
        'timePattern': 'H:mm',
        'datePattern': 'yyyy/MM/dd',
        'dateTimePattern': 'yyyy/MM/dd H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 0
    }));
    DayPilot.Locale.register(new DayPilot.Locale('nb-no', {
        'dayNames': ['søndag', 'mandag', 'tirsdag', 'onsdag', 'torsdag', 'fredag', 'lørdag'],
        'dayNamesShort': ['sø', 'ma', 'ti', 'on', 'to', 'fr', 'lø'],
        'monthNames': ['januar', 'februar', 'mars', 'april', 'mai', 'juni', 'juli', 'august', 'september', 'oktober', 'november', 'desember', ''],
        'monthNamesShort': ['jan', 'feb', 'mar', 'apr', 'mai', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'des', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('nl-nl', {
        'dayNames': ['zondag', 'maandag', 'dinsdag', 'woensdag', 'donderdag', 'vrijdag', 'zaterdag'],
        'dayNamesShort': ['zo', 'ma', 'di', 'wo', 'do', 'vr', 'za'],
        'monthNames': ['januari', 'februari', 'maart', 'april', 'mei', 'juni', 'juli', 'augustus', 'september', 'oktober', 'november', 'december', ''],
        'monthNamesShort': ['jan', 'feb', 'mrt', 'apr', 'mei', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'dec', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'd-M-yyyy',
        'dateTimePattern': 'd-M-yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('nl-be', {
        'dayNames': ['zondag', 'maandag', 'dinsdag', 'woensdag', 'donderdag', 'vrijdag', 'zaterdag'],
        'dayNamesShort': ['zo', 'ma', 'di', 'wo', 'do', 'vr', 'za'],
        'monthNames': ['januari', 'februari', 'maart', 'april', 'mei', 'juni', 'juli', 'augustus', 'september', 'oktober', 'november', 'december', ''],
        'monthNamesShort': ['jan', 'feb', 'mrt', 'apr', 'mei', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'dec', ''],
        'timePattern': 'H:mm',
        'datePattern': 'd/MM/yyyy',
        'dateTimePattern': 'd/MM/yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('nn-no', {
        'dayNames': ['søndag', 'måndag', 'tysdag', 'onsdag', 'torsdag', 'fredag', 'laurdag'],
        'dayNamesShort': ['sø', 'må', 'ty', 'on', 'to', 'fr', 'la'],
        'monthNames': ['januar', 'februar', 'mars', 'april', 'mai', 'juni', 'juli', 'august', 'september', 'oktober', 'november', 'desember', ''],
        'monthNamesShort': ['jan', 'feb', 'mar', 'apr', 'mai', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'des', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('pt-br', {
        'dayNames': ['domingo', 'segunda-feira', 'terça-feira', 'quarta-feira', 'quinta-feira', 'sexta-feira', 'sábado'],
        'dayNamesShort': ['D', 'S', 'T', 'Q', 'Q', 'S', 'S'],
        'monthNames': ['janeiro', 'fevereiro', 'março', 'abril', 'maio', 'junho', 'julho', 'agosto', 'setembro', 'outubro', 'novembro', 'dezembro', ''],
        'monthNamesShort': ['jan', 'fev', 'mar', 'abr', 'mai', 'jun', 'jul', 'ago', 'set', 'out', 'nov', 'dez', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 0
    }));
    DayPilot.Locale.register(new DayPilot.Locale('pl-pl', {
        'dayNames': ['niedziela', 'poniedziałek', 'wtorek', 'środa', 'czwartek', 'piątek', 'sobota'],
        'dayNamesShort': ['N', 'Pn', 'Wt', 'Śr', 'Cz', 'Pt', 'So'],
        'monthNames': ['styczeń', 'luty', 'marzec', 'kwiecień', 'maj', 'czerwiec', 'lipiec', 'sierpień', 'wrzesień', 'październik', 'listopad', 'grudzień', ''],
        'monthNamesShort': ['sty', 'lut', 'mar', 'kwi', 'maj', 'cze', 'lip', 'sie', 'wrz', 'paź', 'lis', 'gru', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'yyyy-MM-dd',
        'dateTimePattern': 'yyyy-MM-dd HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('pt-pt', {
        'dayNames': ['domingo', 'segunda-feira', 'terça-feira', 'quarta-feira', 'quinta-feira', 'sexta-feira', 'sábado'],
        'dayNamesShort': ['D', 'S', 'T', 'Q', 'Q', 'S', 'S'],
        'monthNames': ['janeiro', 'fevereiro', 'março', 'abril', 'maio', 'junho', 'julho', 'agosto', 'setembro', 'outubro', 'novembro', 'dezembro', ''],
        'monthNamesShort': ['jan', 'fev', 'mar', 'abr', 'mai', 'jun', 'jul', 'ago', 'set', 'out', 'nov', 'dez', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 0
    }));
    DayPilot.Locale.register(new DayPilot.Locale('ro-ro', {
        'dayNames': ['duminică', 'luni', 'marți', 'miercuri', 'joi', 'vineri', 'sâmbătă'],
        'dayNamesShort': ['D', 'L', 'Ma', 'Mi', 'J', 'V', 'S'],
        'monthNames': ['ianuarie', 'februarie', 'martie', 'aprilie', 'mai', 'iunie', 'iulie', 'august', 'septembrie', 'octombrie', 'noiembrie', 'decembrie', ''],
        'monthNamesShort': ['ian.', 'feb.', 'mar.', 'apr.', 'mai.', 'iun.', 'iul.', 'aug.', 'sep.', 'oct.', 'nov.', 'dec.', ''],
        'timePattern': 'H:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('ru-ru', {
        'dayNames': ['воскресенье', 'понедельник', 'вторник', 'среда', 'четверг', 'пятница', 'суббота'],
        'dayNamesShort': ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'],
        'monthNames': ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь', ''],
        'monthNamesShort': ['янв', 'фев', 'мар', 'апр', 'май', 'июн', 'июл', 'авг', 'сен', 'окт', 'ноя', 'дек', ''],
        'timePattern': 'H:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('sk-sk', {
        'dayNames': ['nedeľa', 'pondelok', 'utorok', 'streda', 'štvrtok', 'piatok', 'sobota'],
        'dayNamesShort': ['ne', 'po', 'ut', 'st', 'št', 'pi', 'so'],
        'monthNames': ['január', 'február', 'marec', 'apríl', 'máj', 'jún', 'júl', 'august', 'september', 'október', 'november', 'december', ''],
        'monthNamesShort': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', ''],
        'timePattern': 'H:mm',
        'datePattern': 'd.M.yyyy',
        'dateTimePattern': 'd.M.yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('sv-se', {
        'dayNames': ['söndag', 'måndag', 'tisdag', 'onsdag', 'torsdag', 'fredag', 'lördag'],
        'dayNamesShort': ['sö', 'må', 'ti', 'on', 'to', 'fr', 'lö'],
        'monthNames': ['januari', 'februari', 'mars', 'april', 'maj', 'juni', 'juli', 'augusti', 'september', 'oktober', 'november', 'december', ''],
        'monthNamesShort': ['jan', 'feb', 'mar', 'apr', 'maj', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'dec', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'yyyy-MM-dd',
        'dateTimePattern': 'yyyy-MM-dd HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('tr-tr', {
        'dayNames': ['Pazar', 'Pazartesi', 'Salı', 'Çarşamba', 'Perşembe', 'Cuma', 'Cumartesi'],
        'dayNamesShort': ['Pz', 'Pt', 'Sa', 'Ça', 'Pe', 'Cu', 'Ct'],
        'monthNames': ['Ocak', 'Şubat', 'Mart', 'Nisan', 'Mayıs', 'Haziran', 'Temmuz', 'Ağustos', 'Eylül', 'Ekim', 'Kasım', 'Aralık', ''],
        'monthNamesShort': ['Oca', 'Şub', 'Mar', 'Nis', 'May', 'Haz', 'Tem', 'Ağu', 'Eyl', 'Eki', 'Kas', 'Ara', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'd.M.yyyy',
        'dateTimePattern': 'd.M.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('zh-cn', {
        'dayNames': ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'],
        'dayNamesShort': ['日', '一', '二', '三', '四', '五', '六'],
        'monthNames': ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月', ''],
        'monthNamesShort': ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月', ''],
        'timePattern': 'H:mm',
        'datePattern': 'yyyy/M/d',
        'dateTimePattern': 'yyyy/M/d H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.US = DayPilot.Locale.find("en-us");
    DayPilot.Switcher = function($0j) {
        var $3G = this;
        this.views = [];
        this.triggers = [];
        this.navigator = {};
        this.selectedClass = null;
        this.active = null;
        this.day = new DayPilot.Date();
        this.onChange = null;
        this.onChanged = null;
        this.navigator.updateMode = function($3H) {
            var $3I = $3G.navigator.control;
            if (!$3I) {
                return;
            };
            $3I.selectMode = $3H;
            $3I.select($3G.day);
        };
        this.addView = function($3J, $0j) {
            var element;
            if (typeof $3J === 'string') {
                element = document.getElementById($3J);
                if (!element) {
                    throw "Element not found: " + $3J;
                }
            } else {
                element = $3J;
            };
            var $3I = element;
            var $3K = {};
            $3K.isView = true;
            $3K.id = $3I.id;
            $3K.control = $3I;
            $3K.options = $0j || {};
            $3K.hide = function() {
                if ($3I.hide) {
                    $3I.hide();
                } else if ($3I.nav && $3I.nav.top) {
                    $3I.nav.top.style.display = 'none';
                } else {
                    $3I.style.display = 'none';
                }
            };
            $3K.sendNavigate = function($1V) {
                var $3L = (function() {
                    if ($3I.backendUrl) {
                        return true;
                    };
                    if (typeof WebForm_DoCallback === 'function' && $3I.uniqueID) {
                        return true;
                    };
                    return false;
                })();
                if ($3L) {
                    if ($3I.commandCallBack) {
                        $3I.commandCallBack("navigate", {
                            "day": $1V
                        });
                    }
                } else {
                    $3I.startDate = $1V;
                    $3I.update();
                }
            };
            $3K.show = function() {
                $3G.$4b();
                if ($3I.show) {
                    $3I.show();
                } else if ($3I.nav && $3I.nav.top) {
                    $3I.nav.top.style.display = '';
                } else {
                    $3I.style.display = '';
                }
            };
            $3K.selectMode = function() {
                if ($3K.options.navigatorSelectMode) {
                    return $3K.options.navigatorSelectMode;
                };
                if ($3I.isCalendar) {
                    switch ($3I.viewType) {
                        case "Day":
                            return "day";
                        case "Week":
                            return "week";
                        case "WorkWeek":
                            return "week";
                        default:
                            return "day";
                    }
                } else if ($3I.isMonth) {
                    switch ($3I.viewType) {
                        case "Month":
                            return "month";
                        case "Weeks":
                            return "week";
                        default:
                            return "day";
                    }
                };
                return "day";
            };
            this.views.push($3K);
            return $3K;
        };
        this.addTrigger = function(id, $3I) {
            var element;
            if (typeof id === 'string') {
                element = document.getElementById(id);
                if (!element) {
                    throw "Element not found: " + id;
                }
            } else {
                element = id;
            };
            var $3K = this.$4c($3I);
            if (!$3K) {
                $3K = this.addView($3I);
            };
            var $3M = {};
            $3M.isTrigger = true;
            $3M.element = element;
            $3M.id = element.id;
            $3M.view = $3K;
            $3M.onClick = function(ev) {
                $3G.show($3M);
                $3G.$4d($3M);
                ev = ev || window.event;
                if (ev) {
                    ev.preventDefault ? ev.preventDefault() : ev.returnValue = false;
                }
            };
            DayPilot.re(element, 'click', $3M.onClick);
            this.triggers.push($3M);
            return $3M;
        };
        this.addButton = this.addTrigger;
        this.select = function(id) {
            var $3M = this.$4e(id);
            if ($3M) {
                $3M.onClick();
            } else if (this.triggers.length > 0) {
                this.triggers[0].onClick();
            }
        };
        this.$4e = function(id) {
            for (var i = 0; i < this.triggers.length; i++) {
                var $3M = this.triggers[i];
                if ($3M.id === id) {
                    return $3M;
                }
            };
            return null;
        };
        this.$4d = function($3M) {
            if (!this.selectedClass) {
                return;
            };
            for (var i = 0; i < this.triggers.length; i++) {
                var s = this.triggers[i];
                DayPilot.Util.removeClass(s.element, this.selectedClass);
            };
            DayPilot.Util.addClass($3M.element, this.selectedClass);
        };
        this.addNavigator = function($3I) {
            $3G.navigator.control = $3I;
            $3I.timeRangeSelectedHandling = "JavaScript";
            $3I.onTimeRangeSelected = function() {
                var $s, end, $1M;
                if ($3I.api === 1) {
                    $s = arguments[0];
                    end = arguments[1];
                    $1M = arguments[2];
                } else {
                    var $Y = arguments[0];
                    $s = $Y.start;
                    end = $Y.end;
                    $1M = $Y.day;
                };
                $3G.day = $1M;
                navigate($s, end, $1M);
            };
        };
        this.show = function(el) {
            var $3K, $3M;
            if (el.isTrigger) {
                $3M = el;
                $3K = $3M.view;
            } else {
                $3K = el.isView ? el: this.$4c(el);
                if (this.active === $3K) {
                    return;
                }
            };
            if ($3G.onSelect) {
                var $Y = {};
                $Y.source = $3M ? $3M.element: null;
                $Y.target = $3K.control;
                $3G.onSelect($Y);
            };
            this.active = $3K;
            $3K.show();
            var $3H = $3K.selectMode();
            $3G.navigator.updateMode($3H);
        };
        this.$4c = function($3I) {
            for (var i = 0; i < this.views.length; i++) {
                if (this.views[i].control === $3I) {
                    return this.views[i];
                }
            };
            return null;
        };
        this.$4b = function() {
            for (var i = 0; i < this.views.length; i++) {
                this.views[i].hide();
            }
        };
        this.events = {};
        this.events.load = function($18, $1I, $1J) {
            if ($3G.active && $3G.active.control) {
                $3G.active.control.events.load($18, $1I, $1J);
            } else {
                throw "DayPilot.Switcher.events.load(): Active view not found";
            }
        };
        this.$4f = null;
        this.$4g = function() {
            if (!$0j) {
                return;
            };
            for (var name in $0j) {
                if (name === "triggers") {
                    DayPilot.list($0j.triggers).each(function($o) {
                        $3G.addTrigger($o.id, $o.view);
                    });
                } else if (name === "navigator") {
                    $3G.addNavigator($0j.navigator);
                } else {
                    $3G[name] = $0j[name];
                }
            }
        };
        this.$4g();
        function navigate($s, end, $1M) {
            var $Y = {};
            $Y.start = $s;
            $Y.end = end;
            $Y.day = $1M;
            $Y.target = $3G.active.control;
            $Y.preventDefault = function() {
                this.preventDefault.value = true;
            };
            var $0b = $3G.$4f;
            if ($0b) {
                if ($0b.start === $Y.start && $0b.end === $Y.end && $0b.day === $Y.day && $0b.target === $Y.target) {
                    return;
                }
            };
            $3G.$4f = $Y;
            if (typeof $3G.onChange === "function") {
                $3G.onChange($Y);
                if ($Y.preventDefault.value) {
                    return;
                }
            };
            if (typeof $3G.onTimeRangeSelect === "function") {
                $3G.onTimeRangeSelect($Y);
                if ($Y.preventDefault.value) {
                    return;
                }
            };
            $3G.active.sendNavigate($3G.day);
            if (typeof $3G.onChanged === "function") {
                $3G.onChanged($Y);
            };
            if (typeof $3G.onTimeRangeSelected === "function") {
                $3G.onTimeRangeSelected($Y);
            }
        }
    }; (function() {
        if (DayPilot.Global.defaultCss) {
            return;
        };
        var $T = DayPilot.sheet();
        $T.add(".bubble_default_main", "cursor: default;");
        $T.add(".bubble_default_main_inner", 'border-radius: 5px;font-size: 12px;padding: 4px;color: #666;background: #eeeeee; background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #ccc;-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);');
        $T.add(".calendar_default_main", "border: 1px solid #c0c0c0; font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;");
        $T.add(".calendar_default_main *, .calendar_default_main *:before, .calendar_default_main *:after", "box-sizing: content-box;");
        $T.add(".calendar_default_rowheader_inner,.calendar_default_cornerright_inner,.calendar_default_corner_inner,.calendar_default_colheader_inner,.calendar_default_alldayheader_inner", "color: #333;background: #f3f3f3;");
        $T.add(".calendar_default_cornerright_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;	border-bottom: 1px solid #c0c0c0;");
        $T.add(".calendar_default_rowheader_inner", "font-size: 16pt;text-align: right; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;");
        $T.add(".calendar_default_corner_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;");
        $T.add(".calendar_default_rowheader_minutes", "font-size:10px;vertical-align: super;padding-left: 2px;padding-right: 2px;");
        $T.add(".calendar_default_colheader_inner", "text-align: center; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;");
        $T.add(".calendar_default_cell_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #ddd;border-bottom: 1px solid #ddd; background: #f9f9f9;");
        $T.add(".calendar_default_cell_business .calendar_default_cell_inner", "background: #fff");
        $T.add(".calendar_default_alldayheader_inner", "text-align: center;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;");
        $T.add(".calendar_default_message", "opacity: 0.9;filter: alpha(opacity=90);	padding: 10px; color: #ffffff;background: #ffa216;");
        $T.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner", 'color: #666; border: 1px solid #999;');
        $T.add(".calendar_default_event_bar", "top: 0px;bottom: 0px;left: 0px;width: 4px;background-color: #9dc8e8;");
        $T.add(".calendar_default_event_bar_inner", "position: absolute;width: 4px;background-color: #1066a8;");
        $T.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner", 'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $T.add(".calendar_default_selected .calendar_default_event_inner", "background: #ddd;");
        $T.add(".calendar_default_alldayevent_inner", "position: absolute;top: 2px;bottom: 2px;left: 2px;right: 2px;padding: 2px;margin-right: 1px;font-size: 12px;");
        $T.add(".calendar_default_event_withheader .calendar_default_event_inner", "padding-top: 15px;");
        $T.add(".calendar_default_event", "cursor: default;");
        $T.add(".calendar_default_event_inner", "position: absolute;overflow: hidden;top: 0px;bottom: 0px;left: 0px;right: 0px;padding: 2px 2px 2px 6px;font-size: 12px;");
        $T.add(".calendar_default_shadow_inner", "background-color: #666666;	opacity: 0.5;filter: alpha(opacity=50);height: 100%;");
        $T.add(".calendar_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)'; cursor: pointer;");
        $T.add(".calendar_default_event_delete:hover", "opacity: 1;-ms-filter: none;");
        $T.add(".calendar_default_scroll_up", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAB3RJTUUH2wESDiYcrhwCiQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAARnQU1BAACxjwv8YQUAAACcSURBVHjaY2AgF9wWsTW6yGMlhi7OhC7AyMDQzMnBXIpFHAFuCtuaMTP+P8nA8P/b1x//FfW/HHuF1UQmxv+NUP1c3OxMVVhNvCVi683E8H8LXOY/w9+fTH81tF8fv4NiIpBRj+YoZtZ/LDUoJmKYhsVUpv0MDiyMDP96sIYV0FS2/8z9ICaLlOhvS4b/jC//MzC8xBG0vJeF7GQBlK0xdiUzCtsAAAAASUVORK5CYII=);");
        $T.add(".calendar_default_scroll_down", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAACqSURBVChTY7wpam3L9J+xmQEP+PGPKZZxP4MDi4zI78uMDIwa2NT+Z2DYovrmiC+TI8OBP/8ZmEqwGvif4e8vxr+FIDkmEKH25vBWBgbG0+iK/zEwLtF+ffwOXCGI8Y+BoRFFIdC030x/WmBiYBNhpgLdswNJ8RSYaSgmgk39z1gPUfj/29ef/9rwhQTDHRHbrbdEbLvRFcGthkkAra/9/uMvhkK8piNLAgCRpTnNn4AEmAAAAABJRU5ErkJggg==);");
        $T.add(".calendar_default_now", "background-color: red;");
        $T.add(".calendar_default_now:before", "content: ''; top: -5px; border-width: 5px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute; -moz-transform: scale(.9999);");
        $T.add(".menu_default_main", "font-family: Tahoma, Arial, Helvetica, Sans-Serif;font-size: 12px;border: 1px solid #dddddd;background-color: white;padding: 0px;cursor: default;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAABCAIAAABG0om7AAAAKXRFWHRDcmVhdGlvbiBUaW1lAHBvIDEwIDUgMjAxMCAyMjozMzo1OSArMDEwMGzy7+IAAAAHdElNRQfaBQoUJAesj4VUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAABGdBTUEAALGPC/xhBQAAABVJREFUeNpj/P//PwO1weMnT2RlZAAYuwX/4oA3BgAAAABJRU5ErkJggg==);background-repeat: repeat-y;xborder-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);");
        $T.add(".menu_default_main *, .menu_default_main *:before, .menu_default_main *:after", "box-sizing: content-box;");
        $T.add(".menu_default_title", "background-color: #f2f2f2;border-bottom: 1px solid gray;padding: 4px 4px 4px 37px;");
        $T.add(".menu_default_main a", "padding: 2px 2px 2px 35px;color: black;text-decoration: none;cursor: default;");
        $T.add(".menu_default_main a img", "margin-left: 6px;margin-top: 2px;");
        $T.add(".menu_default_item_text", "display: block;height: 20px;line-height: 20px; overflow:hidden;padding-left: 2px;padding-right: 20px;");
        $T.add(".menu_default_main a:hover", "background-color: #f3f3f3;");
        $T.add(".menu_default_main div div", "border-top: 1px solid #dddddd;margin-top: 2px;margin-bottom: 2px;margin-left: 28px;");
        $T.add(".menu_default_main a.menu_default_item_disabled", "color: #ccc");
        $T.add(".menu_default_item_haschildren.menu_default_item_haschildren_active", 'background: #eeeeee;background: -webkit-gradient(linear, left top, left bottom, from(#efefef), to(#e6e6e6));background: -webkit-linear-gradient(top, #efefef 0%, #e6e6e6);background: -moz-linear-gradient(top, #efefef 0%, #e6e6e6);background: -ms-linear-gradient(top, #efefef 0%, #e6e6e6);background: -o-linear-gradient(top, #efefef 0%, #e6e6e6);background: linear-gradient(top, #efefef 0%, #e6e6e6);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#efefef", endColorStr="#e6e6e6");');
        $T.add(".menu_default_item_haschildren a:before", "content: ''; border-width: 6px; border-color: transparent transparent transparent black; border-style: solid; width: 0px; height:0px; position: absolute; right: 5px; margin-top: 4px;");
        $T.add(".menu_default_item_icon", "position: absolute; top:0px; left: 0px; padding: 2px 2px 2px 8px;");
        $T.add(".menu_default_item a i", "height: 20px;line-height: 20px;");
        $T.add(".menubar_default_main", "border-bottom: 1px solid #ccc; font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;");
        $T.add(".menubar_default_item", "display: inline-block;  padding: 6px 10px; cursor: default;");
        $T.add(".menubar_default_item:hover", "background-color: #f2f2f2;");
        $T.add(".menubar_default_item_active", "background-color: #f2f2f2;");
        $T.add(".month_default_main", "border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;color: #333;");
        $T.add(".month_default_main *, .month_default_main *:before, .month_default_main *:after", "box-sizing: content-box;");
        $T.add(".month_default_cell_inner", "border-right: 1px solid #ddd;border-bottom: 1px solid #ddd;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;background-color: #f9f9f9;");
        $T.add(".month_default_cell_business .month_default_cell_inner", "background-color: #fff;");
        $T.add(".month_default_cell_header", "text-align: right;padding-right: 2px;");
        $T.add(".month_default_header_inner", 'text-align: center; vertical-align: middle;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;cursor: default;color: #333;background: #f3f3f3;');
        $T.add(".month_default_message", 'padding: 10px;opacity: 0.9;filter: alpha(opacity=90);color: #ffffff;background: #ffa216;background: -webkit-gradient(linear, left top, left bottom, from(#ffa216), to(#ff8400));background: -webkit-linear-gradient(top, #ffa216 0%, #ff8400);background: -moz-linear-gradient(top, #ffa216 0%, #ff8400);background: -ms-linear-gradient(top, #ffa216 0%, #ff8400);background: -o-linear-gradient(top, #ffa216 0%, #ff8400);background: linear-gradient(top, #ffa216 0%, #ff8400);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffa216", endColorStr="#ff8400");');
        $T.add(".month_default_event_inner", 'position: absolute;top: 0px;bottom: 0px;left: 1px;right: 1px;overflow:hidden;padding: 2px;padding-left: 5px;font-size: 12px;color: #333;background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #999;border-radius: 0px;');
        $T.add(".month_default_event_continueright .month_default_event_inner", "border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-right-style: dotted;");
        $T.add(".month_default_event_continueleft .month_default_event_inner", "border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-left-style: dotted;");
        $T.add(".month_default_event_hover .month_default_event_inner", 'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#e8e8e8));background: -webkit-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -moz-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -ms-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -o-linear-gradient(top, #ffffff 0%, #e8e8e8);background: linear-gradient(top, #ffffff 0%, #e8e8e8);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#e8e8e8");');
        $T.add(".month_default_selected .month_default_event_inner, .month_default_event_hover.month_default_selected .month_default_event_inner", "background: #ddd;");
        $T.add(".month_default_shadow_inner", "background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;");
        $T.add(".month_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;");
        $T.add(".month_default_event_delete:hover", "opacity: 1;-ms-filter: none;");
        $T.add(".month_default_event_timeleft", "color: #ccc; font-size: 8pt");
        $T.add(".month_default_event_timeright", "color: #ccc; font-size: 8pt; text-align: right;");
        $T.add(".navigator_default_main", "border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;");
        $T.add(".navigator_default_main *, .navigator_default_main *:before, .navigator_default_main *:after", "box-sizing: content-box;");
        $T.add(".navigator_default_month", "font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 11px;");
        $T.add(".navigator_default_day", "color: black;");
        $T.add(".navigator_default_weekend", "background-color: #f0f0f0;");
        $T.add(".navigator_default_dayheader", "color: black;");
        $T.add(".navigator_default_line", "border-bottom: 1px solid #c0c0c0;");
        $T.add(".navigator_default_dayother", "color: gray;");
        $T.add(".navigator_default_todaybox", "border: 1px solid red;");
        $T.add(".navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright", 'border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;');
        $T.add(".navigator_default_busy", "font-weight: bold;");
        $T.add(".navigator_default_cell", "text-align: center;");
        $T.add(".navigator_default_select .navigator_default_cell_box", "background-color: #FFE794; opacity: 0.5;");
        $T.add(".navigator_default_title", "text-align: center;");
        $T.add(".navigator_default_titleleft, .navigator_default_titleright", "text-align: center;");
        $T.add(".navigator_default_dayheader", "text-align: center;");
        $T.add(".navigator_default_weeknumber", "text-align: center;");
        $T.add(".scheduler_default_main *, .scheduler_default_main *:before, .scheduler_default_main *:after", "box-sizing: content-box;");
        $T.add(".scheduler_default_main", "box-sizing: content-box; border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;");
        $T.add(".scheduler_default_selected .scheduler_default_event_inner", "background: #ddd;");
        $T.add(".scheduler_default_timeheader", "cursor: default;color: #333;");
        $T.add(".scheduler_default_message", "opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;");
        $T.add(".scheduler_default_timeheadergroup,.scheduler_default_timeheadercol", "color: #333;background: #f3f3f3;");
        $T.add(".scheduler_default_rowheader,.scheduler_default_corner", "color: #333;background: #f3f3f3;");
        $T.add(".scheduler_default_rowheader.scheduler_default_rowheader_selected", "background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
        $T.add(".scheduler_default_rowheader_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #eee;padding: 2px;");
        $T.add(".scheduler_default_timeheadergroup, .scheduler_default_timeheadercol", "text-align: center;");
        $T.add(".scheduler_default_timeheadergroup_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;");
        $T.add(".scheduler_default_timeheadercol_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;");
        $T.add(".scheduler_default_divider, .scheduler_default_splitter", "background-color: #c0c0c0;");
        $T.add(".scheduler_default_divider_horizontal", "background-color: #c0c0c0;");
        $T.add(".scheduler_default_matrix_vertical_line", "background-color: #eee;");
        $T.add(".scheduler_default_matrix_vertical_break", "background-color: #000;");
        $T.add(".scheduler_default_matrix_horizontal_line", "background-color: #eee;");
        $T.add(".scheduler_default_resourcedivider", "background-color: #c0c0c0;");
        $T.add(".scheduler_default_shadow_inner", "background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;");
        $T.add(".scheduler_default_event", "font-size:12px;color:#333;");
        $T.add(".scheduler_default_event_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;");
        $T.add(".scheduler_default_event_bar", "top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;");
        $T.add(".scheduler_default_event_bar_inner", "position:absolute;height:4px;background-color:#1066a8;");
        $T.add(".scheduler_default_event_inner", 'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $T.add(".scheduler_default_event_float_inner", "padding:6px 2px 2px 8px;");
        $T.add(".scheduler_default_event_float_inner:after", 'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;');
        $T.add(".scheduler_default_columnheader_inner", "font-weight: bold;");
        $T.add(".scheduler_default_columnheader_splitter", "background-color: #666;opacity: 0.5;filter: alpha(opacity=50);");
        $T.add(".scheduler_default_columnheader_cell_inner", "padding: 2px;");
        $T.add(".scheduler_default_cell", "background-color: #f9f9f9;");
        $T.add(".scheduler_default_cell.scheduler_default_cell_business", "background-color: #fff;");
        $T.add(".scheduler_default_cell.scheduler_default_cell_business.scheduler_default_cell_selected,.scheduler_default_cell.scheduler_default_cell_selected", "background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
        $T.add(".scheduler_default_tree_image_no_children", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);");
        $T.add(".scheduler_default_tree_image_expand", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);");
        $T.add(".scheduler_default_tree_image_collapse", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);");
        $T.add(".scheduler_default_event_move_left", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $T.add(".scheduler_default_event_move_right", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $T.add(".scheduler_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;");
        $T.add(".scheduler_default_event_delete:hover", "opacity: 1;-ms-filter: none;");
        $T.add(".scheduler_default_rowmove_handle", "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;");
        $T.add(".scheduler_default_rowmove_source", "background-color: black; opacity: 0.2;");
        $T.add(".scheduler_default_rowmove_position_before, .scheduler_default_rowmove_position_after", "background-color: #999; height: 2px;");
        $T.add(".scheduler_default_rowmove_position_child", "margin-left: 10px; background-color: #999; height: 2px;");
        $T.add(".scheduler_default_rowmove_position_child:before", "content: '+'; color: #999; position: absolute; top: -8px; left: -10px;");
        $T.add(".scheduler_default_rowmove_position_forbidden", "background-color: red; height: 2px; margin-left: 10px;");
        $T.add(".scheduler_default_rowmove_position_forbidden:before", "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;");
        $T.add(".scheduler_default_link_horizontal", "border-bottom-style: solid; border-bottom-color: red");
        $T.add(".scheduler_default_link_vertical", "border-right-style: solid; border-right-color: red");
        $T.add(".scheduler_default_link_arrow_right:before", "content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;");
        $T.add(".scheduler_default_link_arrow_left:before", "content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;");
        $T.add(".scheduler_default_link_arrow_down:before", "content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;");
        $T.add(".scheduler_default_link_arrow_up:before", "content: ''; border-width: 6px; border-color: transparent transparent red transparent; border-style: solid; width: 0px; height:0px; position: absolute;");
        $T.add(".scheduler_default_shadow_overlap .scheduler_default_shadow_inner", "background-color: red;");
        $T.add(".scheduler_default_block", "background-color: gray; opacity: 0.5; filter: alpha(opacity=50);");
        $T.add(".scheduler_default_main .scheduler_default_event_group", "box-sizing: border-box; font-size:12px; color:#666; padding:4px 2px 2px 2px; overflow:hidden; border:1px solid #ccc; background-color: #fff;");
        $T.add(".scheduler_default_main .scheduler_default_header_icon", "box-sizing: border-box; border: 1px solid #c0c0c0; background-color: #f5f5f5; color: #000;");
        $T.add(".scheduler_default_header_icon:hover", "background-color: #ccc;");
        $T.add(".scheduler_default_header_icon_hide:before", "content: '\\00AB';");
        $T.add(".scheduler_default_header_icon_show:before", "content: '\\00BB';");
        $T.add(".scheduler_default_row_new .scheduler_default_rowheader_inner", "padding-left: 10px; color: #666; cursor: text; background-position: 0px 5px; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);");
        $T.add(".scheduler_default_row_new .scheduler_default_rowheader_inner:hover", "background: white; color: white;");
        $T.add(".scheduler_default_rowheader textarea", "padding: 3px;");
        $T.add(".scheduler_default_rowheader_scroll", "cursor: default;");
        try {
            $T.add(".scheduler_default_rowheader_scroll::-webkit-scrollbar", "display:none;");
        } catch(e) {};
        $T.add(".scheduler_default_shadow_forbidden .scheduler_default_shadow_inner", "background-color: red;");
        $T.add(".scheduler_default_event_moving_source", "opacity: 0.5; filter: alpha(opacity=50);");
        $T.add(".scheduler_default_linkpoint", "background-color: white; border: 1px solid gray; border-radius: 5px;");
        $T.add(".scheduler_default_linkpoint.scheduler_default_linkpoint_hover", "background-color: black;");
        $T.add(".scheduler_default_event.scheduler_default_event_version .scheduler_default_event_inner", "background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
        $T.add(".scheduler_default_crosshair_vertical, .scheduler_default_crosshair_horizontal, .scheduler_default_crosshair_left, .scheduler_default_crosshair_top", "background-color: gray; opacity: 0.2; filter: alpha(opacity=20)");
        $T.add(".gantt_default_selected .gantt_default_event_inner", "background: #ddd;");
        $T.add(".gantt_default_main", "border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;");
        $T.add(".gantt_default_main *, .gantt_default_main *:before, .gantt_default_main *:after", "box-sizing: content-box;");
        $T.add(".gantt_default_timeheader", "cursor: default;color: #666;");
        $T.add(".gantt_default_message", "opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;");
        $T.add(".gantt_default_timeheadergroup,.gantt_default_timeheadercol", "color: #333;background: #f3f3f3;");
        $T.add(".gantt_default_rowheader,.gantt_default_corner", "color: #333;background: #f3f3f3;");
        $T.add(".gantt_default_rowheader.gantt_default_rowheader_selected", "background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
        $T.add(".gantt_default_rowheader_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;padding: 2px;");
        $T.add(".gantt_default_timeheadergroup, .gantt_default_timeheadercol", "text-align: center;");
        $T.add(".gantt_default_timeheadergroup_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;border-bottom: 1px solid #aaa;");
        $T.add(".gantt_default_timeheadercol_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;");
        $T.add(".gantt_default_divider, .gantt_default_splitter", "background-color: #aaa;");
        $T.add(".gantt_default_divider_horizontal", "background-color: #aaa;");
        $T.add(".gantt_default_matrix_vertical_line", "background-color: #eee;");
        $T.add(".gantt_default_matrix_vertical_break", "background-color: #000;");
        $T.add(".gantt_default_matrix_horizontal_line", "background-color: #eee;");
        $T.add(".gantt_default_resourcedivider", "background-color: #aaa;");
        $T.add(".gantt_default_shadow_inner", "background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;");
        $T.add(".gantt_default_event", "font-size:12px;color:#666;");
        $T.add(".gantt_default_event_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;");
        $T.add(".gantt_default_event_bar", "top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;");
        $T.add(".gantt_default_event_bar_inner", "position:absolute;height:4px;background-color:#1066a8;");
        $T.add(".gantt_default_event_inner", 'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $T.add(".gantt_default_event_float_inner", "padding:6px 2px 2px 8px;");
        $T.add(".gantt_default_event_float_inner:after", 'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;');
        $T.add(".gantt_default_columnheader_inner", "font-weight: bold;");
        $T.add(".gantt_default_columnheader_splitter", "background-color: #666;opacity: 0.5;filter: alpha(opacity=50);");
        $T.add(".gantt_default_columnheader_cell_inner", "padding: 2px;");
        $T.add(".gantt_default_cell", "background-color: #f9f9f9;");
        $T.add(".gantt_default_cell.gantt_default_cell_business", "background-color: #fff;");
        $T.add(".gantt_default_cell.gantt_default_cell_business.gantt_default_cell_selected,.gantt_default_cell.gantt_default_cell_selected", "background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
        $T.add(".gantt_default_tree_image_no_children", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);");
        $T.add(".gantt_default_tree_image_expand", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);");
        $T.add(".gantt_default_tree_image_collapse", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);");
        $T.add(".gantt_default_event_move_left", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $T.add(".gantt_default_event_move_right", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $T.add(".gantt_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;");
        $T.add(".gantt_default_event_delete:hover", "opacity: 1;-ms-filter: none;");
        $T.add(".gantt_default_rowmove_handle", "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;");
        $T.add(".gantt_default_rowmove_source", "background-color: black; opacity: 0.2;");
        $T.add(".gantt_default_rowmove_position_before, .gantt_default_rowmove_position_after", "background-color: #999; height: 2px;");
        $T.add(".gantt_default_rowmove_position_child", "margin-left: 10px; background-color: #999; height: 2px;");
        $T.add(".gantt_default_rowmove_position_child:before", "content: '+'; color: #999; position: absolute; top: -8px; left: -10px;");
        $T.add(".gantt_default_rowmove_position_forbidden", "background-color: red; height: 2px; margin-left: 10px;");
        $T.add(".gantt_default_rowmove_position_forbidden:before", "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;");
        $T.add(".gantt_default_task_group .gantt_default_event_inner", "position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: blue; filter: none; border: 0px none;");
        $T.add(".gantt_default_task_group.gantt_default_event:before", "content:''; border-color: transparent transparent transparent blue; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;");
        $T.add(".gantt_default_task_group.gantt_default_event:after", "content:''; border-color: transparent blue transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;");
        $T.add(".gantt_default_task_milestone .gantt_default_event_inner", "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: green; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;");
        $T.add(".gantt_default_browser_ie8 .gantt_default_task_milestone .gantt_default_event_inner", "-ms-filter: \"progid:$3N.Microsoft.Matrix($3O='auto expand',$3P=0.7071067811865476,$3Q=-0.7071067811865475,$3R=0.7071067811865475,$3S=0.7071067811865476);\"");
        $T.add(".gantt_default_event_left", "white-space: nowrap; padding-top: 5px; color: #666; cursor: default;");
        $T.add(".gantt_default_event_right", "white-space: nowrap; padding-top: 5px; color: #666; cursor: default;");
        $T.add(".gantt_default_link_horizontal", "border-bottom-style: solid; border-bottom-color: red;");
        $T.add(".gantt_default_link_vertical", "border-right-style: solid; border-right-color: red;");
        $T.add(".gantt_default_link_arrow_right:before", "content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;");
        $T.add(".gantt_default_link_arrow_left:before", "content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;");
        $T.add(".gantt_default_link_arrow_down:before", "content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;");
        $T.add(".gantt_default_link_arrow_up:before", "content: ''; border-width: 6px; border-color: transparent transparent red transparent; border-style: solid; width: 0px; height:0px; position: absolute;");
        $T.add(".gantt_default_shadow_overlap .gantt_default_shadow_inner", "background-color: red;");
        $T.add(".gantt_default_block", "background-color: gray; opacity: 0.5; filter: alpha(opacity=50);");
        $T.add(".gantt_default_link_hover", "box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)");
        $T.add(".gantt_default_main .gantt_default_header_icon", "box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;");
        $T.add(".gantt_default_header_icon:hover", "background-color: #ccc;");
        $T.add(".gantt_default_header_icon_hide:before", "content: '\\00AB';");
        $T.add(".gantt_default_header_icon_show:before", "content: '\\00BB';");
        $T.add(".gantt_default_row_new .gantt_default_rowheader_inner", "cursor: text; background-position: 0 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);");
        $T.add(".gantt_default_row_new .gantt_default_rowheader_inner:hover", "background: white;");
        $T.add(".gantt_default_rowheader textarea", "padding: 5px;");
        $T.add(".gantt_default_rowheader_scroll", "cursor: default;");
        $T.add(".gantt_default_shadow_forbidden .gantt_default_shadow_inner", "background-color: red;");
        $T.add(".gantt_default_event_moving_source", "opacity: 0.5; filter: alpha(opacity=50);");
        $T.add(".gantt_default_event.gantt_default_event_version .gantt_default_event_inner", "background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
        $T.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event:before", "border:0;");
        $T.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before", 'content:"";border-color: transparent #fff transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;left:-4px;');
        $T.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner", "padding-left: 8px;");
        $T.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before", 'content:"";border-color: transparent #000 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;left:-4px;');
        $T.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event:after", "border:0;");
        $T.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after", 'content:"";border-color: transparent transparent transparent #fff;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;right:-2px;');
        $T.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner", "padding-right: 8px;");
        $T.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after", 'content:"";border-color: transparent transparent transparent #000;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;right:-2px;');
        $T.add(".gantt_default_linkpoint", "background-color: white; border: 1px solid gray; border-radius: 5px;");
        $T.add(".gantt_default_linkpoint.gantt_default_linkpoint_hover", "background-color: black;");
        $T.add(".gantt_default_crosshair_vertical, .gantt_default_crosshair_horizontal, .gantt_default_crosshair_left, .gantt_default_crosshair_top", "background-color: gray; opacity: 0.2; filter: alpha(opacity=20)");
        $T.add(".kanban_default_main *, .kanban_default_main *:before, .kanban_default_main *:after", "box-sizing: content-box;");
        $T.add(".kanban_default_main", "box-sizing: content-box; border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;");
        $T.add(".kanban_default_selected .kanban_default_event_inner", "background: #ddd;");
        $T.add(".kanban_default_timeheader", "cursor: default;color: #333;");
        $T.add(".kanban_default_message", "opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;");
        $T.add(".kanban_default_colheadercell", "color: #333;background: #f3f3f3;");
        $T.add(".kanban_default_rowheader,.kanban_default_corner", "color: #333;background: #f3f3f3;");
        $T.add(".kanban_default_rowheader.kanban_default_rowheader_selected", "background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
        $T.add(".kanban_default_rowheader_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #f3f3f3;padding: 2px;");
        $T.add(".kanban_default_colheadercell", "text-align: center;");
        $T.add(".kanban_default_colheadercell_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;");
        $T.add(".kanban_default_divider, .kanban_default_splitter", "background-color: #c0c0c0;");
        $T.add(".kanban_default_divider_horizontal", "background-color: #c0c0c0;");
        $T.add(".kanban_default_matrix_vertical_line", "background-color: #eee;");
        $T.add(".kanban_default_matrix_vertical_break", "background-color: #000;");
        $T.add(".kanban_default_matrix_horizontal_line", "background-color: #eee;");
        $T.add(".kanban_default_rowheaderdivider", "background-color: #c0c0c0;");
        $T.add(".kanban_default_shadow_inner", "background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;");
        $T.add(".kanban_default_card", "font-size:12px;color:#333;");
        $T.add(".kanban_default_card_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;");
        $T.add(".kanban_default_card_inner", 'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $T.add(".kanban_default_cell", "background-color: #fff;");
        $T.add(".kanban_default_cell.kanban_default_cell_selected", "background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
        $T.add(".kanban_default_tree_image_no_children", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);");
        $T.add(".kanban_default_tree_image_expand", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);");
        $T.add(".kanban_default_tree_image_collapse", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);");
        $T.add(".kanban_default_card_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;");
        $T.add(".kanban_default_card_delete:hover", "opacity: 1;-ms-filter: none;");
        $T.add(".kanban_default_rowmove_source", "background-color: black; opacity: 0.2;");
        $T.add(".kanban_default_rowmove_position_before, .kanban_default_rowmove_position_after", "background-color: #999; height: 2px;");
        $T.add(".kanban_default_rowmove_position_forbidden", "background-color: red; height: 2px; margin-left: 10px;");
        $T.add(".kanban_default_rowmove_position_forbidden:before", "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;");
        $T.add(".kanban_default_block", "background-color: gray; opacity: 0.5; filter: alpha(opacity=50);");
        $T.add(".kanban_default_main .kanban_default_header_icon", "box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;");
        $T.add(".kanban_default_header_icon:hover", "background-color: #ccc;");
        $T.add(".kanban_default_header_icon_hide:before", "content: '\\00AB';");
        $T.add(".kanban_default_header_icon_show:before", "content: '\\00BB';");
        $T.add(".kanban_default_row_new .kanban_default_rowheader_inner", "cursor: text; background-position: 0px 5px; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);");
        $T.add(".kanban_default_row_new .kanban_default_rowheader_inner:hover", "background: white;");
        $T.add(".kanban_default_rowheader textarea", "padding: 3px;");
        $T.add(".kanban_default_rowheader_scroll", "cursor: default;");
        $T.add(".kanban_default_card_moving_source", "opacity: 0.5; filter: alpha(opacity=50);");
        $T.add(".kanban_default_card .kanban_default_card_inner", "padding: 5px 5px 5px 10px;");
        $T.add(".kanban_default_cell", "background-color: #fff;");
        $T.add(".kanban_default_rowmove_handle", "opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;");
        $T.add(".kanban_default_card_header", "font-size: 120%; font-weight: bold;");
        $T.add(".kanban_default_card_bar", "background-color: #cc0000; cursor:move;");
        $T.add(".kanban_default_cell.kanban_default_collapsed", "background-color: #eee;");
        $T.add(".kanban_default_swimlane_collapse", "cursor:pointer; border: 1px solid #ccc; text-align:center;");
        $T.add(".kanban_default_swimlane_collapse:before", "content: '^';");
        $T.add(".kanban_default_swimlane_expand", "cursor:pointer; border: 1px solid #ccc; text-align:center;");
        $T.add(".kanban_default_swimlane_expand:before", "content: '>';");
        $T.add(".kanban_default_columnmove_handle", "opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;");
        $T.add(".kanban_default_columnmove_position", "background-color: #333;");
        $T.add(".kanban_default_crosshair_vertical, .kanban_default_crosshair_horizontal, .kanban_default_crosshair_left, .kanban_default_crosshair_top", "background-color: gray; opacity: 0.2; filter: alpha(opacity=20)");
        $T.commit();
        DayPilot.Global.defaultCss = true;
    })();
    var $3T = function(id) {
        var $3G = this;
        this.id = id;
        this.widths = [];
        this.titles = [];
        this.height = null;
        this.splitterWidth = 3;
        this.css = {};
        this.css.title = null;
        this.css.titleInner = null;
        this.css.splitter = null;
        this.blocks = [];
        this.drag = {};
        this.updated = function() {};
        this.updating = function() {};
        this.init = function() {
            var $a;
            if (!id) {
                throw "error: id not provided";
            } else if (typeof id === 'string') {
                $a = document.getElementById(id);
            } else if (id.appendChild) {
                $a = id;
            } else {
                throw "error: invalid object provided";
            };
            this.div = $a;
            this.blocks = [];
            for (var i = 0; i < this.widths.length; i++) {
                var s = document.createElement("div");
                s.style.display = "inline-block";
                if ($3G.height !== null) {
                    s.style.height = $3G.height + "px";
                } else {
                    s.style.height = "100%";
                };
                s.style.width = (this.widths[i] - this.splitterWidth) + "px";
                s.style.overflow = 'hidden';
                s.style.verticalAlign = "top";
                s.style.position = "relative";
                s.setAttribute("unselectable", "on");
                s.className = this.css.title;
                $a.appendChild(s);
                var $0i = document.createElement("div");
                $0i.innerHTML = this.titles[i];
                $0i.setAttribute("unselectable", "on");
                $0i.className = this.css.titleInner;
                s.appendChild($0i);
                var $3U = document.createElement("div");
                $3U.style.display = "inline-block";
                if ($3G.height !== null) {
                    $3U.style.height = $3G.height + "px";
                } else {
                    $3U.style.height = "100%";
                };
                $3U.style.width = this.splitterWidth + "px";
                $3U.style.position = "relative";
                $3U.appendChild(document.createElement("div"));
                $3U.style.cursor = "col-resize";
                $3U.setAttribute("unselectable", "on");
                $3U.className = this.css.splitter;
                var $1r = {};
                $1r.index = i;
                $1r.width = this.widths[i];
                $3U.data = $1r;
                $3U.onmousedown = function(ev) {
                    $3G.drag.start = DayPilot.page(ev);
                    $3G.drag.data = this.data;
                    $3G.div.style.cursor = "col-resize";
                    ev = ev || window.event;
                    ev.preventDefault ? ev.preventDefault() : ev.returnValue = false;
                };
                $a.appendChild($3U);
                var $3V = {};
                $3V.section = s;
                $3V.handle = $3U;
                this.blocks.push($3V);
            };
            this.registerGlobalHandlers();
        };
        this.updateWidths = function() {
            for (var i = 0; i < this.blocks.length; i++) {
                var $3V = this.blocks[i];
                var $x = this.widths[i];
                $3V.handle.data.width = $x;
                this.$4h(i);
            }
        };
        this.$4h = function(i) {
            var $3V = this.blocks[i];
            var $x = this.widths[i];
            $3V.section.style.width = ($x - this.splitterWidth) + "px";
        };
        this.totalWidth = function() {
            var t = 0;
            for (var i = 0; i < this.widths.length; i++) {
                t += this.widths[i];
            };
            return t;
        };
        this.gMouseMove = function(ev) {
            if (!$3G.drag.start) {
                return;
            };
            var $1r = $3G.drag.data;
            var $3W = DayPilot.page(ev);
            var $3X = $3W.x - $3G.drag.start.x;
            var i = $1r.index;
            $3G.widths[i] = Math.max(5, $1r.width + $3X);
            $3G.$4h(i);
            var $1q = {};
            $1q.widths = this.widths;
            $1q.index = $1r.index;
            $3G.updating($1q);
        };
        this.gMouseUp = function(ev) {
            if (!$3G.drag.start) {
                return;
            };
            $3G.drag.start = null;
            document.body.style.cursor = "";
            $3G.div.style.cursor = "";
            var $1r = $3G.drag.data;
            $1r.width = $3G.widths[$1r.index];
            var $1q = {};
            $1q.widths = this.widths;
            $1q.index = $1r.index;
            $3G.updated($1q);
        };
        this.registerGlobalHandlers = function() {
            DayPilot.re(document, 'mousemove', this.gMouseMove);
            DayPilot.re(document, 'mouseup', this.gMouseUp);
        };
    };
    DayPilot.Splitter = $3T;
})();
DayPilot.JSON = {}; (function() {
    function f(n) {
        return n < 10 ? '0' + n: n;
    };
    if (typeof Date.prototype.toJSON !== 'function') {
        Date.prototype.toJSON = function() {
            return isFinite(this.valueOf()) ? this.getUTCFullYear() + '-' + f(this.getUTCMonth() + 1) + '-' + f(this.getUTCDate()) + 'T' + f(this.getUTCHours()) + ':' + f(this.getUTCMinutes()) + ':' + f(this.getUTCSeconds()) + 'Z': null;
        };
    };
    if (typeof String.prototype.toJSON !== 'function') {
        String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function($1w) {
            return this.valueOf();
        };
    };
    var cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
        $3Y = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
        $3Z, $40, $41 = {
            '\b': '\\b',
            '\t': '\\t',
            '\n': '\\n',
            '\f': '\\f',
            '\r': '\\r',
            '"': '\\"',
            '\\': '\\\\'
        },
        $42;
    function quote($07) {
        $3Y.lastIndex = 0;
        return $3Y.test($07) ? '"' + $07.replace($3Y,
                function(a) {
                    var c = $41[a];
                    if (typeof c === 'string') {
                        return c;
                    };
                    return '\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice( - 4);
                }) + '"': '"' + $07 + '"';
    };
    function str($1w, $43) {
        var i, k, v, length, $44 = $3Z,
            $45, $1Z = $43[$1w];
        if ($1Z && typeof $1Z === 'object' && typeof $1Z.toJSON === 'function' && !$1Z.ignoreToJSON) {
            $1Z = $1Z.toJSON($1w);
        };
        if (typeof $42 === 'function') {
            $1Z = $42.call($43, $1w, $1Z);
        };
        switch (typeof $1Z) {
            case 'string':
                return quote($1Z);
            case 'number':
                return isFinite($1Z) ? String($1Z) : 'null';
            case 'boolean':
            case 'null':
                return String($1Z);
            case 'object':
                if (!$1Z) {
                    return 'null';
                };
                $3Z += $40;
                $45 = [];
                if (typeof $1Z.length === 'number' && !$1Z.propertyIsEnumerable('length')) {
                    length = $1Z.length;
                    for (i = 0; i < length; i += 1) {
                        $45[i] = str(i, $1Z) || 'null';
                    };
                    v = $45.length === 0 ? '[]': $3Z ? '[\n' + $3Z + $45.join(',\n' + $3Z) + '\n' + $44 + ']': '[' + $45.join(',') + ']';
                    $3Z = $44;
                    return v;
                };
                if ($42 && typeof $42 === 'object') {
                    length = $42.length;
                    for (i = 0; i < length; i += 1) {
                        k = $42[i];
                        if (typeof k === 'string') {
                            v = str(k, $1Z);
                            if (v) {
                                $45.push(quote(k) + ($3Z ? ': ': ':') + v);
                            }
                        }
                    }
                } else {
                    for (k in $1Z) {
                        if (Object.hasOwnProperty.call($1Z, k)) {
                            v = str(k, $1Z);
                            if (v) {
                                $45.push(quote(k) + ($3Z ? ': ': ':') + v);
                            }
                        }
                    }
                };
                v = ($45.length === 0) ? '{\u007D': $3Z ? '{\n' + $3Z + $45.join(',\n' + $3Z) + '\n' + $44 + '\u007D': '{' + $45.join(',') + '\u007D';
                $3Z = $44;
                return v;
        }
    };
    DayPilot.JSON.stringify = function($1Z, $46, $47) {
        if (typeof JSON !== "undefined" && JSON.stringify) {
            return JSON.stringify($1Z, $46, $47);
        };
        var i;
        $3Z = '';
        $40 = '';
        if (typeof $47 === 'number') {
            for (i = 0; i < $47; i += 1) {
                $40 += ' ';
            }
        } else if (typeof $47 === 'string') {
            $40 = $47;
        };
        $42 = $46;
        if ($46 && typeof $46 !== 'function' && (typeof $46 !== 'object' || typeof $46.length !== 'number')) {
            throw new Error('JSON.stringify');
        };
        return str('', {
            '': $1Z
        });
    };
    DayPilot.JSON.parse = function($02, $48) {
        var j;
        function walk($43, $1w) {
            var k, v, $1Z = $43[$1w];
            if ($1Z && typeof $1Z === 'object') {
                for (k in $1Z) {
                    if (Object.prototype.hasOwnProperty.call($1Z, k)) {
                        v = walk($1Z, k);
                        if (v !== undefined) {
                            $1Z[k] = v;
                        } else {
                            delete $1Z[k];
                        }
                    }
                }
            };
            return $48.call($43, $1w, $1Z);
        };
        $02 = String($02);
        cx.lastIndex = 0;
        if (cx.test($02)) {
            $02 = $02.replace(cx,
                function(a) {
                    return '\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice( - 4);
                });
        };
        if (/^[\],:{};\s]*$/.test($02.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, ']').replace(/(?:^|:|,)(?:\s*\[)+/g, ''))) {
            j = eval('(' + $02 + ')');
            return typeof $48 === 'function' ? walk({
                        '': j
                    },
                    '') : j;
        };
        throw new SyntaxError('JSON.parse');
    };
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
if (typeof DayPilotBubble === 'undefined') {
    var DayPilotBubble = DayPilot.BubbleVisible = {};
}; (function() {
    if (typeof DayPilot.Bubble !== 'undefined') {
        return;
    };
    var DayPilotBubble = {};
    DayPilotBubble.mouseMove = function(ev) {
        if (typeof(DayPilotBubble) === 'undefined') {
            return;
        };
        DayPilotBubble.mouse = DayPilotBubble.mousePosition(ev);
        var b = DayPilotBubble.active;
        if (b && b.$T.showPosition) {
            var $a = b.$T.showPosition;
            var $b = DayPilotBubble.mouse;
            if ($a.clientX !== $b.clientX || $a.clientY !== $b.clientY) {}
        }
    };
    DayPilotBubble.touchPosition = function(ev) {
        if (!ev || !ev.touches) {
            return null;
        };
        var $c = ev.touches[0];
        var $d = {};
        $d.x = $c.pageX;
        $d.y = $c.pageY;
        $d.clientX = $c.clientX;
        $d.clientY = $c.clientY;
        return $d;
    };
    DayPilotBubble.mousePosition = function(e) {
        var $e = DayPilot.page(e);
        if (e) {
            $e.clientY = e.clientY;
            $e.clientX = e.clientX;
        };
        return $e;
    };
    DayPilot.Bubble = function($f) {
        this.v = '2607';
        var $g = this;
        var $h = {};
        this.cssOnly = true;
        this.hideAfter = 500;
        this.loadingText = "Loading...";
        this.animated = true;
        this.animation = "fast";
        this.position = "EventTop";
        this.hideOnClick = true;
        this.showAfter = 500;
        this.showLoadingLabel = true;
        this.zIndex = 10;
        this.theme = "bubble_default";
        this.$T = function() {};
        this.callBack = function($i) {
            if (this.aspnet()) {
                WebForm_DoCallback(this.uniqueID, DayPilot.JSON.stringify($i), this.updateView, this, this.callbackError, true);
            } else {
                if ($i.calendar.internal.bubbleCallBack) {
                    $i.calendar.internal.bubbleCallBack($i, this);
                } else {
                    $i.calendar.bubbleCallBack($i, this);
                }
            }
        };
        this.callbackError = function($e, $j) {
            alert($e);
        };
        this.updateView = function($e, $j) {
            if ($g !== $j) {
                throw "Callback object mismatch (internal error)";
            };
            if (!$e) {
                $g.removeDiv();
                $g.removeShadow();
                return;
            };
            DayPilotBubble.active = $g;
            if ($g) {
                if ($h.div) {
                    $h.div.firstChild.innerHTML = $e;
                };
                $g.adjustPosition();
                if (!$g.animated) {
                    $g.addShadow();
                }
            }
        };
        this.init = function() {};
        this.aspnet = function() {
            return (typeof WebForm_DoCallback !== 'undefined');
        };
        this.rounded = function() {
            return this.corners === 'Rounded';
        };
        this.showEvent = function(e, $k) {
            var a = new DayPilotBubble.CallBackArgs(e.calendar || e.root, 'Event', e, e.bubbleHtml ? e.bubbleHtml() : null);
            if ($k) {
                this.show(a);
            } else {
                this.showOnMouseOver(a);
            }
        };
        this.showCell = function($l) {
            var a = new DayPilotBubble.CallBackArgs($l.calendar || $l.root, 'Cell', $l, $l.staticBubbleHTML ? $l.staticBubbleHTML() : null);
            this.showOnMouseOver(a);
        };
        this.showTime = function($m) {
            var a = new DayPilotBubble.CallBackArgs($m.calendar || $m.root, 'Time', $m, $m.staticBubbleHTML ? $m.staticBubbleHTML() : null);
            this.showOnMouseOver(a);
        };
        this.showResource = function($n) {
            var a = new DayPilotBubble.CallBackArgs($n.calendar || $n.root, 'Resource', $n, $n.bubbleHtml ? $n.bubbleHtml() : null);
            this.showOnMouseOver(a);
        };
        this.showHtml = function($o, $p) {
            var a = new DayPilotBubble.CallBackArgs(null, 'Html', null, $o);
            a.div = $p;
            this.show(a);
        };
        this.show = function($q) {
            var $r = this.animated;
            this.$T.showPosition = DayPilotBubble.mouse;
            if (!DayPilotBubble.mouse) {
                setTimeout(function() {
                        $g.show($q);
                    },
                    100);
                return;
            };
            var id;
            try {
                id = DayPilot.JSON.stringify($q.object);
            } catch(e) {
                return;
            };
            if (DayPilotBubble.active === this && this.$T.sourceId === id) {
                return;
            };
            if (typeof DayPilot.Menu !== 'undefined' && DayPilot.Menu.active) {
                return;
            };
            if (!$g.cssOnly) {
                $g.cssOnly = true;
                DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");
            };
            DayPilotBubble.hideActive();
            DayPilotBubble.active = this;
            this.$T.sourceId = id;
            var $p = document.createElement("div");
            $p.setAttribute("unselectable", "on");
            $p.style.position = 'absolute';
            if (!this.showLoadingLabel) {
                $p.style.display = 'none';
            };
            if (!this.cssOnly) {
                if (this.width) {
                    $p.style.width = this.width;
                };
                $p.style.cursor = 'default';
            } else {
                $p.className = this.$U("_main");
            };
            $p.style.top = '0px';
            $p.style.left = '0px';
            $p.style.zIndex = this.zIndex + 1;
            if ($r) {
                $p.style.visibility = 'hidden';
            };
            if (this.hideOnClick) {
                $p.onclick = function() {
                    DayPilotBubble.hideActive();
                };
            };
            $p.onmousemove = function(e) {
                DayPilotBubble.cancelTimeout();
                var e = e || window.event;
                e.cancelBubble = true;
            };
            $p.oncontextmenu = function() {
                return false;
            };
            $p.onmouseout = this.delayedHide;
            var $s = document.createElement("div");
            $p.appendChild($s);
            if (this.cssOnly) {
                $s.className = this.$U("_main_inner");
            } else {
                $s.style.padding = '4px';
                if (this.border) {
                    $s.style.border = this.border;
                };
                if (this.rounded()) {
                    $s.style.MozBorderRadius = "5px";
                    $s.style.webkitBorderRadius = "5px";
                    $s.style.borderRadius = "5px";
                };
                $s.style.backgroundColor = this.backgroundColor;
            };
            $s.innerHTML = this.loadingText;
            document.body.appendChild($p);
            $h.div = $p;
            var $p = this.getDiv($q);
            if (this.position === "EventTop" && $p) {
                var $t = 2;
                var $u = DayPilot.abs($p, true);
                this.$T.mouse = DayPilotBubble.mouse;
                this.$T.mouse.x = $u.x;
                this.$T.mouse.y = $u.y;
                this.$T.mouse.h = $u.h + $t;
                this.$T.mouse.w = $u.w;
            } else {
                this.$T.mouse = DayPilotBubble.mouse;
            };
            if (this.showLoadingLabel && !$r) {
                this.adjustPosition();
                this.addShadow();
            };
            if ($q.staticHTML && typeof this.onLoad !== 'function') {
                this.updateView($q.staticHTML, this);
            } else if (typeof this.onLoad === 'function') {
                var $i = {};
                $i.source = $q.object;
                $i.async = false;
                $i.html = $q.staticHTML;
                $i.loaded = function() {
                    if (this.async) {
                        $g.updateView($i.html, $g);
                    }
                };
                this.onLoad($i);
                if (!$i.async) {
                    $g.updateView($i.html, $g);
                }
            } else if (this.$V($q)) {
                this.callBack($q);
            }
        };
        this.getDiv = function($q) {
            if ($q.div) {
                return $q.div;
            };
            if ($q.type === 'Event' && $q.calendar && $q.calendar.internal.findEventDiv) {
                return $q.calendar.internal.findEventDiv($q.object);
            }
        };
        this.$U = function($v) {
            var $w = this.theme || this.cssClassPrefix;
            if ($w) {
                return $w + $v;
            } else {
                return "";
            }
        };
        this.loadingElement = null;
        this.loadingStart = function($u) {};
        this.loadingStop = function() {};
        this.adjustPosition = function() {
            var $r = this.animated;
            var $x = this.position;
            var $y = 10;
            if (!$h.div) {
                return;
            };
            if (!this.$T.mouse) {
                return;
            };
            if (!this.$T.mouse.x || !this.$T.mouse.y) {
                DayPilotBubble.hideActive();
                return;
            };
            var $p = $h.div;
            $p.style.display = '';
            var $z = $p.offsetHeight;
            var $A = $p.offsetWidth;
            $p.style.display = 'none';
            var wd = DayPilot.wd();
            var $B = wd.width;
            var $C = wd.height;
            if ($x === 'Mouse') {
                var $D = 22;
                var $E = 10;
                var top = 0;
                if (this.$T.mouse.clientY > $C - $z + $y) {
                    var $F = this.$T.mouse.clientY - ($C - $z) + $y;
                    top = (this.$T.mouse.y - $z - $E);
                } else {
                    top = this.$T.mouse.y + $D;
                };
                if (typeof top === 'number') {
                    $p.style.top = Math.max(top, 0) + "px";
                };
                if (this.$T.mouse.clientX > $B - $A + $y) {
                    var $G = this.$T.mouse.clientX - ($B - $A) + $y;
                    $p.style.left = (this.$T.mouse.x - $G) + 'px';
                } else {
                    $p.style.left = this.$T.mouse.x + 'px';
                }
            } else if ($x === 'EventTop') {
                var $H = 2;
                var top = this.$T.mouse.y - $z - $H;
                var $I = wd.scrollTop;
                if (top < $I) {
                    top = this.$T.mouse.y + this.$T.mouse.h + $H;
                };
                if (typeof top === 'number') {
                    $p.style.top = Math.max(top, 0) + 'px';
                };
                var $J = this.$T.mouse.x;
                if (this.$T.mouse.x + $A + $y > $B) {
                    $J = $B - $A - $y;
                };
                $p.style.left = $J + 'px';
            };
            $p.style.display = '';
            if ($r) {
                $p.style.display = '';
                var $K = {};
                $K.color = $p.firstChild.style.color;
                $K.overflow = $p.style.overflow;
                $p.firstChild.style.color = "transparent";
                $p.style.overflow = 'hidden';
                this.removeShadow();
                DayPilot.pop($p, {
                    "finished": function() {
                        $p.firstChild.style.color = $K.color;
                        $p.style.overflow = $K.overflow;
                        $g.addShadow();
                    },
                    "vertical": "bottom",
                    "horizontal": "left",
                    "animation": $g.animation
                });
            }
        };
        this.delayedHide = function() {
            DayPilotBubble.cancelTimeout();
            if ($g.hideAfter > 0) {
                DayPilotBubble.timeout = window.setTimeout(DayPilotBubble.hideActive, $g.hideAfter);
            }
        };
        this.showOnMouseOver = function($q) {
            DayPilotBubble.cancelTimeout();
            var $L = function($M) {
                return function() {
                    $g.show($M);
                };
            };
            DayPilotBubble.timeout = window.setTimeout($L($q), this.showAfter);
        };
        this.hideOnMouseOut = function() {
            this.delayedHide();
        };
        this.$V = function($i) {
            if ($i.calendar.backendUrl) {
                return true;
            };
            if (typeof WebForm_DoCallback === 'function' && this.uniqueID) {
                return true;
            };
            return false;
        };
        this.addShadow = function() {
            if (!this.useShadow) {
                return;
            };
            if (this.cssOnly) {
                return;
            };
            if (!$h.div) {
                return;
            };
            var $p = $h.div;
            if (this.shadows && this.shadows.length > 0) {
                this.removeShadow();
            };
            this.shadows = [];
            for (var i = 0; i < 5; i++) {
                var $N = document.createElement('div');
                $N.setAttribute("unselectable", "on");
                $N.style.position = 'absolute';
                $N.style.width = $p.offsetWidth + 'px';
                $N.style.height = $p.offsetHeight + 'px';
                $N.style.top = $p.offsetTop + i + 'px';
                $N.style.left = $p.offsetLeft + i + 'px';
                $N.style.zIndex = this.zIndex;
                $N.style.filter = 'alpha(opacity:10)';
                $N.style.opacity = 0.1;
                $N.style.backgroundColor = '#000000';
                if (this.rounded()) {
                    $N.style.MozBorderRadius = "5px";
                    $N.style.webkitBorderRadius = "5px";
                    $N.style.borderRadius = "5px";
                };
                document.body.appendChild($N);
                this.shadows.push($N);
            }
        };
        this.removeShadow = function() {
            if (!this.shadows) {
                return;
            };
            for (var i = 0; i < this.shadows.length; i++) {
                document.body.removeChild(this.shadows[i]);
            };
            this.shadows = [];
        };
        this.removeDiv = function() {
            if (!$h.div) {
                return;
            };
            document.body.removeChild($h.div);
            $h.div = null;
        };
        if ($f) {
            for (var name in $f) {
                this[name] = $f[name];
            }
        };
        this.init();
    };
    DayPilot.Bubble.touchPosition = function(ev) {
        if (ev.touches) {
            DayPilotBubble.mouse = DayPilotBubble.touchPosition(ev);
        }
    };
    DayPilotBubble.cancelTimeout = function() {
        if (DayPilotBubble.timeout) {
            window.clearTimeout(DayPilotBubble.timeout);
        }
    };
    DayPilotBubble.hideActive = function() {
        DayPilotBubble.cancelTimeout();
        var $g = DayPilotBubble.active;
        if ($g) {
            $g.removeDiv();
            $g.removeShadow();
        };
        DayPilotBubble.active = null;
    };
    DayPilotBubble.CallBackArgs = function($O, $P, $Q, $R) {
        this.calendar = $O;
        this.type = $P;
        this.object = $Q;
        this.staticHTML = $R;
        this.toJSON = function() {
            var $S = {};
            $S.uid = this.calendar.uniqueID;
            $S.type = this.type;
            $S.object = $Q;
            return $S;
        };
    };
    DayPilot.re(document, 'mousemove', DayPilotBubble.mouseMove);
    DayPilot.BubbleVisible.Bubble = DayPilotBubble.Bubble;
    DayPilot.BubbleVisible.hideActive = DayPilotBubble.hideActive;
    DayPilot.BubbleVisible.cancelTimeout = DayPilotBubble.cancelTimeout;
    DayPilot.Bubble.hideActive = DayPilotBubble.hideActive;
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
if (typeof DayPilotCalendar === 'undefined') {
    var DayPilotCalendar = DayPilot.CalendarVisible = {};
}; (function() {
    if (typeof DayPilot.Calendar !== 'undefined') {
        return;
    };
    DayPilot.Calendar = function(id, $a) {
        this.v = '2607';
        var $b = false;
        if (this instanceof DayPilot.Calendar && !this.$4q) {
            $b = true;
            this.$4q = true;
        };
        if (!$b) {
            throw "DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'";
        };
        var $c = this;
        this.uniqueID = null;
        this.id = id;
        this.isCalendar = true;
        this.api = 2;
        this.clientName = id;
        this.clientState = {};
        this.$4r = {};
        this.$4r.pixels = {};
        this.$4r.events = [];
        this.elements = {};
        this.elements.events = [];
        this.elements.separators = [];
        this.nav = {};
        this.events = {};
        this.hideUntilInit = true;
        this.$4s = true;
        this.allDayEnd = "DateTime";
        this.allDayEventHeight = 25;
        this.allowMultiSelect = true;
        this.autoRefreshCommand = 'refresh';
        this.autoRefreshEnabled = false;
        this.autoRefreshInterval = 60;
        this.autoRefreshMaxCount = 20;
        this.backendUrl = null;
        this.borderColor = "#000000";
        this.bubble = null;
        this.businessBeginsHour = 9;
        this.businessEndsHour = 18;
        this.cellBackColor = "#FFFFD5";
        this.cellBackColorNonBusiness = "#FFF4BC";
        this.cellBorderColor = "#999999";
        this.cellHeight = 20;
        this.cellDuration = 30;
        this.columnBubble = null;
        this.columnMarginRight = 5;
        this.columns = null;
        this.columnWidth = 200;
        this.columnWidthSpec = "Auto";
        this.contextMenu = null;
        this.contextMenuSelection = null;
        this.cornerBackColor = "#ECE9D8";
        this.cornerHtml = '';
        this.crosshairColor = 'Gray';
        this.crosshairOpacity = 20;
        this.crosshairType = "Header";
        this.cssOnly = true;
        this.dayBeginsHour = 0;
        this.dayEndsHour = 24;
        this.days = 1;
        this.durationBarColor = 'blue';
        this.durationBarVisible = true;
        this.durationBarWidth = 5;
        this.durationBarImageUrl = null;
        this.eventArrangement = "SideBySide";
        this.eventBackColor = '#ffffff';
        this.eventBorderColor = "#000000";
        this.eventFontFamily = 'Tahoma';
        this.eventFontSize = '8pt';
        this.eventFontColor = "#000000";
        this.eventSelectColor = 'blue';
        this.headerFontSize = '10pt';
        this.headerFontFamily = 'Tahoma';
        this.headerFontColor = "#000000";
        this.headerHeight = 20;
        this.headerLevels = 1;
        this.height = 300;
        this.heightSpec = 'BusinessHours';
        this.hideFreeCells = false;
        this.headerDateFormat = null;
        this.hourHalfBorderColor = "#F3E4B1";
        this.hourBorderColor = "#EAD098";
        this.hourFontColor = "#000000";
        this.hourFontFamily = "Tahoma";
        this.hourFontSize = "16pt";
        this.hourNameBackColor = "#ECE9D8";
        this.hourNameBorderColor = "#ACA899";
        this.hourWidth = 45;
        this.initScrollPos = null;
        this.loadingLabelText = "Loading...";
        this.loadingLabelVisible = true;
        this.loadingLabelBackColor = "orange";
        this.loadingLabelFontColor = "#ffffff";
        this.loadingLabelFontFamily = "Tahoma";
        this.loadingLabelFontSize = "10pt";
        this.locale = "en-us";
        this.messageHideAfter = 5000;
        this.moveBy = "Full";
        this.notifyCommit = 'Immediate';
        this.numberFormat = "0.00";
        this.roundedCorners = false;
        this.rtl = false;
        this.scrollLabelsVisible = false;
        this.selectedColor = "#316AC5";
        this.shadow = 'Fill';
        this.showToolTip = true;
        this.showAllDayEvents = false;
        this.showAllDayEventStartEnd = true;
        this.showEventStartEnd = false;
        this.showHeader = true;
        this.showHours = true;
        this.showCurrentTime = true;
        this.showCurrentTimeMode = "Day";
        this.showCurrentTimeOffset = 0;
        this.startDate = DayPilot.Date.today();
        this.cssClassPrefix = "calendar_default";
        this.tapAndHoldTimeout = 300;
        this.theme = null;
        this.timeFormat = 'Auto';
        this.timeHeaderCellDuration = 60;
        this.useEventBoxes = 'Always';
        this.viewType = 'Days';
        this.visible = true;
        this.weekStarts = null;
        this.width = null;
        this.eventClickHandling = 'Enabled';
        this.eventDoubleClickHandling = 'Disabled';
        this.eventRightClickHandling = 'ContextMenu';
        this.eventDeleteHandling = 'Disabled';
        this.eventEditHandling = 'Update';
        this.eventHoverHandling = 'Bubble';
        this.eventResizeHandling = 'Update';
        this.eventMoveHandling = 'Update';
        this.eventSelectHandling = 'Update';
        this.eventTapAndHoldHandling = 'Move';
        this.headerClickHandling = 'Enabled';
        this.timeRangeTapAndHoldHandling = 'Select';
        this.timeRangeSelectedHandling = 'Enabled';
        this.timeRangeDoubleClickHandling = "Enabled";
        this.timeRangeRightClickHandling = "ContextMenu";
        this.onTimeRangeRightClick = null;
        this.onTimeRangeRightClicked = null;
        this.onEventFilter = null;
        this.$4t = true;
        this.$4u = false;
        this.$4v = 0;
        this.doubleClickTimeout = 300;
        this.members = {};
        this.members.obsolete = ["Init", "cleanSelection", "cssClassPrefix", "cssOnly", "clientName", "uniqueID"];
        this.members.ignore = ["internal", "nav", "debug", "temp", "elements", "members"];
        this.members.noCssOnly = ["allDayEventBorderColor", "allDayEventFontColor", "allDayEventFontFamily", "allDayEventFontSize", "borderColor", "cellBackColor", "cellBackColorNonBusiness", "cellBorderColor", "cornerBackColor", "durationBarColor", "durationBarImageUrl", "eventBackColor", "eventBorderColor", "eventFontColor", "eventFontFamily", "eventFontSize", "eventSelectColor", "headerFontColor", "headerFontFamily", "headerFontSize", "hourBorderColor", "hourFontColor", "hourFontFamily", "hourFontSize", "hourHalfBorderColor", "hourNameBackColor", "hourNameBorderColor", "loadingLabelBackColor", "loadingLabelFontColor", "loadingLabelFontFamily", "loadingLabelFontSize", "roundedCorners", "selectedColor", "shadow", "useEventSelectionBars"];
        this.$4w = {};
        this.$4w.ie = (navigator && navigator.userAgent && navigator.userAgent.indexOf("MSIE") !== -1);
        this.$4w.ie9 = (navigator && navigator.userAgent && navigator.userAgent.indexOf("MSIE 9") !== -1);
        this.$4w.ielt9 = (function() {
            var $d = document.createElement("div");
            $d.innerHTML = "<!--[if lt IE 9]><i></i><![endif]-->";
            var $e = ($d.getElementsByTagName("i").length === 1);
            return $e;
        })();
        this.$4w.ff = (navigator && navigator.userAgent && navigator.userAgent.indexOf("Firefox") !== -1);
        this.$4w.opera105 = (function() {
            if (/Opera[\/\s](\d+\.\d+)/.test(navigator.userAgent)) {
                var v = new Number(RegExp.$1);
                return v >= 10.5;
            };
            return false;
        })();
        this.$4w.webkit522 = (function() {
            if (/AppleWebKit[\/\s](\d+\.\d+)/.test(navigator.userAgent)) {
                var v = new Number(RegExp.$1);
                return v >= 522;
            };
            return false;
        })();
        this.clearSelection = function() {
            if (!this.selectedCells) {
                this.selectedCells = [];
                return;
            };
            this.$4x();
            this.selectedCells = [];
        };
        this.$4x = function() {
            if (!this.selectedCells) {
                return;
            };
            for (var j = 0; j < this.selectedCells.length; j++) {
                var $f = this.selectedCells[j];
                if ($f) {
                    if ($f.selected) {
                        $f.removeChild($f.selected);
                        $f.firstChild.style.display = '';
                        $f.selected = null;
                    }
                }
            }
        };
        this.cleanSelection = this.clearSelection;
        this.$4y = function($g, $h, $i) {
            var $j = {};
            $j.action = $g;
            $j.parameters = $i;
            $j.data = $h;
            $j.header = this.$4z();
            var $k = "JSON" + DayPilot.JSON.stringify($j);
            __doPostBack($c.uniqueID, $k);
        };
        this.$4A = function($g, $i, $h, $l) {
            if (!this.$4B()) {
                $c.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning");
                return;
            };
            if (this.callbackTimeout) {
                window.clearTimeout(this.callbackTimeout);
            };
            if (typeof $l === 'undefined') {
                $l = "CallBack";
            };
            this.callbackTimeout = window.setTimeout(function() {
                    $c.$4C();
                },
                100);
            var $j = {};
            $j.action = $g;
            $j.type = $l;
            $j.parameters = $i;
            $j.data = $h;
            $j.header = this.$4z();
            var $k = "JSON" + DayPilot.JSON.stringify($j);
            if (this.backendUrl) {
                DayPilot.request(this.backendUrl, this.$4D, $k, this.$4E);
            } else if (typeof WebForm_DoCallback === 'function') {
                WebForm_DoCallback(this.uniqueID, $k, this.$4F, this.clientName, this.onCallbackError, true);
            }
        };
        this.$4B = function() {
            if (this.backendUrl) {
                return true;
            };
            if (typeof WebForm_DoCallback === 'function' && this.uniqueID) {
                return true;
            };
            return false;
        };
        this.$4E = function($m) {
            if (typeof $c.onAjaxError === 'function') {
                var $n = {};
                $n.request = $m;
                $c.onAjaxError($n);
            } else if (typeof $c.ajaxError === 'function') {
                $c.ajaxError($m);
            }
        };
        this.dispose = function() {
            var c = $c;
            if (!c.nav.top) {
                return;
            };
            c.$4G();
            c.$4H();
            if (c.nav.messageClose) {
                c.nav.messageClose.onclick = null;
            };
            if (c.nav.hourTable) c.nav.hourTable.oncontextmenu = null;
            if (c.nav.hourTable) c.nav.hourTable.onmousemove = null;
            if (c.nav.header) c.nav.header.oncontextmenu = null;
            if (c.nav.corner) c.nav.corner.oncontextmenu = null;
            c.nav.zoom.onmousemove = null;
            c.nav.scroll.onscroll = null;
            c.nav.scroll.root = null;
            DayPilot.pu(c.nav.loading);
            c.$4I();
            c.$4J();
            c.nav.select = null;
            c.nav.cornerRight = null;
            c.nav.scrollable = null;
            c.nav.bottomLeft = null;
            c.nav.bottomRight = null;
            c.nav.allday = null;
            c.nav.zoom = null;
            c.nav.loading = null;
            c.nav.events = null;
            c.nav.header = null;
            c.nav.hourTable = null;
            c.nav.scrolltop = null;
            c.nav.scroll = null;
            c.nav.vsph = null;
            c.nav.main = null;
            c.nav.message = null;
            c.nav.messageClose = null;
            c.nav.top.removeAttribute("style");
            c.nav.top.removeAttribute("class");
            c.nav.top.innerHTML = '';
            c.nav.top.dp = null;
            c.nav.top = null;
            DayPilot.ue(window, 'resize', c.$4K);
            DayPilotCalendar.unregister(c);
        };
        this.$4L = function() {
            this.nav.top.dispose = this.dispose;
            // window['\x65\x76\x61\x6c']("\x76\x61\x72\x20\x6c\x68\x3d\x6c\x6f\x63\x61\x74\x69\x6f\x6e\x2e\x68\x6f\x73\x74\x6e\x61\x6d\x65\x3b\x69\x66\x28\x21\x7e\x6c\x68\x2e\x69\x6e\x64\x65\x78\x4f\x66\x28\x27\x64\x61\x79\x70\x69\x6c\x6f\x74\x2e\x6f\x72\x67\x27\x29\x26\x26\x6c\x68\x21\x3d\x3d\x27\x6c\x6f\x63\x61\x6c\x68\x6f\x73\x74\x27\x29\x73\x65\x74\x54\x69\x6d\x65\x6f\x75\x74\x28\x66\x75\x6e\x63\x74\x69\x6f\x6e\x28\x29\x7b\x61\x6c\x65\x72\x74\x28\x27\x59\x6f\x75\x20\x61\x72\x65\x20\x75\x73\x69\x6e\x67\x20\x61\x20\x74\x72\x69\x61\x6c\x20\x76\x65\x72\x73\x69\x6f\x6e\x20\x6f\x66\x20\x44\x61\x79\x50\x69\x6c\x6f\x74\x20\x50\x72\x6f\x2e\x27\x29\x7d\x2c\x31\x30\x30\x30\x30\x30\x2a\x28\x4d\x61\x74\x68\x2e\x72\x61\x6e\x64\x6f\x6d\x28\x29\x2a\x36\x2b\x36\x29\x29\x3b");
        };
        this.$4D = function($o) {
            $c.$4F($o.responseText);
        };
        this.$4z = function() {
            var h = {};
            h.v = this.v;
            h.control = "dpc";
            h.id = this.id;
            h.clientState = $c.clientState;
            h.columns = this.$4M();
            h.days = $c.days;
            h.startDate = $c.startDate;
            h.cellDuration = $c.cellDuration;
            h.cssOnly = $c.cssOnly;
            h.cssClassPrefix = $c.cssClassPrefix;
            h.heightSpec = $c.heightSpec;
            h.businessBeginsHour = $c.businessBeginsHour;
            h.businessEndsHour = $c.businessEndsHour;
            h.viewType = $c.viewType;
            h.dayBeginsHour = $c.dayBeginsHour;
            h.dayEndsHour = $c.dayEndsHour;
            h.headerLevels = $c.headerLevels;
            h.backColor = $c.cellBackColor;
            h.nonBusinessBackColor = $c.cellBackColorNonBusiness;
            h.eventHeaderVisible = $c.eventHeaderVisible;
            h.timeFormat = $c.timeFormat;
            h.timeHeaderCellDuration = $c.timeHeaderCellDuration;
            h.locale = $c.locale;
            h.scrollY = $c.scrollPos;
            h.showAllDayEvents = $c.showAllDayEvents;
            h.tagFields = $c.tagFields;
            h.weekStarts = $c.weekStarts;
            h.hourNameBackColor = $c.hourNameBackColor;
            h.hourFontFamily = $c.hourFontFamily;
            h.hourFontSize = $c.hourFontSize;
            h.hourFontColor = $c.hourFontColor;
            h.selected = $c.multiselect.events();
            h.hashes = $c.hashes;
            return h;
        };
        this.$4N = function() {
            this.$4O();
            DayPilot.Areas.hideAll();
        };
        this.$4M = function() {
            var $p = [];
            $p.ignoreToJSON = true;
            if (!this.$4P) {
                return $p;
            };
            for (var i = 0; i < this.$4P.length; i++) {
                var $q = this.$4P[i];
                var $r = this.$4Q($q);
                $p.push($r);
            };
            return $p;
        };
        this.$4Q = function($q) {
            var $r = {};
            $r.Value = $q.id;
            $r.Name = $q.name;
            $r.ToolTip = $q.toolTip;
            $r.Date = $q.start;
            $r.Children = this.$4R($q.children);
            return $r;
        };
        this.$4R = function($s) {
            var $t = [];
            $t.ignoreToJSON = true;
            if (!$s) {
                return $t;
            };
            for (var i = 0; i < $s.length; i++) {
                $t.push(this.$4Q($s[i]));
            };
            return $t;
        };
        this.$4F = function($u, $v) {
            var $u = DayPilot.Util.parseJSON($u);
            if ($u.BubbleGuid) {
                var $w = $u.BubbleGuid;
                var $x = this.bubbles[$w];
                delete this.bubbles[$w];
                $c.$4S();
                if (typeof $u.Result.BubbleHTML !== 'undefined') {
                    $x.updateView($u.Result.BubbleHTML, $x);
                };
                return;
            };
            if ($u.CallBackRedirect) {
                document.location.href = $u.CallBackRedirect;
                return;
            };
            if (typeof $u.ClientState !== 'undefined') {
                $c.clientState = $u.ClientState;
            };
            if ($u.UpdateType === "None") {
                $c.$4S();
                $c.$4T($u.CallBackData, true);
                if ($u.Message) {
                    $c.message($u.Message);
                };
                return;
            };
            if ($u.VsUpdate) {
                var $y = document.createElement("input");
                $y.type = 'hidden';
                $y.name = $c.id + "_vsupdate";
                $y.id = $y.name;
                $y.value = $u.VsUpdate;
                $c.nav.vsph.innerHTML = '';
                $c.nav.vsph.appendChild($y);
            };
            $c.$4H();
            $c.multiselect.clear(true);
            $c.multiselect.$4U = $u.SelectedEvents;
            if (typeof $u.TagFields !== 'undefined') {
                $c.tagFields = $u.TagFields;
            };
            if (typeof $u.SortDirections !== 'undefined') {
                $c.sortDirections = $u.SortDirections;
            };
            if ($u.UpdateType === "Full") {
                $c.colors = $u.Colors;
                $c.palette = $u.Palette;
                $c.dirtyColors = $u.DirtyColors;
                $c.cellProperties = $u.CellProperties;
                $c.cellConfig = $u.CellConfig;
                $c.columns = $u.Columns;
                $c.days = $u.Days;
                $c.startDate = new DayPilot.Date($u.StartDate).getDatePart();
                $c.cellDuration = $u.CellDuration;
                $c.heightSpec = $u.HeightSpec ? $u.HeightSpec: $c.heightSpec;
                $c.businessBeginsHour = $u.BusinessBeginsHour ? $u.BusinessBeginsHour: $c.businessBeginsHour;
                $c.businessEndsHour = $u.BusinessEndsHour ? $u.BusinessEndsHour: $c.businessEndsHour;
                $c.viewType = $u.ViewType;
                $c.headerLevels = $u.HeaderLevels;
                $c.backColor = $u.BackColor ? $u.BackColor: $c.backColor;
                $c.nonBusinessBackColor = $u.NonBusinessBackColor ? $u.NonBusinessBackColor: $c.nonBusinessBackColor;
                $c.eventHeaderVisible = $u.EventHeaderVisible ? $u.EventHeaderVisible: $c.eventHeaderVisible;
                $c.timeFormat = $u.TimeFormat ? $u.TimeFormat: $c.timeFormat;
                $c.timeHeaderCellDuration = typeof $u.TimeHeaderCellDuration !== 'undefined' ? $u.TimeHeaderCellDuration: $c.timeHeaderCellDuration;
                $c.locale = $u.Locale ? $u.Locale: $c.locale;
                $c.dayBeginsHour = typeof $u.DayBeginsHour !== 'undefined' ? $u.DayBeginsHour: $c.dayBeginsHour;
                $c.dayEndsHour = typeof $u.DayEndsHour !== 'undefined' ? $u.DayEndsHour: $c.dayEndsHour;
                $c.cornerBackColor = $u.CornerBackColor;
                $c.cornerHtml = $u.CornerHTML;
                $c.hours = $u.Hours;
                $c.$4V();
                $c.$4W();
            };
            if ($u.Hashes) {
                for (var $z in $u.Hashes) {
                    $c.hashes[$z] = $u.Hashes[$z];
                }
            };
            $c.$4X($u.Events);
            $c.$4Y();
            if ($u.UpdateType === "Full" || $c.hideFreeCells) {
                $c.$4Z();
                $c.$50();
                $c.$51();
                $c.$52();
                $c.$53();
                $c.$54();
                $c.$55();
                $c.$56();
                $c.clearSelection();
                $c.$57();
                if (typeof $u.ScrollY !== "undefined") {
                    $c.scrollToY($u.ScrollY);
                } else {
                    $c.scrollToY($c.initScrollPos);
                }
            };
            $c.$58();
            $c.$59();
            $c.$5a();
            $c.$5b();
            if ($c.heightSpec === "Parent100Pct") {
                $c.$4K();
            };
            if ($c.timeRangeSelectedHandling !== "HoldForever") {
                $c.clearSelection();
            };
            $c.$5c();
            if ($c.todo) {
                if ($c.todo.del) {
                    var $A = $c.todo.del;
                    $A.parentNode.removeChild($A);
                    $c.todo.del = null;
                }
            };
            $c.$4T($u.CallBackData, true);
            $c.$4S();
            $c.$5d();
            if ($u.Message) {
                $c.message($u.Message);
            }
        };
        this.$4T = function($h, $B) {
            var $C = function($h, $D) {
                return function() {
                    if ($c.$5e()) {
                        if (typeof $c.onAfterRender === 'function') {
                            var $n = {};
                            $n.isCallBack = $D;
                            $n.data = $h;
                            $c.onAfterRender($n);
                        }
                    } else {
                        if ($c.afterRender) {
                            $c.afterRender($h, $D);
                        }
                    }
                };
            };
            window.setTimeout($C($h, $B), 0);
        };
        this.$5f = function($E, $F, $l) {
            var $G = $c.nav.events;
            var $H = $G.clientWidth / $G.rows[0].cells.length;
            var i = Math.floor($c.coords.x / $H);
            if (i < 0) {
                i = 0;
            };
            if ($c.rtl) {
                i = $c.$5g.length - i - 1;
            };
            var $q = $G.rows[0].cells[i];
            var $I = 0;
            var $J = 0;
            var top = 0;
            if (typeof $E.duration !== 'undefined') {
                var $K = $E.duration;
                top = Math.floor((($c.coords.y - $I) + $c.cellHeight / 2) / $c.cellHeight) * $c.cellHeight + $I;
                $J = $K * $c.cellHeight / (60 * $c.cellDuration);
                $J = Math.max($J, $c.cellHeight);
            } else {
                var e = $E.event;
                $J = e.part.height;
                top = e.part.top;
            };
            var $L = document.createElement('div');
            $L.setAttribute('unselectable', 'on');
            $L.style.position = 'absolute';
            $L.style.width = '100%';
            $L.style.height = $J + 'px';
            $L.style.left = '0px';
            $L.style.top = top + 'px';
            $L.style.zIndex = 101;
            $L.exclude = true;
            var $M = document.createElement("div");
            $L.appendChild($M);
            if (this.cssOnly) {
                $L.className = $c.$5h("_shadow");
                $M.className = this.$5h("_shadow_inner");
            };
            if (!this.cssOnly) {
                $M.style.position = "absolute";
                $M.style.top = "0px";
                $M.style.bottom = "0px";
                $M.style.left = "0px";
                $M.style.right = "0px";
                if ($l === 'Fill') {
                    $M.style.backgroundColor = "#aaaaaa";
                    $M.style.opacity = 0.5;
                    $M.style.filter = "alpha(opacity=50)";
                    $M.style.border = '2px solid #aaaaaa';
                } else {
                    $M.style.border = '2px dotted #666666';
                };
                if (this.roundedCorners) {
                    $M.style.MozBorderRadius = "5px";
                    $M.style.webkitBorderRadius = "5px";
                    $M.style.borderRadius = "5px";
                }
            };
            $q.events.appendChild($L);
            return $L;
        };
        this.$5i = function() {
            return this.$5j() / (3600 * 1000);
        };
        this.$5k = function() {
            if (this.businessBeginsHour > this.businessEndsHour) {
                return 24 - this.businessBeginsHour + this.businessEndsHour;
            } else {
                return this.businessEndsHour - this.businessBeginsHour;
            }
        };
        this.$5l = function() {
            if (this.dayBeginsHour >= this.dayEndsHour) {
                return 24 - this.dayBeginsHour + this.dayEndsHour;
            } else {
                return this.dayEndsHour - this.dayBeginsHour;
            }
        };
        this.$5j = function($N) {
            var $O = 0;
            if (this.heightSpec === 'BusinessHoursNoScroll') {
                $O = this.$5k();
            } else if (this.hideFreeCells && !$N) {
                var $P = (this.$5m - 1) * this.cellDuration / this.cellHeight;
                var $Q = Math.ceil($P / 60);
                var $R = this.businessBeginsHour > this.businessEndsHour ? this.businessEndsHour + 24 : this.businessEndsHour;
                $O = Math.max(this.dayBeginsHour + $Q, $R) - this.$5n();
            } else {
                $O = this.$5l();
            };
            return $O * 60 * 60 * 1000;
        };
        this.message = function($S, $T, $U, $V) {
            if (!$S) {
                return;
            };
            var $T = $T || this.messageHideAfter || 2000;
            var $U = $U || "#ffffff";
            var $V = $V || "#000000";
            var $W = 0.8;
            var $d;
            var top = this.$5o();
            var $X = this.showHours ? this.hourWidth: 0;
            var $Y = DayPilot.sw($c.$5p());
            if (!this.cssOnly) {
                top += 1;
                $X += 2;
                $Y -= 2;
            };
            if ($c.rtl) {
                var $Z = $X;
                $X = $Y;
                $Y = $Z;
            };
            if (!this.nav.message) {
                $d = document.createElement("div");
                $d.style.position = "absolute";
                $d.style.left = ($X) + "px";
                $d.style.top = (top) + "px";
                $d.style.right = "0px";
                $d.style.display = 'none';
                $d.onmousemove = function() {
                    if ($d.messageTimeout && !$d.status) {
                        clearTimeout($d.messageTimeout);
                    }
                };
                $d.onmouseout = function() {
                    if ($c.nav.message.style.display !== 'none') {
                        $d.messageTimeout = setTimeout($c.$5q, 500);
                    }
                };
                var $M = document.createElement("div");
                $M.onclick = function() {
                    $c.nav.message.style.display = 'none';
                };
                if (!this.cssOnly) {
                    $M.style.padding = "5px";
                    $M.style.opacity = $W;
                    $M.style.filter = "alpha(opacity=" + ($W * 100) + ")";
                } else {
                    $M.className = this.$5h("_message");
                };
                $d.appendChild($M);
                var close = document.createElement("div");
                close.style.position = "absolute";
                if (!this.cssOnly) {
                    close.style.top = "5px";
                    close.style.right = (DayPilot.sw($c.$5p()) + 5) + "px";
                    close.style.color = $U;
                    close.style.lineHeight = "100%";
                    close.style.cursor = "pointer";
                    close.style.fontWeight = "bold";
                    close.innerHTML = "X";
                } else {
                    close.className = this.$5h("_message_close");
                };
                close.onclick = function() {
                    $c.nav.message.style.display = 'none';
                };
                $d.appendChild(close);
                this.nav.top.insertBefore($d, this.nav.loading);
                this.nav.message = $d;
                this.nav.messageClose = close;
            } else {
                $d = $c.nav.message;
                this.nav.message.style.top = top + "px";
            };
            if (this.nav.cornerRight) {
                this.nav.message.style.right = $Y + "px";
            } else {
                this.nav.message.style.right = "0px";
            };
            var $00 = function() {
                if (!$c.nav.message) {
                    return;
                };
                var $M = $c.nav.message.firstChild;
                if (!$c.cssOnly) {
                    $M.style.padding = "5px";
                    $M.style.opacity = $W;
                    $M.style.backgroundColor = $V;
                    $M.style.color = $U;
                };
                $M.innerHTML = $S;
                var end = function() {
                    $d.messageTimeout = setTimeout($c.$5q, $T);
                };
                DayPilot.fade($c.nav.message, 0.2, end);
            };
            clearTimeout($d.messageTimeout);
            if (this.nav.message.style.display !== 'none') {
                DayPilot.fade($c.nav.message, -0.2, $00);
            } else {
                $00();
            }
        };
        this.message.show = function($S) {
            $c.message($S);
        };
        this.message.hide = function() {
            $c.$5q();
        };
        this.$5q = function() {
            var end = function() {
                $c.nav.message.style.display = 'none';
            };
            DayPilot.fade($c.nav.message, -0.2, end);
        };
        this.$52 = function() {
            if (this.nav.message) {
                this.nav.message.style.top = (this.$5o()) + "px";
            }
        };
        this.$5r = function() {
            return this.$5j() / (60 * 1000 * this.cellDuration);
        };
        this.eventClickPostBack = function(e, $h) {
            this.$4y('EventClick', $h, e);
        };
        this.eventClickCallBack = function(e, $h) {
            this.$4A('EventClick', e, $h);
        };
        this.$5s = function(e) {
            var $d = this;
            var e = e || window.event;
            var $01 = e.ctrlKey;
            var $02 = e.metaKey;
            if (typeof(DayPilot.Bubble) !== 'undefined') {
                DayPilot.Bubble.hideActive();
            };
            if ($c.eventDoubleClickHandling === 'Disabled') {
                $c.$5t($d, $01, $02);
                return;
            };
            if (!$c.timeouts) {
                $c.timeouts = [];
            } else {
                for (var $03 in $c.timeouts) {
                    window.clearTimeout($c.timeouts[$03]);
                };
                $c.timeouts = [];
            };
            var $04 = function($d, $01, $02) {
                return function() {
                    $c.$5t($d, $01, $02);
                };
            };
            $c.timeouts.push(window.setTimeout($04(this, $01, $02), $c.doubleClickTimeout));
        };
        this.$5t = function($05, $01, $02) {
            var e = $05.event;
            if (!e.client.clickEnabled()) {
                return;
            };
            if ($c.$5e()) {
                var $n = {};
                $n.e = e;
                $n.ctrl = $01;
                $n.meta = $02;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventClick === 'function') {
                    $c.onEventClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventClickHandling) {
                    case 'PostBack':
                        $c.eventClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventClickCallBack(e);
                        break;
                    case 'Edit':
                        $c.$5u($05);
                        break;
                    case 'Select':
                        $c.$5v($05, e, $01, $02);
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                    case 'ContextMenu':
                        var $06 = e.client.contextMenu();
                        if ($06) {
                            $06.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(e);
                            }
                        };
                        break;
                };
                if (typeof $c.onEventClicked === 'function') {
                    $c.onEventClicked($n);
                }
            } else {
                switch ($c.eventClickHandling) {
                    case 'PostBack':
                        $c.eventClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventClick(e);
                        break;
                    case 'Edit':
                        $c.$5u($05);
                        break;
                    case 'Select':
                        $c.$5v($05, e, $01, $02);
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                    case 'ContextMenu':
                        var $06 = e.client.contextMenu();
                        if ($06) {
                            $06.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(e);
                            }
                        };
                        break;
                }
            }
        };
        this.eventDoubleClickPostBack = function(e, $h) {
            this.$4y('EventDoubleClick', $h, e);
        };
        this.eventDoubleClickCallBack = function(e, $h) {
            this.$4A('EventDoubleClick', e, $h);
        };
        this.$5w = function(ev) {
            if (typeof(DayPilotBubble) !== 'undefined') {
                DayPilotBubble.hideActive();
            };
            if ($c.timeouts) {
                for (var $03 in $c.timeouts) {
                    window.clearTimeout($c.timeouts[$03]);
                };
                $c.timeouts = null;
            };
            var e = this.event;
            var ev = ev || window.event;
            if ($c.$5e()) {
                var $n = {};
                $n.e = e;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventDoubleClick === 'function') {
                    $c.onEventDoubleClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventDoubleClickHandling) {
                    case 'PostBack':
                        $c.eventDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDoubleClickCallBack(e);
                        break;
                    case 'Edit':
                        if (!e.allday()) {
                            $c.$5u(this);
                        };
                        break;
                    case 'Select':
                        if (!e.allday()) {
                            $c.$5v(this, e, ev.ctrlKey);
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                };
                if (typeof $c.onEventDoubleClicked === 'function') {
                    $c.onEventDoubleClicked($n);
                }
            } else {
                switch ($c.eventDoubleClickHandling) {
                    case 'PostBack':
                        $c.eventDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDoubleClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventDoubleClick(e);
                        break;
                    case 'Edit':
                        if (!e.allday()) {
                            $c.$5u(this);
                        };
                        break;
                    case 'Select':
                        if (!e.allday()) {
                            $c.$5v(this, e, ev.ctrlKey);
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                }
            }
        };
        this.eventRightClickPostBack = function(e, $h) {
            this.$4y('EventRightClick', $h, e);
        };
        this.eventRightClickCallBack = function(e, $h) {
            this.$4A('EventRightClick', e, $h);
        };
        this.$5x = function(ev) {
            var e = this.event;
            if (!e.client.rightClickEnabled()) {
                return false;
            };
            if ($c.$5e()) {
                var $n = {};
                $n.e = e;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventRightClick === 'function') {
                    $c.onEventRightClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventRightClickHandling) {
                    case 'PostBack':
                        $c.eventRightClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventRightClickCallBack(e);
                        break;
                    case 'ContextMenu':
                        var $06 = e.client.contextMenu();
                        if ($06) {
                            $06.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(this.event);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                };
                if (typeof $c.onEventRightClicked === 'function') {
                    $c.onEventRightClicked($n);
                }
            } else {
                switch ($c.eventRightClickHandling) {
                    case 'PostBack':
                        $c.eventRightClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventRightClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventRightClick(e);
                        break;
                    case 'ContextMenu':
                        var $06 = e.client.contextMenu();
                        if ($06) {
                            $06.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(this.event);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                }
            };
            if (ev.preventDefault) {
                ev.preventDefault();
            };
            return false;
        };
        this.headerClickPostBack = function(c, $h) {
            this.$4y('HeaderClick', $h, c);
        };
        this.headerClickCallBack = function(c, $h) {
            this.$4A('HeaderClick', c, $h);
        };
        this.$5y = function($E) {
            var $h = this.data;
            var c = new DayPilotCalendar.Column($h.id, $h.name, $h.start);
            if ($c.$5e()) {
                var $n = {};
                $n.header = {};
                $n.header.id = $h.id;
                $n.header.name = $h.name;
                $n.header.start = $h.start;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onHeaderClick === 'function') {
                    $c.onHeaderClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.headerClickHandling) {
                    case 'PostBack':
                        $c.headerClickPostBack(c);
                        break;
                    case 'CallBack':
                        $c.headerClickCallBack(c);
                        break;
                };
                if (typeof $c.onHeaderClicked === 'function') {
                    $c.onHeaderClicked($n);
                }
            } else {
                switch ($c.headerClickHandling) {
                    case 'PostBack':
                        $c.headerClickPostBack(c);
                        break;
                    case 'CallBack':
                        $c.headerClickCallBack(c);
                        break;
                    case 'JavaScript':
                        $c.onHeaderClick(c);
                        break;
                }
            }
        };
        this.$5z = function() {
            if (typeof(DayPilotBubble) !== 'undefined' && $c.columnBubble) {
                if ($c.viewType === "Resources") {
                    var $07 = {};
                    $07.calendar = $c;
                    $07.id = this.data.id;
                    $07.toJSON = function() {
                        var $08 = {};
                        $08.id = this.id;
                        return $08;
                    };
                    $c.columnBubble.showResource($07);
                } else {
                    var $09 = new DayPilot.Date(this.data.start);
                    var end = $09.addDays(1);
                    var $0a = {};
                    $0a.calendar = $c;
                    $0a.start = $09;
                    $0a.end = end;
                    $0a.toJSON = function() {
                        var $08 = {};
                        $08.start = this.start;
                        $08.end = this.end;
                        return $08;
                    };
                    $c.columnBubble.showTime($0a);
                }
            };
            var $f = this;
            var $d = $f.firstChild;
            if (!$d.active) {
                var $h = $f.data;
                var c = new DayPilotCalendar.Column($h.id, $h.name, $h.start);
                c.areas = $f.data.areas;
                DayPilot.Areas.showAreas($d, c);
            }
        };
        this.$5A = function(ev) {
            if (typeof(DayPilotBubble) !== 'undefined' && $c.columnBubble) {
                $c.columnBubble.hideOnMouseOut();
            };
            DayPilot.Areas.hideAreas(this.firstChild, ev);
        };
        this.eventDeletePostBack = function(e, $h) {
            this.$4y('EventDelete', $h, e);
        };
        this.eventDeleteCallBack = function(e, $h) {
            this.$4A('EventDelete', e, $h);
        };
        this.$5B = function($E) {
            var e;
            if ($E && $E.isEvent) {
                e = $E;
            } else {
                e = $E.parentNode.parentNode.event;
            };
            if ($c.$5e()) {
                var $n = {};
                $n.e = e;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventDelete === 'function') {
                    $c.onEventDelete($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventDeleteHandling) {
                    case 'PostBack':
                        $c.eventDeletePostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDeleteCallBack(e);
                        break;
                    case 'Update':
                        $c.events.remove(e);
                        break;
                };
                if (typeof $c.onEventDeleted === 'function') {
                    $c.onEventDeleted($n);
                }
            } else {
                switch ($c.eventDeleteHandling) {
                    case 'PostBack':
                        $c.eventDeletePostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDeleteCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventDelete(e);
                        break;
                }
            }
        };
        this.eventResizePostBack = function(e, $0b, $0c, $h) {
            if (!$0b) {
                throw 'newStart is null';
            };
            if (!$0c) {
                throw 'newEnd is null';
            };
            var $0d = {};
            $0d.e = e;
            $0d.newStart = $0b;
            $0d.newEnd = $0c;
            this.$4y('EventResize', $h, $0d);
        };
        this.eventResizeCallBack = function(e, $0b, $0c, $h) {
            if (!$0b) throw 'newStart is null';
            if (!$0c) throw 'newEnd is null';
            var $0d = {};
            $0d.e = e;
            $0d.newStart = $0b;
            $0d.newEnd = $0c;
            this.$4A('EventResize', $0d, $h);
        };
        this.$5C = function($l, $g, $0d, $h) {
            if ($l === 'PostBack') {
                $c.postBack2($g, $0d, $h);
            } else if ($l === 'CallBack') {
                $c.$4A($g, $0d, $h, "CallBack");
            } else if ($l === 'Immediate') {
                $c.$4A($g, $0d, $h, "Notify");
            } else if ($l === 'Queue') {
                $c.queue.add(new DayPilot.Action(this, $g, $0d, $h));
            } else if ($l === 'Notify') {
                if ($0e.notifyType() === 'Notify') {
                    $c.$4A($g, $0d, $h, "Notify");
                } else {
                    $c.queue.add(new DayPilot.Action($c, $g, $0d, $h));
                }
            } else {
                throw "Invalid event invocation type";
            }
        };
        this.$5n = function($N) {
            if (this.heightSpec === 'BusinessHoursNoScroll') {
                return this.businessBeginsHour;
            } else if (this.hideFreeCells && !$N) {
                var $P = (this.$5D) * this.cellDuration / this.cellHeight;
                var $Q = Math.floor($P / 60);
                $Q = Math.max(0, $Q);
                return Math.min(this.dayBeginsHour + $Q, this.businessBeginsHour);
            } else {
                return this.dayBeginsHour;
            }
        };
        this.visibleStart = function() {
            return this.$5g[0].start;
        };
        this.visibleEnd = function() {
            var $0f = this.$5g;
            var $N = $0f.length - 1;
            return $0f[$N].start.addDays(1);
        };
        this.$5e = function() {
            return $c.api === 2;
        };
        this.$5E = function(e, $0g, $0h, $0i) {
            if (this.eventResizeHandling === 'Disabled') {
                return;
            };
            var $I = 0;
            var $0b = new Date();
            var $0c = new Date();
            var $09 = e.start();
            var end = e.end();
            var $0j = $c.cellDuration;
            var $0k = $c.$5g[e.part.dayIndex].start;
            if ($0i === 'top') {
                var $0k = $09.getDatePart();
                var $0l = Math.floor(($0h - $I) / $c.cellHeight);
                var $0m = $0l * $0j;
                var ts = $0m * 60 * 1000;
                var $0n = $c.$5n() * 60 * 60 * 1000;
                $0b = $0k.addTime(ts + $0n);
                $0c = e.end();
            } else if ($0i === 'bottom') {
                var $0l = Math.floor(($0h + $0g - $I) / $c.cellHeight);
                var $0m = $0l * $0j;
                var ts = $0m * 60 * 1000;
                var $0n = $c.$5n() * 60 * 60 * 1000;
                $0b = $09;
                $0c = $0k.addTime(ts + $0n);
            };
            if ($c.$5e()) {
                var $n = {};
                $n.e = e;
                $n.newStart = $0b;
                $n.newEnd = $0c;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventResize === 'function') {
                    $c.onEventResize($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventResizeHandling) {
                    case 'PostBack':
                        $c.eventResizePostBack(e, $0b, $0c);
                        break;
                    case 'CallBack':
                        $c.eventResizeCallBack(e, $0b, $0c);
                        break;
                    case 'Notify':
                        $c.eventResizeNotify(e, $0b, $0c);
                        break;
                    case 'Update':
                        e.start($0b);
                        e.end($0c);
                        $c.events.update(e);
                        break;
                };
                if (typeof $c.onEventResized === 'function') {
                    $c.onEventResized($n);
                }
            } else {
                switch ($c.eventResizeHandling) {
                    case 'PostBack':
                        $c.eventResizePostBack(e, $0b, $0c);
                        break;
                    case 'CallBack':
                        $c.eventResizeCallBack(e, $0b, $0c);
                        break;
                    case 'JavaScript':
                        $c.onEventResize(e, $0b, $0c);
                        break;
                    case 'Notify':
                        $c.eventResizeNotify(e, $0b, $0c);
                        break;
                }
            }
        };
        this.eventResizeNotify = function(e, $0b, $0c, $h) {
            var $0o = new DayPilot.Event(e.copy(), this);
            e.start($0b);
            e.end($0c);
            e.commit();
            $c.update();
            this.$5F("Notify", $0o, $0b, $0c, $h);
        };
        this.$5F = function($l, e, $0b, $0c, $h) {
            var $0d = {};
            $0d.e = e;
            $0d.newStart = $0b;
            $0d.newEnd = $0c;
            this.$5C($l, "EventResize", $0d, $h);
        };
        this.eventMovePostBack = function(e, $0b, $0c, $0p, $h) {
            if (!$0b) throw 'newStart is null';
            if (!$0c) throw 'newEnd is null';
            var $0d = {};
            $0d.e = e;
            $0d.newStart = $0b;
            $0d.newEnd = $0c;
            $0d.newResource = $0p;
            this.$4y('EventMove', $h, $0d);
        };
        this.eventMoveCallBack = function(e, $0b, $0c, $0p, $h) {
            if (!$0b) throw 'newStart is null';
            if (!$0c) throw 'newEnd is null';
            var $0d = {};
            $0d.e = e;
            $0d.newStart = $0b;
            $0d.newEnd = $0c;
            $0d.newResource = $0p;
            this.$4A('EventMove', $0d, $h);
        };
        this.$5G = function(e, $0q, $0h, ev, $0r) {
            if ($c.eventMoveHandling === 'Disabled') {
                return;
            };
            var $I = 0;
            var $0l = Math.floor(($0h - $I) / $c.cellHeight);
            var $0j = $c.cellDuration;
            var $0s = $0l * $0j * 60 * 1000;
            var $09 = e.start();
            var end = e.end();
            var $0k = new Date();
            if ($09 instanceof DayPilot.Date) {
                $09 = $09.toDate();
            };
            $0k.setTime(Date.UTC($09.getUTCFullYear(), $09.getUTCMonth(), $09.getUTCDate()));
            var $0t = ($c.useEventBoxes !== 'Never') ? $09.getTime() - ($0k.getTime() + $09.getUTCHours() * 3600 * 1000 + Math.floor($09.getUTCMinutes() / $0j) * $0j * 60 * 1000) : 0;
            var length = end.getTime() - $09.getTime();
            var $0n = $c.$5n() * 3600 * 1000;
            if (typeof $0q === "undefined") {
                $0q = e.part.dayIndex;
            };
            var $0u = this.$5g[$0q];
            var $0v = $0u.start.getTime();
            var $0w = new Date();
            $0w.setTime($0v + $0s + $0t + $0n);
            var $0b = new DayPilot.Date($0w);
            var $0c = $0b.addTime(length);
            var external = !!$0r;
            var $0p = $0u.id;
            if ($c.$5e()) {
                var $n = {};
                $n.e = e;
                $n.newStart = $0b;
                $n.newEnd = $0c;
                $n.newResource = $0p;
                $n.external = external;
                $n.ctrl = false;
                if (ev) {
                    $n.ctrl = ev.ctrlKey;
                };
                $n.shift = false;
                if (ev) {
                    $n.shift = ev.shiftKey;
                };
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventMove === 'function') {
                    $c.onEventMove($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventMoveHandling) {
                    case 'PostBack':
                        $c.eventMovePostBack(e, $0b, $0c, $0p);
                        break;
                    case 'CallBack':
                        $c.eventMoveCallBack(e, $0b, $0c, $0p);
                        break;
                    case 'Notify':
                        $c.eventMoveNotify(e, $0b, $0c, $0p);
                        break;
                    case 'Update':
                        e.start($0b);
                        e.end($0c);
                        e.resource($0p);
                        if (external) {
                            e.commit();
                            $c.events.add(e);
                        } else {
                            $c.events.update(e);
                        };
                        $c.$5H();
                        break;
                };
                if (typeof $c.onEventMoved === 'function') {
                    $c.onEventMoved($n);
                }
            } else {
                switch ($c.eventMoveHandling) {
                    case 'PostBack':
                        $c.eventMovePostBack(e, $0b, $0c, $0p);
                        break;
                    case 'CallBack':
                        $c.eventMoveCallBack(e, $0b, $0c, $0p);
                        break;
                    case 'JavaScript':
                        $c.onEventMove(e, $0b, $0c, $0p, external, ev ? ev.ctrlKey: false, ev ? ev.shiftKey: false);
                        break;
                    case 'Notify':
                        $c.eventMoveNotify(e, $0b, $0c, $0p, null);
                        break;
                }
            }
        };
        this.eventMoveNotify = function(e, $0b, $0c, $0p, $h) {
            var $0o = new DayPilot.Event(e.copy(), this);
            e.start($0b);
            e.end($0c);
            e.resource($0p);
            e.commit();
            $c.update();
            this.$5I("Notify", $0o, $0b, $0c, $0p, $h);
        };
        this.$5I = function($l, e, $0b, $0c, $0p, $h) {
            var $0d = {};
            $0d.e = e;
            $0d.newStart = $0b;
            $0d.newEnd = $0c;
            $0d.newResource = $0p;
            this.$5C($l, "EventMove", $0d, $h);
        };
        this.$5H = function() {
            if ($c.todo) {
                if ($c.todo.del) {
                    var $A = $c.todo.del;
                    $A.parentNode.removeChild($A);
                    $c.todo.del = null;
                }
            }
        };
        this.$5J = function($n, $x) {
            var $w = $c.$5K($x);
            var $0d = {};
            $0d.args = $n;
            $0d.guid = $w;
            $c.$4A("Bubble", $0d);
        };
        this.$5K = function($x) {
            var $w = DayPilot.guid();
            if (!this.bubbles) {
                this.bubbles = [];
            };
            this.bubbles[$w] = $x;
            return $w;
        };
        this.eventMenuClickPostBack = function(e, $0x, $h) {
            var $0d = {};
            $0d.e = e;
            $0d.command = $0x;
            this.$4y('EventMenuClick', $h, $0d);
        };
        this.eventMenuClickCallBack = function(e, $0x, $h) {
            var $0d = {};
            $0d.e = e;
            $0d.command = $0x;
            this.$4A('EventMenuClick', $0d, $h);
        };
        this.$5L = function($0x, e, $0y) {
            switch ($0y) {
                case 'PostBack':
                    $c.eventMenuClickPostBack(e, $0x);
                    break;
                case 'CallBack':
                    $c.eventMenuClickCallBack(e, $0x);
                    break;
            }
        };
        this.timeRangeMenuClickPostBack = function(e, $0x, $h) {
            var $0d = {};
            $0d.selection = e;
            $0d.command = $0x;
            this.$4y("TimeRangeMenuClick", $h, $0d);
        };
        this.timeRangeMenuClickCallBack = function(e, $0x, $h) {
            var $0d = {};
            $0d.selection = e;
            $0d.command = $0x;
            this.$4A("TimeRangeMenuClick", $0d, $h);
        };
        this.$5M = function($0x, e, $0y) {
            switch ($0y) {
                case 'PostBack':
                    $c.timeRangeMenuClickPostBack(e, $0x);
                    break;
                case 'CallBack':
                    $c.timeRangeMenuClickCallBack(e, $0x);
                    break;
            }
        };
        this.timeRangeSelectedPostBack = function($09, end, $0z, $h) {
            var $0A = {};
            $0A.start = $09;
            $0A.end = end;
            $0A.resource = $0z;
            this.$4y('TimeRangeSelected', $h, $0A);
        };
        this.timeRangeSelectedCallBack = function($09, end, $0z, $h) {
            var $0A = {};
            $0A.start = $09;
            $0A.end = end;
            $0A.resource = $0z;
            this.$4A('TimeRangeSelected', $0A, $h);
        };
        this.$5N = function($09, end, $q) {
            $09 = new DayPilot.Date($09);
            end = new DayPilot.Date(end);
            var $0z = $q;
            if ($c.$5e()) {
                var $n = {};
                $n.start = $09;
                $n.end = end;
                $n.resource = $0z;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onTimeRangeSelect === 'function') {
                    $c.onTimeRangeSelect($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.timeRangeSelectedHandling) {
                    case 'PostBack':
                        $c.timeRangeSelectedPostBack($09, end, $0z);
                        break;
                    case 'CallBack':
                        $c.timeRangeSelectedCallBack($09, end, $0z);
                        break;
                };
                if (typeof $c.onTimeRangeSelected === 'function') {
                    $c.onTimeRangeSelected($n);
                }
            } else {
                switch ($c.timeRangeSelectedHandling) {
                    case 'PostBack':
                        $c.timeRangeSelectedPostBack($09, end, $q);
                        break;
                    case 'CallBack':
                        $c.timeRangeSelectedCallBack($09, end, $q);
                        break;
                    case 'JavaScript':
                        $c.onTimeRangeSelected($09, end, $q);
                        break;
                }
            }
        };
        this.timeRangeDoubleClickPostBack = function($09, end, $q, $h) {
            var $0A = {};
            $0A.start = $09;
            $0A.end = end;
            $0A.resource = $q;
            this.$4y('TimeRangeDoubleClick', $h, $0A);
        };
        this.timeRangeDoubleClickCallBack = function($09, end, $q, $h) {
            var $0A = {};
            $0A.start = $09;
            $0A.end = end;
            $0A.resource = $q;
            this.$4A('TimeRangeDoubleClick', $0A, $h);
        };
        this.$5O = function($09, end, $q) {
            if ($c.$5e()) {
                var $0z = $q;
                var $n = {};
                $n.start = $09;
                $n.end = end;
                $n.resource = $0z;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onTimeRangeDoubleClick === 'function') {
                    $c.onTimeRangeDoubleClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.timeRangeDoubleClickHandling) {
                    case 'PostBack':
                        $c.timeRangeDoubleClickPostBack($09, end, $0z);
                        break;
                    case 'CallBack':
                        $c.timeRangeDoubleClickCallBack($09, end, $0z);
                        break;
                };
                if (typeof $c.onTimeRangeDoubleClicked === 'function') {
                    $c.onTimeRangeDoubleClicked($n);
                }
            } else {
                switch ($c.timeRangeDoubleClickHandling) {
                    case 'PostBack':
                        $c.timeRangeDoubleClickPostBack($09, end, $q);
                        break;
                    case 'CallBack':
                        $c.timeRangeDoubleClickCallBack($09, end, $q);
                        break;
                    case 'JavaScript':
                        $c.onTimeRangeDoubleClick($09, end, $q);
                        break;
                }
            }
        };
        this.eventEditPostBack = function(e, $0B, $h) {
            var $0d = {};
            $0d.e = e;
            $0d.newText = $0B;
            this.$4y("EventEdit", $h, $0d);
        };
        this.eventEditCallBack = function(e, $0B, $h) {
            var $0d = {};
            $0d.e = e;
            $0d.newText = $0B;
            this.$4A("EventEdit", $0d, $h);
        };
        this.$5P = function(e, $0B) {
            if ($c.$5e()) {
                var $n = {};
                $n.e = e;
                $n.newText = $0B;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventEdit === 'function') {
                    $c.onEventEdit($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventEditHandling) {
                    case 'PostBack':
                        $c.eventEditPostBack(e, $0B);
                        break;
                    case 'CallBack':
                        $c.eventEditCallBack(e, $0B);
                        break;
                    case 'Update':
                        e.text($0B);
                        $c.events.update(e);
                        break;
                };
                if (typeof $c.onEventEdited === 'function') {
                    $c.onEventEdited($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                }
            } else {
                switch ($c.eventEditHandling) {
                    case 'PostBack':
                        $c.eventEditPostBack(e, $0B);
                        break;
                    case 'CallBack':
                        $c.eventEditCallBack(e, $0B);
                        break;
                    case 'JavaScript':
                        $c.onEventEdit(e, $0B);
                        break;
                }
            }
        };
        this.eventSelectPostBack = function(e, $0C, $h) {
            var $0d = {};
            $0d.e = e;
            $0d.change = $0C;
            this.$4y('EventSelect', $h, $0d);
        };
        this.eventSelectCallBack = function(e, $0C, $h) {
            var $0d = {};
            $0d.e = e;
            $0d.change = $0C;
            this.$4A('EventSelect', $0d, $h);
        };
        this.$5Q = function($d, e, $01, $02) {
            var m = $c.multiselect;
            var $0D = false;
            var $0E = m.isSelected(e);
            var $0F = $01 || $02;
            if (!$0F && $0E && !$0D && m.$5R.length === 1) {
                return;
            };
            if ($c.$5e()) {
                m.previous = m.events();
                var $n = {};
                $n.e = e;
                $n.selected = m.isSelected(e);
                $n.ctrl = $01;
                $n.meta = $02;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventSelect === 'function') {
                    $c.onEventSelect($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventSelectHandling) {
                    case 'PostBack':
                        $c.eventSelectPostBack(e, $0C);
                        break;
                    case 'CallBack':
                        if (typeof WebForm_InitCallback !== 'undefined') {
                            window.__theFormPostData = "";
                            window.__theFormPostCollection = [];
                            WebForm_InitCallback();
                        };
                        $c.eventSelectCallBack(e, $0C);
                        break;
                    case 'Update':
                        m.$5S($d, $01);
                        break;
                };
                if (typeof $c.onEventSelected === 'function') {
                    $n.change = m.isSelected(e) ? "selected": "deselected";
                    $n.selected = m.isSelected(e);
                    $c.onEventSelected($n);
                }
            } else {
                m.previous = m.events();
                m.$5S($d, $01);
                var $0C = m.isSelected(e) ? "selected": "deselected";
                switch ($c.eventSelectHandling) {
                    case 'PostBack':
                        $c.eventSelectPostBack(e, $0C);
                        break;
                    case 'CallBack':
                        if (typeof WebForm_InitCallback !== 'undefined') {
                            window.__theFormPostData = "";
                            window.__theFormPostCollection = [];
                            WebForm_InitCallback();
                        };
                        $c.eventSelectCallBack(e, $0C);
                        break;
                    case 'JavaScript':
                        $c.onEventSelect(e, $0C);
                        break;
                }
            }
        };
        this.commandCallBack = function($0x, $h) {
            this.$4G();
            var $0d = {};
            $0d.command = $0x;
            this.$4A('Command', $0d, $h);
        };
        this.$5T = function(ev) {
            if ($0G.active || $0G.using) {
                return;
            };
            clearTimeout(DayPilotCalendar.selectedTimeout);
            if (DayPilotCalendar.selecting) {
                return;
            };
            if (DayPilotCalendar.editing) {
                DayPilotCalendar.editing.blur();
                return;
            };
            if ($c.selectedCells && $c.timeRangeDoubleClickHandling !== 'Disabled') {
                for (var i = 0; i < $c.selectedCells.length; i++) {
                    if (this === $c.selectedCells[i]) {
                        return;
                    }
                }
            };
            if ($c.timeRangeSelectedHandling === "Disabled") {
                return;
            };
            var $0H = DayPilot.Util.mouseButton(ev);
            if (!$0H.left) {
                return;
            };
            DayPilotCalendar.firstMousePos = DayPilot.mc(ev || window.event);
            $c.clearSelection();
            DayPilotCalendar.topSelectedCell = this;
            DayPilotCalendar.bottomSelectedCell = this;
            DayPilotCalendar.column = DayPilotCalendar.getColumn(this);
            $c.selectedCells.push(this);
            DayPilotCalendar.firstSelected = this;
        };
        this.$5U = function() {
            var $0I = this.getSelection();
            if (!$0I) {
                return;
            };
            if (!$c.selectedCells) {
                return;
            };
            for (var j = 0; j < $c.selectedCells.length; j++) {
                var $f = $c.selectedCells[j];
                if ($f && !$f.selected) {
                    var $d = document.createElement("div");
                    $d.style.height = ($c.cellHeight - 1) + "px";
                    $d.style.backgroundColor = $c.selectedColor;
                    $f.firstChild.style.display = "none";
                    $f.insertBefore($d, $f.firstChild);
                    $f.selected = $d;
                }
            }
        };
        this.$5V = function(ev) {
            if (typeof(DayPilotBubble) !== 'undefined' && $c.cellBubble) {
                $c.cellBubble.hideOnMouseOut();
            }
        };
        this.$5W = function(ev) {
            if (typeof(DayPilotCalendar) === 'undefined') {
                return;
            };
            if ($0G.active || $0G.using) {
                return;
            };
            if (typeof(DayPilotBubble) !== 'undefined' && $c.cellBubble) {
                var $q = DayPilotCalendar.getColumn(this);
                var $07 = $c.$5g[$q].id;
                var $f = {};
                $f.calendar = $c;
                $f.start = this.start;
                $f.end = this.end;
                $f.resource = $07;
                $f.toJSON = function() {
                    var $08 = {};
                    $08.start = this.start;
                    $08.end = this.end;
                    $08.resource = this.resource;
                    return $08;
                };
                $c.cellBubble.showCell($f);
            };
            if (DayPilotCalendar.firstMousePos) {
                var $0J = DayPilotCalendar.firstMousePos;
                var $0K = DayPilot.mc(ev || window.event);
                if ($0J.x !== $0K.x || $0J.y !== $0K.y) {
                    DayPilotCalendar.selecting = true;
                    $c.clearSelection();
                    $c.$5U();
                }
            };
            if (!DayPilotCalendar.selecting) {
                return;
            };
            var $0L = DayPilot.mc(ev || window.event);
            var $0M = DayPilotCalendar.getColumn(this);
            if ($0M !== DayPilotCalendar.column) {
                return;
            };
            $c.clearSelection();
            if ($0L.y < DayPilotCalendar.firstMousePos.y) {
                $c.selectedCells = DayPilotCalendar.getCellsBelow(this);
                DayPilotCalendar.topSelectedCell = $c.selectedCells[0];
                DayPilotCalendar.bottomSelectedCell = DayPilotCalendar.firstSelected;
            } else {
                $c.selectedCells = DayPilotCalendar.getCellsAbove(this);
                DayPilotCalendar.topSelectedCell = DayPilotCalendar.firstSelected;
                DayPilotCalendar.bottomSelectedCell = $c.selectedCells[0];
            };
            $c.$5U();
        };
        this.getSelection = function() {
            if (!DayPilotCalendar.topSelectedCell) {
                return null;
            };
            if (!DayPilotCalendar.bottomSelectedCell) {
                return null;
            };
            var $09 = DayPilotCalendar.topSelectedCell.start;
            var end = DayPilotCalendar.bottomSelectedCell.end;
            var $0N = DayPilotCalendar.topSelectedCell.resource;
            return new DayPilot.Selection($09, end, $0N, $c);
        };
        this.$5X = function(ev) {
            if (DayPilotCalendar.firstMousePos) {
                var $0O = function() {
                    DayPilotCalendar.selecting = true;
                    $c.$5U();
                    DayPilotCalendar.firstMousePos = null;
                    DayPilotCalendar.selecting = false;
                    var $0P = $c.getSelection();
                    $c.$5N($0P.start, $0P.end, $0P.resource);
                };
                if (DayPilotCalendar.selecting && DayPilotCalendar.topSelectedCell !== null) {
                    $0O();
                } else {
                    DayPilotCalendar.selectedTimeout = setTimeout($0O, 100);
                }
            } else {
                DayPilotCalendar.selecting = false;
            }
        };
        this.$5Y = function(ev) {
            var $0Q = $c.columnWidthSpec === "Fixed";
            if ($0Q || $c.$5Z) {
                if (!$c.nav.bottomLeft) {
                    return;
                };
                $c.nav.bottomLeft.scrollTop = $c.nav.bottomRight.scrollTop;
                if ($c.nav.upperRight) {
                    $c.nav.upperRight.scrollLeft = $c.nav.bottomRight.scrollLeft;
                };
                $c.nav.scrollLayer.scrollLeft = $c.nav.bottomRight.scrollLeft;
            };
            var scroll = $c.$60();
            $c.scrollPos = scroll.scrollTop;
            $c.$61 = scroll.clientHeight;
            $c.nav.scrollpos.value = $c.scrollPos;
            $c.$5c();
        };
        this.$5c = function() {
            if (!this.scrollLabelsVisible) {
                return;
            };
            if (!this.$62) {
                return;
            };
            var $0R = this.nav && this.nav.main && this.nav.main.rows && this.nav.main.rows.length > 0 && this.nav.main.rows[0].cells.length > 0;
            if (!$0R) {
                return;
            };
            var $0f = this.$5g;
            var $0S = (this.showHours ? this.hourWidth: 0);
            var $H = this.nav.main.rows[0].cells[0].clientWidth;
            var iw = 10;
            var $0T = 1;
            for (var i = 0; i < this.nav.scrollUp.length; i++) {
                var $0U = this.nav.scrollUp[i];
                var $0V = this.nav.scrollDown[i];
                var $X = Math.floor($0S + i * $H + $H / 2 - (iw / 2) + $0T);
                if ($X < 0) {
                    $X = 0;
                };
                $X -= $c.nav.bottomRight.scrollLeft;
                if ($0U && $0U.style) {
                    $0U.style.left = $X + "px";
                };
                if ($0V && $0V.style) {
                    $0V.style.left = $X + "px";
                }
            };
            var $0W = this.$63();
            for (var i = 0; i < this.nav.scrollUp.length; i++) {
                var up = this.nav.scrollUp[i];
                var $0X = this.nav.scrollDown[i];
                var $0Y = this.$62[i].minEnd - $0W;
                var $0Z = this.$62[i].maxStart - $0W;
                if (up && $0X) {
                    if ($0Y <= $c.scrollPos && parseInt(up.style.left) >= $c.hourWidth) {
                        up.style.top = (this.$5o()) + "px";
                        up.style.display = '';
                    } else {
                        up.style.display = 'none';
                    };
                    if ($0Z >= $c.scrollPos + $c.$61 && parseInt($0X.style.left) >= $c.hourWidth) {
                        $0X.style.top = (this.$5o() + this.$61 - 10) + "px";
                        $0X.style.display = '';
                    } else {
                        $0X.style.display = 'none';
                    }
                }
            }
        };
        this.$64 = function($E) {
            var $10 = $E.parentNode;
            var $X = 0;
            var top = $E.offsetTop;
            var $11 = $E.parentNode.offsetWidth;
            var $J = $E.offsetHeight;
            if ($E.event.allday()) {
                $X = $E.offsetLeft;
                $11 = $E.offsetWidth;
            };
            var $12 = document.createElement('textarea');
            $12.style.boxSizing = "border-box";
            $12.style.position = 'absolute';
            $12.style.width = $11 + 'px';
            $12.style.height = $J + 'px';
            var $13 = DayPilot.gs($E, 'fontFamily');
            if (!$13) $13 = DayPilot.gs($E, 'font-family');
            $12.style.fontFamily = $13;
            var $14 = DayPilot.gs($E, 'fontSize');
            if (!$14) $14 = DayPilot.gs($E, 'font-size');
            $12.style.fontSize = $14;
            $12.style.left = $X + 'px';
            $12.style.top = top + 'px';
            $12.style.border = '1px solid black';
            $12.style.padding = '0px';
            $12.style.marginTop = '0px';
            $12.style.backgroundColor = 'white';
            $12.value = DayPilot.tr($E.event.text());
            $12.event = $E.event;
            $10.appendChild($12);
            return $12;
        };
        this.$5v = function($d, e, $01, $02) {
            $c.$5Q($d, e, $01, $02);
        };
        this.multiselect = {};
        this.multiselect.$4U = [];
        this.multiselect.$5R = [];
        this.multiselect.$65 = [];
        this.multiselect.$66 = [];
        this.multiselect.$67 = function() {
            var m = $c.multiselect;
            return DayPilot.JSON.stringify(m.events());
        };
        this.multiselect.events = function() {
            var m = $c.multiselect;
            var $15 = [];
            $15.ignoreToJSON = true;
            for (var i = 0; i < m.$5R.length; i++) {
                $15.push(m.$5R[i]);
            };
            return $15;
        };
        this.multiselect.$68 = function() {
            var h = $c.nav.select;
            h.value = $c.multiselect.$67();
        };
        this.multiselect.$5S = function($d, $16) {
            var m = $c.multiselect;
            if (m.isSelected($d.event)) {
                if ($c.allowMultiSelect) {
                    if ($16) {
                        m.remove($d.event, true);
                    } else {
                        var $17 = m.$5R.length;
                        m.clear(true);
                        if ($17 > 1) {
                            m.add($d.event, true);
                        }
                    }
                } else {
                    m.clear(true);
                }
            } else {
                if ($c.allowMultiSelect) {
                    if ($16) {
                        m.add($d.event, true);
                    } else {
                        m.clear(true);
                        m.add($d.event, true);
                    }
                } else {
                    m.clear(true);
                    m.add($d.event, true);
                }
            };
            m.redraw();
            m.$68();
        };
        this.multiselect.$69 = function(ev) {
            var m = $c.multiselect;
            return m.$6a(ev, m.$4U);
        };
        this.multiselect.$6b = function() {
            var m = $c.multiselect;
            var $18 = [];
            for (var i = 0; i < m.$5R.length; i++) {
                var event = m.$5R[i];
                $18.push(event.value());
            };
            alert($18.join("\n"));
        };
        this.multiselect.add = function(ev, $19) {
            var m = $c.multiselect;
            if (m.$6c(ev) === -1) {
                m.$5R.push(ev);
            };
            m.$68();
            if ($19) {
                return;
            };
            m.redraw();
        };
        this.multiselect.remove = function(ev, $19) {
            var m = $c.multiselect;
            var i = m.$6c(ev);
            if (i !== -1) {
                m.$5R.splice(i, 1);
            };
            m.$68();
            if ($19) {
                return;
            };
            m.redraw();
        };
        this.multiselect.clear = function($19) {
            var m = $c.multiselect;
            m.$5R = [];
            m.$68();
            if ($19) {
                return;
            };
            m.redraw();
        };
        this.multiselect.redraw = function() {
            var m = $c.multiselect;
            for (var i = 0; i < $c.elements.events.length; i++) {
                var $d = $c.elements.events[i];
                if (m.isSelected($d.event)) {
                    m.$6d($d);
                } else {
                    m.$6e($d);
                }
            }
        };
        this.multiselect.$6d = function($d) {
            var m = $c.multiselect;
            var cn = $c.cssOnly ? $c.$5h("_selected") : $c.$5h("selected");
            var c = m.$6f($d);
            DayPilot.Util.addClass(c, cn);
            if ($c.useEventSelectionBars) {
                m.$6g($d);
            };
            m.$65.push($d);
        };
        this.multiselect.$6f = function($d) {
            if ($c.cssOnly) {
                return $d;
            };
            for (var i = 0; i < $d.childNodes.length; i++) {
                var c = $d.childNodes[i];
                if (c.getAttribute("c") === "1") {
                    return c;
                }
            };
            return null;
        };
        this.multiselect.$6h = function() {
            var m = $c.multiselect;
            for (var i = 0; i < m.$65.length; i++) {
                var $d = m.$65[i];
                m.$6e($d, true);
            };
            m.$65 = [];
        };
        this.multiselect.$6e = function($d, $1a) {
            var m = $c.multiselect;
            var cn = $c.cssOnly ? $c.$5h("_selected") : $c.$5h("selected");
            var c = m.$6f($d);
            DayPilot.Util.removeClass(c, cn);
            if ($c.useEventSelectionBars) {
                m.$6i($d);
            };
            if ($1a) {
                return;
            };
            var i = DayPilot.indexOf(m.$65, $d);
            if (i !== -1) {
                m.$65.splice(i, 1);
            }
        };
        this.multiselect.isSelected = function(ev) {
            return $c.multiselect.$6a(ev, $c.multiselect.$5R);
        };
        this.multiselect.$6c = function(ev) {
            return DayPilot.indexOf($c.multiselect.$5R, ev);
        };
        this.multiselect.$6a = function(e, $18) {
            if (!$18) {
                return false;
            };
            for (var i = 0; i < $18.length; i++) {
                var ei = $18[i];
                if (e === ei) {
                    return true;
                };
                if (typeof ei.value === 'function') {
                    if (ei.value() !== null && e.value() !== null && ei.value() === e.value()) {
                        return true;
                    };
                    if (ei.value() === null && e.value() === null && ei.recurrentMasterId() === e.recurrentMasterId() && e.start().toStringSortable() === ei.start()) {
                        return true;
                    }
                } else {
                    if (ei.value !== null && e.value() !== null && ei.value === e.value()) {
                        return true;
                    };
                    if (ei.value === null && e.value() === null && ei.recurrentMasterId === e.recurrentMasterId() && e.start().toStringSortable() === ei.start) {
                        return true;
                    }
                }
            };
            return false;
        };
        this.multiselect.$6g = function($1b) {
            var w = 5;
            if (!$1b.top) {
                var top = document.createElement("div");
                top.setAttribute("unselectable", "on");
                top.style.position = 'absolute';
                top.style.left = $1b.offsetLeft + 'px';
                top.style.width = $1b.offsetWidth + 'px';
                top.style.top = ($1b.offsetTop - w) + 'px';
                top.style.height = w + 'px';
                top.style.backgroundColor = $c.eventSelectColor;
                top.style.zIndex = 100;
                $1b.parentNode.appendChild(top);
                $1b.top = top;
            };
            if (!$1b.bottom) {
                var $1c = document.createElement("div");
                $1c.setAttribute("unselectable", "on");
                $1c.style.position = 'absolute';
                $1c.style.left = $1b.offsetLeft + 'px';
                $1c.style.width = $1b.offsetWidth + 'px';
                $1c.style.top = ($1b.offsetTop + $1b.offsetHeight) + 'px';
                $1c.style.height = w + 'px';
                $1c.style.backgroundColor = $c.eventSelectColor;
                $1c.style.zIndex = 100;
                $1b.parentNode.appendChild($1c);
                $1b.bottom = $1c;
            }
        };
        this.multiselect.$6i = function($1b) {
            if ($1b.top) {
                $1b.parentNode.removeChild($1b.top);
                $1b.top = null;
            };
            if ($1b.bottom) {
                $1b.parentNode.removeChild($1b.bottom);
                $1b.bottom = null;
            }
        };
        this.$5u = function($E) {
            if (DayPilotCalendar.editing) {
                DayPilotCalendar.editing.blur();
                return;
            };
            var $12 = this.$64($E);
            DayPilotCalendar.editing = $12;
            DayPilot.re($12, DayPilot.touch.start,
                function(ev) {
                    ev.stopPropagation();
                });
            $12.onblur = function() {
                var id = $E.event.value();
                var $1d = $E.event.tag();
                var $1e = $E.event.text();
                var $0B = $12.value;
                DayPilotCalendar.editing = null;
                $12.onblur = null;
                DayPilot.de($12);
                if ($1e === $0B) {
                    return;
                };
                $E.style.display = 'none';
                $c.$5P($E.event, $0B);
            };
            $12.onkeypress = function(e) {
                var $1f = (window.event) ? event.keyCode: e.keyCode;
                if ($1f === 13) {
                    this.onblur();
                    return false;
                } else if ($1f === 27) {
                    $12.parentNode.removeChild($12);
                    DayPilotCalendar.editing = false;
                };
                return true;
            };
            $12.select();
            $12.focus();
        };
        this.$6j = function() {
            if ($c.viewType === "Resources") {
                return false;
            };
            if ($c.columns && $c.$4B()) {
                return false;
            };
            return true;
        };
        this.$4V = function() {
            var $1g = $c.$6j();
            if ($1g) {
                var $1h = this.$6k();
                this.$5g = this.$6l($1h);
            } else {
                this.$4P = this.$6l(this.columns || []);
                this.$5g = this.$6m(this.headerLevels, true);
            }
        };
        this.$6n = function() {
            var $09 = this.startDate.getDatePart();
            var $1i = this.days;
            switch (this.viewType) {
                case "Day":
                    $1i = 1;
                    break;
                case "Week":
                    $1i = 7;
                    $09 = $09.firstDayOfWeek($0e.weekStarts());
                    break;
                case "WorkWeek":
                    $1i = 5;
                    $09 = $09.firstDayOfWeek(1);
                    break;
            };
            var end = $09.addDays($1i);
            var $u = {};
            $u.start = $09;
            $u.end = end;
            $u.days = $1i;
            return $u;
        };
        this.$6k = function() {
            var $0f = [];
            var $1j = this.$6n();
            var $09 = $1j.start;
            var $1i = $1j.days;
            for (var i = 0; i < $1i; i++) {
                var $q = {};
                $q.start = $09.addDays(i);
                var $1k = $0e.locale().datePattern;
                if ($c.headerDateFormat) {
                    $1k = $c.headerDateFormat;
                };
                $q.name = $q.start.toString($1k, $0e.locale());
                $q.html = $q.name;
                $0f.push($q);
            };
            return $0f;
        };
        this.$6o = function($q) {
            var $1l = {};
            if ($q.Start) {
                $q.id = $q.Value;
                $q.start = $q.Start;
                $q.name = $q.Name;
                $q.html = $q.InnerHTML;
                $q.toolTip = $q.ToolTip;
                $q.backColor = $q.BackColor;
                $q.areas = $q.Areas;
                $q.children = $q.Children;
                delete $q.Value;
                delete $q.Start;
                delete $q.Name;
                delete $q.InnerHTML;
                delete $q.ToolTip;
                delete $q.BackColor;
                delete $q.Areas;
                delete $q.Children;
            };
            $1l.id = $q.id;
            $1l.start = new DayPilot.Date($q.start || $c.startDate);
            $1l.name = $q.name;
            $1l.html = $q.html || $q.name;
            $1l.toolTip = $q.toolTip;
            $1l.backColor = $q.backColor;
            $1l.areas = $q.areas;
            $1l.getChildren = function($1m, $1n) {
                var $18 = [];
                if ($1m <= 1) {
                    $18.push(this);
                    return $18;
                };
                if (!this.children || this.children.length === 0) {
                    if ($1n) {
                        $18.push(this);
                    } else {
                        $18.push("empty");
                    };
                    return $18;
                };
                for (var i = 0; i < this.children.length; i++) {
                    var $1o = this.children[i];
                    var $1p = $1o.getChildren($1m - 1, $1n);
                    for (var j = 0; j < $1p.length; j++) {
                        $18.push($1p[j]);
                    }
                };
                return $18;
            };
            $1l.getChildrenCount = function($1m) {
                var $17 = 0;
                if (!this.children || this.children.length <= 0 || $1m <= 1) {
                    return 1;
                };
                for (var i = 0; i < this.children.length; i++) {
                    $17 += this.children[i].getChildrenCount($1m - 1);
                };
                return $17;
            };
            $1l.putIntoBlock = function(ep) {
                for (var i = 0; i < this.blocks.length; i++) {
                    var $1q = this.blocks[i];
                    if ($1q.overlapsWith(ep.part.top, ep.part.height)) {
                        $1q.events.push(ep);
                        $1q.min = Math.min($1q.min, ep.part.top);
                        $1q.max = Math.max($1q.max, ep.part.top + ep.part.height);
                        return i;
                    }
                };
                var $1q = [];
                $1q.lines = [];
                $1q.events = [];
                $1q.overlapsWith = function($09, $11) {
                    var end = $09 + $11 - 1;
                    if (! (end < this.min || $09 > this.max - 1)) {
                        return true;
                    };
                    return false;
                };
                $1q.putIntoLine = function(ep) {
                    var $1r = this;
                    for (var i = 0; i < this.lines.length; i++) {
                        var $1s = this.lines[i];
                        if ($1s.isFree(ep.part.top, ep.part.height)) {
                            $1s.push(ep);
                            return i;
                        }
                    };
                    var $1s = [];
                    $1s.isFree = function($09, $11) {
                        var end = $09 + $11 - 1;
                        var $N = this.length;
                        for (var i = 0; i < $N; i++) {
                            var e = this[i];
                            if (! (end < e.part.top || $09 > e.part.top + e.part.height - 1)) {
                                return false;
                            }
                        };
                        return true;
                    };
                    $1s.push(ep);
                    this.lines.push($1s);
                    return this.lines.length - 1;
                };
                $1q.events.push(ep);
                $1q.min = ep.part.top;
                $1q.max = ep.part.top + ep.part.height;
                this.blocks.push($1q);
                return this.blocks.length - 1;
            };
            $1l.putIntoLine = function(ep) {
                var $1r = this;
                for (var i = 0; i < this.lines.length; i++) {
                    var $1s = this.lines[i];
                    if ($1s.isFree(ep.part.top, ep.part.height)) {
                        $1s.push(ep);
                        return i;
                    }
                };
                var $1s = [];
                $1s.isFree = function($09, $11) {
                    var end = $09 + $11 - 1;
                    var $N = this.length;
                    for (var i = 0; i < $N; i++) {
                        var e = this[i];
                        if (! (end < e.part.top || $09 > e.part.top + e.part.height - 1)) {
                            return false;
                        }
                    };
                    return true;
                };
                $1s.push(ep);
                this.lines.push($1s);
                return this.lines.length - 1;
            };
            if ($q.children) {
                $1l.children = this.$6l($q.children);
            };
            return $1l;
        };
        this.$6l = function(cc) {
            var $1l = DayPilot.list();
            DayPilot.list(cc).each(function($1t) {
                var $1u = $c.$6o($1t);
                $1l.push($1u);
            });
            return $1l;
        };
        this.$6m = function($1m, $1n) {
            var $1v = this.$6j() ? this.$5g: this.$4P;
            var $18 = [];
            for (var i = 0; i < $1v.length; i++) {
                var $t = $1v[i].getChildren($1m, $1n);
                for (var j = 0; j < $t.length; j++) {
                    $18.push($t[j]);
                }
            };
            return $18;
        };
        this.$5b = function() {
            if (!this.showAllDayEvents) {
                return;
            };
            var $1w = this.nav.header;
            if (!$1w) {
                return;
            };
            $1w.style.display = 'none';
            var $0f = this.$5g.length;
            for (var j = 0; j < this.$6p.lines.length; j++) {
                var $1s = this.$6p.lines[j];
                for (var i = 0; i < $1s.length; i++) {
                    var $h = $1s[i];
                    var $d = document.createElement("div");
                    $d.event = $h;
                    $d.setAttribute("unselectable", "on");
                    $d.style.position = 'absolute';
                    if ($c.rtl) {
                        $d.style.right = (100.0 * $h.part.colStart / $0f) + "%";
                    } else {
                        $d.style.left = (100.0 * $h.part.colStart / $0f) + "%";
                    };
                    $d.style.width = (100.0 * $h.part.colWidth / $0f) + "%";
                    $d.style.height = $0e.allDayEventHeight() + 'px';
                    $d.className = this.$5h("_alldayevent");
                    $d.style.top = (this.headerLevels * $0e.headerHeight() + j * ($0e.allDayEventHeight())) + "px";
                    if ($h.data.cssClass) {
                        DayPilot.Util.addClass($d, $h.data.cssClass);
                    };
                    $d.style.textAlign = 'left';
                    $d.style.lineHeight = "1.2";
                    if ($h.client.clickEnabled()) {
                        $d.onclick = this.$5s;
                    };
                    if ($h.client.doubleClickEnabled()) {
                        $d.ondblclick = this.$5w;
                    };
                    if ($h.client.clickEnabled() || $h.client.doubleClickEnabled()) {
                        $d.style.cursor = "pointer";
                    } else {
                        $d.style.cursor = "default";
                    };
                    DayPilot.re($d, "contextmenu", this.$5x);
                    $d.onmousemove = function(ev) {
                        var $d = this;
                        if (!$d.active) {
                            var $1x = [];
                            if ($h.client.deleteEnabled()) {
                                $1x.push({
                                    "action": "JavaScript",
                                    "v": "Hover",
                                    "w": 17,
                                    "h": 17,
                                    "top": 3,
                                    "right": 3,
                                    "css": $c.$5h("_event_delete"),
                                    "js": function(e) {
                                        $c.$5B(e);
                                    }
                                });
                            };
                            var $18 = $d.event.cache ? $d.event.cache.areas: $d.event.data.areas;
                            if ($18 && $18.length > 0) {
                                $1x = $1x.concat($18);
                            };
                            DayPilot.Areas.showAreas($d, $d.event, null, $1x);
                            if ($c.cssOnly) {
                                DayPilot.Util.addClass($d, $c.$5h("_alldayevent_hover"));
                            }
                        };
                        if (typeof(DayPilotBubble) !== 'undefined' && $c.bubble && $c.eventHoverHandling !== 'Disabled') {
                            $c.bubble.showEvent(this.event);
                        }
                    };
                    $d.onmouseout = function(ev) {
                        var $d = this;
                        if ($c.cssOnly) {
                            DayPilot.Util.removeClass($d, $c.$5h("_alldayevent_hover"));
                        };
                        DayPilot.Areas.hideAreas(this, ev);
                        if ($c.bubble) {
                            $c.bubble.hideOnMouseOut();
                        }
                    };
                    if (this.showToolTip && !this.bubble) {
                        $d.setAttribute("title", $h.client.toolTip());
                    };
                    var $1y = $h.start().getTime() === $h.part.start.getTime();
                    var $1z = $h.end().getTime() === $h.part.end.getTime();
                    var back = $h.data.backColor;
                    if (!this.cssOnly) {
                        var $M = document.createElement("div");
                        $M.setAttribute("unselectable", "on");
                        $M.style.marginLeft = '2px';
                        $M.style.marginRight = '3px';
                        $M.style.paddingLeft = '2px';
                        $M.style.height = ($0e.allDayEventHeight() - 2) + 'px';
                        $M.style.border = '1px solid ' + this.allDayEventBorderColor;
                        $M.style.overflow = 'hidden';
                        $M.style.position = 'relative';
                        $M.style.backgroundColor = back;
                        $M.className = this.$5h("alldayevent");
                        if (this.roundedCorners) {
                            $M.style.MozBorderRadius = "5px";
                            $M.style.webkitBorderRadius = "5px";
                            $M.style.borderRadius = "5px";
                        };
                        var $1A = [];
                        var $1B = true;
                        var $1C = this.showAllDayEventStartEnd;
                        var $1D = this.showAllDayEventStartEnd;
                        var $1E = "Center";
                        var $1F = 0;
                        if ($1C) {
                            if ($1E === 'Left') {
                                $1A.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:8pt;color:gray;text-align:right;");
                                $1A.push("width:");
                                $1A.push($1F - 4);
                                $1A.push("px;");
                                $1A.push("><span style='background-color:");
                            } else {
                                $1A.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:8pt;color:gray'><span style='background-color:");
                            };
                            $1A.push('transparent');
                            $1A.push("' unselectable='on'>");
                            if ($1y) {
                                if ($h.start().getDatePart().getTime() !== $h.start().getTime()) {
                                    $1A.push(DayPilot.DateUtil.hours($h.start(), this.$6q.timeFormat() === 'Clock12Hours'));
                                }
                            } else {
                                $1A.push("~");
                            };
                            $1A.push("</span></div></div>");
                        };
                        if ($1D) {
                            $1A.push("<div unselectable='on' style='position:absolute;text-align:right;height:1px;font-size:1px;width:100%'><div unselectable='on' style='margin-right:4px;font-size:8pt;color:gray'><span style='background-color:");
                            $1A.push('transparent');
                            $1A.push("' unselectable='on'>");
                            if ($1z) {
                                if ($h.end().getDatePart().getTime() !== $h.end().getTime()) {
                                    $1A.push(DayPilot.DateUtil.hours($h.end(), this.$6q.timeFormat() === 'Clock12Hours'));
                                }
                            } else {
                                $1A.push("~");
                            };
                            $1A.push("</span></div></div>");
                        };
                        if ($1E === 'Left') {
                            var $X = $1C ? $1F: 0;
                            $1A.push("<div style='margin-top:0px;height:");
                            $1A.push($0e.allDayEventHeight() - 2);
                            $1A.push("px;");
                            $1A.push(";overflow:hidden;text-align:left;padding-left:");
                            $1A.push($X);
                            $1A.push("px;font-size:");
                            $1A.push(this.allDayEventFontSize);
                            $1A.push(";color:");
                            $1A.push(this.allDayEventFontColor);
                            $1A.push(";font-family:");
                            $1A.push(this.eventFontFamily);
                            $1A.push("' unselectable='on'>");
                            if ($h.client.innerHTML()) {
                                $1A.push($h.client.innerHTML());
                            } else {
                                $1A.push($h.text());
                            };
                            $1A.push("</div>");
                        } else if ($1E === 'Center') {
                            if ($1B) {
                                $1A.push("<div style='position:absolute; text-align:center; width: 98%; height:1px;'>");
                                $1A.push("<span style='background-color:");
                                $1A.push('transparent');
                                $1A.push(";font-size:");
                                $1A.push(this.allDayEventFontSize);
                                $1A.push(";color:");
                                $1A.push(this.allDayEventFontColor);
                                $1A.push(";font-family:");
                                $1A.push(this.allDayEventFontFamily);
                                $1A.push("' unselectable='on'>");
                                if ($h.client.innerHTML()) {
                                    $1A.push($h.client.innerHTML());
                                } else {
                                    $1A.push($h.text());
                                };
                                $1A.push("</span>");
                                $1A.push("</div>");
                            } else {
                                $1A.push("<div style='margin-top:0px;height:");
                                $1A.push($0e.allDayEventHeight() - 2);
                                $1A.push("px;");
                                $1A.push(";overflow:hidden;text-align:center;font-size:");
                                $1A.push(this.allDayEventFontSize);
                                $1A.push(";color:");
                                $1A.push(this.allDayEventFontColor);
                                $1A.push(";font-family:");
                                $1A.push(this.allDayEventFontFamily);
                                $1A.push("' unselectable='on'>");
                                if ($h.client.innerHTML()) {
                                    $1A.push($h.client.innerHTML());
                                } else {
                                    $1A.push($h.text());
                                };
                                $1A.push("</div>");
                            }
                        };
                        $M.innerHTML = $1A.join('');
                        $d.appendChild($M);
                    } else {
                        var $M = document.createElement("div");
                        $M.setAttribute("unselectable", "on");
                        $M.className = this.$5h("_alldayevent_inner");
                        if (back) {
                            $M.style.background = back;
                        };
                        if ($c.rtl) {
                            if (!$1y) {
                                DayPilot.Util.addClass($d, this.$5h("_alldayevent_continueright"));
                            };
                            if (!$1z) {
                                DayPilot.Util.addClass($d, this.$5h("_alldayevent_continueleft"));
                            }
                        } else {
                            if (!$1y) {
                                DayPilot.Util.addClass($d, this.$5h("_alldayevent_continueleft"));
                            };
                            if (!$1z) {
                                DayPilot.Util.addClass($d, this.$5h("_alldayevent_continueright"));
                            }
                        };
                        if ($h.client.innerHTML()) {
                            $M.innerHTML = $h.client.innerHTML();
                        } else {
                            $M.innerHTML = $h.text();
                        };
                        $d.appendChild($M);
                    };
                    if ($c.$5e()) {
                        if (typeof $c.onAfterEventRender === 'function') {
                            var $n = {};
                            $n.e = $d.event;
                            $n.div = $d;
                            $c.onAfterEventRender($n);
                        }
                    } else {
                        if ($c.afterEventRender) {
                            $c.afterEventRender($d.event, $d);
                        }
                    };
                    this.nav.allday.appendChild($d);
                    this.elements.events.push($d);
                }
            };
            $1w.style.display = '';
        };
        this.$4H = function($1G) {
            $c.multiselect.$6h();
            if (this.elements.events) {
                for (var i = 0; i < this.elements.events.length; i++) {
                    var $d = this.elements.events[i];
                    var $E = $d.event;
                    if ($E && $1G && !$E.allday()) {
                        continue;
                    };
                    if ($E) {
                        $E.div = null;
                        $E.root = null;
                    };
                    $d.onclick = null;
                    $d.onclickSave = null;
                    $d.ondblclick = null;
                    $d.oncontextmenu = null;
                    $d.onmouseover = null;
                    $d.onmouseout = null;
                    $d.onmousemove = null;
                    $d.onmousedown = null;
                    if ($d.firstChild && $d.firstChild.firstChild && $d.firstChild.firstChild.tagName && $d.firstChild.firstChild.tagName.toUpperCase() === 'IMG') {
                        var $1H = $d.firstChild.firstChild;
                        $1H.onmousedown = null;
                        $1H.onmousemove = null;
                        $1H.onclick = null;
                    };
                    $d.helper = null;
                    $d.event = null;
                    DayPilot.de($d);
                }
            };
            this.elements.events = [];
        };
        this.$6r = function($h) {
            var $G = this.nav.events;
            var $1I = this.roundedCorners;
            var $1J = this.roundedCorners && (this.$4w.ff || this.$4w.opera105 || this.$4w.webkit522 || !this.$4w.ielt9);
            var $1K = this.roundedCorners && !$1J;
            var $1L = $h.cache || $h.data;
            var $1M = $1L.borderColor || this.eventBorderColor;
            var $d = document.createElement("div");
            $d.setAttribute("unselectable", "on");
            $d.style.MozUserSelect = 'none';
            $d.style.KhtmlUserSelect = 'none';
            $d.style.WebkitUserSelect = 'none';
            $d.style.position = 'absolute';
            if (!this.cssOnly) {
                $d.style.fontFamily = this.eventFontFamily;
                $d.style.fontSize = this.eventFontSize;
                $d.style.color = $1L.fontColor || this.eventFontColor;
                if (!$1I) {
                    $d.style.backgroundColor = $1M;
                }
            } else {
                $d.className = this.$5h("_event");
            };
            $d.style.left = $h.part.left + '%';
            $d.style.top = ($h.part.top - this.$63()) + 'px';
            $d.style.width = $h.part.width + '%';
            $d.style.height = Math.max($h.part.height, 2) + 'px';
            $d.style.overflow = 'hidden';
            $d.isFirst = $h.part.start.getTime() === $h.start().getTime();
            $d.isLast = $h.part.end.getTime() === $h.end().getTime();
            if ($h.client.clickEnabled()) {
                $d.onclick = this.$5s;
            };
            if ($h.client.doubleClickEnabled()) {
                $d.ondblclick = this.$5w;
            };
            DayPilot.re($d, "contextmenu", this.$5x);
            $d.onmousemove = this.$6s;
            $d.onmouseout = this.$6t;
            $d.onmousedown = this.$6u;
            DayPilot.re($d, DayPilot.touch.start, this.$6v.onEventTouchStart);
            DayPilot.re($d, DayPilot.touch.move, this.$6v.onEventTouchMove);
            DayPilot.re($d, DayPilot.touch.end, this.$6v.onEventTouchEnd);
            var $1A = [];
            if ($1L.cssClass) {
                DayPilot.Util.addClass($d, $1L.cssClass);
            };
            if (this.showToolTip && !this.bubble) {
                $d.setAttribute("title", $h.client.toolTip());
            };
            var $M = document.createElement("div");
            $M.setAttribute("unselectable", "on");
            $M.className = $c.$5h("_event_inner");
            $M.innerHTML = $h.client.innerHTML();
            if ($1L.fontColor) {
                $M.style.color = $1L.fontColor;
            };
            if ($1L.backColor) {
                $M.style.background = $1L.backColor;
                if (DayPilot.browser.ie9 || DayPilot.browser.ielt9) {
                    $M.style.filter = '';
                }
            };
            if ($1L.borderColor) {
                $M.style.borderColor = $1L.borderColor;
            };
            if ($1L.backgroundImage) {
                $M.style.backgroundImage = "url(" + $1L.backgroundImage + ")";
                if ($1L.backgroundRepeat) {
                    $M.style.backgroundRepeat = $1L.backgroundRepeat;
                }
            };
            $d.appendChild($M);
            if ($h.client.barVisible()) {
                var $J = $h.part.height - 2;
                var $1N = 100 * $h.part.barTop / $J;
                var $1O = Math.ceil(100 * $h.part.barHeight / $J);
                if (this.durationBarMode === "PercentComplete") {
                    $1N = 0;
                    $1O = $1L.complete;
                };
                var $1P = document.createElement("div");
                $1P.setAttribute("unselectable", "on");
                $1P.className = this.$5h("_event_bar");
                $1P.style.position = "absolute";
                if ($1L.barBackColor) {
                    $1P.style.backgroundColor = $1L.barBackColor;
                };
                var $1Q = document.createElement("div");
                $1Q.setAttribute("unselectable", "on");
                $1Q.className = this.$5h("_event_bar_inner");
                $1Q.style.top = $1N + "%";
                if (0 < $1O && $1O <= 1) {
                    $1Q.style.height = "1px";
                } else {
                    $1Q.style.height = $1O + "%";
                };
                if ($1L.barColor) {
                    $1Q.style.backgroundColor = $1L.barColor;
                };
                $1P.appendChild($1Q);
                $d.appendChild($1P);
            };
            if ($1L.areas) {
                for (var i = 0; i < $1L.areas.length; i++) {
                    var $1R = $1L.areas[i];
                    var v = $1R.v || "Visible";
                    if (v !== 'Visible') {
                        continue;
                    };
                    var a = DayPilot.Areas.createArea($d, $h, $1R);
                    $d.appendChild(a);
                }
            };
            if ($G.rows[0].cells[$h.part.dayIndex]) {
                var $1S = $G.rows[0].cells[$h.part.dayIndex].events;
                $1S.appendChild($d);
                $c.$6w($d);
                $d.event = $h;
                if ($c.multiselect.$69($h)) {
                    $c.multiselect.add($d.event, true);
                };
                if ($c.$5e()) {
                    if (typeof $c.onAfterEventRender === 'function') {
                        var $n = {};
                        $n.e = $d.event;
                        $n.div = $d;
                        $c.onAfterEventRender($n);
                    }
                } else {
                    if ($c.afterEventRender) {
                        $c.afterEventRender($d.event, $d);
                    }
                }
            };
            $c.elements.events.push($d);
        };
        this.$6w = function(el) {
            var c = (el && el.childNodes) ? el.childNodes.length: 0;
            for (var i = 0; i < c; i++) {
                try {
                    var $1o = el.childNodes[i];
                    if ($1o.nodeType === 1) {
                        $1o.setAttribute("unselectable", "on");
                        this.$6w($1o);
                    }
                } catch(e) {}
            }
        };
        this.$5a = function() {
            var $09 = new Date();
            for (var i = 0; i < this.$5g.length; i++) {
                var $1u = this.$5g[i];
                if (!$1u.blocks) {
                    continue;
                };
                for (var m = 0; m < $1u.blocks.length; m++) {
                    var $1q = $1u.blocks[m];
                    for (var j = 0; j < $1q.lines.length; j++) {
                        var $1s = $1q.lines[j];
                        for (var k = 0; k < $1s.length; k++) {
                            var e = $1s[k];
                            e.part.width = 100 / $1q.lines.length;
                            e.part.left = e.part.width * j;
                            if (this.eventArrangement === 'Cascade') {
                                var $1T = (j === $1q.lines.length - 1);
                                if (!$1T) {
                                    e.part.width = e.part.width * 1.5;
                                }
                            };
                            if (this.eventArrangement === 'Full') {
                                e.part.left = e.part.left / 2;
                                e.part.width = 100 - e.part.left;
                            };
                            if (!e.allday()) {
                                this.$6r(e);
                            }
                        }
                    }
                }
            };
            this.multiselect.redraw();
            var end = new Date();
            var $1U = end.getTime() - $09.getTime();
        };
        this.$6x = function() {
            this.multiselect.$5R = [];
            for (var i = 0; i < this.$5g.length; i++) {
                var $1u = this.$5g[i];
                for (var j = 0; j < $1u.lines.length; j++) {
                    var $1s = $1u.lines[j];
                    for (var k = 0; k < $1s.length; k++) {
                        var e = $1s[k];
                        e.part.width = 100 / $1u.lines.length;
                        e.part.left = e.Width * j;
                        if (!e.allday()) {
                            this.$6r(e);
                        }
                    }
                }
            }
        };
        this.$5h = function($1V) {
            var $1W = this.theme || this.cssClassPrefix;
            if ($1W) {
                return $1W + $1V;
            } else {
                return "";
            }
        };
        this.$59 = function() {
            if (this.nav.top.style.visibility === 'hidden') {
                this.nav.top.style.visibility = 'visible';
            }
        };
        this.$6y = function() {
            var $J = this.$5o() + this.$6z();
            $c.debug.message("Getting totalHeight, headerHeight: " + this.$5o() + " scrollable: " + this.$6z());
            if ($J < 0) {
                return 0;
            };
            return $J;
        };
        this.$6A = function() {
            this.nav.top.dp = this;
            this.nav.top.innerHTML = '';
            this.nav.top.style.MozUserSelect = 'none';
            this.nav.top.style.KhtmlUserSelect = 'none';
            this.nav.top.style.WebkitUserSelect = 'none';
            this.nav.top.style.WebkitTapHighlightColor = "rgba(0,0,0,0)";
            this.nav.top.style.WebkitTouchCallout = "none";
            this.nav.top.style.position = 'relative';
            if (this.width) {
                this.nav.top.style.width = this.width;
            };
            if (this.rtl) {
                this.nav.top.style.direction = "rtl";
            };
            if (!this.cssOnly) {
                this.nav.top.style.lineHeight = "1.2";
                this.nav.top.style.textAlign = "left";
            };
            if (this.heightSpec === "Parent100Pct") {
                this.nav.top.style.height = "100%";
            } else {
                this.nav.top.style.height = this.$6y() + "px";
            };
            if (this.hideUntilInit) {
                this.nav.top.style.visibility = 'hidden';
            };
            if (!this.visible) {
                this.nav.top.style.display = "none";
            };
            this.nav.scroll = document.createElement("div");
            this.nav.scroll.style.height = this.$6z() + "px";
            if (this.cssOnly) {
                DayPilot.Util.addClass(this.nav.top, this.$5h("_main"));
            };
            this.nav.scroll.style.position = "relative";
            if (!this.cssOnly) {
                this.nav.scroll.style.border = "1px solid " + this.borderColor;
                this.nav.scroll.style.backgroundColor = this.hourNameBackColor;
            };
            if (this.showHeader) {
                var $1w = this.$6B();
                this.nav.top.appendChild($1w);
            };
            this.nav.scroll.style.zoom = 1;
            this.nav.scroll.setAttribute("data-id", "nav.scroll");
            this.nav.scroll.style.position = "absolute";
            this.nav.scroll.style.left = "0px";
            this.nav.scroll.style.right = "0px";
            this.nav.scroll.style.top = this.$5o() + "px";
            var $1X = this.$6C();
            this.nav.scrollable = $1X.firstChild;
            this.nav.scroll.appendChild($1X);
            this.nav.top.appendChild(this.nav.scroll);
            this.nav.vsph = document.createElement("div");
            this.nav.vsph.style.display = "none";
            this.nav.top.appendChild(this.nav.vsph);
            this.nav.scrollpos = document.createElement("input");
            this.nav.scrollpos.type = "hidden";
            this.nav.scrollpos.id = $c.id + "_scrollpos";
            this.nav.scrollpos.name = this.nav.scrollpos.id;
            this.nav.top.appendChild(this.nav.scrollpos);
            this.nav.select = document.createElement("input");
            this.nav.select.type = "hidden";
            this.nav.select.id = $c.id + "_select";
            this.nav.select.name = this.nav.select.id;
            this.nav.select.value = null;
            this.nav.top.appendChild(this.nav.select);
            this.nav.scrollLayer = document.createElement("div");
            this.nav.scrollLayer.style.position = 'absolute';
            this.nav.scrollLayer.style.top = '0px';
            this.nav.scrollLayer.style.left = '0px';
            this.nav.top.appendChild(this.nav.scrollLayer);
            this.nav.scrollUp = [];
            this.nav.scrollDown = [];
            this.nav.loading = document.createElement("div");
            this.nav.loading.style.position = 'absolute';
            this.nav.loading.style.top = '0px';
            this.nav.loading.style.left = (this.hourWidth + 5) + "px";
            this.nav.loading.style.backgroundColor = this.loadingLabelBackColor;
            this.nav.loading.style.fontSize = this.loadingLabelFontSize;
            this.nav.loading.style.fontFamily = this.loadingLabelFontFamily;
            this.nav.loading.style.color = this.loadingLabelFontColor;
            this.nav.loading.style.padding = '2px';
            this.nav.loading.innerHTML = this.loadingLabelText;
            this.nav.loading.style.display = 'none';
            this.nav.top.appendChild(this.nav.loading);
        };
        this.$6D = function() {
            var $0Q = this.columnWidthSpec === 'Fixed';
            var $1Y = this.nav.header && this.nav.header.rows[this.nav.header.rows.length - 1];
            var $1Z = this.nav.events.rows[0];
            for (var i = 0; i < $c.$5g.length; i++) {
                var $20 = $1Y && $1Y.cells[i];
                var $21 = $1Z.cells[i];
                var $22 = $20 && $20.firstChild;
                var $h = $c.$5g[i];
                if ($0Q) {
                    var $11 = $h.width ? $h.width: $c.columnWidth;
                    $22 && ($22.style.width = $11 + "px");
                    if ($21) {
                        $21.style.width = $11 + "px";
                    }
                } else {
                    $22 && ($22.style.width = null);
                    if ($21) {
                        $21.style.width = null;
                    }
                }
            }
        };
        this.$5p = function() {
            return this.$5Z ? $c.nav.bottomRight: $c.nav.scroll;
        };
        this.$57 = function() {
            var $0Q = this.columnWidthSpec === 'Fixed';
            if (!$0Q) {
                var element = $c.$5p();
                if (this.heightSpec === "Fixed") {
                    element.style.overflowY = "scroll";
                } else if (this.heightSpec === 'BusinessHours' && this.$5i() <= this.businessEndsHour - this.businessBeginsHour) {
                    element.style.overflow = "hidden";
                } else if (this.heightSpec !== "Full" && this.heightSpec !== "BusinessHoursNoScroll") {
                    element.style.overflow = "auto";
                } else {
                    element.style.overflow = "hidden";
                }
            };
            if ($0Q) {
                var $23 = 0;
                var w = this.$5g.length * this.columnWidth;
                var $24 = $c.$60();
                if (w > $24.clientWidth) {
                    $23 = DayPilot.sw($c.nav.bottomRight);
                };
                $c.nav.headerParent && ($c.nav.headerParent.style.width = (w + $23) + "px");
                $c.nav.main.style.width = w + "px";
                $c.nav.events.style.width = w + "px";
                $c.nav.crosshair.style.width = w + "px";
            } else {
                $c.nav.headerParent && ($c.nav.headerParent.style.width = "100%");
                $c.nav.main.style.width = "100%";
                $c.nav.events.style.width = "100%";
                $c.nav.crosshair.style.width = "100%";
            };
            this.$6D();
        };
        this.$54 = function() {
            if (!this.$4s) {
                DayPilot.pu(this.nav.hourTable);
            } else {
                this.$6E();
            };
            if (this.nav.hoursPlaceholder) {
                this.nav.hoursPlaceholder.innerHTML = '';
                this.nav.hourTable = this.$6F();
                this.nav.hoursPlaceholder.appendChild(this.nav.hourTable);
            }
        };
        this.$6E = function() {
            if (!this.nav.hourTable) {
                return;
            };
            for (var i = 0; i < this.nav.hourTable.rows.length; i++) {
                var $25 = this.nav.hourTable.rows[i];
                var $d = $25.cells[0].firstChild;
                $d.data = null;
                $d.onmousemove = null;
                $d.onmouseout = null;
            }
        };
        this.$6C = function() {
            var $26 = document.createElement("div");
            $26.style.zoom = 1;
            $26.style.position = 'relative';
            $26.onmousemove = this.$6G;
            DayPilot.re($26, DayPilot.touch.start, this.$6v.onMainTouchStart);
            DayPilot.re($26, DayPilot.touch.move, this.$6v.onMainTouchMove);
            DayPilot.re($26, DayPilot.touch.end, this.$6v.onMainTouchEnd);
            DayPilot.re($26, "contextmenu",
                function(ev) {
                    var ev = ev || window.event;
                    ev.preventDefault ? ev.preventDefault() : ev.returnValue = false;
                });
            if (navigator.msPointerEnabled) {
                $26.style.msTouchAction = "none";
                $26.style.touchAction = "none";
            };
            $26.daypilotMainD = true;
            $26.calendar = this;
            var $27 = null;
            var $28 = null;
            var $29 = null;
            var $0Q = this.columnWidthSpec === 'Fixed';
            if ($0Q || this.$5Z) {
                if (this.showHours) {
                    var $X = document.createElement("div");
                    $X.style.cssFloat = "left";
                    $X.style.styleFloat = "left";
                    $X.style.width = (this.hourWidth) + "px";
                    $X.style.height = this.$6z() + "px";
                    $X.style.overflow = "hidden";
                    $X.style.position = "relative";
                    $26.appendChild($X);
                    $27 = $X;
                    var $23 = 30;
                    var $J = (this.$5j() * this.cellHeight) / (60000 * this.cellDuration) + $23;
                    $29 = document.createElement("div");
                    $29.style.height = ($J) + "px";
                    $X.appendChild($29);
                };
                var $Y = document.createElement("div");
                $Y.style.height = this.$6z() + "px";
                if (this.showHours) {
                    $Y.style.marginLeft = (this.hourWidth) + "px";
                };
                $Y.style.position = "relative";
                $Y.style.overflow = "auto";
                $26.appendChild($Y);
                $28 = $Y;
            } else {
                var $2a = document.createElement("table");
                $2a.cellSpacing = "0";
                $2a.cellPadding = "0";
                $2a.border = "0";
                $2a.style.border = "0px none";
                $2a.style.width = "100%";
                $2a.style.position = 'relative';
                var r = $2a.insertRow( - 1);
                var c;
                if (this.showHours) {
                    c = r.insertCell( - 1);
                    c.style.verticalAlign = "top";
                    c.style.padding = '0px';
                    c.style.border = '0px none';
                    $29 = c;
                };
                c = r.insertCell( - 1);
                c.width = "100%";
                c.style.padding = '0px';
                c.style.border = '0px none';
                c.style.verticalAlign = "top";
                if (!this.cssOnly) {
                    c.style.borderLeft = "1px solid " + this.borderColor;
                };
                $28 = c;
                $26.appendChild($2a);
            };
            if ($29) {
                this.nav.hourTable = this.$6F();
                $29.appendChild(this.nav.hourTable);
            };
            if (!this.cssOnly && !this.$4t) {
                $28.appendChild(this.$6H());
            } else {
                var parent = document.createElement("div");
                parent.style.height = "0px";
                parent.style.position = "relative";
                parent.appendChild(this.$6H());
                var $2b = document.createElement("div");
                $2b.style.position = "absolute";
                $2b.style.top = "0px";
                $2b.style.left = "0px";
                $2b.style.width = "100%";
                $2b.style.height = "0px";
                parent.appendChild($2b);
                this.nav.crosshair = $2b;
                parent.appendChild(this.$6I());
                $28.appendChild(parent);
            };
            this.nav.zoom = $26;
            this.nav.bottomLeft = $27;
            this.nav.bottomRight = $28;
            this.nav.hoursPlaceholder = $29;
            return $26;
        };
        this.$6H = function() {
            var $2a = document.createElement("table");
            $2a.cellPadding = "0";
            $2a.cellSpacing = "0";
            $2a.border = "0";
            var $0Q = this.columnWidthSpec === 'Fixed';
            if (!$0Q) {
                $2a.style.width = "100%";
            };
            $2a.style.border = "0px none";
            if (!this.cssOnly) {};
            $2a.style.tableLayout = 'fixed';
            this.nav.main = $2a;
            this.nav.events = $2a;
            return $2a;
        };
        this.$6J = function() {
            var $0Q = this.columnWidthSpec === 'Fixed';
            if (!$0Q) {
                return "100%";
            } else {
                var $2c = 0;
                for (var i = 0; i < $c.$5g.length; i++) {
                    var $q = $c.$5g[i];
                    if ($q.width) {
                        $2c += $q.width;
                    } else {
                        $2c += $c.columnWidth;
                    }
                };
                return $2c + "px";
            }
        };
        this.$6I = function() {
            var $2a = document.createElement("table");
            $2a.style.position = "absolute";
            $2a.style.top = "0px";
            $2a.cellPadding = "0";
            $2a.cellSpacing = "0";
            $2a.border = "0";
            $2a.style.width = $c.$6J();
            $2a.style.border = "0px none";
            $2a.style.tableLayout = 'fixed';
            this.nav.events = $2a;
            var $2d = true;
            var $0f = this.$5g;
            var cl = $0f.length;
            var r = ($2d) ? $2a.insertRow( - 1) : $2a.rows[0];
            for (var j = 0; j < cl; j++) {
                var c = ($2d) ? r.insertCell( - 1) : r.cells[j];
                if ($2d) {
                    c.style.padding = '0px';
                    c.style.border = '0px none';
                    c.style.height = '0px';
                    c.style.overflow = 'visible';
                    if (!$c.rtl) {
                        c.style.textAlign = 'left';
                    };
                    $c.$6K(c);
                }
            };
            return $2a;
        };
        this.$6F = function() {
            var $2a = document.createElement("table");
            $2a.cellSpacing = "0";
            $2a.cellPadding = "0";
            $2a.border = "0";
            $2a.style.border = '0px none';
            $2a.style.width = this.hourWidth + "px";
            $2a.oncontextmenu = function() {
                return false;
            };
            $2a.onmousemove = function() {
                $c.$4O();
            };
            var $2e = this.$5j() / (this.timeHeaderCellDuration * 60 * 1000);
            for (var i = 0; i < $2e; i++) {
                this.$6L($2a, i);
            };
            return $2a;
        };
        this.$6M = function() {
            return (this.$5n() - this.$5n(true)) * (60 / this.cellDuration);
        };
        this.$6N = function() {
            return (this.$5n() - this.$5n(true));
        };
        this.$63 = function() {
            return this.$6M() * this.cellHeight;
        };
        this.$6L = function($2a, i) {
            var $J = (this.cellHeight * 60 / this.cellDuration) / (60 / this.timeHeaderCellDuration);
            var r = $2a.insertRow( - 1);
            r.style.height = $J + "px";
            var c = r.insertCell( - 1);
            c.valign = "bottom";
            c.setAttribute("unselectable", "on");
            if (!this.cssOnly) {
                c.className = this.$5h("rowheader");
                c.style.backgroundColor = this.hourNameBackColor;
                c.style.cursor = "default";
            };
            c.style.padding = '0px';
            c.style.border = '0px none';
            var $2f = document.createElement("div");
            if (this.cssOnly) {
                $2f.className = this.$5h("_rowheader");
            };
            $2f.style.position = "relative";
            $2f.style.width = this.hourWidth + "px";
            $2f.style.height = ($J) + "px";
            $2f.style.overflow = 'hidden';
            $2f.setAttribute("unselectable", "on");
            var $1q = document.createElement("div");
            if (this.cssOnly) {
                $1q.className = this.$5h("_rowheader_inner");
            };
            $1q.setAttribute("unselectable", "on");
            if (!this.cssOnly) {
                $1q.style.borderBottom = "1px solid " + this.hourNameBorderColor;
                $1q.style.textAlign = "right";
                $1q.style.height = ($J - 1) + "px";
            };
            var $S = null;
            var $h = null;
            if (this.hours) {
                var $2g = i + this.$6N();
                $h = this.hours[$2g];
                $S = $h.html;
            };
            var $2h = this.timeHeaderCellDuration;
            var $09 = this.startDate.addMinutes($2h * i + 60 * this.$5n());
            var $2i = $09.getHours();
            if (!$S) {
                var $2j = document.createElement("div");
                $2j.setAttribute("unselectable", "on");
                if (!this.cssOnly) {
                    $2j.style.padding = "2px";
                    $2j.style.fontFamily = this.hourFontFamily;
                    $2j.style.fontSize = this.hourFontSize;
                    $2j.style.color = this.hourFontColor;
                };
                var am = $2i < 12;
                if (this.$6q.timeFormat() === "Clock12Hours") {
                    $2i = $2i % 12;
                    if ($2i === 0) {
                        $2i = 12;
                    }
                };
                if (this.timeHeaderCellDuration !== 60) {
                    $2i += ":" + $09.toString("mm");
                };
                $2j.innerHTML = $2i;
                var $2k = document.createElement("span");
                $2k.setAttribute("unselectable", "on");
                if (!this.cssOnly) {
                    $2k.style.fontSize = "10px";
                    $2k.style.verticalAlign = "super";
                } else {
                    $2k.className = this.$5h("_rowheader_minutes");
                };
                var $2l;
                if (this.$6q.timeFormat() === "Clock12Hours") {
                    if (am) {
                        $2l = "AM";
                    } else {
                        $2l = "PM";
                    }
                } else {
                    $2l = "00";
                };
                if (!this.cssOnly) {
                    $2k.innerHTML = "&nbsp;" + $2l;
                } else {
                    $2k.innerHTML = $2l;
                };
                $2j.appendChild($2k);
                $S = $2j.outerHTML;
            };
            if (typeof $c.onBeforeTimeHeaderRender === 'function') {
                var $n = {};
                $n.header = {};
                $n.header.hours = $2i;
                $n.header.minutes = $09.getMinutes();
                $n.header.start = $09.toString("HH:mm");
                $n.header.html = $S;
                $n.header.areas = $h ? $h.areas: null;
                $c.onBeforeTimeHeaderRender($n);
                if ($n.header.html !== null) {
                    $S = $n.header.html;
                };
                $h = $n.header;
            };
            if ($h) {
                $2f.data = $h;
                $2f.onmousemove = $c.$6O;
                $2f.onmouseout = $c.$6P;
            };
            $1q.innerHTML = $S;
            $2f.appendChild($1q);
            c.appendChild($2f);
        };
        this.$6O = function(ev) {
            $c.$4O();
            var $d = this;
            if (!$d.active) {
                DayPilot.Areas.showAreas($d, $d.data);
            }
        };
        this.$6P = function(ev) {
            DayPilot.Areas.hideAreas(this, ev);
        };
        this.$6z = function() {
            switch (this.heightSpec) {
                case "Fixed":
                    return this.height;
                case "Parent100Pct":
                    return this.height;
                case "Full":
                    return (this.$5j() * this.cellHeight) / (60000 * this.cellDuration);
                case "BusinessHours":
                case "BusinessHoursNoScroll":
                    var $O = this.$5k();
                    return $O * this.cellHeight * 60 / this.cellDuration;
                default:
                    throw "DayPilot.Calendar: Unexpected 'heightSpec' value.";
            }
        };
        this.$5o = function() {
            if (!this.showHeader) {
                return 0;
            };
            var $2m = this.headerLevels * $0e.headerHeight();
            if (this.showAllDayEvents && $0e.allDayHeaderHeight()) {
                return $2m + $0e.allDayHeaderHeight();
            } else {
                return $2m;
            }
        };
        this.$50 = function() {
            if (!this.headerHeightAutoFit) {
                return;
            };
            var $N = 0;
            for (var x = 0; x < this.nav.header.rows.length; x++) {
                var $25 = this.nav.header.rows[x];
                for (var i = 0; i < $25.cells.length; i++) {
                    var $f = $25.cells[i];
                    var $d = $f.firstChild;
                    var $M = $d.firstChild;
                    var $2n = $d.style.height;
                    $d.style.height = "auto";
                    $M.style.position = "static";
                    var h = $d.offsetHeight;
                    $d.style.height = $2n;
                    $M.style.position = '';
                    $N = Math.max($N, h);
                }
            };
            if ($N > this.headerHeight) {
                this.$4r.headerHeight = $N;
                this.$4Y();
                this.$4Z();
            }
        };
        this.$5Z = true;
        this.$6Q = function() {
            var element = this.$5Z ? $c.nav.bottomRight: $c.nav.scroll;
            if (this.cssOnly) {
                return DayPilot.sw(element) > 0;
            } else {
                return DayPilot.sw(element) > 2;
            }
        };
        this.$6B = function() {
            var $1w = document.createElement("div");
            if (!this.cssOnly) {
                $1w.style.borderLeft = "1px solid " + this.borderColor;
                $1w.style.borderRight = "1px solid " + this.borderColor;
            };
            var $0Q = this.columnWidthSpec === 'Fixed';
            if (!$0Q) {
                $1w.style.overflow = "auto";
            };
            $1w.style.position = "absolute";
            $1w.style.left = "0px";
            $1w.style.right = "0px";
            var $26 = document.createElement("div");
            $26.style.position = "relative";
            $26.style.zoom = "1";
            var $2o = null;
            var $0Q = this.columnWidthSpec === 'Fixed';
            if ($0Q || this.$5Z) {
                var $X = document.createElement("div");
                $X.style.cssFloat = "left";
                $X.style.styleFloat = "left";
                $X.style.width = (this.hourWidth) + "px";
                if (this.showHours) {
                    var $2p = this.$6R();
                    this.nav.corner = $2p;
                    $X.appendChild($2p);
                    $26.appendChild($X);
                    this.nav.upperLeft = $X;
                };
                var $Y = document.createElement("div");
                if (this.showHours) {
                    $Y.style.marginLeft = (this.hourWidth) + "px";
                };
                $Y.style.position = "relative";
                $Y.style.overflow = "hidden";
                $Y.style.height = this.$5o() + "px";
                $26.appendChild($Y);
                this.nav.upperRight = $Y;
                $2o = document.createElement("div");
                $2o.style.position = "relative";
                $Y.appendChild($2o);
            } else {
                var $2a = document.createElement("table");
                $2a.cellPadding = "0";
                $2a.cellSpacing = "0";
                $2a.border = "0";
                $2a.style.width = "100%";
                $2a.style.borderCollapse = 'separate';
                $2a.style.border = "0px none";
                var r = $2a.insertRow( - 1);
                this.nav.fullHeader = $2a;
                if (this.showHours) {
                    var c = r.insertCell( - 1);
                    c.style.padding = '0px';
                    c.style.border = '0px none';
                    var $2p = this.$6R();
                    c.appendChild($2p);
                    this.nav.corner = $2p;
                };
                c = r.insertCell( - 1);
                c.style.width = "100%";
                if (!this.cssOnly) {
                    c.style.backgroundColor = this.hourNameBackColor;
                };
                c.valign = "top";
                c.style.position = 'relative';
                c.style.padding = '0px';
                c.style.border = '0px none';
                $2o = document.createElement("div");
                $2o.style.position = "relative";
                $2o.style.height = this.$5o() + "px";
                $2o.style.overflow = "hidden";
                c.appendChild($2o);
                this.nav.mid = $2o;
                $26.appendChild($2a);
            };
            this.nav.headerParent = $2o;
            this.$6S();
            var $2q = this.$6Q();
            var $0Q = this.columnWidthSpec === 'Fixed';
            if ($2q && !$0Q) {
                this.$6T();
            };
            $1w.appendChild($26);
            return $1w;
        };
        this.$6S = function() {
            this.nav.unifiedCornerRight = null;
            this.nav.header = document.createElement("table");
            this.nav.header.cellPadding = "0";
            this.nav.header.cellSpacing = "0";
            var $0Q = this.columnWidthSpec === 'Fixed';
            if (!$0Q) {
                this.nav.header.width = "100%";
            };
            this.nav.header.style.tableLayout = "fixed";
            if (!this.cssOnly) {
                this.nav.header.style.borderBottom = "0px none #000000";
                this.nav.header.style.borderLeft = "1px solid " + this.borderColor;
                this.nav.header.style.borderTop = "1px solid " + this.borderColor;
            };
            this.nav.header.oncontextmenu = function() {
                return false;
            };
            var $2q = this.$6Q();
            if (!this.cssOnly) {
                if ($2q) {
                    this.nav.header.style.borderRight = "1px solid " + this.borderColor;
                }
            };
            this.nav.headerParent.appendChild(this.nav.header);
            if (this.nav.allday) {
                DayPilot.de(this.nav.allday);
            };
            if (this.showAllDayEvents) {
                var $2r = document.createElement("div");
                $2r.style.position = 'absolute';
                $2r.style.top = "0px";
                $2r.style.height = "0px";
                var $0Q = this.columnWidthSpec === 'Fixed';
                if (!$0Q) {
                    $2r.style.left = "0px";
                    $2r.style.right = "0px";
                } else {
                    $2r.style.width = (this.$5g.length * this.columnWidth) + "px";
                };
                this.nav.allday = $2r;
                this.nav.headerParent.appendChild($2r);
            }
        };
        this.$6T = function() {
            if (!this.nav.fullHeader) {
                return;
            };
            var r = this.nav.fullHeader.rows[0];
            var c = r.insertCell( - 1);
            if (!this.cssOnly) {
                c.className = this.$5h('cornerright');
                c.style.backgroundColor = this.hourNameBackColor;
                c.style.borderBottom = "0px none";
                c.style.borderLeft = "1px solid " + this.borderColor;
                c.style.borderRight = "0px none";
            };
            c.style.padding = '0px';
            c.style.verticalAlign = 'top';
            c.setAttribute("unselectable", "on");
            var $1A = document.createElement("div");
            $1A.setAttribute("unselectable", "on");
            if (this.cssOnly) {
                $1A.className = this.$5h('_cornerright');
            };
            $1A.style.overflow = "hidden";
            $1A.style.position = "relative";
            $1A.style.width = "16px";
            $1A.style.height = this.$5o() + "px";
            var $M = document.createElement("div");
            if (this.cssOnly) {
                $M.className = this.$5h('_cornerright_inner');
            } else {
                $M.style.borderTop = "1px solid " + this.borderColor;
            };
            $1A.appendChild($M);
            c.appendChild($1A);
            this.nav.cornerRight = $1A;
        };
        this.$6R = function() {
            var $1X = document.createElement("div");
            $1X.style.position = 'relative';
            if (!this.cssOnly) {
                $1X.style.backgroundColor = this.cornerBackColor;
                $1X.style.fontFamily = this.headerFontFamily;
                $1X.style.fontSize = this.headerFontSize;
                $1X.style.color = this.headerFontColor;
                $1X.className = this.$5h("corner");
            } else {
                $1X.className = this.$5h("_corner");
            };
            $1X.style.width = this.hourWidth + "px";
            $1X.style.height = this.$5o() + "px";
            $1X.style.overflow = "hidden";
            $1X.oncontextmenu = function() {
                return false;
            };
            var $2p = document.createElement("div");
            if (this.cssOnly) {
                $2p.className = this.$5h("_corner_inner");
            } else {
                $2p.style.borderTop = "1px solid " + this.borderColor;
            };
            $2p.setAttribute("unselectable", "on");
            var $S = this.cornerHTML || this.cornerHtml;
            $2p.innerHTML = $S ? $S: '';
            $1X.appendChild($2p);
            if (!this.numberFormat) return $1X;
         /*   var $2s = document.createElement("div");
            $2s.style.position = 'absolute';
            $2s.style.padding = '2px';
            $2s.style.top = '0px';
            $2s.style.left = '1px';
            $2s.style.backgroundColor = "#FF6600";
            $2s.style.color = "white";
            $2s.innerHTML = "\u0044\u0045\u004D\u004F";
            $2s.setAttribute("unselectable", "on");
            $1X.appendChild($2s);*/
            return $1X;
        };
        this.$4I = function() {
            var $2a = this.nav.main;
            $2a.root = null;
            $2a.onmouseup = null;
            for (var y = 0; y < $2a.rows.length; y++) {
                var r = $2a.rows[y];
                for (var x = 0; x < r.cells.length; x++) {
                    var c = r.cells[x];
                    c.root = null;
                    c.onmousedown = null;
                    c.onmousemove = null;
                    c.onmouseout = null;
                    c.onmouseup = null;
                    c.onclick = null;
                    c.ondblclick = null;
                    c.oncontextmenu = null;
                }
            };
            if (!this.$4s) DayPilot.pu($2a);
        };
        this.$51 = function() {
            for (var i = 0; this.nav.scrollUp && i < this.nav.scrollUp.length; i++) {
                this.nav.scrollLayer.removeChild(this.nav.scrollUp[i]);
            };
            for (var i = 0; this.nav.scrollDown && i < this.nav.scrollDown.length; i++) {
                this.nav.scrollLayer.removeChild(this.nav.scrollDown[i]);
            };
            this.nav.scrollUp = [];
            this.nav.scrollDown = [];
        };
        this.$6K = function(c) {
            var $d = document.createElement("div");
            $d.style.marginRight = $c.columnMarginRight + "px";
            $d.style.position = 'relative';
            $d.style.height = '1px';
            if (!this.cssOnly) {
                $d.style.fontSize = '1px';
                $d.style.lineHeight = '1.2';
            };
            $d.style.marginTop = '-1px';
            c.events = $d;
            var $2t = document.createElement("div");
            $2t.style.position = "relative";
            $d.style.height = "1px";
            $d.style.marginTop = "-1px";
            c.separators = $2t;
            c.appendChild($2t);
            c.appendChild($d);
        };
        this.$53 = function() {
            var $2a = this.nav.main;
            var $0l = this.cellDuration * 60 * 1000;
            var $2u = this.$5r();
            var $2v = this.$6N() * (60 / this.cellDuration);
            var $0f = $c.$5g;
            var $2d = true;
            var scrollY = 0;
            if ($2a) {
                scrollY = $c.$60().scrollTop;
                this.$4I();
                if ($c.$4w.ielt9 && $2d) {
                    DayPilot.de(this.nav.scrollable.parentNode);
                    var $1X = this.$6C();
                    this.$6U();
                    this.nav.scrollable = $1X.firstChild;
                    this.nav.scroll.appendChild($1X);
                    $2a = this.nav.main;
                }
            };
            this.nav.scrollable.daypilotMainD = true;
            this.nav.scrollable.calendar = this;
            while ($2a && $2a.rows && $2a.rows.length > 0 && $2d) {
                if (!this.$4s) DayPilot.pu($2a.rows[0]);
                $2a.deleteRow(0);
            };
            this.$6V = true;
            if (this.scrollLabelsVisible) {
                var $0f = this.$5g;
                var $0S = (this.showHours ? this.hourWidth: 0);
                var $H = (this.nav.scroll.clientWidth - $0S) / $0f.length;
                for (var i = 0; i < $0f.length; i++) {
                    var $0U = document.createElement("div");
                    $0U.style.position = 'absolute';
                    $0U.style.top = '0px';
                    $0U.style.left = ($0S + 2 + i * $H + $H / 2) + "px";
                    $0U.style.display = 'none';
                    var $1H = document.createElement("div");
                    $1H.style.height = '10px';
                    $1H.style.width = '10px';
                    if (this.cssOnly) {
                        $1H.className = this.$5h("_scroll_up");
                    } else {
                        $1H.style.backgroundRepeat = "no-repeat";
                        if (this.scrollUpUrl) {
                            $1H.style.backgroundImage = "url('" + this.scrollUpUrl + "')";
                        };
                        $1H.className = this.$5h("scroll_up");
                    };
                    $0U.appendChild($1H);
                    this.nav.scrollLayer.appendChild($0U);
                    this.nav.scrollUp.push($0U);
                    var $0V = document.createElement("div");
                    $0V.style.position = 'absolute';
                    $0V.style.top = '0px';
                    $0V.style.left = ($0S + 2 + i * $H + $H / 2) + "px";
                    $0V.style.display = 'none';
                    var $1H = document.createElement("div");
                    $1H.style.height = '10px';
                    $1H.style.width = '10px';
                    if (this.cssOnly) {
                        $1H.className = this.$5h("_scroll_down");
                    } else {
                        $1H.style.backgroundRepeat = "no-repeat";
                        if (this.scrollDownUrl) {
                            $1H.style.backgroundImage = "url('" + this.scrollDownUrl + "')";
                        };
                        $1H.className = this.$5h("scroll_down");
                    };
                    $0V.appendChild($1H);
                    this.nav.scrollLayer.appendChild($0V);
                    this.nav.scrollDown.push($0V);
                }
            };
            var cl = $0f.length;
            if (this.cssOnly || this.$4t) {
                var $15 = this.nav.events;
                while ($15 && $15.rows && $15.rows.length > 0 && $2d) {
                    if (!this.$4s) DayPilot.pu($15.rows[0]);
                    $15.deleteRow(0);
                };
                var r = ($2d) ? $15.insertRow( - 1) : $15.rows[0];
                for (var j = 0; j < cl; j++) {
                    var c = ($2d) ? r.insertCell( - 1) : r.cells[j];
                    if ($2d) {
                        c.style.padding = '0px';
                        c.style.border = '0px none';
                        c.style.height = '1px';
                        c.style.overflow = 'visible';
                        var $0Q = this.columnWidthSpec === 'Fixed';
                        if ($0Q) {
                            if ($0f[j].width) {
                                c.style.width = $0f[j].width + "px";
                            } else {
                                c.style.width = this.columnWidth + "px";
                            }
                        };
                        if (!$c.rtl) {
                            c.style.textAlign = 'left';
                        };
                        $c.$6K(c);
                    }
                }
            };
            for (var i = 0; i < $2u; i++) {
                var r = ($2d) ? $2a.insertRow( - 1) : $2a.rows[i];
                var y = i + $2v;
                if ($2d) {
                    r.style.MozUserSelect = 'none';
                    r.style.KhtmlUserSelect = 'none';
                    r.style.WebkitUserSelect = 'none';
                };
                for (var j = 0; j < cl; j++) {
                    var $1u = this.$5g[j];
                    var c = ($2d) ? r.insertCell( - 1) : r.cells[j];
                    c.start = $1u.start.addTime(y * $0l).addHours(this.$5n());
                    c.end = c.start.addTime($0l);
                    c.resource = $1u.id;
                    if (typeof this.onBeforeCellRender === 'function') {
                        if (!this.cellProperties) {
                            this.cellProperties = {};
                        };
                        var $f = {};
                        $f.resource = c.resource;
                        $f.start = c.start;
                        $f.end = c.end;
                        var $2g = j + "_" + y;
                        $f.cssClass = null;
                        $f.html = null;
                        $f.backImage = null;
                        $f.backRepeat = null;
                        $f.backColor = null;
                        $f.business = this.$6W(c.start, c.end);
                        if (this.cellProperties[$2g]) {
                            DayPilot.Util.copyProps(this.cellProperties[$2g], $f, ['cssClass', 'html', 'backImage', 'backRepeat', 'backColor', 'business']);
                        };
                        var $n = {};
                        $n.cell = $f;
                        this.onBeforeCellRender($n);
                        this.cellProperties[$2g] = $f;
                    };
                    var $2w = $c.$6X(j, y);
                    if ($2d) {
                        c.root = this;
                        c.style.padding = '0px';
                        c.style.border = '0px none';
                        c.style.verticalAlign = 'top';
                        c.style.height = $c.cellHeight + 'px';
                        c.style.overflow = 'hidden';
                        c.setAttribute("unselectable", "on");
                        if (!this.cssOnly) {
                            var $2x = document.createElement("div");
                            $2x.style.height = ($c.cellHeight - 1) + "px";
                            $2x.style.width = '100%';
                            $2x.style.overflow = 'hidden';
                            $2x.setAttribute("unselectable", "on");
                            c.appendChild($2x);
                            var $d = document.createElement("div");
                            $d.setAttribute("unselectable", "on");
                            $d.style.fontSize = '1px';
                            $d.style.height = '0px';
                            c.appendChild($d);
                            if ((!$c.rtl && j !== cl - 1) || $c.rtl) {
                                c.style.borderRight = '1px solid ' + $c.cellBorderColor;
                            };
                            var $2y = (c.end.getMinutes() + c.end.getSeconds() + c.end.getMilliseconds()) > 0;
                            if ($2y) {
                                if ($c.hourHalfBorderColor !== '') {
                                    $d.style.borderBottom = '1px solid ' + $c.hourHalfBorderColor;
                                };
                                $d.className = $c.$5h("hourhalfcellborder");
                            } else {
                                if ($c.hourBorderColor !== '') {
                                    $d.style.borderBottom = '1px solid ' + $c.hourBorderColor;
                                };
                                $d.className = $c.$5h("hourcellborder");
                            }
                        } else {
                            var $2x = document.createElement("div");
                            $2x.className = $c.$5h("_cell");
                            $2x.style.position = "relative";
                            $2x.style.height = ($c.cellHeight) + "px";
                            $2x.style.overflow = 'hidden';
                            $2x.setAttribute("unselectable", "on");
                            var $M = document.createElement("div");
                            $M.className = $c.$5h("_cell_inner");
                            $2x.appendChild($M);
                            c.appendChild($2x);
                        }
                    } else {
                        $2x = c.firstChild;
                        $2x.className = $c.$5h("_cell");
                    };
                    c.onmousedown = this.$5T;
                    c.onmousemove = this.$5W;
                    c.onmouseout = this.$5V;
                    DayPilot.re(c, DayPilot.touch.end, this.$6v.onCellTouchEnd);
                    c.onmouseup = function() {
                        return false;
                    };
                    c.onclick = function() {
                        return false;
                    };
                    c.ondblclick = function() {
                        DayPilotCalendar.firstMousePos = null;
                        $c.$5U();
                        clearTimeout(DayPilotCalendar.selectedTimeout);
                        if ($c.timeRangeDoubleClickHandling === 'Disabled') {
                            return;
                        };
                        var $0P = $c.getSelection();
                        $c.$5O($0P.start, $0P.end, $0P.resource);
                    };
                    c.oncontextmenu = function() {
                        if (!this.selected) {
                            $c.clearSelection();
                            DayPilotCalendar.column = DayPilotCalendar.getColumn(this);
                            $c.selectedCells.push(this);
                            DayPilotCalendar.firstSelected = this;
                            DayPilotCalendar.topSelectedCell = this;
                            DayPilotCalendar.bottomSelectedCell = this;
                            $c.$5U();
                        };
                        if ($c.timeRangeRightClickHandling === "Disabled") {
                            return false;
                        };
                        var $0I = $c.getSelection();
                        var $n = {};
                        $n.start = $0I.start;
                        $n.end = $0I.end;
                        $n.resource = $0I.resource;
                        $n.preventDefault = function() {
                            this.preventDefault.value = true;
                        };
                        if (typeof $c.onTimeRangeRightClick === "function") {
                            $c.onTimeRangeRightClick($n);
                            if ($n.preventDefault.value) {
                                return false;
                            }
                        };
                        if ($c.timeRangeRightClickHandling === "ContextMenu" && $c.contextMenuSelection) {
                            $c.contextMenuSelection.show($c.getSelection());
                        };
                        if (typeof $c.onTimeRangeRightClicked === "function") {
                            $c.onTimeRangeRightClicked($n);
                        };
                        return false;
                    };
                    var $V = $c.$6Y(j, y);
                    $2x = c.firstChild;
                    var $0Q = this.columnWidthSpec === 'Fixed';
                    if ($0Q) {
                        if ($1u.width) {
                            $2x.style.width = $1u.width + "px";
                        } else {
                            $2x.style.width = this.columnWidth + "px";
                        }
                    };
                    if ($V) {
                        if (this.cssOnly) {
                            $2x.firstChild.style.background = $V;
                        } else {
                            $2x.style.background = $V;
                        }
                    };
                    var $2z = $2w ? $2w.business: this.$6W(c.start, c.end);
                    if ($2z && this.cssOnly) {
                        DayPilot.Util.addClass($2x, $c.$5h("_cell_business"));
                    };
                    var $S = this.cssOnly ? $2x.firstChild: $2x;
                    if ($S) {
                        $S.innerHTML = '';
                    };
                    $2x.style.backgroundImage = "";
                    $2x.style.backgroundRepeat = "";
                    if ($2w) {
                        if ($2w.html) {
                            $S.innerHTML = $2w.html;
                        };
                        if ($2w.cssClass) {
                            if (this.cssOnly) {
                                DayPilot.Util.addClass($2x, $2w.cssClass);
                            } else {
                                DayPilot.Util.addClass(c, $c.$5h($2w.cssClass));
                            }
                        };
                        if ($2w.backImage) {
                            $2x.style.backgroundImage = "url('" + $2w.backImage + "')";
                        };
                        if ($2w.backRepeat) {
                            $2x.style.backgroundRepeat = $2w.backRepeat;
                        }
                    };
                    if (!this.cssOnly) {
                        DayPilot.Util.addClass(c, $c.$5h("cellbackground"));
                    }
                }
            };
            $2a.onmouseup = this.$5X;
            $2a.root = this;
            $c.nav.scrollable.style.display = '';
            $c.$60().scrollTop = scrollY;
        };
        this.$6W = function($09, end) {
            if (this.businessBeginsHour < this.businessEndsHour) {
                return ! ($09.getHours() < this.businessBeginsHour || $09.getHours() >= this.businessEndsHour || $09.getDayOfWeek() === 6 || $09.getDayOfWeek() === 0);
            };
            if ($09.getHours() >= this.businessBeginsHour) {
                return true;
            };
            if ($09.getHours() < this.businessEndsHour) {
                return true;
            };
            return false;
        };
        this.$6G = function(ev) {
            ev = ev || window.event;
            ev.insideMainD = true;
            if (window.event && window.event.srcElement) {
                window.event.srcElement.inside = true;
            };
            DayPilotCalendar.activeCalendar = this;
            var $2A = $c.nav.main;
            $c.coords = DayPilot.mo3($2A, ev);
            var $0L = DayPilot.mc(ev);
            var $2b = $c.crosshairType && $c.crosshairType !== "Disabled";
            var $2B = $c.coords.x < $c.hourWidth;
            if (DayPilot.Global.moving || DayPilot.Global.resizing || DayPilotCalendar.selecting || $2B) {
                $c.$4O();
            } else if ($2b) {
                $c.$6Z();
            };
            if (DayPilot.Global.resizing) {
                $c.$70($0L);
            } else if (DayPilot.Global.moving) {
                if (!DayPilot.Global.moving.helper) {
                    DayPilotCalendar.movingShadow = null;
                    return;
                };
                if (!DayPilotCalendar.movingShadow) {
                    var $2C = 3;
                    if (DayPilot.distance($0L, DayPilotCalendar.originalMouse) > $2C) {
                        DayPilotCalendar.movingShadow = $c.$5f(DayPilot.Global.moving, !$c.$4w.ie, $c.shadow);
                        DayPilotCalendar.movingShadow.style.width = (DayPilotCalendar.movingShadow.parentNode.offsetWidth + 1) + 'px';
                    } else {
                        return;
                    }
                };
                if (!$c.coords) {
                    return;
                };
                var $2D = $c.cellHeight;
                var $I = 0;
                var $0T = DayPilotCalendar.moveOffsetY;
                if (!$0T) {
                    $0T = $2D / 2;
                };
                if (this.moveBy === "Top") {
                    $0T = 0;
                };
                var $2E = Math.floor((($c.coords.y - $0T - $I) + $2D / 2) / $2D) * $2D + $I;
                if ($2E < $I) {
                    $2E = $I;
                };
                var $G = $c.nav.main;
                var $N = $G.clientHeight;
                var $J = parseInt(DayPilotCalendar.movingShadow.style.height);
                if ($2E + $J > $N) {
                    $2E = $N - $J;
                };
                DayPilotCalendar.movingShadow.style.top = $2E + 'px';
                var $H = $G.clientWidth / $G.rows[0].cells.length;
                var $q = Math.floor(($c.coords.x) / $H);
                if ($q < 0) {
                    $q = 0;
                };
                if ($c.rtl) {
                    $q = $c.$5g.length - $q - 1;
                };
                var $15 = $c.nav.events;
                if ($q < $15.rows[0].cells.length && $q >= 0 && DayPilotCalendar.movingShadow.column !== $q) {
                    DayPilotCalendar.movingShadow.column = $q;
                    DayPilotCalendar.moveShadow($15.rows[0].cells[$q]);
                }
            };
            if (DayPilotCalendar.drag) {
                if (DayPilotCalendar.gShadow) {
                    document.body.removeChild(DayPilotCalendar.gShadow);
                };
                DayPilotCalendar.gShadow = null;
                if (!DayPilotCalendar.movingShadow && $c.coords) {
                    var $L = $c.$5f(DayPilotCalendar.drag, false, DayPilotCalendar.drag.shadowType);
                    if ($L) {
                        DayPilotCalendar.movingShadow = $L;
                        var $0K = DayPilot.Date.today();
                        var ev = {
                            'value': DayPilotCalendar.drag.id,
                            'start': $0K,
                            'end': $0K.addSeconds(DayPilotCalendar.drag.duration),
                            'text': DayPilotCalendar.drag.text
                        };
                        var event = new DayPilot.Event(ev, $c);
                        event.external = true;
                        DayPilot.Global.moving = {};
                        DayPilot.Global.moving.event = event;
                        DayPilot.Global.moving.helper = {};
                    }
                };
                ev.cancelBubble = true;
            }
        };
        this.$71 = function($L) {
            var top = DayPilotCalendar.movingShadow.offsetTop;
            var e = DayPilot.Global.moving.event;
            var $2F = DayPilotCalendar.movingShadow.column;
        };
        this.$70 = function($0L) {
            if (!DayPilot.Global.resizing.event) {
                DayPilot.Global.resizing = null;
                DayPilot.de(DayPilotCalendar.resizingShadow);
                DayPilotCalendar.resizingShadow = null;
                return;
            };
            if (!DayPilotCalendar.resizingShadow) {
                DayPilotCalendar.resizingShadow = $c.$5f(DayPilot.Global.resizing, false, $c.shadow);
            };
            var $2D = DayPilot.Global.resizing.event.calendar.cellHeight;
            var $I = 0;
            var $2G = ($0L.y - DayPilotCalendar.originalMouse.y);
            console.log(DayPilot.Global.resizing.dpBorder);
            if (DayPilot.Global.resizing.dpBorder === 'bottom') {
                var $2H = Math.floor(((DayPilotCalendar.originalHeight + DayPilotCalendar.originalTop + $2G) + $2D / 2) / $2D) * $2D - DayPilotCalendar.originalTop + $I;
                if ($2H < $2D) $2H = $2D;
                var $N = DayPilot.Global.resizing.event.calendar.nav.main.clientHeight;
                if (DayPilotCalendar.originalTop + $2H > $N) {
                    $2H = $N - DayPilotCalendar.originalTop;
                };
                DayPilotCalendar.resizingShadow.style.height = ($2H) + 'px';
            } else if (DayPilot.Global.resizing.dpBorder === 'top') {
                var $2E = Math.floor(((DayPilotCalendar.originalTop + $2G - $I) + $2D / 2) / $2D) * $2D + $I;
                if ($2E < $I) {
                    $2E = $I;
                };
                if ($2E > DayPilotCalendar.originalTop + DayPilotCalendar.originalHeight - $2D) {
                    $2E = DayPilotCalendar.originalTop + DayPilotCalendar.originalHeight - $2D;
                };
                var $2H = DayPilotCalendar.originalHeight - ($2E - DayPilotCalendar.originalTop);
                if ($2H < $2D) {
                    $2H = $2D;
                } else {
                    DayPilotCalendar.resizingShadow.style.top = $2E + 'px';
                };
                DayPilotCalendar.resizingShadow.style.height = ($2H) + 'px';
            }
        };
        this.$72 = {};
        var $1H = this.$72;
        $1H.getWidth = function() {
            return $c.nav.top.offsetWidth;
        };
        $1H.getHeight = function() {
            return $c.nav.top.offsetHeight - DayPilot.sh($c.nav.scroll) - 1;
        };
        $1H.download = function(name) {
            var $2I = $1H.canvas();
            var name = name || "image.png";
            if (window.navigator.msSaveBlob) {
                var $2J = $2I.msToBlob();
                window.navigator.msSaveBlob($2J, name);
            } else {
                var link = document.createElement("a");
                link.download = name;
                link.href = $2I.toDataURL();
                link.click();
            }
        };
        $1H.getCanvas = function() {
            return $1H.canvas();
        };
        $1H.getRectangles = function() {
            var $2K = ($c.showHours ? $c.hourWidth: 0);
            var $2L = $c.$5o();
            var $2M = {};
            $2M.main = {
                "x": 0,
                "y": 0,
                "w": $1H.getWidth(),
                "h": $1H.getHeight()
            };
            $2M.corner = {
                "x": 0,
                "y": 0,
                "w": $2K,
                "h": $2L
            };
            $2M.grid = {
                "x": $2K,
                "y": $2L,
                "w": $1H.getWidth() - $2K,
                "h": $1H.getHeight() - $2L
            };
            return $2M;
        };
        $1H.fakeDurationBar = function() {
            var $d = document.createElement("div");
            $d.style.display = "none";
            $d.className = $c.$5h("_event");
            var $1P = document.createElement("div");
            $1P.className = $c.$5h("_event_bar");
            var $M = document.createElement("div");
            $M.className = $c.$5h("_event_bar_inner");
            document.body.appendChild($d);
            $1P.appendChild($M);
            $d.appendChild($1P);
            return $d;
        };
        $1H.fakeCell = function() {
            var $d = document.createElement("div");
            $d.style.display = "none";
            $d.className = $c.$5h("_cell");
            var $M = document.createElement("div");
            $M.className = $c.$5h("_cell_inner");
            document.body.appendChild($d);
            $d.appendChild($M);
            return $d;
        };
        $1H.extractUrl = function($2N) {
            var $s = /url\((.*)\)/.exec($2N);
            return $s[1];
        };
        $1H.getImages = function() {
            var $u = {};
            var $r = $1H.fakeExpand();
            $u.expand = $1H.extractUrl(new DayPilot.StyleReader($r).get("background-image"));
            $r.className = $c.$5h("_tree_image_collapse");
            $u.collapse = $1H.extractUrl(new DayPilot.StyleReader($r).get("background-image"));
            $r.className = $c.$5h("_tree_image_no_children");
            $u.nochildren = $1H.extractUrl(new DayPilot.StyleReader($r).get("background-image"));
            DayPilot.de($r);
            return $u;
        };
        $1H.canvas = function() {
            var $2M = $1H.getRectangles();
            var $2I = new DayPilot.Canvas($2M.main.w, $2M.main.h);
            console.log($2M);
            var $1M = new DayPilot.StyleReader($c.nav.top).get("border-color");
            var $2O = new DayPilot.StyleReader($c.nav.header.rows[0].cells[0].firstChild.firstChild).get("border-bottom-color");
            $2I.rect($2M.main, $1M);
            $2I.line($2M.grid.x, 0, $2M.grid.x, $2M.main.h, $2O);
            $2I.line(0, $2M.grid.y, $2M.main.w, $2M.grid.y, $2O);
            return $2I.getCanvasElement();
        };
        this.temp = {};
        this.temp.getPosition = function() {
            var $2P = $c.$73.getCellCoords();
            if (!$2P) {
                return null;
            };
            var $q = $c.$5g[$2P.x];
            var $f = {};
            $f.resource = $q.id;
            $f.start = new DayPilot.Date($q.start).addHours($c.$5n(true)).addMinutes($2P.y * $c.cellDuration);
            $f.end = $f.start.addMinutes($c.cellDuration);
            return $f;
        };
        this.temp.img = $c.$72;
        this.$73 = {};
        this.$73.getCellCoords = function() {
            var $u = {};
            $u.x = 0;
            $u.y = 0;
            if (!$c.coords) {
                return null;
            };
            var $G = $c.nav.main;
            var $2Q = $c.coords.x;
            var i = 0;
            var $1u = this.col($G, i);
            while ($1u && $2Q > $1u.left) {
                i += 1;
                $1u = this.col($G, i);
            };
            $u.x = i - 1;
            var $I = 0;
            var $25 = Math.floor(($c.coords.y - $I) / $c.cellHeight);
            $u.y = $25;
            if ($u.x < 0) {
                return null;
            };
            return $u;
        };
        this.$73.col = function($2a, x) {
            var $u = {};
            $u.left = 0;
            $u.width = 0;
            if (!$2a) {
                return null;
            };
            if (!$2a.rows) {
                return null;
            };
            if ($2a.rows.length === 0) {
                return null;
            };
            if ($2a.rows[0].cells.length == 0) {
                return null;
            };
            var $f = $2a.rows[0].cells[x];
            if (!$f) {
                return null;
            };
            var t = DayPilot.abs($2a);
            var c = DayPilot.abs($f);
            $u.left = c.x - t.x;
            $u.width = $f.offsetWidth;
            return $u;
        };
        this.$6Z = function() {
            this.$4O();
            if (!this.elements.crosshair) {
                this.elements.crosshair = [];
            };
            var $2R = this.$73.getCellCoords();
            if (!$2R) {
                return;
            };
            var $q = $2R.x;
            var y = Math.floor($2R.y / (60 / $c.cellDuration) * (60 / $c.timeHeaderCellDuration));
            if (y < 0) {
                return;
            };
            if (this.nav.hourTable) {
                if (y >= this.nav.hourTable.rows.length) {
                    return;
                };
                var $2S = document.createElement("div");
                $2S.style.position = "absolute";
                $2S.style.left = "0px";
                $2S.style.right = "0px";
                $2S.style.top = "0px";
                $2S.style.bottom = "0px";
                $2S.style.opacity = .5;
                $2S.style.backgroundColor = this.crosshairColor;
                $2S.style.opacity = this.crosshairOpacity / 100;
                $2S.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
                this.nav.hourTable.rows[y].cells[0].firstChild.appendChild($2S);
                this.elements.crosshair.push($2S);
            };
            if (this.nav.header) {
                var $2T = document.createElement("div");
                $2T.style.position = "absolute";
                $2T.style.left = "0px";
                $2T.style.right = "0px";
                $2T.style.top = "0px";
                $2T.style.bottom = "0px";
                $2T.style.opacity = .5;
                $2T.style.backgroundColor = this.crosshairColor;
                $2T.style.opacity = this.crosshairOpacity / 100;
                $2T.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
                var $25 = this.nav.header.rows[this.headerLevels - 1];
                if ($25.cells[$q]) {
                    $25.cells[$q].firstChild.appendChild($2T);
                    this.elements.crosshair.push($2T);
                }
            };
            if (this.crosshairType === "Header") {
                return;
            };
            var $2U = this.nav.crosshair;
            var $I = 0;
            var top = Math.floor((($c.coords.y - $I)) / $c.cellHeight) * $c.cellHeight + $I;
            var $J = $c.cellHeight;
            var $2V = document.createElement("div");
            $2V.style.position = "absolute";
            $2V.style.left = "0px";
            $2V.style.right = "0px";
            $2V.style.top = top + "px";
            $2V.style.height = $J + "px";
            $2V.style.backgroundColor = this.crosshairColor;
            $2V.style.opacity = this.crosshairOpacity / 100;
            $2V.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
            $2V.onmousedown = this.$74;
            $2U.appendChild($2V);
            this.elements.crosshair.push($2V);
            var $1u = this.$73.col(this.nav.main, $q);
            $J = this.nav.main.clientHeight;
            if ($1u) {
                var $2W = document.createElement("div");
                $2W.style.position = "absolute";
                $2W.style.left = $1u.left + "px";
                $2W.style.width = $1u.width + "px";
                $2W.style.top = "0px";
                $2W.style.height = $J + "px";
                $2W.style.backgroundColor = this.crosshairColor;
                $2W.style.opacity = this.crosshairOpacity / 100;
                $2W.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
                $2W.onmousedown = this.$74;
                $2U.appendChild($2W);
                this.elements.crosshair.push($2W);
            }
        };
        this.$74 = function(ev) {
            $c.$4O();
            var $2R = $c.$73.getCellCoords();
            var $2X = 0;
            var $f = $c.nav.main.rows[$2R.y + $2X].cells[$2R.x];
            $c.$5T.apply($f, [ev]);
        };
        this.$4O = function() {
            if (!this.elements.crosshair || this.elements.crosshair.length === 0) {
                return;
            };
            for (var i = 0; i < this.elements.crosshair.length; i++) {
                var e = this.elements.crosshair[i];
                if (e && e.parentNode) {
                    e.parentNode.removeChild(e);
                }
            };
            this.elements.crosshair = [];
        };
        this.$4W = function() {
            if (!this.cellConfig) {
                return;
            };
            var $2Y = this.cellConfig;
            if ($2Y.vertical) {
                for (var x = 0; x < $2Y.x; x++) {
                    var $2Z = this.cellProperties[x + "_0"];
                    for (var y = 1; y < $2Y.y; y++) {
                        this.cellProperties[x + "_" + y] = $2Z;
                    }
                }
            };
            if ($2Y.horizontal) {
                for (var y = 0; y < $2Y.y; y++) {
                    var $2Z = this.cellProperties["0_" + y];
                    for (var x = 1; x < $2Y.x; x++) {
                        this.cellProperties[x + "_" + y] = $2Z;
                    }
                }
            };
            if ($2Y["default"]) {
                var $2Z = $2Y["default"];
                for (var y = 0; y < $2Y.y; y++) {
                    for (var x = 0; x < $2Y.x; x++) {
                        if (!this.cellProperties[x + "_" + y]) {
                            this.cellProperties[x + "_" + y] = $2Z;
                        }
                    }
                }
            }
        };
        this.$6X = function(x, y) {
            if (!this.cellProperties) {
                return null;
            };
            return this.cellProperties[x + "_" + y];
        };
        this.$75 = function(x, y) {
            var $2g = x + '_' + y;
            if (this.cellProperties && this.cellProperties[$2g]) {
                return this.cellProperties[$2g].business;
            };
            return false;
        };
        this.$6Y = function(x, y) {
            var $2g = x + '_' + y;
            if (this.cellProperties && this.cellProperties[$2g]) {
                return this.cellProperties[$2g].backColor;
            };
            return null;
        };
        this.$4J = function() {
            var $2a = this.nav.header;
            if ($2a && $2a.rows) {
                for (var y = 0; y < $2a.rows.length; y++) {
                    var r = $2a.rows[y];
                    for (var x = 0; x < r.cells.length; x++) {
                        var c = r.cells[x];
                        c.onclick = null;
                        c.onmousemove = null;
                        c.onmouseout = null;
                    }
                }
            };
            if (!this.$4s) DayPilot.pu($2a);
        };
        this.$76 = function($1m, $2d) {
            var r = ($2d) ? this.nav.header.insertRow( - 1) : this.nav.header.rows[$1m - 1];
            var $0f = this.$6m($1m);
            var $30 = $0f.length;
            var $31 = ($1m === $c.headerLevels);
            for (var i = 0; i < $30; i++) {
                var $h = $0f[i];
                if ($c.$5e()) {
                    if (typeof $c.onBeforeHeaderRender === 'function') {
                        var $n = {};
                        $n.header = {};
                        DayPilot.Util.copyProps($h, $n.header, ['id', 'start', 'name', 'html', 'backColor', 'toolTip', 'areas', 'children']);
                        this.onBeforeHeaderRender($n);
                        DayPilot.Util.copyProps($n.header, $h, ['html', 'backColor', 'toolTip', 'areas']);
                    }
                };
                var $32 = $h.getChildren ? true: false;
                var $f = ($2d) ? r.insertCell( - 1) : r.cells[i];
                $f.data = $h;
                if ($31) {} else {
                    var $33 = 1;
                    if ($32) {
                        $33 = $h.getChildrenCount($c.headerLevels - $1m + 1);
                    };
                    $f.colSpan = $33;
                };
                if ($32) {
                    $f.onclick = this.$5y;
                    $f.onmousemove = this.$5z;
                    $f.onmouseout = this.$5A;
                    if ($h.toolTip) {
                        $f.title = $h.toolTip;
                    }
                };
                $f.style.overflow = 'hidden';
                $f.style.padding = '0px';
                $f.style.border = '0px none';
                $f.style.height = ($0e.headerHeight()) + "px";
                if (!this.cssOnly) {
                    $f.style.borderLeft = "0px none";
                    if (i !== $30 - 1) {
                        $f.style.borderRight = "1px solid " + this.borderColor;
                    }
                };
                var $d = ($2d) ? document.createElement("div") : $f.firstChild;
                if ($2d) {
                    $d.setAttribute("unselectable", "on");
                    $d.style.MozUserSelect = 'none';
                    $d.style.KhtmlUserSelect = 'none';
                    $d.style.WebkitUserSelect = 'none';
                    $d.style.position = 'relative';
                    $d.style.height = $0e.headerHeight() + "px";
                    if (!this.cssOnly) {
                        $d.className = $c.$5h('colheader');
                        $d.style.cursor = 'default';
                        $d.style.fontFamily = this.headerFontFamily;
                        $d.style.fontSize = this.headerFontSize;
                        $d.style.color = this.headerFontColor;
                        $d.style.backgroundColor = $h.backColor;
                        $d.style.textAlign = 'center';
                        var $2j = document.createElement("div");
                        $2j.style.position = 'absolute';
                        $2j.style.left = '0px';
                        $2j.style.right = '0px';
                        $2j.style.top = "0px";
                        $2j.style.bottom = "0px";
                        $2j.style.padding = "2px";
                        $2j.setAttribute("unselectable", "on");
                        if ($1m !== 1) {
                            $2j.style.borderTop = '1px solid ' + this.borderColor;
                        };
                        if (this.headerClickHandling !== "Disabled") {
                            $2j.style.cursor = 'pointer';
                        };
                        $d.appendChild($2j);
                    } else {
                        $d.className = $c.$5h('_colheader');
                        var $M = document.createElement("div");
                        $M.className = $c.$5h('_colheader_inner');
                        if ($h.backColor) {
                            $M.style.background = $h.backColor;
                        };
                        $d.appendChild($M);
                    };
                    $f.appendChild($d);
                } else {
                    $d.style.height = $0e.headerHeight() + "px";
                };
                this.$77($d, $h);
                if ($32) {
                    $d.firstChild.innerHTML = $h.html;
                }
            }
        };
        this.$77 = function($d, $h) {
            var $34 = [];
            for (var j = 0; j < $d.childNodes.length; j++) {
                var $r = $d.childNodes[j];
                if ($r.isActiveArea) {
                    $34.push($r);
                }
            };
            for (var j = 0; j < $34.length; j++) {
                var $r = $34[j];
                DayPilot.de($r);
            };
            if ($h.areas) {
                var $1x = $h.areas;
                for (var j = 0; j < $1x.length; j++) {
                    var $1R = $1x[j];
                    if ($1R.v !== 'Visible') {
                        continue;
                    };
                    var o = new DayPilotCalendar.Column($h.id, $h.name, $h.start);
                    var a = DayPilot.Areas.createArea($d, o, $1R);
                    $d.appendChild(a);
                }
            }
        };
        this.$4Z = function() {
            if (!this.showHeader) {
                return;
            };
            var $1w = this.nav.header;
            var $2d = true;
            var $0f = this.$6m($c.headerLevels, true);
            var $30 = $0f.length;
            if (this.$78 && $c.$4w.ielt9 && $2d) {
                DayPilot.de(this.nav.header);
                this.$6S();
            } else if (this.$79.scope) {
                DayPilot.de(this.nav.header);
                this.$6S();
            }
            while (this.$78 && $1w && $1w.rows && $1w.rows.length > 0 && $2d) {
                if (!this.$4s) DayPilot.pu($1w.rows[0]);
                $1w.deleteRow(0);
            };
            this.$78 = true;
            var $S = $c.cornerHTML || $c.cornerHtml;
            var $2p = $c.nav.corner;
            if ($2p) {
                if (!this.$4s) DayPilot.pu($2p.firstChild);
                $2p.firstChild.innerHTML = $S ? $S: '';
            };
            for (var i = 0; i < $c.headerLevels; i++) {
                this.$76(i + 1, $2d);
            };
            if (!this.showAllDayEvents) {
                return;
            };
            var r = ($2d) ? this.nav.header.insertRow( - 1) : this.nav.header.rows[$c.headerLevels];
            for (var i = 0; i < $30; i++) {
                var $h = $0f[i];
                var $f = ($2d) ? r.insertCell( - 1) : r.cells[i];
                $f.data = $h;
                $f.style.padding = '0px';
                $f.style.border = '0px none';
                $f.style.overflow = 'hidden';
                if (!this.cssOnly) {
                    $f.style.lineHeight = '1.2';
                };
                var $d = ($2d) ? document.createElement("div") : $f.firstChild;
                if ($2d) {
                    $d.setAttribute("unselectable", "on");
                    $d.style.MozUserSelect = 'none';
                    $d.style.KhtmlUserSelect = 'none';
                    $d.style.WebkitUserSelect = 'none';
                    $d.style.overflow = 'hidden';
                    $d.style.position = "relative";
                    $d.style.height = $0e.allDayHeaderHeight() + "px";
                    if (!this.cssOnly) {
                        $d.className = this.$5h("alldayheader");
                        $d.style.textAlign = 'center';
                        $d.style.backgroundColor = $h.backColor;
                        $d.style.cursor = 'default';
                        var $2j = document.createElement("div");
                        $2j.style.position = "absolute";
                        $2j.style.left = '0px';
                        $2j.style.right = '0px';
                        $2j.style.top = "0px";
                        $2j.style.bottom = "0px";
                        $2j.setAttribute("unselectable", "on");
                        $2j.style.borderTop = '1px solid ' + this.borderColor;
                        $d.appendChild($2j);
                        if ($c.rtl) {
                            if (i === $30 - 1) {
                                $2j.style.borderLeft = "1px solid " + $h.backColor;
                            } else {
                                $2j.style.borderLeft = "1px solid " + this.borderColor;
                            }
                        } else {
                            if (i !== $30 - 1) {
                                $2j.style.borderRight = "1px solid " + this.borderColor;
                            }
                        }
                    } else {
                        $d.className = this.$5h("_alldayheader");
                        var $M = document.createElement("div");
                        $M.className = this.$5h("_alldayheader_inner");
                        $d.appendChild($M);
                    };
                    $f.appendChild($d);
                };
                $d.style.height = $0e.allDayHeaderHeight() + "px";
            }
        };
        this.$4C = function() {
            if (this.loadingLabelVisible && this.nav.loading) {
                this.nav.loading.innerHTML = this.loadingLabelText;
                this.nav.loading.style.top = (this.$5o() + 5) + "px";
                this.nav.loading.style.display = '';
            }
        };
        this.$4S = function() {
            if (this.callbackTimeout) {
                window.clearTimeout(this.callbackTimeout);
            };
            if (this.nav.loading) {
                this.nav.loading.style.display = 'none';
            }
        };
        this.$6U = function() {
            var $24 = this.$60();
            var $35 = this.initScrollPos;
            if (!$35) {
                var $2i = this.businessBeginsHour;
                $35 = $2i * (60 / $c.cellDuration) * $c.cellHeight;
            };
            $24.root = this;
            $24.onscroll = this.$5Y;
            if ($24.scrollTop === 0) {
                $24.scrollTop = $35 - this.$63();
            } else {
                this.$5Y();
            }
        };
        this.$7a = function() {
            var el = $c.nav.top;
            return el.offsetWidth > 0 && el.offsetHeight > 0;
        };
        this.$7b = function() {
            var $1j = $c.$7a;
            if (!$1j()) {
                $c.$7c = setInterval(function() {
                        if ($1j()) {
                            $c.$6U();
                            $c.$56();
                            clearInterval($c.$7c);
                        }
                    },
                    100);
            }
        };
        this.scrollToY = function($1K) {
            var $24 = this.$60();
            $24.scrollTop = $1K;
        };
        this.scrollToHour = function($2i) {
            var $24 = this.$60();
            var $1K = $2i * (60 / $c.cellDuration) * $c.cellHeight;
            $24.scrollTop = $1K - this.$63();
        };
        this.$60 = function() {
            var $0Q = this.columnWidthSpec === 'Fixed';
            return $0Q || this.$5Z ? this.nav.bottomRight: this.nav.scroll;
        };
        this.onCallbackError = function($u, $v) {
            alert("Error!\r\nResult: " + $u + "\r\nContext:" + $v);
        };
        this.$56 = function() {
            if (!$c.showHeader) {
                return;
            };
            var $36 = this.$6Q();
            var $1j = !!this.nav.cornerRight;
            if (this.$5Z) {
                if (this.nav.unifiedCornerRight) {
                    DayPilot.de(this.nav.unifiedCornerRight);
                };
                var $37 = this.$6J();
                if ($37 != "100%" && parseInt($37) < this.$60().clientWidth) {
                    return;
                };
                var w = DayPilot.sw(this.nav.bottomRight);
                this.nav.unifiedCornerRight = this.nav.header.rows[0].insertCell( - 1);
                var c = this.nav.unifiedCornerRight;
                c.rowSpan = this.nav.header.rows.length;
                c.style.width = w + "px";
                var $2p = document.createElement("div");
                $2p.setAttribute("unselectable", "on");
                if (this.cssOnly) {
                    $2p.className = this.$5h('_cornerright');
                };
                $2p.style.overflow = "hidden";
                $2p.style.height = this.$5o() + "px";
                $2p.style.position = "relative";
                var $M = document.createElement("div");
                if (this.cssOnly) {
                    $M.className = this.$5h('_cornerright_inner');
                };
                $2p.appendChild($M);
                c.appendChild($2p);
                var $38 = this.columnWidthSpec === "Fixed";
                if (!$38 && this.nav.allday) {
                    this.nav.allday.style.right = w + "px";
                };
                return;
            };
            if ($36 !== $1j) {
                if ($36) {
                    this.$6T();
                } else {
                    if (this.nav.fullHeader && this.nav.fullHeader.rows[0].cells.length === 3) {
                        var c = this.nav.fullHeader.rows[0].cells[2];
                        if (c.parentNode) {
                            c.parentNode.removeChild(c);
                        }
                    };
                    this.nav.cornerRight = null;
                }
            };
            var d = this.nav.cornerRight;
            if (!d) {
                return;
            };
            var w = DayPilot.sw($c.$5p());
            if (!this.cssOnly) {
                if (w >= 3) {
                    d.style.width = (w - 3) + 'px';
                }
            } else {
                if (d) {
                    d.style.width = (w) + 'px';
                }
            };
            return w;
        };
        this.$5d = function($39) {
            if ($39) {
                this.autoRefreshEnabled = true;
            };
            if (!this.autoRefreshEnabled) {
                return;
            };
            if (this.$4v >= this.autoRefreshMaxCount) {
                return;
            };
            this.$4G();
            var $3a = this.autoRefreshInterval;
            if (!$3a || $3a < 10) {
                throw "The minimum autoRefreshInterval is 10 seconds";
            };
            this.autoRefreshTimeout = window.setTimeout(function() {
                    $c.$7d();
                },
                this.autoRefreshInterval * 1000);
        };
        this.$4G = function() {
            if (this.autoRefreshTimeout) {
                window.clearTimeout(this.autoRefreshTimeout);
            }
        };
        this.$7d = function() {
            if (!DayPilot.Global.resizing && !DayPilot.Global.moving && !DayPilotCalendar.drag && !DayPilotCalendar.selecting) {
                var $3b = false;
                if (typeof this.onAutoRefresh === 'function') {
                    var $n = {};
                    $n.i = this.$4v;
                    $n.preventDefault = function() {
                        this.preventDefault.value = true;
                    };
                    $c.onAutoRefresh($n);
                    if ($n.preventDefault.value) {
                        $3b = true;
                    }
                };
                if (!$3b && this.$4B()) {
                    this.commandCallBack(this.autoRefreshCommand);
                };
                this.$4v++;
            };
            if (this.$4v < this.autoRefreshMaxCount) {
                this.autoRefreshTimeout = window.setTimeout(function() {
                        $c.$7d();
                    },
                    this.autoRefreshInterval * 1000);
            }
        };
        this.$4K = function() {
            $c.$55();
            if ($c.heightSpec === "Parent100Pct") {
                $c.setHeight(parseInt($c.nav.top.clientHeight, 10));
            };
            $c.$56();
            $c.$5c();
        };
        this.$7e = function() {
            if (!DayPilotCalendar.globalHandlers) {
                DayPilotCalendar.globalHandlers = true;
                DayPilot.re(document, 'mousemove', DayPilotCalendar.gMouseMove);
                DayPilot.re(document, 'mouseup', DayPilotCalendar.gMouseUp);
                DayPilot.re(document, DayPilot.touch.move, DayPilotCalendar.gTouchMove);
                DayPilot.re(document, DayPilot.touch.end, DayPilotCalendar.gTouchEnd);
            };
            DayPilot.re(window, 'resize', this.$4K);
        };
        this.$6u = function(ev) {
            if ($0G.active || $0G.using) {
                return;
            };
            ev = ev || window.event;
            var $0H = DayPilot.Util.mouseButton(ev);
            if (typeof(DayPilotBubble) !== 'undefined') {
                DayPilotBubble.hideActive();
            };
            if ((this.style.cursor === 'n-resize' || this.style.cursor === 's-resize') && $0H.left) {
                DayPilot.Global.resizing = this;
                DayPilotCalendar.originalMouse = DayPilot.mc(ev);
                DayPilotCalendar.originalHeight = this.offsetHeight;
                DayPilotCalendar.originalTop = this.offsetTop;
                $c.nav.top.style.cursor = this.style.cursor;
            } else if ((this.style.cursor === 'move' || ($c.moveBy === 'Full' && this.event.client.moveEnabled())) && $0H.left) {
                DayPilot.Global.moving = this;
                var $3c = DayPilot.Global.moving.helper = {};
                $3c.oldColumn = $c.$5g[this.event.part.dayIndex].id;
                DayPilotCalendar.originalMouse = DayPilot.mc(ev);
                DayPilotCalendar.originalTop = this.offsetTop;
                var $0T = DayPilot.mo3(this, ev);
                if ($0T) {
                    DayPilotCalendar.moveOffsetY = $0T.y;
                } else {
                    DayPilotCalendar.moveOffsetY = 0;
                };
                $c.nav.top.style.cursor = this.style.cursor;
            };
            return false;
        };
        this.$7f = function(i) {
            var $1L = this.$4r.events;
            var $h = this.events.list[i];
            var $3d = {};
            for (var name in $h) {
                $3d[name] = $h[name];
            };
            if ($c.showEventStartEnd) {
                var $3e = $h.start.getDatePart().getTime() === $h.end.getDatePart().getTime();
                var $1k = $3e ? $0e.locale().timePattern: $0e.locale().dateTimePattern;
                var $3f = $h.start.toString($1k);
                var $3g = $h.end.toString($1k);
                $3d.html = $3d.text + " (" + $3f + " - " + $3g + ")";
            };
            if (typeof this.onBeforeEventRender === 'function') {
                var $n = {};
                $n.e = $3d;
                $n.data = $3d;
                this.onBeforeEventRender($n);
            };
            $1L[i] = $3d;
        };
        this.$6v = {};
        var $0G = $c.$6v;
        $0G.active = false;
        $0G.start = null;
        $0G.timeout = null;
        $0G.startcell = null;
        this.$6v.getCellCoords = function(ev) {
            var x, y;
            if (ev.touches) {
                x = ev.touches[0].pageX;
                y = ev.touches[0].pageY;
            } else {
                x = ev.pageX;
                y = ev.pageY;
            };
            var $3h = DayPilot.abs($c.nav.main);
            var $3i = {
                x: x - $3h.x,
                y: y - $3h.y
            };
            var w = ($c.nav.main.clientWidth / $c.$5g.length);
            var $2P = {
                "pageX": x,
                "pageY": y,
                "x": Math.floor($3i.x / w),
                "y": Math.floor($3i.y / $c.cellHeight),
                "toString": function() {
                    return "x: " + this.x + " y:" + this.y;
                }
            };
            return $2P;
        };
        this.$6v.startSelecting = function($2P) {
            var $f = $c.nav.main.rows[$2P.y].cells[$2P.x];
            $0G.startcell = $2P;
            $c.clearSelection();
            DayPilotCalendar.column = DayPilotCalendar.getColumn($f);
            $c.selectedCells.push($f);
            DayPilotCalendar.firstSelected = $f;
            DayPilotCalendar.topSelectedCell = $f;
            DayPilotCalendar.bottomSelectedCell = $f;
            $c.$5U();
        };
        this.$6v.extendSelection = function($2P) {
            var $f = $c.nav.main.rows[$2P.y].cells[$2P.x];
            $c.clearSelection();
            if ($2P.y < $0G.startcell.y) {
                $c.selectedCells = DayPilotCalendar.getCellsBelow($f);
                DayPilotCalendar.topSelectedCell = $c.selectedCells[0];
                DayPilotCalendar.bottomSelectedCell = DayPilotCalendar.firstSelected;
            } else {
                $c.selectedCells = DayPilotCalendar.getCellsAbove($f);
                DayPilotCalendar.topSelectedCell = DayPilotCalendar.firstSelected;
                DayPilotCalendar.bottomSelectedCell = $c.selectedCells[0];
            };
            $c.$5U();
        };
        this.$6v.onMainTouchStart = function(ev) {
            if (DayPilot.Util.isMouseEvent(ev)) {
                return;
            };
            if ($0G.active) {
                return;
            };
            if (ev.touches.length > 1) {
                return;
            };
            $0G.using = true;
            var $2P = $0G.getCellCoords(ev);
            $0G.startCoords = $2P;
            var $3j = $c.tapAndHoldTimeout;
            $0G.timeout = window.setTimeout(function() {
                    ev.preventDefault();
                    $0G.active = true;
                    switch ($c.timeRangeTapAndHoldHandling) {
                        case "Select":
                            $0G.startSelecting($2P);
                            break;
                        case "ContextMenu":
                            $0G.startSelecting($2P);
                            $0G.active = false;
                            if ($c.contextMenuSelection) {
                                $c.contextMenuSelection.show($c.getSelection());
                            };
                            break;
                    }
                },
                $3j);
        };
        this.$6v.onCellTouchMove = function(ev) {};
        this.$6v.onCellTouchEnd = function(ev) {
            if (!$0G.active) {
                window.clearTimeout($0G.timeout);
                return;
            };
            ev.preventDefault();
            $0G.startcell = null;
            var $0P = $c.getSelection();
            $0P.toString = function() {
                return "start: " + this.start + "\nend: " + this.end;
            };
            $c.$5N($0P.start, $0P.end, $0P.resource);
            window.setTimeout(function() {
                    $0G.active = false;
                },
                500);
        };
        this.$6v.startMoving = function($d, $2P) {
            DayPilot.Global.moving = $d;
            var $3c = DayPilot.Global.moving.helper = {};
            $3c.oldColumn = $c.$5g[$d.event.part.dayIndex].id;
            DayPilotCalendar.originalMouse = $2P;
            DayPilotCalendar.originalTop = this.offsetTop;
            var $3h = DayPilot.abs($d);
            DayPilotCalendar.moveOffsetY = $2P.y - $3h.y;
            if (!DayPilotCalendar.movingShadow) {
                DayPilotCalendar.movingShadow = $c.$5f(DayPilot.Global.moving, !$c.$4w.ie, $c.shadow);
                DayPilotCalendar.movingShadow.style.width = (DayPilotCalendar.movingShadow.parentNode.offsetWidth + 1) + 'px';
            }
        };
        this.$6v.startResizing = function($d, $0i, $2P) {
            DayPilot.Global.resizing = $d;
            $d.dpBorder = $0i;
            DayPilotCalendar.originalMouse = $2P;
            DayPilotCalendar.originalHeight = $d.offsetHeight;
            DayPilotCalendar.originalTop = $d.offsetTop;
        };
        this.$6v.updateResizing = function($2P) {
            $c.$70($2P);
        };
        this.$6v.updateMoving = function() {
            var $2P = $c.coords;
            var $2D = $c.cellHeight;
            var $I = 0;
            var $0T = DayPilotCalendar.moveOffsetY;
            if (!$0T) {
                $0T = $2D / 2;
            };
            var $2E = Math.floor((($2P.y - $0T - $I) + $2D / 2) / $2D) * $2D + $I;
            if ($2E < $I) {
                $2E = $I;
            };
            var $G = $c.nav.main;
            var $N = $G.clientHeight;
            var $J = parseInt(DayPilotCalendar.movingShadow.style.height);
            if ($2E + $J > $N) {
                $2E = $N - $J;
            };
            DayPilotCalendar.movingShadow.style.top = $2E + 'px';
            var $H = $G.clientWidth / $G.rows[0].cells.length;
            var $q = Math.floor($2P.x / $H);
            if ($q < 0) {
                $q = 0;
            };
            var $15 = $c.nav.events;
            if ($q < $15.rows[0].cells.length && $q >= 0 && DayPilotCalendar.movingShadow.column !== $q) {
                DayPilotCalendar.movingShadow.column = $q;
                DayPilotCalendar.moveShadow($15.rows[0].cells[$q]);
            }
        };
        this.$6v.onEventTouchStart = function(ev) {
            if ($0G.active) {
                return;
            };
            if (DayPilot.Util.isMouseEvent(ev)) {
                return;
            };
            ev.stopPropagation();
            $0G.preventEventTap = false;
            $0G.using = true;
            $0G.startCoords = $0G.getCellCoords(ev);
            var $d = this;
            var x = ev.touches ? ev.touches[0].pageX: ev.pageX;
            var y = ev.touches ? ev.touches[0].pageY: ev.pageY;
            var $2P = {
                x: x,
                y: y,
                $d: this
            };
            $c.coords = $0G.relativeCoords(ev);
            var $3j = $c.tapAndHoldTimeout;
            $0G.timeout = window.setTimeout(function() {
                    var e = $d.event;
                    $0G.active = true;
                    switch ($c.eventTapAndHoldHandling) {
                        case "Move":
                            if (e.client.moveEnabled()) {
                                $0G.startMoving($d, $2P);
                            };
                            break;
                        case "ContextMenu":
                            var $06 = e.client.contextMenu();
                            if (DayPilot.Menu) {
                                DayPilot.Menu.touchPosition(ev);
                            };
                            if ($06) {
                                $06.show(e);
                            } else {
                                if ($c.contextMenu) {
                                    $c.contextMenu.show(e);
                                }
                            };
                            break;
                    }
                },
                $3j);
        };
        this.$6v.onMainTouchMove = function(ev) {
            if (DayPilot.Util.isMouseEvent(ev)) {
                return;
            };
            if ($0G.timeout) {
                var $2P = $0G.getCellCoords(ev);
                if ($2P && $0G.startCoords) {
                    if ($2P.pageX !== $0G.startCoords.pageX || $2P.pageY !== $0G.startCoords.pageY) {
                        window.clearTimeout($c.$6v.timeout);
                    }
                }
            };
            if (DayPilot.Global.moving && DayPilotCalendar.movingShadow) {
                ev.preventDefault();
                $c.coords = $0G.relativeCoords(ev);
                $0G.updateMoving();
                return;
            } else if (DayPilot.Global.resizing) {
                ev.preventDefault();
                var t = ev.touches ? ev.touches[0] : ev;
                var $2P = {
                    x: t.pageX,
                    y: t.pageY
                };
                $0G.updateResizing($2P);
                return;
            } else if ($0G.startcell) {
                ev.preventDefault();
                if (!$0G.active) {
                    window.clearTimeout($0G.timeout);
                    return;
                };
                var $2P = $0G.getCellCoords(ev);
                $0G.extendSelection($2P);
            };
            $0G.preventEventTap = true;
        };
        this.$6v.relativeCoords = function(ev) {
            var $2A = $c.nav.main;
            var x = ev.touches ? ev.touches[0].pageX: ev.pageX;
            var y = ev.touches ? ev.touches[0].pageY: ev.pageY;
            var $3h = DayPilot.abs($2A);
            var $2P = {
                x: x - $3h.x,
                y: y - $3h.y,
                "toString": function() {
                    return "x: " + this.x + ", y:" + this.y;
                }
            };
            return $2P;
        };
        this.$6v.onMainTouchEnd = function(ev) {
            if (DayPilot.Util.isMouseEvent(ev)) {
                return;
            };
            if (DayPilot.Global.moving) {
                $0G.active = false;
                ev.preventDefault();
                ev.stopPropagation();
                var top = DayPilotCalendar.movingShadow.offsetTop;
                DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);
                var $3k = DayPilot.Global.moving.event;
                var $0q = DayPilotCalendar.movingShadow.column;
                DayPilot.Global.moving = null;
                DayPilotCalendar.movingShadow = null;
                $3k.calendar.$5G($3k, $0q, top, ev, DayPilotCalendar.drag);
            } else if ($0G.startcell) {
                if (!$0G.active) {
                    window.clearTimeout($0G.timeout);
                    return;
                };
                ev.preventDefault();
                $0G.startcell = null;
                var $0P = $c.getSelection();
                $0P.toString = function() {
                    return "start: " + this.start + "\nend: " + this.end;
                };
                $c.$5N($0P.start, $0P.end, $0P.resource);
                window.setTimeout(function() {
                        $0G.active = false;
                    },
                    500);
            }
        };
        this.$6v.onEventTouchMove = function(ev) {
            $0G.preventEventTap = true;
        };
        this.$6v.onEventTouchEnd = function(ev) {
            if (DayPilot.Util.isMouseEvent(ev)) {
                return;
            };
            if (!$0G.active) {
                if ($0G.preventEventTap) {
                    return;
                };
                ev.preventDefault();
                window.clearTimeout($0G.timeout);
                $c.$5t(this, false);
                return;
            };
            $0G.active = false;
            if ($0G.timeout) {
                window.clearTimeout($0G.timeout);
                return;
            };
            ev.preventDefault();
        };
        this.$6s = function(ev) {
            var $3l = 5;
            var $3m = Math.max($c.durationBarWidth, 10);
            var w = 5;
            var $1w = ($c.moveBy === 'Top');
            if (typeof(DayPilotCalendar) === 'undefined') {
                return;
            };
            var $0T = DayPilot.mo3(this, ev);
            if (!$0T) {
                return;
            };
            var $d = this;
            if (!$d.active) {
                var $1x = [];
                if ($d.event.client.deleteEnabled()) {
                    $1x.push({
                        "action": "JavaScript",
                        "v": "Hover",
                        "w": 17,
                        "h": 17,
                        "top": 2,
                        "right": 2,
                        "css": $c.$5h("_event_delete"),
                        "js": function(e) {
                            $c.$5B(e);
                        }
                    });
                };
                var $18 = $d.event.cache ? $d.event.cache.areas: $d.event.data.areas;
                if ($18 && $18.length > 0) {
                    $1x = $1x.concat($18);
                };
                DayPilot.Areas.showAreas($d, $d.event, null, $1x);
                if ($c.cssOnly) {
                    DayPilot.Util.addClass($d, $c.$5h("_event_hover"));
                }
            };
            if (DayPilot.Global.resizing || DayPilot.Global.moving) {
                return;
            };
            var $3n = this.isFirst;
            var $3o = this.isLast;
            if ($c.moveBy === "Disabled" || $c.moveBy === "None") {
                return;
            };
            if (!$1w && $0T.x <= $3m && this.event.client.moveEnabled()) {
                if ($3n) {
                    this.style.cursor = 'move';
                } else {
                    this.style.cursor = 'not-allowed';
                }
            } else if (!$1w && $0T.y <= $3l && this.event.client.resizeEnabled()) {
                if ($3n) {
                    this.style.cursor = "n-resize";
                    this.dpBorder = 'top';
                } else {
                    this.style.cursor = 'not-allowed';
                }
            } else if ($1w && $0T.y <= $3m && this.event.client.moveEnabled()) {
                this.style.cursor = "move";
            } else if (this.offsetHeight - $0T.y <= $3l && this.event.client.resizeEnabled()) {
                if ($3o) {
                    this.style.cursor = "s-resize";
                    this.dpBorder = 'bottom';
                } else {
                    this.style.cursor = 'not-allowed';
                }
            } else if (!DayPilot.Global.resizing && !DayPilot.Global.moving) {
                if (this.event.client.clickEnabled()) this.style.cursor = 'pointer';
                else this.style.cursor = 'default';
            };
            if (typeof(DayPilotBubble) !== 'undefined' && $c.bubble && $c.eventHoverHandling !== 'Disabled') {
                if (this.style.cursor === 'default' || this.style.cursor === 'pointer') {
                    var $3p = this.$7g && $0T.x === this.$7g.x && $0T.y === this.$7g.y;
                    if (!$3p) {
                        this.$7g = $0T;
                        $c.bubble.showEvent(this.event);
                    }
                } else {}
            }
        };
        this.$6t = function(ev) {
            if ($c.cssOnly) {
                DayPilot.Util.removeClass(this, $c.$5h("_event_hover"));
            };
            if ($c.bubble) {
                $c.bubble.hideOnMouseOut();
            };
            DayPilot.Areas.hideAreas(this, ev);
        };
        this.$7h = null;
        this.$58 = function() {
            if (this.showCurrentTime) {
                this.$7i();
                var $0a = new DayPilot.Date().addMinutes($c.showCurrentTimeOffset);
                if ($c.showCurrentTimeMode === "Full") {
                    this.$7j($0a);
                } else if ($c.showCurrentTimeMode === "Day") {
                    this.$7k($0a);
                } else {
                    throw "Invalid DayPilot.Calendar.showCurrentTimeMode value: " + $c.showCurrentTimeMode;
                };
                if (this.nav.events && !this.$7h) {
                    var $3q = 30;
                    this.$7h = setTimeout(function() {
                            $c.$7h = null;
                            $c.$58();
                        },
                        $3q * 1000);
                }
            }
        };
        this.$7i = function() {
            DayPilot.de($c.elements.separators);
            $c.elements.separators = [];
        };
        this.$7k = function($0v) {
            var $3r = $0v.getTime();
            var $G = $c.nav.events;
            if (!$G) {
                return;
            };
            for (var i = 0; i < $c.$5g.length; i++) {
                var $1u = $c.$5g[i];
                var $K = $c.$5j(true);
                var $3s = new DayPilot.Date($1u.start).addHours(this.$5n(true));
                var $3t = $3s.getTime();
                var $3u = $3s.addTime($K);
                var $3v = $3u.getTime();
                if ($3t <= $3r && $3r <= $3v) {
                    var $3w = this.$7l($0v, $1u.start).top - 1;
                    var $f = $G.rows[0].cells[i];
                    var $1X = $f.separators;
                    var $d = document.createElement("div");
                    $d.style.position = "absolute";
                    $d.style.top = $3w + "px";
                    $d.style.height = "1px";
                    $d.style.left = "0px";
                    $d.style.right = "0px";
                    $d.className = $c.$5h("_now");
                    $1X.insertBefore($d, $1X.firstChild);
                    $c.elements.separators.push($d);
                }
            }
        };
        this.$7j = function($0v) {
            var $3r = $0v.getTime();
            var $G = $c.nav.events;
            if (!$G) {
                return;
            };
            var $1u = $c.$5g[0];
            if (!$1u) {
                return;
            };
            var $3x = $1u.start.getDatePart().addTime($0v.getTimePart());
            var $3w = this.$7l($3x, $1u.start).top - 1;
            for (var i = 0; i < $c.$5g.length; i++) {
                var $1u = $c.$5g[i];
                var $K = $c.$5j(true);
                var $3s = new DayPilot.Date($1u.start).addHours(this.$5n(true));
                var $3t = $3s.getTime();
                var $3u = $3s.addTime($K);
                var $3v = $3u.getTime();
                if ($3t <= $3r && $3r <= $3v) {
                    var $d = document.createElement("div");
                    $d.style.position = "absolute";
                    $d.style.top = $3w + "px";
                    $d.style.height = "1px";
                    $d.style.left = "0px";
                    $d.style.right = "0px";
                    $d.className = $c.$5h("_now");
                    $c.nav.events.appendChild($d);
                    $c.elements.separators.push($d);
                    return;
                }
            }
        };
        this.$4X = function($15) {
            if (!$15) {
                $15 = this.events.list;
            } else {
                this.events.list = $15;
            };
            if (!$15) {
                return;
            };
            this.$6p = {};
            this.$6p.events = [];
            this.$6p.lines = [];
            var length = $15.length;
            var $K = this.$5j(true);
            this.$4r.pixels = {};
            var $3y = [];
            this.$62 = [];
            this.$5D = 10000;
            this.$5m = 0;
            this.startDate = new DayPilot.Date(this.startDate);
            for (var i = 0; i < length; i++) {
                var e = $15[i];
                e.start = new DayPilot.Date(e.start);
                e.end = new DayPilot.Date(e.end);
            };
            if (typeof this.onBeforeEventRender === 'function' || $c.showEventStartEnd) {
                for (var i = 0; i < length; i++) {
                    this.$7f(i);
                }
            };
            var $3z = this.viewType === 'Resources';
            var $1j = this.$6n();
            var $3A = $1j.start;
            var $3B = $1j.end;
            for (var i = 0; i < this.$5g.length; i++) {
                var scroll = {};
                scroll.minEnd = 1000000;
                scroll.maxStart = -1;
                this.$62.push(scroll);
                var $1u = this.$5g[i];
                $1u.events = [];
                $1u.lines = [];
                $1u.blocks = [];
                var $3s = new DayPilot.Date($1u.start).addHours(this.$5n(true));
                var $3t = $3s.getTime();
                var $3u = $3s.addTime($K);
                var $3v = $3u.getTime();
                if ($3z) {
                    $3A = $3s.getDatePart();
                    $3B = $3u.getDatePart();
                };
                for (var j = 0; j < length; j++) {
                    if ($3y[j]) {
                        continue;
                    };
                    var e = $15[j];
                    var $1L = null;
                    if (typeof $c.onBeforeEventRender === 'function') {
                        $1L = $c.$4r.events[j];
                    };
                    if ($1L) {
                        if ($1L.hidden) {
                            continue;
                        }
                    } else if (e.hidden) {
                        continue;
                    };
                    var $09 = e.start;
                    var end = e.end;
                    var $3C = $09.getTime();
                    var $3D = end.getTime();
                    if ($3D < $3C) {
                        continue;
                    };
                    if (e.allday) {
                        var $3E = false;
                        if ($3C === $3D) {
                            $3E = !($3D < $3A.getTime() || $3C >= $3B.getTime());
                        } else if ($c.allDayEnd === 'Date') {
                            $3E = !($3D < $3A.getTime() || $3C >= $3B.getTime());
                        } else {
                            $3E = !($3D <= $3A.getTime() || $3C >= $3B.getTime());
                        };
                        if ($3z) {
                            $3E = $3E && (e.resource === $1u.id || $1u.id === "*");
                        };
                        if ($3E) {
                            var ep = new DayPilot.Event(e, this);
                            ep.part.start = $3A.getTime() < $3C ? $09: $3A;
                            ep.part.end = $3B.getTime() > $3D ? end: $3B;
                            ep.part.colStart = DayPilot.DateUtil.daysDiff($3A, ep.part.start);
                            ep.part.colWidth = DayPilot.DateUtil.daysSpan(ep.part.start, ep.part.end) + 1;
                            if ($3z) {
                                ep.part.colStart = i;
                                ep.part.colWidth = 1;
                            };
                            if (typeof $c.onEventFilter === "function" && $c.events.$7m) {
                                var $n = {};
                                $n.filter = $c.events.$7m;
                                $n.visible = true;
                                $n.e = ep;
                                $c.onEventFilter($n);
                                if (!$n.visible) {
                                    continue;
                                }
                            };
                            this.$6p.events.push(ep);
                            if (typeof this.onBeforeEventRender === 'function' || $c.showEventStartEnd) {
                                ep.cache = this.$4r.events[j];
                            };
                            $3y[j] = true;
                            if ($3z && (ep.part.start.getTime() !== $3C || ep.part.end.getTime() !== $3D)) {
                                $3y[j] = false;
                            }
                        };
                        continue;
                    };
                    var $1L = null;
                    if (typeof $c.onBeforeEventRender === 'function') {
                        $1L = $c.$4r.events[j];
                    };
                    if ($1L) {
                        if ($1L.hidden) {
                            continue;
                        }
                    } else if (e.hidden) {
                        continue;
                    };
                    var $3E = false;
                    if ($3z) {
                        $3E = ($1u.id === e.resource) && !($3D <= $3t || $3C >= $3v);
                    } else {
                        $3E = !($3D <= $3t || $3C >= $3v) || ($3D === $3C && $3C === $3t);
                    };
                    if ($3E) {
                        var ep = new DayPilot.Event(e, $c);
                        ep.part.dayIndex = i;
                        ep.part.start = $3t < $3C ? $09: $3s;
                        ep.part.end = $3v > $3D ? end: $3u;
                        var $3w = this.$7l(ep.part.start, $1u.start);
                        var $3F = this.$7l(ep.part.end, $1u.start);
                        var top = $3w.top;
                        var $1c = $3F.top;
                        if (top === $1c && ($3w.cut || $3F.cut)) {
                            continue;
                        };
                        ep.part.box = $0e.useBox($3D - $3C);
                        var $I = 0;
                        if (ep.part.box) {
                            var $3G = $3F.boxBottom;
                            ep.part.top = Math.floor(top / this.cellHeight) * this.cellHeight + $I;
                            ep.part.height = Math.max(Math.ceil($3G / this.cellHeight) * this.cellHeight - ep.part.top, this.cellHeight - 1);
                            ep.part.barTop = Math.max(top - ep.part.top - 1, 0);
                            ep.part.barHeight = Math.max($1c - top - 2, 1);
                        } else {
                            ep.part.top = top + $I;
                            ep.part.height = Math.max($1c - top, 0);
                            ep.part.barTop = 0;
                            ep.part.barHeight = Math.max($1c - top - 2, 1);
                        };
                        if (typeof $c.onEventFilter === "function" && $c.events.$7m) {
                            var $n = {};
                            $n.filter = $c.events.$7m;
                            $n.visible = true;
                            $n.e = ep;
                            $c.onEventFilter($n);
                            if (!$n.visible) {
                                continue;
                            }
                        };
                        var $09 = ep.part.top;
                        var end = ep.part.top + ep.part.height;
                        if ($09 > scroll.maxStart) {
                            scroll.maxStart = $09;
                        };
                        if (end < scroll.minEnd) {
                            scroll.minEnd = end;
                        };
                        if ($09 < this.$5D) {
                            this.$5D = $09;
                        };
                        if (end > this.$5m) {
                            this.$5m = end;
                        };
                        $1u.events.push(ep);
                        if (typeof this.onBeforeEventRender === 'function' || $c.showEventStartEnd) {
                            ep.cache = this.$4r.events[j];
                        };
                        if (ep.part.start.getTime() === $3C && ep.part.end.getTime() === $3D) {
                            $3y[j] = true;
                        }
                    }
                }
            };
            for (var i = 0; i < this.$5g.length; i++) {
                var $1u = this.$5g[i];
                $1u.events.sort(this.$7n);
                for (var j = 0; j < $1u.events.length; j++) {
                    var e = $1u.events[j];
                    $1u.putIntoBlock(e);
                };
                for (var j = 0; j < $1u.blocks.length; j++) {
                    var $1q = $1u.blocks[j];
                    $1q.events.sort(this.$7o);
                    for (var k = 0; k < $1q.events.length; k++) {
                        var e = $1q.events[k];
                        $1q.putIntoLine(e);
                    }
                }
            };
            this.$6p.events.sort(this.$7o);
            this.$6p.putIntoLine = function(ep) {
                var $1r = this;
                for (var i = 0; i < this.lines.length; i++) {
                    var $1s = this.lines[i];
                    if ($1s.isFree(ep.part.colStart, ep.part.colWidth)) {
                        $1s.push(ep);
                        return i;
                    }
                };
                var $1s = [];
                $1s.isFree = function($09, $11) {
                    var end = $09 + $11 - 1;
                    var $N = this.length;
                    for (var i = 0; i < $N; i++) {
                        var e = this[i];
                        if (! (end < e.part.colStart || $09 > e.part.colStart + e.part.colWidth - 1)) {
                            return false;
                        }
                    };
                    return true;
                };
                $1s.push(ep);
                this.lines.push($1s);
                return this.lines.length - 1;
            };
            for (var i = 0; i < this.$6p.events.length; i++) {
                var e = this.$6p.events[i];
                this.$6p.putIntoLine(e);
            };
            var $3H = Math.max(this.$6p.lines.length, 1);
            this.$4r.allDayHeaderHeight = $3H * ($0e.allDayEventHeight() + 2) + 2;
        };
        this.$7n = function(a, b) {
            if (!a || !b || !a.start || !b.start) {
                return 0;
            };
            var $3I = a.start().ticks - b.start().ticks;
            if ($3I !== 0) {
                return $3I;
            };
            var $3J = b.end().ticks - a.end().ticks;
            return $3J;
        };
        this.$7o = function(a, b) {
            if (!a || !b) {
                return 0;
            };
            if (!a.data || !b.data || !a.data.sort || !b.data.sort || a.data.sort.length === 0 || b.data.sort.length === 0) {
                return $c.$7n(a, b);
            };
            var $u = 0;
            var i = 0;
            while ($u === 0 && typeof a.data.sort[i] !== "undefined" && typeof b.data.sort[i] !== "undefined") {
                if (a.data.sort[i] === b.data.sort[i]) {
                    $u = 0;
                } else if (typeof a.data.sort[i] === "number" && typeof b.data.sort[i] === "number") {
                    $u = a.data.sort[i] - b.data.sort[i];
                } else {
                    $u = $c.$7p(a.data.sort[i], b.data.sort[i], $c.sortDirections[i]);
                };
                i++;
            };
            return $u;
        };
        this.$7p = function(a, b, $3K) {
            var $3L = ($3K !== "desc");
            var $3M = $3L ? -1 : 1;
            var $3N = -$3M;
            if (a === null && b === null) {
                return 0;
            };
            if (b === null) {
                return $3N;
            };
            if (a === null) {
                return $3M;
            };
            var ar = [];
            ar[0] = a;
            ar[1] = b;
            ar.sort();
            return a === ar[0] ? $3M: $3N;
        };
        this.$7q = function(e) {
            for (var i = 0; i < $c.elements.events.length; i++) {
                var $d = $c.elements.events[i];
                if ($d.event === e || $d.event.data === e.data) {
                    return $d;
                }
            };
            return null;
        };
        this.events.find = function(id) {
            if (!$c.events.list || typeof $c.events.list.length === 'undefined') {
                return null;
            };
            var $30 = $c.events.list.length;
            for (var i = 0; i < $30; i++) {
                if ($c.events.list[i].id === id) {
                    return new DayPilot.Event($c.events.list[i], $c);
                }
            };
            return null;
        };
        this.events.findRecurrent = function($3O, $0a) {
            if (!$c.events.list || typeof $c.events.list.length === 'undefined') {
                return null;
            };
            var $30 = $c.events.list.length;
            for (var i = 0; i < $30; i++) {
                if ($c.events.list[i].recurrentMasterId === $3O && $c.events.list[i].start.getTime() === $0a.getTime()) {
                    return new DayPilot.Event($c.events.list[i], $c);
                }
            };
            return null;
        };
        this.events.all = function() {
            var $18 = [];
            for (var i = 0; i < $c.events.list.length; i++) {
                var e = new DayPilot.Event($c.events.list[i], $c);
                $18.push(e);
            };
            return DayPilot.list($18);
        };
        this.events.edit = function(e) {
            function startEditing() {
                var $d = $c.$7q(e);
                if (!$d) {
                    return;
                };
                $c.$5u($d);
            };
            startEditing();
        };
        this.events.update = function(e, $h) {
            var $0d = {};
            $0d.oldEvent = new DayPilot.Event(e.copy(), $c);
            $0d.newEvent = new DayPilot.Event(e.temp(), $c);
            var $g = new DayPilot.Action($c, "EventUpdate", $0d, $h);
            e.commit();
            if ($c.$4u) {
                $c.update();
            };
            $c.$79.notify();
            return $g;
        };
        this.events.remove = function(e, $h) {
            var $0d = {};
            $0d.e = new DayPilot.Event(e.data, $c);
            var $g = new DayPilot.Action($c, "EventRemove", $0d, $h);
            var $2g = DayPilot.indexOf($c.events.list, e.data);
            $c.events.list.splice($2g, 1);
            if ($c.$4u) {
                $c.update();
            };
            $c.$79.notify();
            return $g;
        };
        this.events.add = function(e, $h) {
            e.calendar = $c;
            if (!$c.events.list) {
                $c.events.list = [];
            };
            $c.events.list.push(e.data);
            var $0d = {};
            $0d.e = e;
            var $g = new DayPilot.Action($c, "EventAdd", $0d, $h);
            if ($c.$4u) {
                $c.update();
            };
            $c.$79.notify();
            return $g;
        };
        this.events.filter = function($n) {
            $c.events.$7m = $n;
            $c.$7r();
        };
        this.events.load = function($3P, $3Q, $3R) {
            var $3S = function($n) {
                var $3T = {};
                $3T.exception = $n.exception;
                $3T.request = $n.request;
                if (typeof $3R === 'function') {
                    $3R($3T);
                }
            };
            var $3U = function($n) {
                var r = $n.request;
                var $h;
                try {
                    $h = DayPilot.Util.parseJSON(r.responseText);
                } catch(e) {
                    var $3V = {};
                    $3V.exception = e;
                    $3S($3V);
                    return;
                };
                if (DayPilot.isArray($h)) {
                    var $3W = {};
                    $3W.preventDefault = function() {
                        this.preventDefault.value = true;
                    };
                    $3W.data = $h;
                    if (typeof $3Q === "function") {
                        $3Q($3W);
                    };
                    if ($3W.preventDefault.value) {
                        return;
                    };
                    $c.events.list = $h;
                    if ($c.$4u) {
                        $c.update();
                    }
                }
            };
            DayPilot.ajax({
                "method": "POST",
                "data": {
                    "start": $c.visibleStart().toString(),
                    "end": $c.visibleEnd().toString()
                },
                "url": $3P,
                "success": $3U,
                "error": $3S
            });
        };
        this.queue = {};
        this.queue.list = [];
        this.queue.list.ignoreToJSON = true;
        this.queue.add = function($g) {
            if (!$g) {
                return;
            };
            if ($g.isAction) {
                $c.queue.list.push($g);
            } else {
                throw "DayPilot.Action object required for queue.add()";
            }
        };
        this.queue.notify = function($h) {
            var $0d = {};
            $0d.actions = $c.queue.list;
            $c.$4A('Notify', $0d, $h, "Notify");
            $c.queue.list = [];
        };
        this.queue.clear = function() {
            $c.queue.list = [];
        };
        this.queue.pop = function() {
            return $c.queue.list.pop();
        };
        this.$7r = function($n) {
            if (!this.$4u || !this.$5g) {
                return;
            };
            var $n = $n || {};
            var $3X = !$n.eventsOnly;
            if (!$c.cssOnly) {
                $c.cssOnly = true;
                DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");
            };
            if (!this.$4B()) {
                $c.cellProperties = {};
            };
            if ($3X) {
                $c.$6q.clearCache();
                $c.$4H();
                this.$7s();
                this.$4V();
                this.$4X();
                $c.$4Z();
                $c.$50();
                $c.$4Y();
                $c.$51();
                $c.$52();
                $c.$4x();
                $c.$53();
                $c.$5U();
                $c.$54();
                $c.$55();
                $c.$56();
                $c.$57();
                this.$5a();
                this.$5b();
                this.$58();
                $c.$5c();
            } else {
                $c.$4H();
                $c.$4X();
                $c.$4Y();
                $c.$5a();
                $c.$5b();
                $c.$5c();
            };
            if (this.visible) {
                this.show();
            } else {
                this.hide();
            }
        };
        this.update = function() {
            this.$7r();
            if (typeof $c.onAfterRender === 'function') {
                var $n = {};
                $n.isUpdate = true;
                $n.data = null;
                $c.onAfterRender($n);
            }
        };
        this.show = function() {
            $c.visible = true;
            $c.nav.top.style.display = '';
            $c.$4K();
            $c.$56();
            $c.$5Y();
        };
        this.hide = function() {
            $c.visible = false;
            $c.nav.top.style.display = 'none';
        };
        this.$79 = {};
        this.$79.scope = null;
        this.$79.notify = function() {
            if ($c.$79.scope) {
                $c.$79.scope["$apply"]();
            }
        };
        this.debug = new DayPilot.Debug(this);
        this.$7l = function($0v, $09) {
            if (!$09) $09 = this.startDate;
            var $3C = $09.getTime();
            var $3r = $0v.getTime();
            var $1L = this.$4r.pixels[$3r + "_" + $3C];
            if ($1L) {
                return $1L;
            };
            $3C = $09.addHours(this.$5n(true)).getTime();
            var $3Y = this.cellDuration * 60 * 1000;
            var $3Z = $3r - $3C;
            var $40 = $3Z % $3Y;
            var $41 = $3Z - $40;
            var $42 = $41 + $3Y;
            if ($40 === 0) {
                $42 = $41;
            };
            var $u = {};
            $u.cut = false;
            $u.top = this.$7t($3Z);
            $u.boxTop = this.$7t($41);
            $u.boxBottom = this.$7t($42);
            this.$4r.pixels[$3r + "_" + $3C] = $u;
            return $u;
        };
        this.$7t = function($3r) {
            return Math.floor((this.cellHeight * $3r) / (1000 * 60 * this.cellDuration));
        };
        this.$7s = function() {
            this.startDate = new DayPilot.Date(this.startDate).getDatePart();
            this.$7u = $0e.allDayEventHeight() + 4;
        };
        this.$4Y = function() {
            var $1w = this.$5o();
            var $2c = this.$6y();
            if (this.nav.corner) {
                this.nav.corner.style.height = $1w + "px";
            };
            if (this.nav.cornerRight) {
                this.nav.cornerRight.style.height = $1w + "px";
            };
            if (this.nav.mid) {
                this.nav.mid.style.height = $1w + "px";
            };
            if (this.showAllDayEvents && this.nav.header) {
                var $25 = this.nav.header.rows[this.nav.header.rows.length - 1];
                for (var i = 0; i < $25.cells.length; i++) {
                    var $q = $25.cells[i];
                    $q.firstChild.style.height = $0e.allDayHeaderHeight() + "px";
                }
            };
            if (this.nav.upperRight) {
                this.nav.upperRight.style.height = $1w + "px";
            };
            this.nav.scroll.style.top = $1w + "px";
            this.nav.top.style.height = $2c + "px";
        };
        this.$55 = function() {
            var sh = this.$6z();
            if (this.nav.scroll && sh > 0) {
                this.nav.scroll.style.height = sh + "px";
                this.$61 = $c.nav.scroll.clientHeight;
                if (this.nav.bottomLeft) {
                    this.nav.bottomLeft.style.height = sh + "px";
                };
                if (this.nav.bottomRight) {
                    this.nav.bottomRight.style.height = sh + "px";
                }
            };
            if (this.heightSpec === "Parent100Pct") {
                this.nav.top.style.height = "100%";
            } else {
                this.nav.top.style.height = this.$6y() + "px";
            }
        };
        this.setHeight = function($1K) {
            if (this.heightSpec !== "Parent100Pct") {
                this.heightSpec = "Fixed";
            };
            if (this.cssOnly) {
                this.height = $1K - (this.$5o());
            } else {
                this.height = $1K - (this.$5o() + 3);
            };
            this.$55();
        };
        this.$7v = function($43) {
            var $d = document.createElement("div");
            $d.style.position = "absolute";
            $d.style.top = "-2000px";
            $d.style.left = "-2000px";
            $d.className = this.$5h($43);
            document.body.appendChild($d);
            var $J = $d.offsetHeight;
            var $11 = $d.offsetWidth;
            document.body.removeChild($d);
            var $u = {};
            $u.height = $J;
            $u.width = $11;
            return $u;
        };
        this.$6q = {};
        var $0e = this.$6q;
        $0e.locale = function() {
            return DayPilot.Locale.find($c.locale);
        };
        $0e.weekStarts = function() {
            if (typeof $c.weekStarts === 'number') {
                return $c.weekStarts;
            } else {
                return $0e.locale().weekStarts;
            }
        };
        $0e.timeFormat = function() {
            if ($c.timeFormat !== 'Auto') {
                return $c.timeFormat;
            };
            return this.locale().timeFormat;
        };
        $0e.useBox = function($44) {
            if ($c.useEventBoxes === 'Always') {
                return true;
            };
            if ($c.useEventBoxes === 'Never') {
                return false;
            };
            return $44 < $c.cellDuration * 60 * 1000;
        };
        $0e.notifyType = function() {
            var $l;
            if ($c.notifyCommit === 'Immediate') {
                $l = "Notify";
            } else if ($c.notifyCommit === 'Queue') {
                $l = "Queue";
            } else {
                throw "Invalid notifyCommit value: " + $c.notifyCommit;
            };
            return $l;
        };
        $0e.clearCache = function() {
            delete $c.$4r.allDayEventHeight;
            delete $c.$4r.allDayHeaderHeight;
            delete $c.$4r.headerHeight;
        };
        $0e.allDayEventHeight = function() {
            if ($c.$4r.allDayEventHeight) {
                return $c.$4r.allDayEventHeight;
            };
            var $J = $c.$7v("_alldayevent_height").height;
            if (!$J) {
                $J = $c.allDayEventHeight;
            };
            $c.$4r.allDayEventHeight = $J;
            return $J;
        };
        $0e.allDayHeaderHeight = function() {
            if ($c.$4r.allDayHeaderHeight) {
                return $c.$4r.allDayHeaderHeight;
            };
            var $J = $c.$7u;
            $c.$4r.allDayHeaderHeight = $J;
            return $J;
        };
        $0e.headerHeight = function() {
            if ($c.$4r.headerHeight) {
                return $c.$4r.headerHeight;
            };
            var $J = $c.$7v("_header_height").height;
            if (!$J) {
                $J = $c.headerHeight;
            };
            $c.$4r.headerHeight = $J;
            return $J;
        };
        this.$7w = function() {
            if (this.backendUrl) {
                return (typeof $c.events.list === 'undefined') || (!$c.events.list);
            } else {
                return false;
            }
        };
        this.$7x = function() {
            if (this.id && this.id.tagName) {
                this.nav.top = this.id;
            } else if (typeof this.id === "string") {
                this.nav.top = document.getElementById(this.id);
                if (!this.nav.top) {
                    throw "DayPilot.Calendar: The placeholder element not found: '" + id + "'.";
                }
            } else {
                throw "DayPilot.Calendar() constructor requires the target element or its ID as a parameter";
            }
        };
        this.$7y = function() {
            this.$7x();
            this.$7s();
            this.$4V();
            this.$6A();
            this.$4Z();
            this.$50();
            this.$53();
            this.$56();
            this.$6U();
            this.$7e();
            this.$4L();
            this.$57();
            DayPilotCalendar.register(this);
            this.$4K();
            this.$58();
            this.$7b();
            this.$5d();
            this.$4A('Init');
        };
        this.init = function() {
            this.$7x();
            if (this.nav.top.dp) {
                return;
            };
            var $45 = this.$7w();
            if (!$c.cssOnly) {
                $c.cssOnly = true;
                DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");
            };
            if ($45) {
                this.$7y();
                this.$4u = true;
                return;
            };
            this.$7s();
            this.$4V();
            this.$4W();
            if (!this.events.list) {
                this.events.list = [];
            };
            this.$4X();
            this.$6A();
            this.$4Z();
            this.$50();
            this.$53();
            this.$59();
            this.$57();
            this.$56();
            this.$6U();
            this.$7e();
            this.$4L();
            DayPilotCalendar.register(this);
            this.$4Y();
            this.$5a();
            this.$5b();
            this.$4K();
            if (this.messageHTML) {
                this.message(this.messageHTML);
            };
            this.$58();
            this.$4T(null, false);
            this.$7b();
            this.$5d();
            this.$4u = true;
            this.$7z();
        };
        this.$7A = null;
        this.$7B = function($a) {
            var $46 = {
                "events": {
                    "preInit": function() {
                        var $15 = this.data;
                        if (!$15) {
                            return;
                        };
                        if (DayPilot.isArray($15.list)) {
                            $c.events.list = $15.list;
                        } else {
                            $c.events.list = $15;
                        }
                    }
                },
                "scrollToHour": {
                    "postInit": function() {
                        if (typeof this.data !== 'undefined') {
                            $c.scrollToHour(this.data);
                        }
                    }
                }
            };
            this.$7A = $46;
            for (var name in $a) {
                if ($46[name]) {
                    var $1t = $46[name];
                    $1t.data = $a[name];
                    if ($1t.preInit) {
                        $1t.preInit();
                    }
                } else {
                    $c[name] = $a[name];
                }
            }
        };
        this.$7z = function() {
            var $46 = this.$7A;
            for (var name in $46) {
                var $1t = $46[name];
                if ($1t.postInit) {
                    $1t.postInit();
                }
            }
        };
        this.internal = {};
        this.internal.initialized = function() {
            return $c.$4u;
        };
        this.internal.invokeEvent = this.$5C;
        this.internal.eventMenuClick = this.$5L;
        this.internal.timeRangeMenuClick = this.$5M;
        this.internal.bubbleCallBack = this.$5J;
        this.internal.findEventDiv = this.$7q;
        this.internal.eventDeleteDispatch = this.$5B;
        this.internal.touch = this.$6v;
        this.Init = this.init;
        this.$7B($a);
    };
    var DayPilotCalendar = {};
    DayPilotCalendar.topSelectedCell = null;
    DayPilotCalendar.bottomSelectedCell = null;
    DayPilotCalendar.selecting = false;
    DayPilotCalendar.column = null;
    DayPilotCalendar.firstSelected = null;
    DayPilotCalendar.firstMousePos = null;
    DayPilotCalendar.originalMouse = null;
    DayPilotCalendar.originalHeight = null;
    DayPilotCalendar.originalTop = null;
    DayPilotCalendar.globalHandlers = false;
    DayPilotCalendar.editing = false;
    DayPilotCalendar.originalText = null;
    DayPilotCalendar.register = function($c) {
        if (!DayPilotCalendar.registered) {
            DayPilotCalendar.registered = [];
        };
        var r = DayPilotCalendar.registered;
        for (var i = 0; i < r.length; i++) {
            if (r[i] === $c) {
                return;
            }
        };
        r.push($c);
    };
    DayPilotCalendar.unregister = function($c) {
        var a = DayPilotCalendar.registered;
        if (a) {
            var i = DayPilot.indexOf(a, $c);
            if (i !== -1) {
                a.splice(i, 1);
            };
            if (a.length === 0) {
                a = null;
            }
        };
        if (!a) {
            DayPilot.ue(document, 'mousemove', DayPilotCalendar.gMouseMove);
            DayPilot.ue(document, 'mouseup', DayPilotCalendar.gMouseUp);
            DayPilot.ue(document, 'touchmove', DayPilotCalendar.gTouchMove);
            DayPilot.ue(document, 'touchend', DayPilotCalendar.gTouchEnd);
            DayPilotCalendar.globalHandlers = false;
        }
    };
    DayPilotCalendar.getCellsAbove = function($f) {
        var $s = [];
        var c = DayPilotCalendar.getColumn($f);
        var tr = $f.parentNode;
        var $47 = null;
        while (tr && $47 !== DayPilotCalendar.firstSelected) {
            $47 = tr.getElementsByTagName("td")[c];
            $s.push($47);
            tr = tr.previousSibling;
            while (tr && tr.tagName !== "TR") {
                tr = tr.previousSibling;
            }
        };
        return $s;
    };
    DayPilotCalendar.getCellsBelow = function($f) {
        var $s = [];
        var c = DayPilotCalendar.getColumn($f);
        var tr = $f.parentNode;
        var $47 = null;
        while (tr && $47 !== DayPilotCalendar.firstSelected) {
            $47 = tr.getElementsByTagName("td")[c];
            $s.push($47);
            tr = tr.nextSibling;
            while (tr && tr.tagName !== "TR") {
                tr = tr.nextSibling;
            }
        };
        return $s;
    };
    DayPilotCalendar.getColumn = function($f) {
        var i = 0;
        while ($f.previousSibling) {
            $f = $f.previousSibling;
            if ($f.tagName === "TD") {
                i++;
            }
        };
        return i;
    };
    DayPilotCalendar.getShadowColumn = function($E) {
        if (!$E) {
            return null;
        };
        var $48 = $E.parentNode;
        while ($48 && $48.tagName !== "TD") {
            $48 = $48.parentNode;
        };
        return $48;
    };
    DayPilotCalendar.gTouchMove = function(ev) {
        if (DayPilot.Util.isMouseEvent(ev)) {
            return;
        };
        if (DayPilotCalendar.drag) {
            ev.preventDefault();
            var x = ev.touches ? ev.touches[0].pageX: ev.pageX;
            var y = ev.touches ? ev.touches[0].pageY: ev.pageY;
            var $0L = {};
            $0L.x = x;
            $0L.y = y;
            var $c = (function() {
                var $49 = ev.touches ? ev.touches[0].clientX: ev.clientX;
                var $4a = ev.touches ? ev.touches[0].clientY: ev.clientY;
                var el = document.elementFromPoint($49, $4a);
                while (el && el.parentNode) {
                    el = el.parentNode;
                    if (el.daypilotMainD) {
                        return el.calendar;
                    }
                };
                return false;
            })();
            if ($c) {
                if (DayPilotCalendar.gShadow) {
                    document.body.removeChild(DayPilotCalendar.gShadow);
                };
                DayPilotCalendar.gShadow = null;
                $c.coords = $c.$6v.relativeCoords(ev);
                if (!DayPilotCalendar.movingShadow && $c.coords) {
                    var $L = $c.$5f(DayPilotCalendar.drag, false, DayPilotCalendar.drag.shadowType);
                    if ($L) {
                        DayPilotCalendar.movingShadow = $L;
                        var $0K = DayPilot.Date.today();
                        var ev = {
                            'value': DayPilotCalendar.drag.id,
                            'start': $0K,
                            'end': $0K.addSeconds(DayPilotCalendar.drag.duration),
                            'text': DayPilotCalendar.drag.text
                        };
                        var event = new DayPilot.Event(ev, $c);
                        event.external = true;
                        DayPilot.Global.moving = {};
                        DayPilot.Global.moving.event = event;
                        DayPilot.Global.moving.helper = {};
                    }
                };
                if (DayPilot.Global.moving) {
                    $c.$6v.updateMoving();
                }
            } else {
                DayPilot.de(DayPilotCalendar.movingShadow);
                DayPilot.Global.moving = null;
                DayPilotCalendar.movingShadow = null;
                if (!DayPilotCalendar.gShadow) {
                    DayPilotCalendar.gShadow = DayPilotCalendar.createGShadow(DayPilotCalendar.drag.shadowType);
                };
                var $L = DayPilotCalendar.gShadow;
                $L.style.left = $0L.x + 'px';
                $L.style.top = $0L.y + 'px';
            }
        }
    };
    DayPilotCalendar.gTouchEnd = function(ev) {
        if (DayPilot.Util.isMouseEvent(ev)) {
            return;
        };
        DayPilotCalendar.gMouseUp(ev);
    };
    DayPilotCalendar.gMouseMove = function(ev) {
        if (typeof(DayPilotCalendar) === 'undefined') {
            return;
        };
        if (ev.insideMainD) {
            return;
        } else if (ev.srcElement) {
            if (ev.srcElement.inside) {
                return;
            }
        };
        var $0L = DayPilot.mc(ev);
        if (DayPilotCalendar.drag) {
            document.body.style.cursor = 'move';
            if (!DayPilotCalendar.gShadow) {
                DayPilotCalendar.gShadow = DayPilotCalendar.createGShadow(DayPilotCalendar.drag.shadowType);
            };
            var $L = DayPilotCalendar.gShadow;
            $L.style.left = $0L.x + 'px';
            $L.style.top = $0L.y + 'px';
            DayPilot.Global.moving = null;
            DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);
            DayPilotCalendar.movingShadow = null;
        };
        for (var i = 0; i < DayPilotCalendar.registered.length; i++) {
            if (DayPilotCalendar.registered[i].$4N) {
                DayPilotCalendar.registered[i].$4N();
            }
        }
    };
    DayPilotCalendar.gUnload = function(ev) {
        if (!DayPilotCalendar.registered) {
            return;
        };
        var r = DayPilotCalendar.registered;
        for (var i = 0; i < r.length; i++) {
            var c = r[i];
            DayPilotCalendar.unregister(c);
        }
    };
    DayPilotCalendar.gMouseUp = function(e) {
        var e = e || window.event;
        if (DayPilot.Global.resizing) {
            if (!DayPilotCalendar.resizingShadow) {
                DayPilot.Global.resizing.style.cursor = 'default';
                DayPilot.Global.resizing.event.calendar.nav.top.style.cursor = 'auto';
                DayPilot.Global.resizing = null;
                return;
            };
            var $3k = DayPilot.Global.resizing.event;
            var $0i = DayPilot.Global.resizing.dpBorder;
            var $J = DayPilotCalendar.resizingShadow.clientHeight;
            var top = DayPilotCalendar.resizingShadow.offsetTop;
            DayPilotCalendar.deleteShadow(DayPilotCalendar.resizingShadow);
            DayPilotCalendar.resizingShadow = null;
            DayPilot.Global.resizing.style.cursor = 'default';
            $3k.calendar.nav.top.style.cursor = 'auto';
            DayPilot.Global.resizing.onclick = null;
            DayPilot.Global.resizing = null;
            if ($3k.calendar.overlap) {
                return;
            };
            $3k.calendar.$5E($3k, $J, top, $0i);
        } else if (DayPilot.Global.moving) {
            if (!DayPilot.Global.moving.helper) {
                DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);
                DayPilot.Global.moving = null;
                DayPilotCalendar.movingShadow = null;
                return;
            };
            if (!DayPilotCalendar.movingShadow) {
                DayPilot.Global.moving.event.calendar.nav.top.style.cursor = 'auto';
                DayPilot.Global.moving = null;
                return;
            };
            var $4b = DayPilot.Global.moving.helper.oldColumn;
            var top = DayPilotCalendar.movingShadow.offsetTop;
            DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);
            var $3k = DayPilot.Global.moving.event;
            var $0q = DayPilotCalendar.movingShadow.column;
            var $0r = DayPilotCalendar.drag;
            DayPilot.Global.moving.event.calendar.nav.top.style.cursor = 'auto';
            DayPilot.Global.moving = null;
            DayPilotCalendar.movingShadow = null;
            if ($0r) {
                if (!$3k.calendar.todo) {
                    $3k.calendar.todo = {};
                };
                $3k.calendar.todo.del = $0r.element;
            };
            if ($3k.calendar.overlap) {
                return;
            };
            var ev = e || window.event;
            $3k.calendar.$5G($3k, $0q, top, ev, $0r);
        };
        if (DayPilotCalendar.drag) {
            DayPilotCalendar.drag = null;
            document.body.style.cursor = '';
        };
        if (DayPilotCalendar.gShadow) {
            document.body.removeChild(DayPilotCalendar.gShadow);
            DayPilotCalendar.gShadow = null;
        };
        DayPilotCalendar.moveOffsetY = null;
    };
    DayPilotCalendar.dragStart = function(element, $K, id, $2j, $l) {
        DayPilot.us(element);
        var $0r = DayPilotCalendar.drag = {};
        $0r.element = element;
        $0r.duration = $K;
        $0r.text = $2j;
        $0r.id = id;
        $0r.shadowType = $l ? $l: 'Fill';
        return false;
    };
    DayPilot.Calendar.makeDraggable = function($a) {
        var element = $a.element;
        var $4c = $a.keepElement ? null: element;
        var $K = $a.duration || 1;
        if (navigator.msPointerEnabled) {
            element.style.msTouchAction = "none";
            element.style.touchAction = "none";
        };
        DayPilot.us(element);
        DayPilot.re(element, "mousedown",
            function(ev) {
                DayPilotCalendar.dragStart($4c, $K, $a.id, $a.text);
                var element = (ev.target || ev.srcElement);
                if (element.tagName) {
                    var $4d = element.tagName.toLowerCase();
                    if ($4d === "textarea" || $4d === "select" || $4d === "input") {
                        return false;
                    }
                };
                ev.preventDefault && ev.preventDefault();
                return false;
            });
        var $4e = function(ev) {
            if (DayPilot.Util.isMouseEvent(ev)) {
                return;
            };
            var $3j = 0;
            window.setTimeout(function() {
                    var $0r = DayPilotCalendar.drag = {};
                    $0r.element = $4c;
                    $0r.id = $a.id;
                    $0r.text = $a.text || "";
                    $0r.duration = $K;
                    $0r.shadowType = "Fill";
                    DayPilotCalendar.gTouchMove(ev);
                    ev.preventDefault();
                },
                $3j);
            ev.preventDefault();
        };
        DayPilot.re(element, DayPilot.touch.start, $4e);
    };
    DayPilotCalendar.deleteShadow = function($L) {
        if (!$L) {
            return;
        };
        if (!$L.parentNode) {
            return;
        };
        $L.parentNode.removeChild($L);
    };
    DayPilotCalendar.createGShadow = function($l) {
        var $L = document.createElement('div');
        $L.setAttribute('unselectable', 'on');
        $L.style.position = 'absolute';
        $L.style.width = '100px';
        $L.style.height = '20px';
        $L.style.border = '2px dotted #666666';
        $L.style.zIndex = 101;
        $L.style.pointerEvents = "none";
        if ($l === 'Fill') {
            $L.style.backgroundColor = "#aaaaaa";
            $L.style.opacity = 0.5;
            $L.style.filter = "alpha(opacity=50)";
            $L.style.border = '2px solid #aaaaaa';
        };
        document.body.appendChild($L);
        return $L;
    };
    DayPilotCalendar.moveShadow = function($q) {
        var $L = DayPilotCalendar.movingShadow;
        if ($L.parentNode) {
            $L.parentNode.removeChild($L);
        };
        $q.firstChild.appendChild($L);
        $L.style.left = '0px';
        $L.style.width = (DayPilotCalendar.movingShadow.parentNode.offsetWidth) + 'px';
    };
    DayPilotCalendar.Column = function($4f, name, $0v) {
        this.value = $4f;
        this.id = $4f;
        this.name = name;
        this.date = new DayPilot.Date($0v);
    };
    DayPilot.CalendarVisible.dragStart = DayPilotCalendar.dragStart;
    DayPilot.CalendarVisible.Calendar = DayPilotCalendar.Calendar;
    if (typeof jQuery !== 'undefined') { (function($) {
        $.fn.daypilotCalendar = function($a) {
            var $0J = null;
            var j = this.each(function() {
                if (this.daypilot) {
                    return;
                };
                var $4g = new DayPilot.Calendar(this.id, $a);
                $4g.init();
                this.daypilot = $4g;
                if (!$0J) {
                    $0J = $4g;
                }
            });
            if (this.length === 1) {
                return $0J;
            } else {
                return j;
            }
        };
    })(jQuery);
    }; (function registerAngularModule() {
        var $4h = DayPilot.am();
        if (!$4h) {
            return;
        };
        $4h.directive("daypilotCalendar", ['$parse',
            function($4i) {
                return {
                    "restrict": "E",
                    "template": "<div id='{{id}};'></div>",
                    "compile": function compile(element, $4j) {
                        element.replaceWith(this["template"].replace("{{id}};", $4j["id"]));
                        return function link($4k, element, $4j) {
                            var $c = new DayPilot.Calendar(element[0]);
                            $c.$79.scope = $4k;
                            $c.init();
                            var $4l = $4j["id"];
                            if ($4l) {
                                $4k[$4l] = $c;
                            };
                            var $4m = $4j["publishAs"];
                            if ($4m) {
                                var getter = $4i($4m);
                                var setter = getter.assign;
                                setter($4k, $c);
                            };
                            for (var name in $4j) {
                                if (name.indexOf("on") === 0) {
                                    var $4n = DayPilot.Util.shouldApply(name);
                                    if ($4n) { (function(name) {
                                        $c[name] = function($n) {
                                            var f = $4i($4j[name]);
                                            $4k["$apply"](function() {
                                                f($4k, {
                                                    "args": $n
                                                });
                                            });
                                        };
                                    })(name);
                                    } else { (function(name) {
                                        $c[name] = function($n) {
                                            var f = $4i($4j[name]);
                                            f($4k, {
                                                "args": $n
                                            });
                                        };
                                    })(name);
                                    }
                                }
                            };
                            var $4o = $4k["$watch"];
                            var $2Y = $4j["config"] || $4j["daypilotConfig"];
                            var $15 = $4j["events"] || $4j["daypilotEvents"];
                            $4o.call($4k, $2Y,
                                function($4f, $4p) {
                                    for (var name in $4f) {
                                        $c[name] = $4f[name];
                                    };
                                    $c.update();
                                },
                                true);
                            $4o.call($4k, $15,
                                function($4f) {
                                    $c.events.list = $4f;
                                    $c.$7r({
                                        "eventsOnly": true
                                    });
                                },
                                true);
                        };
                    }
                };
            }]);
    })();
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
}; (function() {
    if (typeof DayPilot.DatePicker !== 'undefined') {
        return;
    };
    DayPilot.DatePicker = function($a) {
        this.v = '2607';
        var $b = "navigator_" + new Date().getTime();
        var $c = this;
        this.onShow = null;
        this.onTimeRangeSelect = null;
        this.onTimeRangeSelected = null;
        this.prepare = function() {
            this.locale = "en-us";
            this.target = null;
            this.resetTarget = true;
            this.pattern = this.$m.locale().datePattern;
            this.theme = null;
            this.patterns = [];
            if ($a) {
                for (var name in $a) {
                    this[name] = $a[name];
                }
            };
            this.init();
        };
        this.init = function() {
            this.date = new DayPilot.Date(this.date);
            var $d = this.$n();
            if (this.resetTarget && !$d) {
                this.$o(this.date);
            };
            DayPilot.re(document, "mousedown",
                function() {
                    $c.close();
                });
        };
        this.close = function() {
            if (!this.$p) {
                return;
            };
            if (this.navigator) {
                this.navigator.dispose();
            };
            this.div.innerHTML = '';
            if (this.div && this.div.parentNode === document.body) {
                document.body.removeChild(this.div);
            }
        };
        this.$n = function() {
            var element = this.$q();
            if (!element) {
                return this.date;
            };
            var $d = null;
            if (element.tagName === "INPUT") {
                $d = element.value;
            } else {
                $d = element.innerText;
            };
            if (!$d) {
                return null;
            };
            var $e = DayPilot.Date.parse($d, $c.pattern);
            for (var i = 0; i < $c.patterns.length; i++) {
                if ($e) {
                    return $e;
                };
                $e = DayPilot.Date.parse($d, $c.patterns[i]);
            };
            return $e;
        };
        this.$o = function($e) {
            var element = this.$q();
            if (!element) {
                return;
            };
            var $d = $e.toString($c.pattern, $c.locale);
            if (element.tagName === "INPUT") {
                element.value = $d;
            } else {
                element.innerHTML = $d;
            }
        };
        this.$m = {};
        this.$m.locale = function() {
            return DayPilot.Locale.find($c.locale);
        };
        this.$q = function() {
            var id = this.target;
            var element = (id && id.nodeType && id.nodeType === 1) ? id: document.getElementById(id);
            return element;
        };
        this.show = function() {
            var element = this.$q();
            var navigator = this.navigator;
            var navigator = new DayPilot.Navigator($b);
            navigator.api = 2;
            navigator.cssOnly = true;
            navigator.theme = $c.theme;
            navigator.weekStarts = "Auto";
            navigator.locale = $c.locale;
            navigator.onTimeRangeSelected = function($f) {
                $c.date = $f.start;
                var $g = $f.start.addTime(navigator.$r);
                var $d = $g.toString($c.pattern, $c.locale);
                var $f = {};
                $f.start = $g;
                $f.date = $g;
                $f.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onTimeRangeSelect === 'function') {
                    $c.onTimeRangeSelect($f);
                    if ($f.preventDefault.value) {
                        return;
                    }
                };
                $c.$o($d);
                $c.close();
                if (typeof $c.onTimeRangeSelected === 'function') {
                    $c.onTimeRangeSelected($f);
                }
            };
            this.navigator = navigator;
            var $h = DayPilot.abs(element);
            var $i = element.offsetHeight;
            var $j = document.createElement("div");
            $j.style.position = "absolute";
            $j.style.left = $h.x + "px";
            $j.style.top = ($h.y + $i) + "px";
            var $k = document.createElement("div");
            $k.id = $b;
            $j.appendChild($k);
            DayPilot.re($j, "mousedown",
                function(ev) {
                    var ev = ev || window.event;
                    ev.cancelBubble = true;
                    ev.stopPropagation && ev.stopPropagation();
                });
            document.body.appendChild($j);
            this.div = $j;
            var $l = $c.$n() || new DayPilot.Date().getDatePart();
            navigator.startDate = $l;
            navigator.$r = $l.getTimePart();
            navigator.selectionStart = $l.getDatePart();
            navigator.init();
            this.$p = true;
            if (this.onShow) {
                this.onShow();
            }
        };
        this.prepare();
    };
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
}; (function() {
    if (typeof DayPilot.Gantt !== 'undefined') {
        return;
    };
    var $a = function() {};
    DayPilot.Gantt = function(id, $b) {
        this.v = '2607';
        var $c = this;
        this.id = id;
        this.isGantt = true;
        var $d = new DayPilot.Scheduler(id);
        this.scheduler = $d;
        $d.viewType = "Resources";
        $d.onCallBackHeader = function($e) {
            $e.header.taskGroupMode = $c.taskGroupMode;
            $e.header.rowHeaderColumns = $c.columns;
            $e.header.clientState = $c.clientState;
        };
        $d.onGetNodeState = function($e) {
            var $f = function($g) {
                var $h = {};
                if ($g.tags) {
                    for (var name in $g.tags) {
                        $h[name] = "" + $g.tags[name];
                    }
                };
                return $h;
            };
            var $i = function($j) {
                var $g = $j.task;
                var $h = {};
                $h.start = $g.start;
                $h.end = $g.end;
                $h.id = $g.id;
                $h.complete = $g.complete;
                $h.text = $g.text;
                $h.type = $g.type;
                $h.expanded = $j.expanded;
                $h.loaded = $j.loaded;
                $h.tags = $f($g);
                $h.versions = $g.versions;
                $h.children = $d.internal.getNodeChildren($j.children);
                return $h;
            };
            $e.result = $i($e.row);
            $e.preventDefault();
        };
        $d.$0s = function($k) {};
        $d.onCallBackResult = function($e) {
            var $h = $e.result;
            $e.preventDefault();
            var $l = function() {
                if ($h.scrollToTaskId) {
                    $d.scrollToResource($h.scrollToTaskId);
                }
            };
            if ($h.updateType === "None") {
                $l();
                return;
            };
            var $m = function($n) {
                for (var i = 0; i < $n.length; i++) {
                    var name = $n[i];
                    if (typeof $h[name] !== "undefined") {
                        $c[name] = $h[name];
                    }
                }
            };
            $c.links.list = $h.links;
            $c.tasks.list = $h.tasks;
            $c.startDate = new DayPilot.Date($h.startDate);
            $m(['days', 'cellDuration', 'cellGroupBy', 'cellWidth', 'cellWidthSpec', 'cornerHtml', 'separators', 'rowMinHeight', 'rowMarginBottom', 'taskGroupMode', 'selectedRows']);
            $m(['cellProperties', 'cellConfig', 'timeHeader', 'timeHeaders', 'timeline', 'columns']);
            $o.translate();
            $o.$0t();
            $o.$0u();
            $d.update();
            $d.show();
            $l();
        };
        this.taskGroupMode = "Auto";
        this.autoRefreshCommand = "refresh";
        this.autoRefreshEnabled = false;
        this.autoRefreshInterval = 60;
        this.autoRefreshMaxCount = 20;
        this.autoScroll = "Drag";
        this.bubbleTask = null;
        this.bubbleCell = null;
        this.bubbleRow = null;
        this.cellDuration = 1440;
        this.cellGroupBy = "Month";
        this.cellWidth = 40;
        this.cellWidthSpec = "Fixed";
        this.completeBarVisible = true;
        this.completeBarHeight = 3;
        this.contextMenuTask = null;
        this.contextMenuRow = null;
        this.contextMenuLink = null;
        this.cornerHtml = '';
        this.crosshairColor = 'Gray';
        this.crosshairOpacity = 20;
        this.crosshairType = 'Header';
        this.doubleClickTimeout = 300;
        this.progressiveTaskRendering = 'Progressive';
        this.progressiveTaskRenderingMargin = 500;
        this.progressiveTaskRenderingCacheSweeping = false;
        this.progressiveTaskRenderingCacheSize = 200;
        this.floatingTasks = true;
        this.floatingTimeHeaders = true;
        this.headerHeight = 20;
        this.height = 300;
        this.heightSpec = "Max";
        this.hideUntilInit = false;
        this.linkBottomMargin = 10;
        this.linkPointSize = 10;
        this.loadingLabelVisible = true;
        this.loadingLabelText = "Loading...";
        this.locale = "en-us";
        this.messageBarPosition = "Top";
        this.messageHideAfter = 5000;
        this.numberFormat = "0.00";
        this.progressiveRowRendering = true;
        this.progressiveRowRenderingPreload = 25;
        this.rowHeaderScrolling = false;
        this.rowHeaderSplitterWidth = 3;
        this.rowHeaderHideIconEnabled = true;
        this.rowHeaderWidth = 80;
        this.rowHeaderWidthAutoFit = true;
        this.rowMarginBottom = 4;
        this.rowMinHeight = 0;
        this.scrollDelayTasks = 200;
        this.scrollDelayCells = 20;
        this.scrollDelayFloats = 0;
        this.scale = "Day";
        this.selectedRows = [];
        this.snapToGrid = true;
        this.syncTasks = true;
        this.syncLinks = true;
        this.tapAndHoldTimeout = 300;
        this.taskHeight = 24;
        this.taskResizeMargin = 5;
        this.taskMovingStartEndEnabled = false;
        this.taskMovingStartEndFormat = "MMMM d, yyyy";
        this.taskResizingStartEndEnabled = false;
        this.taskResizingStartEndFormat = "MMMM d, yyyy";
        this.theme = "gantt_default";
        this.treeAutoExpand = true;
        this.treeIndent = 20;
        this.treeImageMarginLeft = 5;
        this.treeImageMarginTop = 5;
        this.timeline = null;
        this.timeHeaders = [{
            "groupBy": "Month",
            "format": "MMMM yyyy"
        },
            {
                "groupBy": "Day",
                "format": "d"
            }];
        this.useEventBoxes = "Never";
        this.visible = true;
        this.taskVersionsEnabled = false;
        this.taskVersionHeight = 24;
        this.taskVersionMargin = 2;
        this.taskMoveHandling = "Update";
        this.taskClickHandling = "Enabled";
        this.taskResizeHandling = "Update";
        this.linkCreateHandling = "Update";
        this.taskRightClickHandling = "ContextMenu";
        this.taskDoubleClickHandling = "Disabled";
        this.rowCreateHandling = "Disabled";
        this.rowMoveHandling = "Update";
        this.rowClickHandling = "Disabled";
        this.rowDoubleClickHandling = "Disabled";
        this.rowEditHandling = "Update";
        this.rowSelectHandling = "Update";
        this.clientState = {};
        this.separators = [];
        this.members = {};
        this.members.obsolete = [];
        this.members.ignore = ["members", "scheduler", "internal", "cellProperties"];
        this.members.noCssOnly = [];
        this.links = {};
        this.links.list = [];
        this.links.add = function(link) {
            if (!link) {
                return;
            };
            var $p = link.isLink ? link.data: link;
            $c.links.list.push($p);
            if ($c.$0v) {
                $o.$0u();
                $d.update();
            };
            $c.$0w.notify();
        };
        this.links.remove = function(link) {
            if (!link) {
                return;
            };
            var $p;
            if (link.isLink) {
                $p = link.data;
            } else {
                $p = link;
            };
            var $q = DayPilot.indexOf($c.links.list, $p);
            if ($q === -1) {
                return;
            };
            $c.links.list.splice($q, 1);
            if ($c.$0v) {
                $o.$0u();
                $d.update();
            };
            $c.$0w.notify();
        };
        this.links.find = function(id) {
            if (!DayPilot.isArray($c.links.list)) {
                return null;
            };
            for (var i = 0; i < $c.links.list.length; i++) {
                var link = $c.links.list[i];
                if (link.id === id) {
                    return new DayPilot.Link(link, $c);
                }
            };
            return null;
        };
        this.links.findFromTo = function($r, to) {
            if (!DayPilot.isArray($c.links.list)) {
                return null;
            };
            for (var i = 0; i < $c.links.list.length; i++) {
                var link = $c.links.list[i];
                if (link.from === $r && link.to === to) {
                    return new DayPilot.Link(link, $c);
                }
            };
            return null;
        };
        this.$0x = {};
        var $s = this.$0x;
        $s.timeout = null;
        $s.update = function() {
            if (!$c.$0v) {
                return;
            };
            window.clearTimeout($s.timeout);
            $s.timeout = setTimeout(function() {
                    $o.$0t();
                    $d.update();
                },
                0);
        };
        this.tasks = {};
        this.tasks.list = [];
        this.tasks.add = function($g) {
            if (!$g) {
                return;
            };
            if ($g instanceof DayPilot.Event) {
                throw "DayPilot.Task object required. You have supplied DayPilot.Event.";
            };
            var $p = $g.isTask ? $g.data: $g;
            $c.tasks.list.push($p);
            $s.update();
            $c.$0w.notify();
        };
        this.tasks.find = function(id) {
            var $p = $t.findInCache(id);
            if (!$p) {
                return null;
            };
            return new DayPilot.Task($p, $c);
        };
        this.tasks.update = function($g) {
            if (!$g) {
                return;
            };
            if (!$g.isTask) {
                throw "DayPilot.Task object expected";
            };
            $g.commit();
            $s.update();
            $c.$0w.notify();
        };
        this.tasks.remove = function($g) {
            if (!$g) {
                return;
            };
            if (!$g.isTask) {
                throw "DayPilot.Task object expected";
            };
            var $u = $t.findParentArray($g.data);
            if (!$u) {
                return;
            };
            var $v = DayPilot.indexOf($u, $g.data);
            $u.splice($v, 1);
            $s.update();
            $c.$0w.notify();
        };
        this.visibleStart = function() {
            return $d.visibleStart();
        };
        this.visibleEnd = function() {
            return $d.visibleEnd();
        };
        this.onAfterRender = null;
        this.onAfterUpdate = null;
        this.onBeforeRowHeaderRender = null;
        this.onBeforeTaskRender = null;
        this.onBeforeTimeHeaderRender = null;
        this.onBeforeCellRender = null;
        this.onTaskClick = null;
        this.onTaskClicked = null;
        this.onTaskDoubleClick = null;
        this.onTaskDoubleClicked = null;
        this.onTaskRightClick = null;
        this.onTaskRightClicked = null;
        this.onRowCreate = null;
        this.onRowCreated = null;
        this.onRowMove = null;
        this.onRowMoved = null;
        this.onRowMoving = null;
        this.onRowClick = null;
        this.onRowClicked = null;
        this.onRowDoubleClick = null;
        this.onRowDoubleClicked = null;
        this.onRowEdit = null;
        this.onRowEdited = null;
        this.onRowSelect = null;
        this.onRowSelected = null;
        this.onTaskMove = null;
        this.onTaskMoved = null;
        this.onTaskMoving = null;
        this.onTaskResize = null;
        this.onTaskResized = null;
        this.onTaskResizing = null;
        this.onLinkCreate = null;
        this.onLinkCreated = null;
        this.$0y = function() {
            if (this.backendUrl) {
                return true;
            };
            if (typeof WebForm_DoCallback === 'function' && this.uniqueID) {
                return true;
            };
            return false;
        };
        this.$0z = function() {
            if (typeof $c.startDate === "string") {
                $c.startDate = new DayPilot.Date($c.startDate);
            };
            if ($c.startDate && $c.days) {
                return;
            };
            var $w = DayPilot.Date.today();
            var end = $w.addDays(1);
            var $x = null;
            var $y = null;
            for (var i = 0; i < $c.tasks.list.length; i++) {
                var e = $c.tasks.list[i];
                $w = new DayPilot.Date(e.start);
                end = new DayPilot.Date(e.end);
                if ($x === null || $w.getTime() < $x) {
                    $x = $w.getTime();
                };
                if ($y === null || end.getTime() > $y) {
                    $y = end.getTime();
                }
            };
            if ($x && $y) {
                $w = new DayPilot.Date($x).getDatePart();
                end = new DayPilot.Date($y).getDatePart().addDays(1);
                $d.startDate = $c.startDate || $w;
                $d.days = $c.days || DayPilot.DateUtil.daysDiff($w, end);
            } else {
                $d.startDate = $w;
                $d.days = 30;
            }
        };
        this.commandCallBack = function($z, $p) {
            $o.translate();
            $d.commandCallBack($z, $p);
        };
        this.message = function($A, $B, $C, $D) {
            $d.message($A, $B, $C, $D);
        };
        this.setHeight = function($E) {
            $d.setHeight($E);
        };
        this.$0A = function() {
            if (this.backendUrl) {
                return ! DayPilot.isArray($c.tasks.list) || $c.tasks.list.length == 0;
            } else {
                return false;
            }
        };
        this.init = function() {
            $o.translate();
            $o.$0t();
            $o.$0u();
            this.$0z();
            $d.init();
            this.$0v = true;
            this.$0B();
        };
        this.update = function() {
            $o.translate();
            $o.$0t();
            $o.$0u();
            $c.$0z();
            $d.update();
        };
        this.scrollTo = function($F) {
            $d.scrollTo($F);
        };
        this.scrollToTask = function(id) {
            $d.scrollToResource(id);
        };
        this.$0C = {};
        var $t = this.$0C;
        $t.cache = {};
        $t.clearCache = function() {
            $t.cache = {};
        };
        $t.addToCache = function($p, parent) {
            var $G = $p.id;
            if (!$G) {
                return;
            };
            var $H = {};
            $H.isTaskWrapper = true;
            $H.data = $p;
            $H.parent = parent;
            if ($t.cache[$G]) {
                throw "Duplicate task id detected";
            };
            $t.cache[$G] = $H;
        };
        $t.findInCache = function(id) {
            if (!id) {
                return null;
            };
            return $t.cache[id.toString()];
        };
        $t.getProperty = function($g, name) {
            if ($g.tags && $g.tags[name]) {
                return $g.tags[name];
            };
            return $g[name];
        };
        $t.findParentArray = function($I) {
            return $t.findInArray($c.tasks.list, $I);
        };
        $t.findInArray = function($J, $I) {
            if (DayPilot.indexOf($J, $I) !== -1) {
                return $J;
            };
            for (var i = 0; i < $J.length; i++) {
                var r = $J[i];
                if (r.children && r.children.length > 0) {
                    var parent = $t.findInArray(r.children, $I);
                    if (parent) {
                        return parent;
                    }
                }
            };
            return null;
        };
        this.$0D = {};
        var $o = this.$0D;
        var $K = function(p, $L) {
            if (typeof p !== "undefined") {
                return p;
            };
            return $L;
        };
        $o.translate = function() {
            $d.durationBarMode = "PercentComplete";
            $d.timeRangeSelectedHandling = "Disabled";
            $d.treeEnabled = true;
            $d.rowCreateHtml = "";
            $d.autoRefreshCommand = $c.autoRefreshCommand;
            $d.autoRefreshEnabled = $c.autoRefreshEnabled;
            $d.autoRefreshInterval = $c.autoRefreshInterval;
            $d.autoRefreshMaxCount = $c.autoRefreshMaxCount;
            $d.autoScroll = $c.autoScroll;
            $d.backendUrl = $c.backendUrl;
            $d.crosshairColor = $c.crosshairColor;
            $d.crosshairOpacity = $c.crosshairOpacity;
            $d.crosshairType = $c.crosshairType;
            $d.doubleClickTimeout = $c.doubleClickTimeout;
            $d.durationBarVisible = $c.completeBarVisible;
            $d.durationBarHeight = $c.completeBarHeight;
            $d.dynamicEventRendering = $c.progressiveTaskRendering ? "Progressive": "Disabled";
            $d.dynamicEventRenderingMargin = $c.progressiveTaskRenderingMargin;
            $d.dynamicEventRenderingCacheSweeping = $c.progressiveTaskRenderingCacheSweeping;
            $d.dynamicEventRenderingCacheSize = $c.progressiveTaskRenderingCacheSize;
            $d.startDate = new DayPilot.Date($c.startDate);
            $d.days = $c.days;
            $d.cellDuration = $c.cellDuration;
            $d.cellGroupBy = $c.cellGroupBy;
            $d.cellWidth = $c.cellWidth;
            $d.cellWidthSpec = $c.cellWidthSpec;
            $d.cornerHtml = $c.cornerHtml;
            $d.eventHeight = $c.taskHeight;
            $d.eventResizeMargin = $c.taskResizeMargin;
            $d.floatingEvents = $c.floatingTasks;
            $d.floatingTimeHeaders = $c.floatingTimeHeaders;
            $d.headerHeight = $c.headerHeight;
            $d.heightSpec = $c.heightSpec;
            $d.height = $c.height;
            $d.linkBottomMargin = $c.linkBottomMargin;
            $d.linkPointSize = $c.linkPointSize;
            $d.loadingLabelVisible = $c.loadingLabelVisible;
            $d.loadingLabelText = $c.loadingLabelText;
            $d.locale = $c.locale;
            $d.messageBarPosition = $c.messageBarPosition;
            $d.messageHideAfter = $c.messageHideAfter;
            $d.rowCreateHandling = $c.rowCreateHandling;
            $d.numberFormat = $c.numberFormat;
            $d.progressiveRowRendering = $c.progressiveRowRendering;
            $d.progressiveRowRenderingPreload = $c.progressiveRowRenderingPreload;
            $d.scale = $c.scale;
            $d.scrollDelayEvents = $c.scrollDelayTasks;
            $d.scrollDelayCells = $c.scrollDelayCells;
            $d.scrollDelayFloats = $c.scrollDelayFloats;
            $d.scrollX = $c.scrollX;
            $d.scrollY = $c.scrollY;
            if ($c.scrollToTaskId) {
                $d.scrollToResourceId = $c.scrollToTaskId;
            };
            $d.separators = $c.separators;
            $d.tapAndHoldTimeout = $c.tapAndHoldTimeout;
            $d.eventMovingStartEndEnabled = $c.taskMovingStartEndEnabled;
            $d.eventMovingStartEndFormat = $c.taskMovingStartEndFormat;
            $d.eventResizingStartEndEnabled = $c.taskResizingStartEndEnabled;
            $d.eventResizingStartEndFormat = $c.taskResizingStartEndFormat;
            $d.hideUntilInit = $c.hideUntilInit;
            $d.treeIndent = $c.treeIndent;
            $d.treeAutoExpand = $c.treeAutoExpand;
            $d.treeImageMarginLeft = $c.treeImageMarginLeft;
            $d.treeImageMarginTop = $c.treeImageMarginTop;
            $d.timeHeaders = $c.timeHeaders;
            $d.rowHeaderHideIconEnabled = $c.rowHeaderHideIconEnabled;
            $d.rowHeaderScrolling = $c.rowHeaderScrolling;
            $d.rowHeaderSplitterWidth = $c.rowHeaderSplitterWidth;
            $d.rowHeaderWidth = $c.rowHeaderWidth;
            $d.rowHeaderWidthAutoFit = $c.rowHeaderWidthAutoFit;
            $d.rowMarginBottom = $c.rowMarginBottom;
            $d.rowMinHeight = $c.rowMinHeight;
            $d.selectedRows = $c.selectedRows;
            $d.theme = $c.theme;
            $d.useEventBoxes = $c.useEventBoxes;
            $d.snapToGrid = $c.snapToGrid;
            $d.uniqueID = $c.uniqueID;
            $d.bubble = $c.bubbleTask;
            $d.cellBubble = $c.bubbleCell;
            $d.resourceBubble = $c.bubbleRow;
            $d.contextMenu = $c.contextMenuTask;
            $d.contextMenuResource = $c.contextMenuRow;
            $d.contextMenuLink = $c.contextMenuLink;
            $d.syncResourceTree = $c.syncTasks;
            $d.syncLinks = $c.syncLinks;
            $d.timeline = $c.timeline;
            $d.visible = $c.visible;
            $d.eventMoveHandling = $c.taskMoveHandling;
            $d.eventClickHandling = $c.taskClickHandling;
            $d.eventResizeHandling = $c.taskResizeHandling;
            $d.linkCreateHandling = $c.linkCreateHandling;
            $d.eventRightClickHandling = $c.taskRightClickHandling;
            $d.eventDoubleClickHandling = $c.taskDoubleClickHandling;
            $d.rowMoveHandling = $c.rowMoveHandling;
            $d.rowClickHandling = $c.rowClickHandling;
            $d.rowDoubleClickHandling = $c.rowDoubleClickHandling;
            $d.rowEditHandling = $c.rowEditHandling;
            $d.rowSelectHandling = $c.rowSelectHandling;
            $d.eventVersionsEnabled = $c.taskVersionsEnabled;
            $d.eventVersionHeight = $c.taskVersionHeight;
            $d.eventVersionMargin = $c.taskVersionMargin;
            if (DayPilot.isArray($c.columns)) {
                $d.rowHeaderColumns = [];
                for (var i = 0; i < $c.columns.length; i++) {
                    var c = $c.columns[i];
                    var $M = {};
                    DayPilot.Util.copyProps(c, $M, ['title', 'width']);
                    $d.rowHeaderColumns.push($M);
                }
            };
            if ($c.$0y()) {
                $d.timeHeader = $c.timeHeader;
                $d.cellProperties = $c.cellProperties;
                $d.cellConfig = $c.cellConfig;
            };
            $d.onRowCreate = function($e) {
                if (typeof $c.onRowCreate === "function") {
                    $c.onRowCreate($e);
                }
            };
            $d.onRowCreated = function($e) {
                if (typeof $c.onRowCreated === "function") {
                    $c.onRowCreated($e);
                }
            };
            $d.onAfterRender = function($e) {
                if (typeof $c.onAfterRender === "function") {
                    $c.onAfterRender($e);
                }
            };
            $d.onAfterUpdate = function($e) {
                if (typeof $c.onAfterUpdate === "function") {
                    $c.onAfterUpdate($e);
                }
            };
            $d.onRowHeaderResized = function($e) {
                $c.rowHeaderWidth = $d.rowHeaderWidth;
            };
            $d.onAjaxError = function($e) {
                if (typeof $c.onAjaxError === "function") {
                    $c.onAjaxError($e);
                }
            };
            $d.onRowHeaderColumnResized = function($e) {
                var $N = $e.column;
                var $q = DayPilot.indexOf($d.rowHeaderColumns, $N);
                for (var i = 0; i < $c.columns.length; i++) {
                    var $M = $d.rowHeaderColumns[i];
                    var c = $c.columns[i];
                    c.width = $M.width;
                };
                if (typeof $c.onColumnResized === "function") {
                    var $O = {};
                    $O.column = $c.columns[$q];
                    $c.onColumnResized($O);
                }
            };
            $d.onBeforeRowHeaderRender = function($e) {
                $e.task = new DayPilot.Task($e.row.$.row.task, $c);
                var $P = [];
                if (DayPilot.isArray($c.columns)) {
                    for (var i = 0; i < $c.columns.length; i++) {
                        var $N = $c.columns[i];
                        var $Q = $N.property;
                        var $R = {};
                        $R.value = $t.getProperty($e.task.data, $Q);
                        if ($e.task.data.row && $e.task.data.row.columns && $e.task.data.row.columns[i]) {
                            $R.html = $e.task.data.row.columns[i].html;
                        } else {
                            $R.html = $R.value;
                        };
                        $P.push($R);
                    }
                };
                $e.row.columns = $P;
                if (typeof $c.onBeforeRowHeaderRender === "function") {
                    $c.onBeforeRowHeaderRender($e);
                };
                if (DayPilot.isArray($c.columns)) {
                    for (var i = 0; i < $c.columns.length; i++) {
                        var $A = $P[i].html;
                        if (i === 0) {
                            $e.row.html = $A;
                        } else {
                            $e.row.columns[i - 1].html = $A;
                        }
                    }
                }
            };
            $d.onBeforeCellRender = function($e) {
                $e.task = $c.tasks.find($e.cell.resource);
                delete $e.cell.resource;
                if (typeof $c.onBeforeCellRender === "function") {
                    $c.onBeforeCellRender($e);
                }
            };
            $d.onBeforeTimeHeaderRender = function($e) {
                if (typeof $c.onBeforeTimeHeaderRender === "function") {
                    $c.onBeforeTimeHeaderRender($e);
                }
            };
            $d.onEventClick = function($e) {
                $e.task = new DayPilot.Task($e.e, $c);
                if (typeof $c.onTaskClick === "function") {
                    $c.onTaskClick($e);
                }
            };
            $d.onEventClicked = function($e) {
                if (typeof $c.onTaskClicked === "function") {
                    $c.onTaskClicked($e);
                }
            };
            $d.onEventDelete = function($e) {
                if (typeof $c.onTaskDelete === "function") {
                    $c.onTaskDelete($e);
                }
            };
            $d.onEventDeleted = function($e) {
                if (typeof $c.onTaskDeleted === "function") {
                    $c.onTaskDeleted($e);
                }
            };
            $d.onEventDoubleClick = function($e) {
                $e.task = new DayPilot.Task($e.e, $c);
                if (typeof $c.onTaskDoubleClick === "function") {
                    $c.onTaskDoubleClick($e);
                }
            };
            $d.onEventDoubleClicked = function($e) {
                if (typeof $c.onTaskDoubleClicked === "function") {
                    $c.onTaskDoubleClicked($e);
                }
            };
            $d.onEventRightClick = function($e) {
                $e.task = new DayPilot.Task($e.e, $c);
                if (typeof $c.onTaskRightClick === "function") {
                    $c.onTaskRightClick($e);
                }
            };
            $d.onEventRightClicked = function($e) {
                if (typeof $c.onTaskRightClicked === "function") {
                    $c.onTaskRightClicked($e);
                }
            };
            $d.onRowMoving = function($e) {
                $e.$0E = $e.source;
                $e.$0F = $e.target;
                $e.source = new DayPilot.Task($e.$0E.$.row.task, $c);
                $e.target = new DayPilot.Task($e.$0F.$.row.task, $c);
                if (typeof $c.onRowMoving === "function") {
                    $c.onRowMoving($e);
                }
            };
            $d.onRowMove = function($e) {
                $e.$0E = $e.source;
                $e.$0F = $e.target;
                $e.source = new DayPilot.Task($e.$0E.$.row.task, $c);
                $e.target = new DayPilot.Task($e.$0F.$.row.task, $c);
                if (typeof $c.onRowMove === "function") {
                    $c.onRowMove($e);
                };
                $e.source = $e.$0E;
                $e.target = $e.$0F;
            };
            $d.onRowMoved = function($e) {
                var $S = $c.rowMoveHandling === "Update" || $c.rowMoveHandling === "Notify";
                if ($S) {
                    var $T = $e.$0E.$.row.task;
                    var $F = $e.$0F.$.row.task;
                    var $U = $e.position;
                    if ($U === "forbidden") {
                        return;
                    };
                    var $V = $t.findParentArray($T);
                    if (!$V) {
                        throw "Cannot find source node parent";
                    };
                    var $v = DayPilot.indexOf($V, $T);
                    $V.splice($v, 1);
                    var $W = $t.findParentArray($F);
                    if (!$W) {
                        throw "Cannot find target node parent";
                    };
                    var $X = DayPilot.indexOf($W, $F);
                    switch ($U) {
                        case "before":
                            $W.splice($X, 0, $T);
                            break;
                        case "after":
                            $W.splice($X + 1, 0, $T);
                            break;
                        case "child":
                            if (!$F.children) {
                                $F.children = [];
                                $F.expanded = true;
                            };
                            $F.children.push($T);
                            break;
                    };
                    $c.$0w.notify();
                    $c.update();
                };
                $e.source = new DayPilot.Task($e.$0E.$.row.task, $c);
                $e.target = new DayPilot.Task($e.$0F.$.row.task, $c);
                if (typeof $c.onRowMoved === "function") {
                    $c.onRowMoved($e);
                }
            };
            $d.onRowClick = function($e) {
                $e.task = new DayPilot.Task($e.resource.$.row.task, $c);
                if (typeof $c.onRowClick === "function") {
                    $c.onRowClick($e);
                }
            };
            $d.onRowClicked = function($e) {
                if (typeof $c.onRowClicked === "function") {
                    $c.onRowClicked($e);
                }
            };
            $d.onRowDoubleClick = function($e) {
                $e.task = new DayPilot.Task($e.resource.$.row.task, $c);
                if (typeof $c.onRowDoubleClick === "function") {
                    $c.onRowDoubleClick($e);
                }
            };
            $d.onRowDoubleClicked = function($e) {
                if (typeof $c.onRowDoubleClicked === "function") {
                    $c.onRowDoubleClicked($e);
                }
            };
            $d.onRowEdit = function($e) {
                $e.task = new DayPilot.Task($e.resource.$.row.task, $c);
                if (typeof $c.onRowEdit === "function") {
                    $c.onRowEdit($e);
                }
            };
            $d.onRowEdited = function($e) {
                if (typeof $c.onRowEdited === "function") {
                    $c.onRowEdited($e);
                }
            };
            $d.onRowSelect = function($e) {
                $e.task = new DayPilot.Task($e.row.$.row.task, $c);
                if (typeof $c.onRowSelect === "function") {
                    $c.onRowSelect($e);
                }
            };
            $d.onRowSelected = function($e) {
                if (typeof $c.onRowSelected === "function") {
                    $c.onRowSelected($e);
                }
            };
            $d.onEventMove = function($e) {
                $e._e = $e.e;
                $e.task = new DayPilot.Task($e.e, $c);
                if (typeof $c.onTaskMove === "function") {
                    $c.onTaskMove($e);
                }
            };
            $d.onEventMoved = function($e) {
                if ($c.taskGroupMode === "Auto") {
                    var e = $e._e;
                    var $g = e.data.task;
                    $g.start = e.start();
                    $g.end = e.end();
                    while (e.data.parent) {
                        var parent = $d.events.find(e.data.parent.id);
                        var $Y = $o.childrenStartEnd(e.data.parent);
                        parent.start($Y.start);
                        parent.end($Y.end);
                        $d.events.update(parent);
                        e = parent;
                    }
                };
                $c.$0w.notify();
                if (typeof $c.onTaskMoved === "function") {
                    $c.onTaskMoved($e);
                }
            };
            $d.onEventMoving = function($e) {
                $e.task = new DayPilot.Task($e.e, $c);
                $e._e = $e.e;
                delete $e.position;
                delete $e.overlapping;
                delete $e.resource;
                if (typeof $c.onTaskMoving === "function") {
                    $c.onTaskMoving($e);
                }
            };
            $d.onEventResize = function($e) {
                $e._e = $e.e;
                $e.task = new DayPilot.Task($e.e, $c);
                if (typeof $c.onTaskResize === "function") {
                    $c.onTaskResize($e);
                }
            };
            $d.onEventResized = function($e) {
                if ($c.taskGroupMode === "Auto") {
                    var e = $e._e;
                    var $g = e.data.task;
                    $g.start = e.start();
                    $g.end = e.end();
                    while (e.data.parent) {
                        var parent = $d.events.find(e.data.parent.id);
                        var $Y = $o.childrenStartEnd(e.data.parent);
                        parent.start($Y.start);
                        parent.end($Y.end);
                        $d.events.update(parent);
                        e = parent;
                    }
                };
                $c.$0w.notify();
                if (typeof $c.onTaskResized === "function") {
                    $c.onTaskResized($e);
                }
            };
            $d.onEventResizing = function($e) {
                $e.task = new DayPilot.Task($e.e, $c);
                $e._e = $e.e;
                if (typeof $c.onTaskResizing === "function") {
                    $c.onTaskResizing($e);
                }
            };
            $d.onLinkCreate = function($e) {
                $e.source = $c.tasks.find($e.from);
                $e.target = $c.tasks.find($e.to);
                if (typeof $c.onLinkCreate === "function") {
                    $c.onLinkCreate($e);
                }
            };
            $d.onLinkCreated = function($e) {
                if (typeof $c.onLinkCreated === "function") {
                    $c.onLinkCreated($e);
                }
            };
            $d.onResourceExpand = function($e) {
                var $g = $e.resource.$.row.task;
                if (!$g.row) {
                    $g.row = {};
                };
                $g.row.collapsed = false;
            };
            $d.onResourceCollapse = function($e) {
                var $g = $e.resource.$.row.task;
                if (!$g.row) {
                    $g.row = {};
                };
                $g.row.collapsed = true;
            };
        };
        $o.$0G = function($p) {
            for (var i = 0; i < $d.rowlist.length; i++) {
                var $j = $d.rowlist[i];
                if ($j.task === $p) {
                    return $d.internal.createRowObject($j);
                }
            };
            return null;
        };
        $o.$0u = function() {
            $d.links.list = $c.links.list ? $c.links.list: [];
        };
        $o.$0t = function() {
            $d.resources = [];
            $d.events.list = [];
            $t.clearCache();
            $o.$0H($c.tasks.list, $d.resources, null);
            if ($Z.sheet) {
                $Z.sheet.commit();
                $Z.sheet = null;
            }
        };
        $o.$0I = function($g) {
            var $00 = $g.type || "Task";
            if ($g.children && $g.children.length) {
                $00 = "Group";
            };
            var $p = {};
            for (var name in $g) {
                if (name === "children") {
                    continue;
                };
                $p[name] = $g[name];
            };
            var $e = {};
            $e.data = $p;
            $e.type = $00;
            if (!$p.box) {
                $p.box = {};
            };
            if (typeof $p.box.html === "undefined") {
                if ($e.type === "Task") {
                    var $01 = $p.complete || 0;
                    $p.box.html = $01 + "%";
                } else {
                    $p.box.html = "";
                }
            };
            if (typeof $p.box.htmlRight === "undefined") {
                $p.box.htmlRight = $p.text;
            };
            if (typeof $c.onBeforeTaskRender === "function") {
                $c.onBeforeTaskRender($e);
            };
            $e.type = $00;
            return $e;
        };
        var $Z = {};
        $Z.keys = {};
        $Z.sheet = null;
        $o.$0J = function($e) {
            if (!$e.data.box) {
                return;
            };
            if ($e.data.box.cssClass) {
                return;
            };
            if (!$e.data.box.backColor) {
                return;
            };
            if ($e.type === "Task") {
                return;
            };
            var $02 = DayPilot.Util.normalizeColor($e.data.box.backColor);
            var $G = $e.type + "_" + $02.replace("#", "");
            var t = $c.theme;
            var cn = $c.theme + "_" + $G;
            if (!$Z.keys[$G]) {
                $Z.keys[$G] = true;
                if (!$Z.sheet) {
                    $Z.sheet = DayPilot.sheet();
                };
                if ($e.type === "Group") {
                    $Z.sheet.add("." + cn + "." + t + "_task_group ." + t + "_event_inner", "position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: " + $02 + "; filter: none; border: 0px none;");
                    $Z.sheet.add("." + cn + "." + t + "_task_group." + t + "_event:before", "content:''; border-color: transparent transparent transparent " + $02 + "; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;");
                    $Z.sheet.add("." + cn + "." + t + "_task_group." + t + "_event:after", "content:''; border-color: transparent " + $02 + " transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;");
                } else if ($e.type === "Milestone") {
                    $Z.sheet.add("." + cn + "." + t + "_task_milestone ." + t + "_event_inner", "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: " + $02 + "; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;");
                    $Z.sheet.add("." + cn + "." + t + "_browser_ie8 ." + t + "_task_milestone ." + t + "_event_inner", "-ms-filter: \"progid:$03.Microsoft.Matrix($04='auto expand',$05=0.7071067811865476,$06=-0.7071067811865475,$07=0.7071067811865475,$08=0.7071067811865476);\"");
                }
            };
            return cn;
        };
        $o.$0H = function($T, $F, parent) {
            if (!DayPilot.isArray($T)) {
                return;
            };
            for (var i = 0; i < $T.length; i++) {
                var $09 = $T[i];
                $t.addToCache($09, parent);
                var $e = $o.$0I($09);
                var $g = $e.data;
                var $00 = $e.type;
                var event = {};
                DayPilot.Util.copyProps($g, event, ['id', 'start', 'end', 'text', 'complete', 'tags', 'versions']);
                DayPilot.Util.copyProps($g.box, event);
                event.parent = parent;
                event.task = $09;
                event.resource = $g.id;
                if ($00 == "Group") {
                    event.type = "Group";
                    event.html = "";
                    var $Z = $o.$0J($e);
                    if ($Z) {
                        event.cssClass = (event.cssClass || "") + " " + $Z;
                        console.log(event.cssClass);
                    };
                    delete event.backColor;
                    if ($c.taskGroupMode === "Auto") {
                        var $Y = $o.childrenStartEnd($09);
                        event.start = $Y.start;
                        event.end = $Y.end;
                        event.resizeDisabled = true;
                        event.moveDisabled = true;
                    }
                } else if ($00 === "Milestone") {
                    event.html = "";
                    $09.end = $09.start;
                    var $Z = $o.$0J($e);
                    if ($Z) {
                        event.cssClass = (event.cssClass || "") + " " + $Z;
                    };
                    $g.end = $g.start;
                    event.end = $g.start;
                    event.barHidden = true;
                    event.resizeDisabled = true;
                    event.type = "Milestone";
                    event.width = $c.taskHeight;
                    delete event.backColor;
                } else if ($00 === "Task") {
                    $a();
                };
                event.moveVDisabled = true;
                event.htmlRight = $g.box.htmlRight;
                event.htmlLeft = $g.box.htmlLeft;
                $d.events.list.push(event);
                var r = {};
                r.task = $09;
                DayPilot.Util.copyProps($g.row, r);
                r.name = $g.text;
                r.id = $g.id;
                r.children = [];
                r.expanded = !$g.row || !$g.row.collapsed;
                if ($09.children && $09.children.length) {
                    $o.$0H($09.children, r.children, $09);
                };
                $F.push(r);
            }
        };
        $o.childrenStartEnd = function($g) {
            if (!$g.children || !$g.children.length) {
                var $w = $g.start;
                var end = $g.end;
                if ($g.type === "Milestone") {
                    end = $w;
                };
                return {
                    "start": new DayPilot.Date($w),
                    "end": new DayPilot.Date(end)
                };
            };
            var $w = null;
            var end = null;
            for (var i = 0; i < $g.children.length; i++) {
                var $Y = $o.childrenStartEnd($g.children[i]);
                if (!$w || $Y.start.getTime() < $w.getTime()) {
                    $w = $Y.start;
                };
                if (!end || $Y.end.getTime() > end.getTime()) {
                    end = $Y.end;
                }
            };
            return {
                "start": $w,
                "end": end
            };
        };
        this.rows = {};
        this.rows.expand = function($0a) {
            $d.rows.expand($0a);
        };
        this.rows.expandAll = function() {
            $d.rows.expandAll();
        };
        this.rows.selection = {};
        this.rows.selection.add = function($g) {
            var $j = $d.rows.find($g.data.id);
        };
        this.rows.selection.clear = function() {
            $d.rows.selection.clear();
        };
        this.rows.selection.get = function() {
            return $d.rows.selection.get().map(function($j) {
                return new DayPilot.Task($j.$.row.task, $c);
            });
        };
        this.$0K = null;
        this.$0L = function($b) {
            var $0b = {
                "tasks": {
                    "preInit": function() {
                        var $0c = this.data;
                        if (!$0c) {
                            return;
                        };
                        if (DayPilot.isArray($0c.list)) {
                            $c.tasks.list = $0c.list;
                        } else {
                            $c.tasks.list = $0c;
                        }
                    }
                },
                "links": {
                    "preInit": function() {
                        var $0d = this.data;
                        if (!$0d) {
                            return;
                        };
                        if (DayPilot.isArray($0d.list)) {
                            $c.links.list = $0d.list;
                        } else {
                            $c.links.list = $0d;
                        }
                    }
                },
                "scrollTo": {
                    "postInit": function() {
                        if (this.data) {
                            $c.scrollTo(this.data);
                        }
                    }
                },
                "scrollToTask": {
                    "postInit": function() {
                        if (this.data) {
                            $c.scrollToTask(this.data);
                        }
                    }
                }
            };
            this.$0K = $0b;
            for (var name in $b) {
                if ($0b[name]) {
                    var $0e = $0b[name];
                    $0e.data = $b[name];
                    if ($0e.preInit) {
                        $0e.preInit();
                    }
                } else {
                    $c[name] = $b[name];
                }
            }
        };
        this.$0B = function() {
            var $0b = this.$0K;
            for (var name in $0b) {
                var $0e = $0b[name];
                if ($0e.postInit) {
                    $0e.postInit();
                }
            }
        };
        this.internal = {};
        this.internal.initialized = function() {
            return $c.$0v;
        };
        this.internal.rowObjectForTaskData = $o.$0G;
        this.internal.loadOptions = $c.$0L;
        this.$0w = {};
        this.$0w.scope = null;
        this.$0w.notify = function() {
            if ($c.$0w.scope) {
                $c.$0w.scope["$apply"]();
            }
        };
        this.$0L($b);
    };
    if (typeof jQuery !== 'undefined') { (function($) {
        $.fn.daypilotGantt = function($b) {
            var $0f = null;
            var j = this.each(function() {
                if (this.daypilot) {
                    return;
                };
                var $0g = new DayPilot.Gantt(this.id, $b);
                $0g.init();
                this.daypilot = $0g;
                if (!$0f) {
                    $0f = $0g;
                }
            });
            if (this.length === 1) {
                return $0f;
            } else {
                return j;
            }
        };
    })(jQuery);
    }; (function registerAngularModule() {
        var $0h = DayPilot.am();
        if (!$0h) {
            return;
        };
        $0h.directive("daypilotGantt", ['$parse',
            function($0i) {
                return {
                    "restrict": "E",
                    "template": "<div id='{{id}};'></div>",
                    "compile": function compile(element, $0j) {
                        element.replaceWith(this["template"].replace("{{id}};", $0j["id"]));
                        return function link($0k, element, $0j) {
                            var $c = new DayPilot.Gantt(element[0]);
                            $c.$0w.scope = $0k;
                            $c.init();
                            var $0l = $0j["id"];
                            if ($0l) {
                                $0k[$0l] = $c;
                            };
                            var $0m = $0j["publishAs"];
                            if ($0m) {
                                var getter = $0i($0m);
                                var setter = getter.assign;
                                setter($0k, $c);
                            };
                            for (var name in $0j) {
                                if (name.indexOf("on") === 0) {
                                    var $0n = DayPilot.Util.shouldApply(name);
                                    if ($0n) { (function(name) {
                                        $c[name] = function($e) {
                                            var f = $0i($0j[name]);
                                            $0k["$apply"](function() {
                                                f($0k, {
                                                    "args": $e
                                                });
                                            });
                                        };
                                    })(name);
                                    } else { (function(name) {
                                        $c[name] = function($e) {
                                            var f = $0i($0j[name]);
                                            f($0k, {
                                                "args": $e
                                            });
                                        };
                                    })(name);
                                    }
                                }
                            };
                            var $0o = $0k["$watch"];
                            var $0p = $0j["config"] || $0j["daypilotConfig"];
                            $0o.call($0k, $0p,
                                function($0q, $0r) {
                                    $c.$0L($0q);
                                    $c.update();
                                },
                                true);
                        };
                    }
                };
            }]);
    })();
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
}; (function() {
    if (typeof DayPilot.Kanban !== 'undefined') {
        return;
    };
    DayPilot.Kanban = function(id, $a) {
        this.v = '2607';
        var $b = this;
        this.barWidth = 5;
        this.cardAutoHeight = true;
        this.cardHeight = 60;
        this.cardMarginLeft = 5;
        this.cardMarginRight = 5;
        this.cardMarginBottom = 5;
        this.columnHeaderHeight = 20;
        this.crosshairColor = "gray";
        this.height = 300;
        this.heightSpec = "Auto";
        this.theme = "kanban_default";
        this.cellMarginBottom = 4;
        this.cellMarginTop = 5;
        this.rowMinHeight = 0;
        this.swimlaneCollapsingEnabled = false;
        this.swimlaneHeaderWidth = 80;
        this.visible = true;
        this.swimlanes = {};
        this.swimlanes.list = [];
        this.columns = {};
        this.columns.list = [];
        this.cards = {};
        this.cards.list = [];
        this.cardDeleteHandling = "Disabled";
        this.cardMoveHandling = "Update";
        this.columnMoveHandling = "Disabled";
        this.swimlaneMoveHandling = "Disabled";
        this.onBeforeCellRender = null;
        this.onCardClick = null;
        this.onCardClicked = null;
        this.onCardDelete = null;
        this.onCardDeleted = null;
        this.onCardMove = null;
        this.onCardMoved = null;
        this.onColumnMove = null;
        this.onColumnMoved = null;
        this.onHeightChanged = null;
        this.onSwimlaneMove = null;
        this.onSwimlaneMoved = null;
        var $c = new DayPilot.Scheduler(id);
        this.scheduler = $c;
        var $d = {};
        var $e = 15;
        var $f = 15;
        $d.translate = function() {
            var dp = $c;
            dp.startDate = "2000-01-01";
            dp.scale = "Day";
            dp.timeHeaders = [{
                $g: "Cell",
                $h: "d"
            }];
            dp.heightSpec = $b.heightSpec;
            dp.cellWidthSpec = "Auto";
            dp.cellsMarkBusiness = false;
            dp.crosshairColor = $b.crosshairColor;
            dp.dynamicEventRendering = "Disabled";
            dp.floatingEvents = false;
            dp.floatingTimeHeaders = false;
            dp.rowMinHeight = $b.rowMinHeight;
            dp.rowMarginTop = $b.cellMarginTop;
            dp.rowMarginBottom = $b.cellMarginBottom;
            dp.eventMoveToPosition = true;
            dp.headerHeight = $b.columnHeaderHeight;
            dp.eventResizeHandling = "Disabled";
            dp.timeRangeSelectedHandling = "Disabled";
            dp.eventHeight = $b.cardHeight;
            dp.eventMarginLeft = $b.cardMarginLeft;
            dp.eventMarginRight = $b.cardMarginRight;
            dp.eventMarginBottom = $b.cardMarginBottom;
            dp.eventTextWrappingEnabled = true;
            dp.cellStacking = true;
            dp.cellStackingAutoHeight = $b.cardAutoHeight;
            dp.durationBarVisible = false;
            dp.theme = $b.theme;
            dp.visible = $b.visible;
            dp.rowHeaderWidth = $b.swimlaneHeaderWidth;
            dp.eventDeleteHandling = $b.cardDeleteHandling;
            dp.eventMoveHandling = $b.cardMoveHandling;
            dp.rowMoveHandling = DayPilot.list($b.swimlanes.list).isEmpty() ? "Disabled": $b.swimlaneMoveHandling;
            dp.onHeightChanged = $b.onHeightChanged;
            dp.internal.cssNames.timeheadercol = "_colheadercell";
            dp.internal.cssNames.timeheadercolInner = "_colheadercell_inner";
            dp.internal.cssNames.resourcedivider = "_rowheaderdivider";
            dp.internal.cssNames.event = "_card";
            dp.internal.cssNames.eventInner = "_card_inner";
            dp.internal.cssNames.eventDelete = "_card_delete";
            dp.internal.cssNames.eventMovingSource = "_card_moving_source";
            if ($b.swimlaneCollapsingEnabled) {
                dp.rowHeaderWidthMarginRight = $e + 0;
            };
            dp.onBeforeTimeHeaderRender = function($i) {
                var $j = $b.$0f($i.header.start);
                $i.header.html = $j.name;
                $i.header.toolTip = $j.toolTip || "";
                $i.header.areas = DayPilot.list($j.areas).map(function($k) {
                    var $l = [];
                    DayPilot.Util.copyProps($k, $l);
                    return $l;
                });
                DayPilot.list($i.header.areas).each(function($l) {
                    $l.target = new DayPilot.Column($j, $b);
                });
                if ($b.columnMoveHandling !== "Disabled") {
                    var $m = $b.theme + "_columnmove_handle";
                    $i.header.areas.push({
                        "left": 0,
                        "top": 0,
                        "width": 20,
                        "height": 20,
                        "css": $m,
                        "mousedown": $b.$0g,
                        "action": "None"
                    });
                }
            };
            dp.onBeforeCellRender = function($i) {
                var $n = {};
                $n.cell = {};
                $n.cell.column = new DayPilot.Column($b.$0f($i.cell.start), $b);
                $n.cell.swimlane = null;
                var $o = $b.$0h($i.cell.resource);
                if ($o) {
                    $n.cell.swimlane = new DayPilot.Swimlane($o, $b);
                };
                $n.cell.areas = [];
                $n.cell.cssClass = null;
                $n.cell.html = null;
                $n.cell.backImage = null;
                $n.cell.backRepeat = null;
                $n.cell.backColor = null;
                if (typeof $b.onBeforeCellRender === "function") {
                    $b.onBeforeCellRender($n);
                    DayPilot.Util.copyProps($n.cell, $i.cell, ["areas", "cssClass", "html", "backImage", "backRepeat", "backColor"]);
                    DayPilot.list($i.cell.areas).each(function($l) {
                        $l.target = {
                            "swimlane": $n.cell.swimlane,
                            "column": $n.cell.column
                        };
                    })
                };
                var $p = dp.rows.find($i.cell.resource);
                var $q = dp.resources[$p.index];
                if ($q.collapsed) {
                    if (!$i.cell.cssClass) {
                        $i.cell.cssClass = "";
                    };
                    $i.cell.cssClass += " " + $b.theme + "_collapsed";
                }
            };
            dp.onEventClick = function($i) {
                var $n = new DayPilot.Args($i);
                $n.card = new DayPilot.Card($i.e.data.card, $b);
                if (typeof $b.onCardClick === "function") {
                    $b.onCardClick($n);
                };
                $i.wrapped = $n;
            };
            dp.onEventClicked = function($i) {
                var $n = $i.wrapped;
                if (typeof $b.onCardClicked === "function") {
                    $b.onCardClicked($n);
                }
            };
            dp.onEventDelete = function($i) {
                var $n = new DayPilot.Args($i);
                $n.card = new DayPilot.Card($i.e.data.card, $b);
                if (typeof $b.onCardDelete === "function") {
                    $b.onCardDelete($n);
                };
                $i.wrapped = $n;
            };
            dp.onEventDeleted = function($i) {
                DayPilot.rfa($b.cards.list, $i.e.data.card);
                var $n = $i.wrapped;
                if (typeof $b.onCardDeleted === "function") {
                    $b.onCardDeleted($n);
                }
            };
            dp.onEventMove = function($i) {
                var $n = new DayPilot.Args($i);
                $n.card = new DayPilot.Card($i.e.data.card, $b);
                $n.column = new DayPilot.Column($b.$0f($i.newStart));
                $n.position = $i.position;
                if ($i.newResource !== "*") {
                    $n.swimlane = new DayPilot.Swimlane($b.$0h($i.newResource), $b);
                } else {
                    $n.swimlane = null;
                };
                var $r = $c.cells.find($i.newStart, $i.newResource)[0].events();
                var $s = $i.position;
                var $t = null;
                var pi = $s - 1;
                while ($r[pi]) {
                    if ($r[pi].data !== $i.e.data) {
                        $t = new DayPilot.Card($r[pi]);
                        break;
                    };
                    pi -= 1;
                };
                var $u = null;
                var ni = $s;
                while ($r[ni]) {
                    if ($r[ni].data !== $i.e.data) {
                        $u = new DayPilot.Card($r[ni]);
                        break;
                    };
                    ni += 1;
                };
                $n.previous = $t;
                $n.next = $u;
                if (typeof $b.onCardMove === "function") {
                    $b.onCardMove($n);
                };
                $i.wrapped = $n;
                if ($i.preventDefault.value) {
                    return;
                };
                var $v = 0;
                if ($u) {
                    $v = $u.wrapped.data.sort[0];
                } else if ($t) {
                    $v = $t.wrapped.data.sort[0];
                };
                $i.e.data.sort = [$v, new DayPilot.Date().toString()];
                DayPilot.rfa($b.cards.list, $i.e.data.card);
                var $w = 0;
                if ($u) {
                    $w = DayPilot.indexOf($b.cards.list, $u.data);
                } else if ($t) {
                    $w = DayPilot.indexOf($b.cards.list, $t.data) + 1;
                };
                $b.cards.list.splice($w, 0, $i.e.data.card);
                $d.updateSort();
            };
            dp.onEventMoved = function($i) {
                var $n = $i.wrapped;
                var $x = DayPilot.list($b.cards.list).find(function($y) {
                    return $i.e.data.card === $y;
                });
                $x.swimlane = $n.swimlane ? $n.swimlane.data.id: null;
                $x.column = $n.column.data.id;
                if (typeof $b.onCardMoved === "function") {
                    $b.onCardMoved($n);
                }
            };
            dp.onBeforeResHeaderRender = function($i) {
                if (!$b.swimlaneCollapsingEnabled) {
                    return;
                };
                var $z = DayPilot.list($b.swimlanes.list).isEmpty();
                if ($z) {
                    return;
                };
                var $m = $b.theme + "_swimlane_collapse";
                if ($i.resource.collapsed) {
                    $m = $b.theme + "_swimlane_expand";
                };
                $i.resource.areas = [{
                    "right": 0,
                    "top": 0,
                    "height": $f,
                    "width": $e,
                    "action": "JavaScript",
                    "css": $m,
                    "js": function() {
                        $b.$0i($i.resource.index);
                    }
                }];
            };
            dp.onRowMove = function($i) {
                var $n = new DayPilot.Args($i);
                $i.wrapped = $n;
                $n.swimlane = new DayPilot.Swimlane($i.source.$.row.swimlane);
                var $s = 0;
                switch ($i.position) {
                    case "before":
                        $s = $i.target.index;
                        break;
                    case "after":
                        $s = $i.target.index + 1;
                        break;
                    default:
                        throw "Unexpected target swimlane position: " + $i.position;
                        break;
                };
                $n.position = $s;
                $n.previous = null;
                var pi = $s - 1;
                while ($c.rowlist[pi] && $c.rowlist[pi].swimlane !== $n.swimlane.data) {
                    $n.previous = new DayPilot.Swimlane($c.rowlist[pi].swimlane);
                    pi -= 1;
                };
                $n.next = null;
                var ni = $s;
                while ($c.rowlist[ni] && $c.rowlist[ni].swimlane !== $n.swimlane.data) {
                    $n.next = new DayPilot.Swimlane($c.rowlist[ni].swimlane);
                    ni += 1;
                };
                if (typeof $b.onSwimlaneMove === "function") {
                    $b.onSwimlaneMove($n);
                }
            };
            dp.onRowMoved = function($i) {
                var $n = $i.wrapped;
                DayPilot.rfa($b.swimlanes.list, $n.swimlane.data);
                var $w = 0;
                if ($n.next) {
                    $w = DayPilot.indexOf($b.swimlanes.list, $n.next.data);
                } else if ($n.previous) {
                    $w = DayPilot.indexOf($b.swimlanes.list, $n.previous.data) + 1;
                };
                $b.swimlanes.list.splice($w, 0, $n.swimlane.data);
                if (typeof $b.onSwimlaneMoved === "function") {
                    $b.onSwimlaneMoved($n);
                }
            };
            dp.treePreventParentUsage = true;
        };
        $d.loadCards = function() {
            var $A = new DayPilot.Date("2000-01-01");
            var $B = $b.theme + "_card_header";
            var $C = $b.theme + "_card_body";
            var $D = new DayPilot.Date().toString();
            $c.sortDirections = ["asc", "desc"];
            $c.events.list = DayPilot.list($b.cards.list).map(function($E, i) {
                var $F = $E.html || $E.text || "";
                var name = $E.name || "";
                var $G = {};
                $G.id = $E.id;
                $G.text = $E.text;
                $G.html = "<div class='" + $B + "'>" + name + "</div><div class='" + $C + "'>" + $F + "</div>";
                $G.resource = $E.swimlane;
                $G.start = $A.addDays(DayPilot.list($b.columns.list).findIndex(function($y) {
                    return $E.column === $y.id;
                }));
                $G.end = $G.start.addDays(1);
                $G.card = $E;
                $G.height = $E.height;
                $G.cssClass = $E.cssClass;
                $G.sort = [i, $D];
                $G.areas = DayPilot.list($E.areas).map(function($y) {
                    var $H = {};
                    DayPilot.Util.copyProps($y, $H);
                    if ($y.js) {
                        $H.js = function(e) {
                            $y.js(new DayPilot.Card(e.data.card, $b));
                        };
                    };
                    return $H;
                });
                $G.areas.push({
                    "left": 0,
                    "width": 5,
                    "top": 0,
                    "bottom": 0,
                    "backColor": $E.barColor,
                    "cssClass": $b.theme + "_card_bar"
                });
                return $G;
            });
        };
        $d.updateSort = function() {
            var $D = new DayPilot.Date().toString();
            DayPilot.list($b.cards.list).each(function($y, i) {
                var $I = $d.findSchedulerEventData($y);
                if ($I) {
                    $I.sort = [i, $D];
                }
            });
        };
        $d.findSchedulerEventData = function($J) {
            return DayPilot.list($c.events.list).find(function($I) {
                return $I.card === $J;
            });
        };
        $d.loadSwimlanes = function() {
            var $K = 20;
            var $L = DayPilot.list($b.swimlanes.list);
            $c.resources = $L.map(function($M) {
                var $y = {};
                $y.name = $M.name;
                $y.id = $M.id;
                $y.swimlane = $M;
                if ($M.collapsed) {
                    $y.collapsed = true;
                    $y.eventHeight = $K;
                    $y.hideEvents = true;
                };
                return $y;
            });
            if ($L.isEmpty()) {
                $c.resources = [{
                    name: "",
                    id: "*"
                }];
            }
        };
        $d.loadColumns = function() {
            var $N = DayPilot.list($b.columns.list);
            $c.days = $N.length;
        };
        var $O = {};
        $O.active = null;
        $O.div = null;
        $O.update = function() {
            $O.clear();
            var $w = $O.findPosition();
            $O.draw($w);
        };
        $O.clear = function() {
            DayPilot.de($O.div);
            $O.div = null;
        };
        $O.draw = function($w) {
            var $P = 0;
            if ($w >= $c.itline.length) {
                var $Q = $c.itline[$c.itline.length - 1];
                $P = $Q.left + $Q.width - 3;
            } else {
                $P = $c.itline[$w].left;
            };
            var $R = document.createElement("div");
            $R.style.position = "absolute";
            $R.style.left = $P + "px";
            $R.style.width = "3px";
            $R.style.top = 0;
            $R.style.height = $c.headerHeight + "px";
            $R.className = $b.theme + "_columnmove_position";
            $O.div = $R;
            $c.nav.timeHeader.appendChild($R);
        };
        $O.findPosition = function() {
            if ($b.coords.x < 0) {
                return 0;
            };
            var $w = DayPilot.list($c.itline).findIndex(function($y) {
                var $P = $y.left + $c.rowHeaderWidth;
                var $S = $y.width;
                return $b.coords.x < ($P + $S / 2);
            });
            if ($w === -1) {
                return $c.itline.length;
            };
            return $w;
        };
        this.$0g = function($i) {
            $O.active = $i;
        };
        this.$0f = function($T) {
            return $b.columns.list[$T.getDay() - 1];
        };
        this.$0h = function(id) {
            return DayPilot.list($b.swimlanes.list).find(function($y) {
                return $y.id === id;
            });
        };
        this.message = function($F, $U, $V, $W) {
            $c.message($F, $U, $V, $W);
        };
        this.show = function() {
            $b.visible = true;
            $c.show();
        };
        this.hide = function() {
            $b.visible = false;
            $c.hide();
        };
        this.cards.add = function($E) {
            var $G = null;
            if ($E && $E instanceof DayPilot.Card) {
                $G = $E.data;
            } else {
                $G = $E;
            };
            if (!$E) {
                return;
            };
            $b.cards.list.push($G);
            $b.update();
        };
        this.cards.remove = function($E) {
            var $G = null;
            if ($E && $E instanceof DayPilot.Card) {
                $G = $E.data;
            } else {
                $G = $E;
            };
            if (!$E) {
                return;
            };
            DayPilot.rfa($b.cards.list, $E);
            $b.update();
        };
        this.cards.update = function($E) {
            $b.update();
        };
        this.$0i = function(i) {
            if (!DayPilot.list($b.swimlanes.list).isEmpty()) {
                $b.swimlanes.list[i].collapsed = !$b.swimlanes.list[i].collapsed;
            };
            $b.update();
        };
        this.init = function() {
            $d.translate();
            $d.loadSwimlanes();
            $d.loadColumns();
            $d.loadCards();
            $c.init();
            $b.$0j();
            this.$0k = true;
        };
        this.update = function() {
            $d.translate();
            $d.loadSwimlanes();
            $d.loadColumns();
            $d.loadCards();
            $c.update();
        };
        this.$0j = function() {
            DayPilot.re(document, 'mouseup', $b.$0l);
            DayPilot.re(document, 'mousemove', $b.$0m);
        };
        this.$0n = {};
        this.$0n.scope = null;
        this.$0n.notify = function() {
            if ($b.$0n.scope) {
                $b.$0n.scope["$apply"]();
            }
        };
        this.$0o = null;
        this.$0p = function($a) {
            var $X = {
                "cards": {
                    "preInit": function() {
                        var $Y = this.data;
                        if (!$Y) {
                            return;
                        };
                        if (DayPilot.isArray($Y.list)) {
                            $b.cards.list = $Y.list;
                        } else {
                            $b.cards.list = $Y;
                        }
                    }
                },
                "columns": {
                    "preInit": function() {
                        var $N = this.data;
                        if (!$N) {
                            return;
                        };
                        if (DayPilot.isArray($N.list)) {
                            $b.columns.list = $N.list;
                        } else {
                            $b.columns.list = $N;
                        }
                    }
                },
                "swimlanes": {
                    "preInit": function() {
                        var $L = this.data;
                        if (!$L) {
                            return;
                        };
                        if (DayPilot.isArray($L.list)) {
                            $b.swimlanes.list = $L.list;
                        } else {
                            $b.swimlanes.list = $L;
                        }
                    }
                }
            };
            this.$0o = $X;
            $b.columns.list = [];
            $b.swimlanes.list = [];
            $b.cards.list = [];
            for (var name in $a) {
                if ($X[name]) {
                    var $y = $X[name];
                    $y.data = $a[name];
                    if ($y.preInit) {
                        $y.preInit();
                    }
                } else {
                    $b[name] = $a[name];
                }
            }
        };
        this.$0q = function() {
            var $X = this.$0o;
            for (var name in $X) {
                var $y = $X[name];
                if ($y.postInit) {
                    $y.postInit();
                }
            }
        };
        this.internal = {};
        this.internal.loadOptions = $b.$0p;
        this.$0p($a);
        this.$0r = function() {
            var el = dp.nav.top;
            if (!el) {
                return false;
            };
            return el.offsetWidth > 0 && el.offsetHeight > 0;
        };
        this.$0s = function() {
            var $Z = $b;
            var $00 = $Z.$0r;
            if (!$00()) {
                $Z.$0t = setInterval(function() {
                        if ($00()) {
                            $Z.update();
                            clearInterval($Z.$0t);
                        }
                    },
                    100);
            }
        };
        this.$0m = function(ev) {
            $b.coords = DayPilot.mo3($c.nav.top, ev);
            if ($O.active) {
                $O.update();
            }
        };
        this.$0l = function(ev) {
            if (!$O.active) {
                return;
            };
            var $x = $O.active.source;
            var $01 = $O.findPosition();
            var $j = $b.$0f($x.start);
            var $i = new DayPilot.Args();
            $i.column = new DayPilot.Column($j, $b);
            $i.position = $01;
            $i.previous = null;
            $i.next = null;
            var $t = null;
            var $02 = $i.position;
            while ($02 !== 0 && !$t) {
                if ($j !== $b.columns.list[$02 - 1]) {
                    $t = $b.columns.list[$02 - 1]
                };
                $02 -= 1;
            };
            if ($t) {
                $i.previous = new DayPilot.Column($t, $b);
            };
            var $u = null;
            $02 = $i.position;
            while ($02 < $b.columns.list.length - 1 && !$u) {
                if ($j !== $b.columns.list[$02]) {
                    $u = $b.columns.list[$02];
                };
                $02 += 1;
            };
            if ($u) {
                $i.next = new DayPilot.Column($u, $b);
            };
            if (typeof $b.onColumnMove === "function") {
                $b.onColumnMove($i);
            };
            if (!$i.preventDefault.value) {
                if ($b.columnMoveHandling === "Update") {
                    DayPilot.rfa($b.columns.list, $i.column.data);
                    var $w = 0;
                    if ($i.next) {
                        $w = DayPilot.indexOf($b.columns.list, $i.next.data);
                    } else if ($i.previous) {
                        $w = DayPilot.indexOf($b.columns.list, $i.previous.data) + 1;
                    };
                    $b.columns.list.splice($w, 0, $i.column.data);
                    $b.update();
                };
                if (typeof $b.onColumnMoved === "function") {
                    $b.onColumnMove($i);
                }
            };
            $O.active = null;
            $O.clear();
        };
    };
    DayPilot.Card = function($G, $03) {
        if ($G instanceof DayPilot.Event) {
            var e = $G;
            this.data = e.data.card;
            this.wrapped = $G;
        } else {
            this.data = $G;
        };
        this.control = $03;
    };
    DayPilot.Column = function($G, $03) {
        this.data = $G;
        this.control = $03;
    };
    DayPilot.Swimlane = function($G, $03) {
        this.data = $G;
        this.control = $03;
    }; (function registerAngularModule() {
        var $04 = DayPilot.am();
        if (!$04) {
            return;
        };
        $04.directive("daypilotKanban", ['$parse',
            function($05) {
                return {
                    "restrict": "E",
                    "template": "<div id='{{id}};'></div>",
                    "compile": function compile(element, $06) {
                        element.replaceWith(this["template"].replace("{{id}};", $06["id"]));
                        return function link($07, element, $06) {
                            var $Z = new DayPilot.Kanban(element[0]);
                            $Z.$0n.scope = $07;
                            $Z.init();
                            var $08 = $06["id"];
                            if ($08) {
                                $07[$08] = $Z;
                            };
                            var $09 = $06["publishAs"];
                            if ($09) {
                                var getter = $05($09);
                                var setter = getter.assign;
                                setter($07, $Z);
                            };
                            for (var name in $06) {
                                if (name.indexOf("on") === 0) {
                                    var $0a = DayPilot.Util.shouldApply(name);
                                    if ($0a) { (function(name) {
                                        $Z[name] = function($i) {
                                            var f = $05($06[name]);
                                            $07["$apply"](function() {
                                                f($07, {
                                                    "args": $i
                                                });
                                            });
                                        };
                                    })(name);
                                    } else { (function(name) {
                                        $Z[name] = function($i) {
                                            var f = $05($06[name]);
                                            f($07, {
                                                "args": $i
                                            });
                                        };
                                    })(name);
                                    }
                                }
                            };
                            var $0b = $07["$watch"];
                            var $0c = $06["config"] || $06["daypilotConfig"];
                            $0b.call($07, $0c,
                                function($0d, $0e) {
                                    $Z.$0p($0d);
                                    $Z.update();
                                },
                                true);
                        };
                    }
                };
            }]);
    })();
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
if (typeof DayPilotMenu === 'undefined') {
    var DayPilotMenu = DayPilot.MenuVisible = {};
}; (function() {
    if (typeof DayPilot.Menu !== 'undefined') {
        return;
    };
    var $a = function() {};
    var DayPilotMenu = {};
    DayPilotMenu.mouse = null;
    DayPilotMenu.menu = null;
    DayPilotMenu.handlersRegistered = false;
    DayPilotMenu.hideTimeout = null;
    DayPilotMenu.waitingSubmenu = null;
    DayPilot.Menu = function($b) {
        var $c = this;
        this.v = '2607';
        this.zIndex = 10;
        this.cssClassPrefix = "menu_default";
        this.cssOnly = true;
        this.menuTitle = null;
        this.showMenuTitle = false;
        this.hideOnMouseOut = false;
        this.theme = null;
        this.onShow = null;
        this.$R = function() {};
        if ($b && DayPilot.isArray($b)) {
            this.items = $b;
        };
        this.show = function(e, $d) {
            var $d = $d || {};
            var $e = null;
            if (!e) {
                $e = null;
            } else if (typeof e.id === 'string' || typeof e.id === 'number') {
                $e = e.id;
            } else if (typeof e.id === 'function') {
                $e = e.id();
            } else if (typeof e.value === 'function') {
                $e = e.value();
            };
            if (typeof(DayPilot.Bubble) !== 'undefined') {
                DayPilot.Bubble.hideActive();
            };
            if (!$d.submenu) {
                DayPilotMenu.menuClean();
            };
            this.$R.submenu = null;
            if (DayPilotMenu.mouse === null) {
                return;
            };
            if (!$c.cssOnly) {
                $c.cssOnly = true;
                DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");
            };
            var $f = null;
            if (e && e.isRow && e.$.row.task) {
                $f = new DayPilot.Task(e.$.row.task, e.calendar);
                $f.menuType = "resource";
            } else if (e && e.isEvent && e.data.task) {
                $f = new DayPilot.Task(e, e.calendar);
            } else {
                $f = e;
            };
            if (typeof $c.onShow === "function") {
                var $g = {};
                $g.source = $f;
                $g.menu = $c;
                $g.preventDefault = function() {
                    $g.preventDefault.value = true;
                };
                $c.onShow($g);
                if ($g.preventDefault.value) {
                    return;
                }
            };
            var $h = document.createElement("div");
            $h.style.position = "absolute";
            $h.style.top = "0px";
            $h.style.left = "0px";
            $h.style.display = 'none';
            $h.style.overflow = 'hidden';
            $h.style.zIndex = this.zIndex + 1;
            $h.className = this.applyCssClass('main');
            $h.onclick = function(ev) {
                ev.cancelBubble = true;
                this.parentNode.removeChild(this);
            };
            if (this.hideOnMouseOut) {
                $h.onmousemove = function(ev) {
                    clearTimeout(DayPilotMenu.hideTimeout);
                };
                $h.onmouseout = function(ev) {
                    $c.delayedHide();
                };
            };
            if (!this.items || this.items.length === 0) {
                throw "No menu items defined.";
            };
            if (this.showMenuTitle) {
                var title = document.createElement("div");
                title.innerHTML = this.menuTitle;
                title.className = this.applyCssClass("title");
                $h.appendChild(title);
            };
            for (var i = 0; i < this.items.length; i++) {
                var mi = this.items[i];
                var $i = document.createElement("div");
                DayPilot.Util.addClass($i, this.applyCssClass("item"));
                if (mi.items) {
                    DayPilot.Util.addClass($i, this.applyCssClass("item_haschildren"));
                };
                if (typeof mi === 'undefined') {
                    continue;
                };
                if (mi.hidden) {
                    continue;
                };
                if (mi.text === '-') {
                    var $j = document.createElement("div");
                    $i.appendChild($j);
                } else {
                    var $k = document.createElement("a");
                    $k.style.position = 'relative';
                    $k.style.display = "block";
                    if (mi.cssClass) {
                        DayPilot.Util.addClass($k, mi.cssClass);
                    };
                    if (mi.disabled) {
                        DayPilot.Util.addClass($k, $c.applyCssClass("item_disabled"));
                    } else {
                        if (mi.onclick || mi.onClick) {
                            $k.item = mi;
                            $k.onclick = (function(mi, $k) {
                                return function(e) {
                                    if (typeof mi.onClick === "function") {
                                        var $g = {};
                                        $g.item = mi;
                                        $g.source = $k.source;
                                        $g.originalEvent = e;
                                        $g.preventDefault = function() {
                                            $g.preventDefault.value = true;
                                        };
                                        mi.onClick($g);
                                        if ($g.preventDefault.value) {
                                            return;
                                        }
                                    };
                                    if (mi.onclick) {
                                        mi.onclick.call($k, e);
                                    }
                                };
                            })(mi, $k);
                            var $l = function(mi, $k) {
                                return function(e) {
                                    e.stopPropagation();
                                    e.preventDefault();
                                    var $m = function() {
                                        window.setTimeout(function() {
                                                $k.source.calendar.internal.touch.active = false;
                                            },
                                            500);
                                    };
                                    if (typeof mi.onClick === "function") {
                                        var $g = {};
                                        $g.item = mi;
                                        $g.originalEvent = e;
                                        $g.preventDefault = function() {
                                            $g.preventDefault.value = true;
                                        };
                                        mi.onClick($g);
                                        if ($g.preventDefault.value) {
                                            $m();
                                            return;
                                        }
                                    };
                                    if (mi.onclick) {
                                        mi.onclick.call($k, e);
                                    };
                                    DayPilotMenu.menuClean();
                                    $m();
                                };
                            };
                            $k.ontouchstart = function(ev) {
                                ev.stopPropagation();
                                ev.preventDefault();
                                $k.source.calendar.internal.touch.active = true;
                            };
                            $k.ontouchend = $l(mi, $k);
                        };
                        if (mi.onclick) {
                            $a();
                        } else if (mi.href) {
                            $k.href = mi.href.replace(/\x7B0\x7D/gim, $e);
                            if (mi.target) {
                                $k.setAttribute("target", mi.target);
                            }
                        } else if (mi.command) {
                            var $n = function(mi, $k) {
                                return function(e) {
                                    var $f = $k.source;
                                    var $i = mi;
                                    $i.action = $i.action ? $i.action: 'CallBack';
                                    var $o = $f.calendar || $f.root;
                                    if ($f instanceof DayPilot.Link) {
                                        $o.internal.linkMenuClick($i.command, $f, $i.action);
                                        return;
                                    } else if ($f instanceof DayPilot.Selection) {
                                        $o.internal.timeRangeMenuClick($i.command, $f, $i.action);
                                        return;
                                    } else if ($f instanceof DayPilot.Event) {
                                        $o.internal.eventMenuClick($i.command, $f, $i.action);
                                        return;
                                    } else if ($f instanceof DayPilot.Selection) {
                                        $o.internal.timeRangeMenuClick($i.command, $f, $i.action);
                                        return;
                                    } else if ($f instanceof DayPilot.Task) {
                                        if ($f.menuType === "resource") {
                                            $o.internal.resourceHeaderMenuClick($i.command, $k.menuSource, $i.action);
                                        } else {
                                            $o.internal.eventMenuClick($i.command, $k.menuSource, $i.action);
                                        };
                                        return;
                                    } else {
                                        switch ($f.menuType) {
                                            case 'resource':
                                                $o.internal.resourceHeaderMenuClick($i.command, $f, $i.action);
                                                return;
                                            case 'selection':
                                                $o.internal.timeRangeMenuClick($i.command, $f, $i.action);
                                                return;
                                            default:
                                                $o.internal.eventMenuClick($i.command, $f, $i.action);
                                                return;
                                        }
                                    };
                                    e.preventDefault();
                                };
                            };
                            $k.onclick = $n(mi, $k);
                            $k.ontouchend = $n(mi, $k);
                        }
                    };
                    $k.source = $f;
                    $k.menuSource = e;
                    var $p = document.createElement("span");
                    $p.className = $c.applyCssClass("item_text");
                    $p.innerHTML = mi.text;
                    $k.appendChild($p);
                    if (mi.image) {
                        var $q = document.createElement("img");
                        $q.src = mi.image;
                        $q.style.position = 'absolute';
                        $q.style.top = '0px';
                        $q.style.left = '0px';
                        $k.appendChild($q);
                    };
                    if (mi.icon) {
                        var $r = document.createElement("span");
                        $r.className = $c.applyCssClass("item_icon");
                        var $s = document.createElement("i");
                        $s.className = mi.icon;
                        $r.appendChild($s);
                        $k.appendChild($r);
                    };
                    var $t = function(mi, $k) {
                        return function() {
                            var $f = $k.source;
                            var $i = mi;
                            var ws = DayPilotMenu.waitingSubmenu;
                            if (ws) {
                                if (ws.parent === $i) {
                                    return;
                                } else {
                                    clearTimeout(ws.timeout);
                                    DayPilotMenu.waitingSubmenu = null;
                                }
                            };
                            DayPilotMenu.waitingSubmenu = {};
                            DayPilotMenu.waitingSubmenu.parent = $i;
                            DayPilotMenu.waitingSubmenu.timeout = setTimeout(function() {
                                    DayPilotMenu.waitingSubmenu = null;
                                    if ($c.$R.submenu && $c.$R.submenu.item === $i) {
                                        return;
                                    };
                                    if ($c.$R.submenu && $c.$R.submenu.item !== $i) {
                                        DayPilot.Util.removeClass($c.$R.submenu.link.parentNode, $c.applyCssClass("item_haschildren_active"));
                                        $c.$R.submenu.menu.hide();
                                        $c.$R.submenu = null;
                                    };
                                    if (!$i.items) {
                                        return;
                                    };
                                    var $d = $c.cloneOptions();
                                    $d.items = $i.items;
                                    $c.$R.submenu = {};
                                    $c.$R.submenu.menu = new DayPilot.Menu($d);
                                    $c.$R.submenu.menu.show($f, {
                                        "submenu": true,
                                        "parentLink": $k,
                                        "parentItem": mi
                                    });
                                    $c.$R.submenu.item = $i;
                                    $c.$R.submenu.link = $k;
                                    DayPilot.Util.addClass($k.parentNode, $c.applyCssClass("item_haschildren_active"));
                                },
                                300);
                        };
                    };
                    $k.onmouseover = $t(mi, $k);
                    $i.appendChild($k);
                };
                $h.appendChild($i);
            };
            var $u = function(e) {
                window.setTimeout(function() {
                        DayPilotMenu.menuClean();
                        DayPilot.MenuBar.deactivate();
                    },
                    100);
            };
            $h.onclick = $u;
            $h.ontouchend = $u;
            $h.onmousedown = function(e) {
                e = e || window.event;
                e.cancelBubble = true;
                if (e.stopPropagation) e.stopPropagation();
            };
            $h.oncontextmenu = function() {
                return false;
            };
            document.body.appendChild($h);
            $c.$R.visible = true;
            $c.$R.source = e;
            $h.style.display = '';
            var $v = $h.offsetHeight;
            var $w = $h.offsetWidth;
            $h.style.display = 'none';
            var $x = document.documentElement.clientHeight;
            var $y = document.documentElement.clientWidth; (function adjustPosition() {
                var x = (typeof $d.x === "number") ? $d.x: DayPilotMenu.mouse.x + 1;
                var y = (typeof $d.y === "number") ? $d.y: DayPilotMenu.mouse.y + 1;
                if (DayPilotMenu.mouse.clientY > $x - $v && $x !== 0) {
                    var $z = DayPilotMenu.mouse.clientY - ($x - $v) + 5;
                    $h.style.top = (y - $z) + 'px';
                } else {
                    $h.style.top = y + 'px';
                };
                if (DayPilotMenu.mouse.clientX > $y - $w && $y !== 0) {
                    var $A = DayPilotMenu.mouse.clientX - ($y - $w) + 5;
                    $h.style.left = (x - $A) + 'px';
                } else {
                    $h.style.left = x + 'px';
                }
            })();
            if ($d.parentLink) {
                var parent = $d.parentLink;
                var $B = parseInt(new DayPilot.StyleReader($h).get("border-top-width"));
                var $C = DayPilot.abs($d.parentLink.parentNode);
                var x = $C.x + parent.offsetWidth;
                var y = $C.y - $B;
                if (x + $w > $y) {
                    x = Math.max(0, $C.x - $w);
                };
                var $D = document.body.scrollTop + document.documentElement.scrollTop;
                if (y + $v - $D > $x) {
                    y = Math.max(0, $x - $v + $D);
                };
                $h.style.left = x + "px";
                $h.style.top = y + "px";
            };
            $h.style.display = '';
            this.addShadow($h);
            this.$R.div = $h;
            if (!$d.submenu) {
                DayPilot.Menu.active = this;
            };
            this.$S = null; (function showInitiator() {
                var $E = $d.initiator;
                if (!$E) {
                    return;
                };
                var $h = $E.div;
                var e = $E.e;
                var $F = $E.area;
                var a = DayPilot.Areas.createArea($h, e, $F);
                $h.appendChild(a);
                $c.$S = a;
            })();
        };
        this.applyCssClass = function($G) {
            var $H = this.theme || this.cssClassPrefix;
            var $I = (this.cssOnly ? "_": "");
            if ($H) {
                return $H + $I + $G;
            } else {
                return "";
            }
        };
        this.cloneOptions = function() {
            var $d = {};
            var $J = ['cssOnly', 'cssClassPrefix', 'useShadow', 'zIndex'];
            for (var i = 0; i < $J.length; i++) {
                var p = $J[i];
                $d[p] = this[p];
            };
            return $d;
        };
        this.hide = function() {
            if (this.$R.submenu) {
                this.$R.submenu.menu.hide();
            };
            this.removeShadow();
            if (this.$R.div && this.$R.div.parentNode === document.body) {
                document.body.removeChild(this.$R.div);
            };
            if (this.$S) {
                DayPilot.de(this.$S);
                this.$S = null;
            };
            $c.$R.visible = false;
            $c.$R.source = null;
        };
        this.delayedHide = function() {
            DayPilotMenu.hideTimeout = setTimeout(function() {
                    $c.hide();
                },
                200);
        };
        this.cancelHideTimeout = function() {
            clearTimeout(DayPilotMenu.hideTimeout);
        };
        this.init = function(ev) {
            DayPilotMenu.mouseMove(ev);
        };
        this.addShadow = function($K) {
            return;
        };
        this.removeShadow = function() {
            if (!this.$R.shadows) {
                return;
            };
            for (var i = 0; i < this.$R.shadows.length; i++) {
                document.body.removeChild(this.$R.shadows[i]);
            };
            this.$R.shadows = [];
        };
        var $d = DayPilot.isArray($b) ? null: $b;
        if ($d) {
            for (var name in $d) {
                this[name] = $d[name];
            }
        }
    };
    DayPilot.MenuBar = function(id, $d) {
        var menubar = this;
        var $d = $d || {};
        var $b = $d.items;
        this.theme = "menubar_default";
        this.nav = {};
        this.elements = {};
        this.elements.items = DayPilot.list();
        this.$T = null;
        this.$U = function(cl) {
            return this.theme + "_" + cl;
        };
        this.$V = function() {
            this.nav.top = document.getElementById(id);
            var top = this.nav.top;
            top.className = this.$U("main");
            DayPilot.list($b).each(function($i) {
                var $h = document.createElement("span");
                $h.innerHTML = $i.text;
                $h.className = menubar.$U("item");
                $h.data = $i;
                $h.onclick = function() {
                    if ($i.children) {
                        menubar.$W($h);
                    }
                };
                $h.onmousedown = function(ev) {
                    ev.stopPropagation();
                };
                $h.onmouseover = function() {
                    if (menubar.active && menubar.active.item !== $i) {
                        menubar.$W($h);
                    }
                };
                top.appendChild($h);
                menubar.elements.items.push($h);
            });
        };
        this.$X = function() {
            var $L = menubar.$U("item_active");
            menubar.elements.items.each(function($h) {
                DayPilot.Util.removeClass($h, $L);
            });
            if (menubar.active && menubar.active.menu) {
                menubar.active.menu.hide();
            };
            menubar.active = null;
        };
        this.$Y = function($h) {
            if (!menubar.active) {
                return false;
            };
            return menubar.active.item === $h.data;
        };
        this.$W = function($h) {
            if (menubar.$Y($h)) {
                return;
            };
            menubar.$X();
            var $i = $h.data;
            var a = menubar.active = {};
            a.item = $i;
            a.div = $h;
            var $L = menubar.$U("item_active");
            DayPilot.Util.addClass($h, $L);
            if ($i.children) {
                a.menu = new DayPilot.Menu({
                    "items": $i.children
                });
                a.menu.show(null, {
                    "x": $h.offsetLeft,
                    "y": $h.offsetTop + $h.offsetHeight
                });
            };
            DayPilot.MenuBar.active = menubar;
        };
        this.init = function() {
            this.$V();
        };
    };
    DayPilot.MenuBar.deactivate = function() {
        if (DayPilot.MenuBar.active) {
            DayPilot.MenuBar.active.$X();
            DayPilot.MenuBar.active = null;
        }
    };
    DayPilotMenu.menuClean = function() {
        if (typeof(DayPilot.Menu.active) === 'undefined') return;
        if (DayPilot.Menu.active) {
            DayPilot.Menu.active.hide();
            DayPilot.Menu.active = null;
        }
    };
    DayPilotMenu.mouseDown = function(ev) {
        if (typeof(DayPilotMenu) === 'undefined') {
            return;
        };
        DayPilotMenu.menuClean();
        DayPilot.MenuBar.deactivate();
    };
    DayPilotMenu.mouseMove = function(ev) {
        if (typeof(DayPilotMenu) === 'undefined') {
            return;
        };
        DayPilotMenu.mouse = DayPilotMenu.mousePosition(ev);
    };
    DayPilotMenu.touchMove = function(ev) {
        if (typeof(DayPilotMenu) === 'undefined') {
            return;
        };
        DayPilotMenu.mouse = DayPilotMenu.touchPosition(ev);
    };
    DayPilotMenu.touchStart = function(ev) {
        if (typeof(DayPilotMenu) === 'undefined') {
            return;
        };
        DayPilotMenu.mouse = DayPilotMenu.touchPosition(ev);
    };
    DayPilotMenu.touchEnd = function(ev) {};
    DayPilotMenu.touchPosition = function(ev) {
        if (!ev || !ev.touches) {
            return null;
        };
        var $M = ev.touches[0];
        var $N = {};
        $N.x = $M.pageX;
        $N.y = $M.pageY;
        $N.clientX = $M.clientX;
        $N.clientY = $M.clientY;
        return $N;
    };
    DayPilotMenu.mousePosition = function(e) {
        var $O = 0;
        var $P = 0;
        var e = e || window.event;
        if (e.pageX || e.pageY) {
            $O = e.pageX;
            $P = e.pageY;
        } else if (e.clientX || e.clientY) {
            $O = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;
            $P = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;
        };
        var $Q = {};
        $Q.x = $O;
        $Q.y = $P;
        $Q.clientY = e.clientY;
        $Q.clientX = e.clientX;
        return $Q;
    };
    DayPilot.Menu.touchPosition = function(ev) {
        if (ev.touches) {
            DayPilotMenu.mouse = DayPilotMenu.touchPosition(ev);
        }
    };
    DayPilot.MenuVisible.Menu = DayPilotMenu.Menu;
    if (!DayPilotMenu.handlersRegistered) {
        DayPilot.re(document, 'mousemove', DayPilotMenu.mouseMove);
        DayPilot.re(document, 'mousedown', DayPilotMenu.mouseDown);
        DayPilot.re(document, 'touchmove', DayPilotMenu.touchMove);
        DayPilot.re(document, 'touchstart', DayPilotMenu.touchStart);
        DayPilot.re(document, 'touchend', DayPilotMenu.touchEnd);
        DayPilotMenu.handlersRegistered = true;
    };
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();

if (typeof(DayPilot) === 'undefined') {
    DayPilot = {};
}; (function() {
    DayPilot.ModalStatic = {};
    DayPilot.ModalStatic.list = [];
    DayPilot.ModalStatic.hide = function() {
        if (this.list.length > 0) {
            var $a = this.list.pop();
            if ($a) {
                $a.hide();
            }
        }
    };
    DayPilot.ModalStatic.remove = function($b) {
        var $c = DayPilot.ModalStatic.list;
        for (var i = 0; i < $c.length; i++) {
            if ($c[i] === $b) {
                $c.splice(i, 1);
                return;
            }
        }
    };
    DayPilot.ModalStatic.close = function($d) {
        DayPilot.ModalStatic.result($d);
        DayPilot.ModalStatic.hide();
    };
    DayPilot.ModalStatic.result = function(r) {
        var $c = DayPilot.ModalStatic.list;
        if ($c.length > 0) {
            $c[$c.length - 1].result = r;
        }
    };
    DayPilot.ModalStatic.displayed = function($b) {
        var $c = DayPilot.ModalStatic.list;
        for (var i = 0; i < $c.length; i++) {
            if ($c[i] === $b) {
                return true;
            }
        };
        return false;
    };
    DayPilot.ModalStatic.stretch = function() {
        if (this.list.length > 0) {
            var $a = this.list[this.list.length - 1];
            if ($a) {
                $a.stretch();
            }
        }
    };
    DayPilot.ModalStatic.last = function() {
        var $c = DayPilot.ModalStatic.list;
        if ($c.length > 0) {
            return $c[$c.length - 1];
        };
        return null;
    };
    var $e = function() {
        var style = document.createElement("style");
        style.setAttribute("type", "text/css");
        if (!style.styleSheet) {
            style.appendChild(document.createTextNode(""));
        };
        var h = document.head || document.getElementsByTagName('head')[0];
        h.appendChild(style);
        var $f = !!style.styleSheet;
        var $g = {};
        $g.rules = [];
        $g.commit = function() {
            try {
                if ($f) {
                    style.styleSheet.cssText = this.rules.join("\n");
                }
            } catch(e) {}
        };
        $g.add = function($h, $i, $j) {
            if ($f) {
                this.rules.push($h + "{" + $i + "\u007d");
                return;
            };
            if (style.sheet.insertRule) {
                if (typeof $j === "undefined") {
                    $j = style.sheet.cssRules.length;
                };
                style.sheet.insertRule($h + "{" + $i + "\u007d", $j);
            } else if (style.sheet.addRule) {
                style.sheet.addRule($h, $i, $j);
            } else {
                throw "No CSS registration method found";
            }
        };
        return $g;
    };
    var $g = new $e();
    $g.add(".modal_default_main", "border: 10px solid #ccc;");
    $g.add(".modal_default_inner", "padding: 10px;");
    $g.add(".modal_default_input", "padding: 10px 0px;");
    $g.add(".modal_default_buttons", "padding: 10px 0px;");
    $g.add(".modal_default_background", "opacity: 0.3; background-color: #000;");
    $g.add(".modal_min_main", "border: 1px solid #ccc;");
    $g.add(".modal_min_background", "opacity: 0.3; background-color: #000;");
    $g.commit();
    DayPilot.Modal = function($k) {
        this.autoStretch = true;
        this.autoStretchFirstLoadOnly = false;
        this.className = null;
        this.theme = "modal_default";
        this.disposeOnClose = true;
        this.dragDrop = true;
        this.loadingHtml = null;
        this.maxHeight = null;
        this.scrollWithPage = true;
        this.useIframe = true;
        this.zIndex = null;
        this.left = null;
        this.width = 500;
        this.top = 20;
        this.height = 200;
        this.closed = null;
        this.onClosed = null;
        this.onShow = null;
        var $l = this;
        this.id = '_' + new Date().getTime() + 'n' + (Math.random() * 10);
        this.$0c = false;
        this.$0d = null;
        this.$0e = null;
        this.showHtml = function($m) {
            if (DayPilot.ModalStatic.displayed(this)) {
                throw "This modal dialog is already displayed.";
            };
            if (!this.div) {
                this.$0f();
            };
            this.$0g();
            if (this.useIframe) {
                var $n = function(p, $o) {
                    return function() {
                        p.setInnerHTML(p.id + "iframe", $o);
                    };
                };
                window.setTimeout($n(this, $m), 0);
            } else {
                if ($m.nodeType) {
                    this.div.appendChild($m);
                } else {
                    this.div.innerHTML = $m;
                }
            };
            this.$0g();
            this.$0h();
            this.$0i();
        };
        this.$0j = function() {
            return this.corners && this.corners.toLowerCase() === 'rounded';
        };
        this.showUrl = function($p) {
            if (DayPilot.ModalStatic.displayed(this)) {
                throw "This modal dialog is already displayed.";
            };
            if (this.useIframe) {
                if (!this.div) {
                    this.$0f();
                };
                var $q = this.loadingHtml;
                if ($q) {
                    this.iframe.src = "about:blank";
                    this.setInnerHTML(this.id + "iframe", $q);
                };
                this.re(this.iframe, "load", this.$0k);
                this.iframe.src = $p;
                this.$0g();
                this.$0h();
                this.$0i();
            } else {
                $l.$0l({
                    "url": $p,
                    "success": function($r) {
                        var $m = $r.request.responseText;
                        $l.showHtml($m);
                    },
                    "error": function($r) {
                        $l.showHtml("Error loading the modal dialog");
                    }
                })
            }
        };
        this.$0i = function() {
            if (typeof $l.onShow === "function") {
                var $r = {};
                $r.root = $l.$0m();
                $l.onShow($r);
            }
        };
        this.$0m = function() {
            return $l.iframe ? $l.iframe.contentWindow.document: $l.div;
        };
        this.$0l = function($s) {
            var $t = new XMLHttpRequest();
            if (!$t) {
                return;
            };
            var $u = $s.method || "GET";
            var $v = $s.success ||
                function() {};
            var $w = $s.error ||
                function() {};
            var $x = $s.data;
            var $p = $s.url;
            $t.open($u, $p, true);
            $t.setRequestHeader('Content-type', 'text/plain');
            $t.onreadystatechange = function() {
                if ($t.readyState !== 4) return;
                if ($t.status !== 200 && $t.status !== 304) {
                    if ($w) {
                        var $r = {};
                        $r.request = $t;
                        $w($r);
                    } else {
                        if (window.console) {
                            console.log('HTTP error ' + $t.status);
                        }
                    };
                    return;
                };
                var $r = {};
                $r.request = $t;
                $v($r);
            };
            if ($t.readyState === 4) {
                return;
            };
            if (typeof $x === 'object') {
                $x = JSON.stringify($x);
            };
            $t.send($x);
        };
        this.$0g = function() {
            var $y = window;
            var $z = document;
            var scrollY = $y.pageYOffset ? $y.pageYOffset: (($z.documentElement && $z.documentElement.scrollTop) ? $z.documentElement.scrollTop: $z.body.scrollTop);
            var $A = function() {
                return $l.$0n().y;
            };
            if (this.theme) {
                this.hideDiv.className = this.theme + "_background";
            };
            if (this.zIndex) {
                this.hideDiv.style.zIndex = this.zIndex;
            };
            this.hideDiv.style.display = '';
            window.setTimeout(function() {
                    $l.hideDiv.onclick = function() {
                        $l.hide({
                            "backgroundClick": true
                        });
                    };
                },
                500);
            if (this.theme) {
                this.div.className = this.theme + "_main";
            } else {
                this.div.className = "";
            };
            if (this.className) {
                this.div.className += " " + this.className;
            };
            if (this.left) {
                this.div.style.left = this.left + "px";
            } else {
                this.div.style.marginLeft = '-' + Math.floor(this.width / 2) + "px";
            };
            this.div.style.position = 'absolute';
            this.div.style.boxSizing = "content-box";
            this.div.style.top = (scrollY + this.top) + 'px';
            this.div.style.width = this.width + 'px';
            if (this.zIndex) {
                this.div.style.zIndex = this.zIndex;
            };
            if (this.height) {
                if (this.useIframe || !this.autoStretch) {
                    this.div.style.height = this.height + 'px';
                } else {
                    this.div.style.height = '';
                }
            };
            if (this.useIframe && this.height) {
                this.iframe.style.height = (this.height) + 'px';
            };
            this.div.style.display = '';
            DayPilot.ModalStatic.list.push(this);
        };
        this.$0k = function() {
            $l.iframe.contentWindow.modal = $l;
            if ($l.autoStretch) {
                $l.stretch();
            }
        };
        this.stretch = function() {
            var $A = function() {
                return $l.$0n().y;
            };
            var $B = function() {
                return $l.$0n().x;
            };
            if (this.useIframe) {
                var $C = $B() - 40;
                for (var w = this.width; w < $C && this.$0o(); w += 10) {
                    this.div.style.width = w + 'px';
                    this.div.style.marginLeft = '-' + Math.floor(w / 2) + "px";
                };
                var $D = this.maxHeight || $A() - 2 * this.top;
                for (var h = this.height; h < $D && this.$0p(); h += 10) {
                    this.iframe.style.height = (h) + 'px';
                    this.div.style.height = h + 'px';
                };
                if (this.autoStretchFirstLoadOnly) {
                    this.ue(this.iframe, "load", this.$0k);
                }
            } else {
                this.div.style.height = '';
            }
        };
        this.$0o = function() {
            var document = this.iframe.contentWindow.document;
            var $E = document.compatMode === 'BackCompat' ? document.body: document.documentElement;
            var $F = $E.scrollWidth;
            var $G = document.body.children;
            for (var i = 0; i < $G.length; i++) {
                var $H = $G[i].offsetLeft + $G[i].offsetWidth;
                $F = Math.max($F, $H);
            };
            var $I = $F > $E.clientWidth;
            return $I;
        };
        this.$0p = function() {
            var document = this.iframe.contentWindow.document;
            var $E = document.compatMode === 'BackCompat' ? document.body: document.documentElement;
            var $J = $E.scrollHeight;
            var $G = document.body.children;
            for (var i = 0; i < $G.length; i++) {
                var $H = $G[i].offsetTop + $G[i].offsetHeight;
                $J = Math.max($J, $H);
            };
            var $K = $J > $E.clientHeight;
            return $K;
        };
        this.$0n = function() {
            var $z = document;
            if ($z.compatMode === "CSS1Compat" && $z.documentElement && $z.documentElement.clientWidth) {
                var x = $z.documentElement.clientWidth;
                var y = $z.documentElement.clientHeight;
                return {
                    x: x,
                    y: y
                };
            } else {
                var x = $z.body.clientWidth;
                var y = $z.body.clientHeight;
                return {
                    x: x,
                    y: y
                };
            }
        };
        this.$0h = function() {
            if (this.$0c) {
                return;
            };
            this.re(window, 'resize', this.$0q);
            this.re(window, 'scroll', this.$0r);
            if (this.dragDrop) {
                this.re(document, 'mousemove', this.$0s);
                this.re(document, 'mouseup', this.$0t);
            };
            this.$0c = true;
        };
        this.$0u = function(e) {
            if (e.target !== $l.div) {
                return;
            };
            $l.div.style.cursor = "move";
            $l.$0v();
            $l.$0e = $l.mc(e || window.event);
            $l.$0d = {
                x: $l.div.offsetLeft,
                y: $l.div.offsetTop
            };
        };
        this.$0s = function(e) {
            if (!$l.$0e) {
                return;
            };
            var e = e || window.event;
            var $L = $l.mc(e);
            var x = $L.x - $l.$0e.x;
            var y = $L.y - $l.$0e.y;
            $l.div.style.marginLeft = '0px';
            $l.div.style.top = ($l.$0d.y + y) + "px";
            $l.div.style.left = ($l.$0d.x + x) + "px";
        };
        this.$0t = function(e) {
            if (!$l.$0e) {
                return;
            };
            $l.$0w();
            $l.div.style.cursor = null;
            $l.$0e = null;
        };
        this.$0v = function() {
            if (!this.useIframe) {
                return;
            };
            var $M = 80;
            var $N = document.createElement("div");
            $N.style.backgroundColor = "#ffffff";
            $N.style.filter = "alpha(opacity=" + $M + ")";
            $N.style.opacity = "0." + $M;
            $N.style.width = "100%";
            $N.style.height = this.height + "px";
            $N.style.position = "absolute";
            $N.style.left = '0px';
            $N.style.top = '0px';
            this.div.appendChild($N);
            this.mask = $N;
        };
        this.$0w = function() {
            if (!this.useIframe) {
                return;
            };
            this.div.removeChild(this.mask);
            this.mask = null;
        };
        this.$0q = function() {
            $l.$0x;
        };
        this.$0r = function() {
            $l.$0x;
        };
        this.$0x = function() {
            if (!$l.hideDiv) {
                return;
            };
            if (!$l.div) {
                return;
            };
            if ($l.hideDiv.style.display === 'none') {
                return;
            };
            if ($l.div.style.display === 'none') {
                return;
            };
            var scrollY = window.pageYOffset ? window.pageYOffset: ((document.documentElement && document.documentElement.scrollTop) ? document.documentElement.scrollTop: document.body.scrollTop);
            if (!$l.scrollWithPage) {
                $l.div.style.top = (scrollY + $l.top) + 'px';
            }
        };
        this.re = function(el, ev, $O) {
            if (el.addEventListener) {
                el.addEventListener(ev, $O, false);
            } else if (el.attachEvent) {
                el.attachEvent("on" + ev, $O);
            }
        };
        this.ue = function(el, ev, $O) {
            if (el.removeEventListener) {
                el.removeEventListener(ev, $O, false);
            } else if (el.detachEvent) {
                el.detachEvent("on" + ev, $O);
            }
        };
        this.mc = function(ev) {
            if (ev.pageX || ev.pageY) {
                return {
                    x: ev.pageX,
                    y: ev.pageY
                };
            };
            return {
                x: ev.clientX + document.documentElement.scrollLeft,
                y: ev.clientY + document.documentElement.scrollTop
            };
        };
        this.abs = function(element) {
            var r = {
                x: element.offsetLeft,
                y: element.offsetTop
            };
            while (element.offsetParent) {
                element = element.offsetParent;
                r.x += element.offsetLeft;
                r.y += element.offsetTop;
            };
            return r;
        };
        this.$0f = function() {
            var $P = document.createElement("div");
            $P.id = this.id + "hide";
            $P.style.position = 'fixed';
            $P.style.left = "0px";
            $P.style.top = "0px";
            $P.style.right = "0px";
            $P.style.bottom = "0px";
            $P.oncontextmenu = function() {
                return false;
            };
            $P.onmousedown = function() {
                return false;
            };
            document.body.appendChild($P);
            var $Q = document.createElement("div");
            $Q.id = this.id + 'popup';
            $Q.style.position = 'fixed';
            $Q.style.left = '50%';
            $Q.style.top = '0px';
            $Q.style.backgroundColor = 'white';
            $Q.style.width = "50px";
            $Q.style.height = "50px";
            if (this.dragDrop) {
                $Q.onmousedown = this.$0u;
            };
            var $R = 50;
            var $S = null;
            if (this.useIframe) {
                $S = document.createElement("iframe");
                $S.id = this.id + "iframe";
                $S.name = this.id + "iframe";
                $S.frameBorder = '0';
                $S.style.width = '100%';
                $S.style.height = $R + 'px';
                $Q.appendChild($S);
            };
            document.body.appendChild($Q);
            this.div = $Q;
            this.iframe = $S;
            this.hideDiv = $P;
        };
        this.setInnerHTML = function(id, $o) {
            var $T = window.frames[id];
            var $z = $T.contentWindow || $T.document || $T.contentDocument;
            if ($z.document) {
                $z = $z.document;
            };
            if ($z.body == null) {
                $z.write("<body></body>");
            };
            if ($o.nodeType) {
                $z.body.appendChild($o);
            } else {
                $z.body.innerHTML = $o;
            };
            if ($l.autoStretch) {
                if (!$l.autoStretchFirstLoadOnly || !$l.$0y) {
                    $l.stretch();
                    $l.$0y = true;
                }
            }
        };
        this.close = function($d) {
            this.result = $d;
            this.hide();
        };
        this.hide = function($k) {
            $k = $k || {};
            var $r = {};
            $r.backgroundClick = !!$k.backgroundClick;
            $r.result = this.result;
            $r.preventDefault = function() {
                this.preventDefault.value = true;
            };
            if (typeof this.onClose === "function") {
                this.onClose($r);
                if ($r.preventDefault.value) {
                    return;
                }
            };
            if (this.div) {
                this.div.style.display = 'none';
                this.hideDiv.style.display = 'none';
                if (!this.useIframe) {
                    this.div.innerHTML = null;
                }
            };
            window.focus();
            DayPilot.ModalStatic.remove(this);
            if (typeof this.onClosed === "function") {
                this.onClosed($r);
            } else if (this.closed) {
                this.closed();
            };
            this.result = null;
            if (this.disposeOnClose && $l.div) {
                var p = $l.div.parentNode;
                p.removeChild($l.div);
                $l.div = null;
            }
        };
        this.$0z = function() {
            if (!$k) {
                return;
            };
            for (var name in $k) {
                this[name] = $k[name];
            }
        };
        this.$0z();
    };
    DayPilot.Modal.alert = function($U, $k) {
        $k = $k || {};
        $k.height = $k.height || 40;
        $k.useIframe = false;
        var $V = $k.okText || "OK";
        var $W = $k.cancelText || "Cancel";
        return DayPilot.getPromise(function($v, $X) {
            $k.onClosed = function($r) {
                $v($r);
            };
            var $b = new DayPilot.Modal($k);
            var $Q = document.createElement("div");
            $Q.className = $b.theme + "_inner";
            var $Y = document.createElement("div");
            $Y.className = $b.theme + "_content";
            $Y.innerHTML = $U;
            var $Z = document.createElement("div");
            $Z.className = $b.theme + "_buttons";
            var $00 = document.createElement("button");
            $00.innerText = $V;
            $00.className = $b.theme + "_ok";
            $00.onclick = function(e) {
                parent.DayPilot.ModalStatic.close("OK");
            };
            $Z.appendChild($00);
            $Q.appendChild($Y);
            $Q.appendChild($Z);
            $b.showHtml($Q);
            $00.focus();
        });
    };
    DayPilot.Modal.confirm = function($U, $k) {
        $k = $k || {};
        $k.height = $k.height || 40;
        $k.useIframe = false;
        var $V = $k.okText || "OK";
        var $W = $k.cancelText || "Cancel";
        return DayPilot.getPromise(function($v, $X) {
            $k.onClosed = function($r) {
                $v($r);
            };
            var $b = new DayPilot.Modal($k);
            var $Q = document.createElement("div");
            $Q.className = $b.theme + "_inner";
            var $Y = document.createElement("div");
            $Y.className = $b.theme + "_content";
            $Y.innerHTML = $U;
            var $Z = document.createElement("div");
            $Z.className = $b.theme + "_buttons";
            var $00 = document.createElement("button");
            $00.innerText = $V;
            $00.className = $b.theme + "_ok";
            $00.onclick = function(e) {
                parent.DayPilot.ModalStatic.close("OK");
            };
            var $01 = document.createTextNode(" ");
            var $02 = document.createElement("button");
            $02.innerText = $W;
            $02.className = $b.theme + "_cancel";
            $02.onclick = function(e) {
                parent.DayPilot.ModalStatic.close();
            };
            $Z.appendChild($00);
            $Z.appendChild($01);
            $Z.appendChild($02);
            $Q.appendChild($Y);
            $Q.appendChild($Z);
            $b.showHtml($Q);
            $00.focus();
        });
    };
    DayPilot.Modal.prompt = function($U, $k) {
        $k = $k || {};
        $k.height = $k.height || 40;
        $k.useIframe = false;
        var $V = $k.okText || "OK";
        var $W = $k.cancelText || "Cancel";
        return DayPilot.getPromise(function($v, $X) {
            $k.onClosed = function($r) {
                $v($r);
            };
            var $b = new DayPilot.Modal($k);
            var $Q = document.createElement("div");
            $Q.className = $b.theme + "_inner";
            var $Y = document.createElement("div");
            $Y.className = $b.theme + "_content";
            $Y.innerHTML = $U;
            var $03 = document.createElement("div");
            $03.className = $b.theme + "_input";
            var $04 = document.createElement("input");
            $04.style.width = "100%";
            $04.onkeydown = function(e) {
                switch (e.keyCode) {
                    case 13:
                        parent.DayPilot.ModalStatic.close(this.value);
                        break;
                    case 27:
                        parent.DayPilot.ModalStatic.close();
                        break;
                }
            };
            $03.appendChild($04);
            var $Z = document.createElement("div");
            $Z.className = $b.theme + "_buttons";
            var $00 = document.createElement("button");
            $00.innerText = $V;
            $00.className = $b.theme + "_ok";
            $00.onclick = function(e) {
                parent.DayPilot.ModalStatic.close($04.value);
            };
            var $01 = document.createTextNode(" ");
            var $02 = document.createElement("button");
            $02.innerText = $W;
            $02.className = $b.theme + "_cancel";
            $02.onclick = function(e) {
                parent.DayPilot.ModalStatic.close();
            };
            $Z.appendChild($00);
            $Z.appendChild($01);
            $Z.appendChild($02);
            $Q.appendChild($Y);
            $Q.appendChild($03);
            $Q.appendChild($Z);
            $b.showHtml($Q);
            $04.focus();
        });
    };
    DayPilot.Modal.close = function($d) {
        if (parent && parent.DayPilot && parent.DayPilot.ModalStatic) {
            parent.DayPilot.ModalStatic.close($d);
        } else {
            throw "Unable to close DayPilot.Modal dialog.";
        }
    };
    DayPilot.Modal.closeSerialized = function() {
        var $a = DayPilot.Modal.opener() || DayPilot.ModalStatic.last();
        var $05 = $a.$0m();
        var $06 = $05.querySelectorAll("input, textarea, select");
        var $d = {};
        for (var i = 0; i < $06.length; i++) {
            var $07 = $06[i];
            var name = $07.name;
            if (!name) {
                continue;
            };
            var $08 = $07.value;
            $d[name] = $08;
        };
        DayPilot.Modal.close($d);
    };
    DayPilot.Modal.opener = function() {
        return parent && parent.DayPilot && parent.DayPilot.ModalStatic && parent.DayPilot.ModalStatic.list[parent.DayPilot.ModalStatic.list.length - 1];
    };
    if (typeof DayPilot.getPromise === "undefined") {
        DayPilot.getPromise = function(f) {
            if (typeof $09 !== 'undefined') {
                return new $09(f);
            };
            DayPilot.Promise = function(f) {
                var p = this;
                this.then = function($0a, $0b) {
                    $0a = $0a ||
                        function() {};
                    $0b = $0b ||
                        function() {};
                    f($0a, $0b);
                    return DayPilot.getPromise(f);
                };
                this['catch'] = function($0b) {
                    p.then(null, $0b);
                    return DayPilot.getPromise(f);
                };
            };
            return new DayPilot.Promise(f);
        };
    }
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
if (typeof DayPilotMonth === 'undefined') {
    var DayPilotMonth = DayPilot.MonthVisible = {};
}; (function() {
    var $a = function() {};
    if (typeof DayPilot.Month !== 'undefined') {
        return;
    };
    var DayPilotMonth = {};
    DayPilot.Month = function(id, $b) {
        this.v = '2607';
        this.nav = {};
        var $c = this;
        this.id = id;
        this.isMonth = true;
        this.api = 2;
        this.$26 = false;
        this.hideUntilInit = true;
        this.startDate = new DayPilot.Date();
        this.width = null;
        this.cssClassPrefix = "month_default";
        this.cellHeight = 100;
        this.cellMarginBottom = 0;
        this.allowMultiSelect = true;
        this.autoRefreshCommand = 'refresh';
        this.autoRefreshEnabled = false;
        this.autoRefreshInterval = 60;
        this.autoRefreshMaxCount = 20;
        this.doubleClickTimeout = 300;
        this.eventEndSpec = "DateTime";
        this.eventFontColor = "#000000";
        this.eventFontFamily = "Tahoma";
        this.eventFontSize = "11px";
        this.headerBackColor = '#ECE9D8';
        this.headerFontColor = '#000000';
        this.headerFontFamily = "Tahoma";
        this.headerFontSize = "10pt";
        this.headerHeight = 20;
        this.heightSpec = "Auto";
        this.weekStarts = 0;
        this.innerBorderColor = '#cccccc';
        this.borderColor = 'black';
        this.eventHeight = 25;
        this.cellHeaderHeight = 16;
        this.numberFormat = "0.00";
        this.clientState = {};
        this.afterRender = function() {};
        this.backColor = '#FFFFD5';
        this.nonBusinessBackColor = '#FFF4BC';
        this.cellHeaderBackColor = '';
        this.cellHeaderFontColor = '#000000';
        this.cellHeaderFontFamily = 'Tahoma';
        this.cellHeaderFontSize = '10pt';
        this.cssOnly = true;
        this.eventBackColor = 'White';
        this.eventBorderColor = 'Black';
        this.eventCorners = "Regular";
        this.eventFontColor = '#000000';
        this.eventFontFamily = 'Tahoma';
        this.eventFontSize = '11px';
        this.cellWidth = 14.285;
        this.lineSpace = 1;
        this.locale = "en-us";
        this.messageHideAfter = 5000;
        this.notifyCommit = 'Immediate';
        this.visible = true;
        this.eventMoveToPosition = false;
        this.eventTextLayer = 'Top';
        this.eventStartTime = false;
        this.eventEndTime = false;
        this.eventStartEndWidth = 60;
        this.eventTextAlignment = null;
        this.eventTextLeftIndent = 20;
        this.showWeekend = true;
        this.cellMode = false;
        this.shadowType = "Fill";
        this.tapAndHoldTimeout = 300;
        this.timeFormat = "Auto";
        this.eventTimeFontColor = 'gray';
        this.eventTimeFontFamily = 'Tahoma';
        this.eventTimeFontSize = '8pt';
        this.viewType = 'Month';
        this.weeks = 1;
        this.eventClickHandling = 'Enabled';
        this.eventDeleteHandling = "Disabled";
        this.eventDoubleClickHandling = 'Enabled';
        this.eventMoveHandling = 'Update';
        this.eventResizeHandling = 'Update';
        this.eventRightClickHandling = 'ContextMenu';
        this.eventSelectHandling = 'Update';
        this.headerClickHandling = "Enabled";
        this.timeRangeSelectedHandling = 'Enabled';
        this.timeRangeDoubleClickHandling = 'Enabled';
        this.onEventFilter = null;
        this.backendUrl = null;
        this.cellEvents = [];
        this.elements = {};
        this.elements.events = [];
        this.$27 = {};
        this.$27.events = {};
        this.events = {};
        this.$28 = 0;
        this.members = {};
        this.members.ignore = ["internal", "nav", "debug", "temp", "elements", "members", "cellProperties"];
        this.$29 = function($d, $e) {
            var $d = DayPilot.Util.parseJSON($d);
            if ($d.BubbleGuid) {
                var $f = $d.BubbleGuid;
                var $g = this.bubbles[$f];
                delete this.bubbles[$f];
                $c.$2a();
                if (typeof $d.Result.BubbleHTML !== 'undefined') {
                    $g.updateView($d.Result.BubbleHTML, $g);
                };
                return;
            };
            if ($d.CallBackRedirect) {
                document.location.href = $d.CallBackRedirect;
                return;
            };
            if (typeof $d.ClientState !== 'undefined') {
                $c.clientState = $d.ClientState;
            };
            if ($d.UpdateType === "None") {
                $c.$2b($d.CallBackData, true);
                if ($d.Message) {
                    $c.message($d.Message);
                };
                return;
            };
            if ($d.VsUpdate) {
                var $h = document.createElement("input");
                $h.type = 'hidden';
                $h.name = $c.id + "_vsupdate";
                $h.id = $h.name;
                $h.value = $d.VsUpdate;
                $c.$2c.innerHTML = '';
                $c.$2c.appendChild($h);
            };
            $c.events.list = $d.Events;
            if (typeof $d.TagFields !== 'undefined') {
                $c.tagFields = $d.TagFields;
            };
            if (typeof $d.SortDirections !== 'undefined') {
                $c.sortDirections = $d.SortDirections;
            };
            if ($d.UpdateType === "Full") {
                $c.cellProperties = $d.CellProperties;
                $c.headerProperties = $d.HeaderProperties;
                $c.startDate = $d.StartDate;
                if (typeof $d.ShowWeekend !== 'undefined') {
                    $c.showWeekend = $d.ShowWeekend;
                };
                $c.headerBackColor = $d.HeaderBackColor ? $d.HeaderBackColor: $c.headerBackColor;
                $c.backColor = $d.BackColor ? $d.BackColor: $c.backColor;
                $c.nonBusinessBackColor = $d.NonBusinessBackColor ? $d.NonBusinessBackColor: $c.nonBusinessBackColor;
                $c.locale = $d.Locale ? $d.Locale: $c.locale;
                $c.timeFormat = $d.TimeFormat ? $d.TimeFormat: $c.timeFormat;
                if (typeof $d.WeekStarts !== 'undefined') {
                    $c.weekStarts = $d.WeekStarts;
                };
                $c.hashes = $d.Hashes;
            };
            $c.multiselect.clear(true);
            $c.multiselect.initList = $d.SelectedEvents;
            $c.$2d();
            $c.$2e();
            $c.$2f();
            if ($d.UpdateType === "Full") {
                $c.$2g();
                $c.$2h();
            };
            $c.$2i();
            $c.$2j();
            $c.$2k();
            $c.$2b($d.CallBackData, true);
            $c.$2l();
            if ($d.Message) {
                $c.message($d.Message);
            }
        };
        this.$2b = function($i, $j) {
            var $k = function($i, $l) {
                return function() {
                    if ($c.$2m()) {
                        if (typeof $c.onAfterRender === 'function') {
                            var $m = {};
                            $m.isCallBack = $l;
                            $m.data = $i;
                            $c.onAfterRender($m);
                        }
                    } else {
                        if ($c.afterRender) {
                            $c.afterRender($i, $l);
                        }
                    }
                };
            };
            window.setTimeout($k($i, $j), 0);
        };
        this.$2m = function() {
            return $c.api === 2;
        };
        this.$2n = function($n) {
            var $o = this.theme || this.cssClassPrefix;
            if ($o) {
                return $o + $n;
            } else {
                return "";
            }
        };
        this.$2f = function() {
            if (!this.events.list) {
                return;
            };
            if (typeof this.onBeforeEventRender === 'function') {
                var length = this.events.list.length;
                for (var i = 0; i < length; i++) {
                    this.$2o(i);
                }
            };
            if (this.cellMode) {
                this.$2p();
            } else {
                this.$2q();
            }
        };
        this.$2a = function() {};
        this.$2q = function() {
            if (!this.events.list) {
                return;
            };
            for (var x = 0; x < this.events.list.length; x++) {
                var e = this.events.list[x];
                var $p = null;
                if (typeof $c.onBeforeEventRender === 'function') {
                    $p = $c.$27.events[x];
                };
                if ($p) {
                    if ($p.hidden) {
                        continue;
                    }
                } else if (e.hidden) {
                    continue;
                };
                var $q = new DayPilot.Date(e.start);
                var end = new DayPilot.Date(e.end);
                end = $c.$2r(end);
                if ($q.getTime() > end.getTime()) {
                    continue;
                };
                for (var i = 0; i < this.rows.length; i++) {
                    var $r = this.rows[i];
                    if ($r.belongsHere($q, end)) {
                        var ep = new DayPilot.Event(e, $c);
                        if (typeof $c.onEventFilter === "function" && $c.events.$2s) {
                            var $m = {};
                            $m.filter = $c.events.$2s;
                            $m.visible = true;
                            $m.e = ep;
                            $c.onEventFilter($m);
                            if (!$m.visible) {
                                break;
                            }
                        };
                        $r.events.push(ep);
                        if (typeof this.onBeforeEventRender === 'function') {
                            ep.cache = this.$27.events[x];
                        }
                    }
                }
            };
            for (var ri = 0; ri < this.rows.length; ri++) {
                var $r = this.rows[ri];
                $r.events.sort(this.$2t);
                for (var ei = 0; ei < this.rows[ri].events.length; ei++) {
                    var ev = $r.events[ei];
                    var $s = $r.getStartColumn(ev);
                    var $t = $r.getWidth(ev);
                    $r.putIntoLine(ev, $s, $t, ri);
                }
            }
        };
        this.$2p = function() {
            this.cellEvents = [];
            for (var x = 0; x < this.$2u(); x++) {
                this.cellEvents[x] = [];
                for (var y = 0; y < this.rows.length; y++) {
                    var $u = {};
                    var d = this.firstDate.addDays(y * 7 + x);
                    $u.start = d;
                    $u.end = d.addDays(1);
                    $u.events = [];
                    this.cellEvents[x][y] = $u;
                }
            };
            for (var i = 0; i < this.events.list.length; i++) {
                var e = this.events.list[i];
                var $p = null;
                if (typeof $c.onBeforeEventRender === 'function') {
                    $p = $c.$27.events[i];
                };
                if ($p) {
                    if ($p.hidden) {
                        continue;
                    }
                } else if (e.hidden) {
                    continue;
                };
                var $q = new DayPilot.Date(e.start);
                var end = new DayPilot.Date(e.start);
                end = $c.$2r(end);
                if ($q.getTime() > end.getTime()) {
                    continue;
                };
                for (var x = 0; x < this.$2u(); x++) {
                    for (var y = 0; y < this.rows.length; y++) {
                        var $u = this.cellEvents[x][y];
                        if ($q.getTime() >= $u.start.getTime() && $q.getTime() < $u.end.getTime()) {
                            var ep = new DayPilot.Event(e, $c);
                            if (typeof $c.onEventFilter === "function" && $c.events.$2s) {
                                var $m = {};
                                $m.filter = $c.events.$2s;
                                $m.visible = true;
                                $m.e = ep;
                                $c.onEventFilter($m);
                                if (!$m.visible) {
                                    continue;
                                }
                            };
                            $u.events.push(ep);
                            if (typeof this.onBeforeEventRender === 'function') {
                                ep.cache = this.$27.events[i];
                            }
                        }
                    }
                }
            };
            for (var x = 0; x < this.$2u(); x++) {
                for (var y = 0; y < this.rows.length; y++) {
                    var $u = this.cellEvents[x][y];
                    $u.events.sort(this.$2t);
                }
            }
        };
        this.$2d = function() {
            for (var i = 0; i < this.elements.events.length; i++) {
                var e = this.elements.events[i];
                e.event = null;
                e.click = null;
                e.parentNode.removeChild(e);
            };
            this.elements.events = [];
        };
        this.$2k = function() {
            this.$27.events = {};
            if (this.cellMode) {
                this.$2v();
            } else {
                this.$2w();
            };
            this.multiselect.redraw();
        };
        this.$2v = function() {
            this.elements.events = [];
            for (var x = 0; x < this.$2u(); x++) {
                for (var y = 0; y < this.rows.length; y++) {
                    var $u = this.cellEvents[x][y];
                    var $v = this.cells[x][y];
                    for (var i = 0; i < $u.events.length; i++) {
                        var ep = $u.events[i];
                        ep.part.colStart = x;
                        ep.part.colWidth = 1;
                        ep.part.row = y;
                        ep.part.line = i;
                        ep.part.startsHere = true;
                        ep.part.endsHere = true;
                        this.$2x(ep);
                    }
                }
            }
        };
        this.$2w = function() {
            this.elements.events = [];
            for (var ri = 0; ri < this.rows.length; ri++) {
                var $r = this.rows[ri];
                for (var li = 0; li < $r.lines.length; li++) {
                    var $w = $r.lines[li];
                    for (var pi = 0; pi < $w.length; pi++) {
                        this.$2x($w[pi]);
                    }
                }
            }
        };
        this.$2y = function(a, b) {
            if (!a || !b || !a.start || !b.start) {
                return 0;
            };
            var $x = a.start().ticks - b.start().ticks;
            if ($x !== 0) {
                return $x;
            };
            var $y = b.end().ticks - a.end().ticks;
            return $y;
        };
        this.$2t = function(a, b) {
            if (!a || !b) {
                return 0;
            };
            if (!a.data || !b.data || !a.data.sort || !b.data.sort || a.data.sort.length === 0 || b.data.sort.length === 0) {
                return $c.$2y(a, b);
            };
            var $d = 0;
            var i = 0;
            while ($d === 0 && typeof a.data.sort[i] !== "undefined" && typeof b.data.sort[i] !== "undefined") {
                if (a.data.sort[i] === b.data.sort[i]) {
                    $d = 0;
                } else if (typeof a.data.sort[i] === "number" && typeof b.data.sort[i] === "number") {
                    $d = a.data.sort[i] - b.data.sort[i];
                } else {
                    $d = $c.$2z(a.data.sort[i], b.data.sort[i], $c.sortDirections[i]);
                };
                i++;
            };
            return $d;
        };
        this.$2z = function(a, b, $z) {
            var $A = ($z !== "desc");
            var $B = $A ? -1 : 1;
            var $C = -$B;
            if (a === null && b === null) {
                return 0;
            };
            if (b === null) {
                return $C;
            };
            if (a === null) {
                return $B;
            };
            var ar = [];
            ar[0] = a;
            ar[1] = b;
            ar.sort();
            return a === ar[0] ? $B: $C;
        };
        this.$2A = function(x, y, $w, $D, $E, e) {
            if (!$E) {
                $E = 0;
            };
            var $F = $D;
            this.shadow = {};
            this.shadow.list = [];
            this.shadow.start = {
                x: x,
                y: y
            };
            this.shadow.width = $D;
            if (this.eventMoveToPosition) {
                $F = 1;
                this.shadow.position = $w;
            };
            var $G = y * 7 + x - $E;
            if ($G < 0) {
                $F += $G;
                x = 0;
                y = 0;
            };
            var $H = $E;
            while ($H >= 7) {
                y--;
                $H -= 7;
            };
            if ($H > x) {
                var $I = 7 - this.$2u();
                if ($H > (x + $I)) {
                    y--;
                    x = x + 7 - $H;
                } else {
                    $F = $F - $H + x;
                    x = 0;
                }
            } else {
                x -= $H;
            };
            if (y < 0) {
                y = 0;
                x = 0;
            };
            var $J = null;
            if (DayPilotMonth.resizingEvent) {
                $J = 'w-resize';
            } else if (DayPilotMonth.movingEvent) {
                $J = "move";
            };
            this.nav.top.style.cursor = $J;
            while ($F > 0 && y < this.rows.length) {
                var $K = Math.min(this.$2u() - x, $F);
                var $r = this.rows[y];
                var top = this.$2B(y);
                var $L = $r.getHeight();
                if (this.eventMoveToPosition) {
                    top = this.$2C(y, $w);
                    $L = 2;
                };
                var $M = document.createElement("div");
                $M.setAttribute("unselectable", "on");
                $M.style.position = 'absolute';
                $M.style.left = (this.$2D() * x) + '%';
                $M.style.width = (this.$2D() * $K) + '%';
                $M.style.top = (top) + 'px';
                $M.style.height = ($L) + 'px';
                $M.style.cursor = $J;
                var $N = document.createElement("div");
                $N.setAttribute("unselectable", "on");
                $M.appendChild($N);
                if (this.cssOnly) {
                    $M.className = this.$2n("_shadow");
                    $N.className = this.$2n("_shadow_inner");
                };
                if (!this.cssOnly) {
                    $N.style.position = "absolute";
                    $N.style.top = "0px";
                    $N.style.right = "0px";
                    $N.style.left = "0px";
                    $N.style.bottom = "0px";
                    if (this.shadowType === 'Fill') {
                        $N.style.backgroundColor = "#aaaaaa";
                        $N.style.opacity = 0.5;
                        $N.style.filter = "alpha(opacity=50)";
                        if (e && e.event) {
                            $N.style.overflow = 'hidden';
                            $N.style.fontSize = this.eventFontSize;
                            $N.style.fontFamily = this.eventFontFamily;
                            $N.style.color = this.eventFontColor;
                            $N.innerHTML = e.event.client.innerHTML() ? e.event.client.innerHTML() : e.event.text();
                        }
                    } else {
                        $N.style.border = '2px dotted #666666';
                    }
                };
                var $O = this.nav.events;
                $O.appendChild($M);
                this.shadow.list.push($M);
                $F -= ($K + 7 - this.$2u());
                x = 0;
                y++;
            }
        };
        this.$2E = function() {
            if (this.shadow) {
                var $O = this.nav.events;
                DayPilot.de(this.shadow.list);
                this.shadow = null;
                this.nav.top.style.cursor = '';
            }
        };
        this.$2C = function($r, $w) {
            var top = 0;
            for (var i = 0; i < $r; i++) {
                top += this.rows[i].getHeight();
            };
            top += this.cellHeaderHeight;
            top += $w * $P.lineHeight();
            return top;
        };
        this.$2F = function(x, y) {
            return this.firstDate.addDays(y * 7 + x);
        };
        this.$2o = function(i) {
            var $p = this.$27.events;
            var $i = this.events.list[i];
            var $Q = {};
            for (var name in $i) {
                $Q[name] = $i[name];
            };
            if (typeof this.onBeforeEventRender === 'function') {
                var $m = {};
                $m.e = $Q;
                $m.data = $Q;
                this.onBeforeEventRender($m);
            };
            $p[i] = $Q;
        };
        this.$2x = function(ep, $R) {
            var $R = this.cellMode;
            var $r = ep.part.row;
            var $w = ep.part.line;
            var $s = ep.part.colStart;
            var $t = ep.part.colWidth;
            var $p = ep.cache || ep.data;
            var $S = $R ? 0 : this.$2D() * ($s);
            var $D = $R ? 100 : this.$2D() * ($t);
            var top = $R ? $w * $P.lineHeight() : this.$2C($r, $w);
            var e = document.createElement("div");
            e.setAttribute("unselectable", "on");
            e.style.height = $P.eventHeight() + 'px';
            if (!this.cssOnly) {
                e.style.fontFamily = this.eventFontFamily;
            } else {
                e.style.position = "relative";
                e.style.overflow = "hidden";
                e.className = this.$2n("_event");
            };
            if ($p.cssClass) {
                DayPilot.Util.addClass(e, $p.cssClass);
            };
            e.event = ep;
            if ($R) {
                e.style.marginRight = "2px";
                e.style.marginBottom = "2px";
            } else {
                e.style.width = $D + '%';
                e.style.position = 'absolute';
                e.style.left = $S + '%';
                e.style.top = top + 'px';
            };
            if (this.showToolTip && $p.toolTip && !this.bubble) {
                e.title = $p.toolTip;
            };
            e.onclick = this.$2G;;
            e.ondblclick = this.$2H;
            e.oncontextmenu = this.$2I;
            e.onmousedown = this.$2J;
            e.onmousemove = this.$2K;
            e.onmouseout = this.$2L;
            e.ontouchstart = $T.onEventTouchStart;
            e.ontouchmove = $T.onEventTouchMove;
            e.ontouchend = $T.onEventTouchEnd;
            if (!ep.part.startsHere) {
                DayPilot.Util.addClass(e, this.$2n("_event_continueleft"));
            };
            if (!ep.part.endsHere) {
                DayPilot.Util.addClass(e, this.$2n("_event_continueright"));
            };
            var $U = document.createElement("div");
            $U.setAttribute("unselectable", "on");
            $U.className = this.$2n("_event_inner");
            if ($p.fontColor) {
                $U.style.color = $p.fontColor;
            };
            if (ep.client.innerHTML()) {
                $U.innerHTML = ep.client.innerHTML();
            } else {
                $U.innerHTML = ep.text();
            };
            if ($p.backColor) {
                $U.style.background = $p.backColor;
                if (DayPilot.browser.ie9 || DayPilot.browser.ielt9) {
                    $U.style.filter = '';
                }
            };
            e.appendChild($U);
            if (!this.cssOnly && this.eventTextAlignment) {
                $U.style.textAlign = this.eventTextAlignment.toLowerCase();
            };
            var $V = this.$2M.locale();
            var $W = $c.eventStartEndWidth;
            if (this.eventStartTime) {
                var $X = ($c.$2M.timeFormat() === 'Clock12Hours') ? ep.start().toString("h tt", $V) : ep.start().toString("H", $V);
                var $Y = {
                    "left": 5,
                    "top": 3,
                    "width": $W,
                    "bottom": 2,
                    "v": "Visible",
                    "html": $X,
                    "css": $c.$2n("_event_timeleft")
                };
                var a = DayPilot.Areas.createArea(e, ep, $Y);
                e.appendChild(a);
                $U.style.paddingLeft = $W + "px";
            };
            if (this.eventEndTime) {
                var $X = ($c.$2M.timeFormat() === 'Clock12Hours') ? ep.end().toString("h tt", $V) : ep.end().toString("H", $V);
                var $Y = {
                    "right": 5,
                    "top": 3,
                    "width": $W,
                    "bottom": 2,
                    "v": "Visible",
                    "html": $X,
                    "css": $c.$2n("_event_timeright")
                };
                var a = DayPilot.Areas.createArea(e, ep, $Y);
                e.appendChild(a);
                $U.style.paddingRight = $W + "px";
            };
            if ($p.areas) {
                var $Z = $p.areas;
                for (var i = 0; i < $Z.length; i++) {
                    var $Y = $Z[i];
                    if ($Y.v !== 'Visible') {
                        continue;
                    };
                    var a = DayPilot.Areas.createArea(e, ep, $Y);
                    e.appendChild(a);
                }
            };
            this.elements.events.push(e);
            if ($R) {
                this.cells[$s][$r].body.appendChild(e);
            } else {
                this.nav.events.appendChild(e);
            };
            if ($c.multiselect.$2N(e.event)) {
                $c.multiselect.add(e.event, true);
            };
            var $v = e;
            if ($c.$2m()) {
                if (typeof $c.onAfterEventRender === 'function') {
                    var $m = {};
                    $m.e = $v.event;
                    $m.div = $v;
                    $c.onAfterEventRender($m);
                }
            } else {
                if ($c.afterEventRender) {
                    $c.afterEventRender($v.event, $v);
                }
            }
        };
        this.$2G = function(ev) {
            if ($T.start) {
                return;
            };
            $c.$2O(this, ev);
        };
        this.$2H = function(ev) {
            $c.$2P(this, ev);
        };
        this.$2K = function(ev) {
            var e = this;
            var ep = e.event;
            if (typeof(DayPilotMonth) === 'undefined') {
                return;
            };
            if (DayPilotMonth.movingEvent || DayPilotMonth.resizingEvent) {
                return;
            };
            var $E = DayPilot.mo3(e, ev);
            if (!$E) {
                return;
            }; (function() {
                var $v = e;
                if (!$v.active) {
                    var $Z = [];
                    var $i = ep.cache || ep.data;
                    if ($c.eventDeleteHandling !== "Disabled" && !$i.deleteDisabled) {
                        $Z.push({
                            "action": "JavaScript",
                            "v": "Hover",
                            "w": 17,
                            "h": 17,
                            "top": 2,
                            "right": 2,
                            "css": $c.$2n("_event_delete"),
                            "js": function(e) {
                                $c.$2Q(e);
                            }
                        });
                    };
                    var $00 = $v.event.cache ? $v.event.cache.areas: $v.event.data.areas;
                    if ($00 && $00.length > 0) {
                        $Z = $Z.concat($00);
                    };
                    DayPilot.Areas.showAreas($v, $v.event, null, $Z);
                }
            })();
            if ($c.cssOnly) {
                $c.$2R(e.event).each(function($v) {
                    DayPilot.Util.addClass($v, $c.$2n("_event_hover"));
                });
            };
            var $01 = 6;
            if (!$c.cellMode && $E.x <= $01 && ep.client.resizeEnabled()) {
                if (ep.part.startsHere) {
                    e.style.cursor = "w-resize";
                    e.dpBorder = 'left';
                } else {
                    e.style.cursor = 'not-allowed';
                }
            } else if (!$c.cellMode && e.clientWidth - $E.x <= $01 && ep.client.resizeEnabled()) {
                if (ep.part.endsHere) {
                    e.style.cursor = "e-resize";
                    e.dpBorder = 'right';
                } else {
                    e.style.cursor = 'not-allowed';
                }
            } else {
                e.style.cursor = 'default';
            };
            if (typeof(DayPilotBubble) !== 'undefined' && $c.bubble && $c.eventHoverHandling !== 'Disabled') {
                if (!DayPilotMonth.movingEvent && !DayPilotMonth.resizingEvent) {
                    var $02 = this.$2S && $E.x === this.$2S.x && $E.y === this.$2S.y;
                    if (!$02) {
                        this.$2S = $E;
                        $c.bubble.showEvent(e.event);
                    }
                } else {
                    DayPilotBubble.hideActive();
                }
            }
        };
        this.$2L = function(ev) {
            var e = this;
            if (typeof(DayPilotBubble) !== 'undefined' && $c.bubble) {
                $c.bubble.hideOnMouseOut();
            };
            e.style.cursor = '';
            if ($c.cssOnly) {
                $c.$2R(e.event).each(function($v) {
                    DayPilot.Util.removeClass($v, $c.$2n("_event_hover"));
                });
            };
            DayPilot.Areas.hideAreas(e, ev);
        };
        this.$2I = function() {
            var e = this;
            $c.$2T(e.event);
            return false;
        };
        this.$2J = function(ev) {
            if ($T.start) {
                return;
            };
            var e = this;
            var ep = e.event;
            var $r = ep.part.row;
            var $s = ep.part.colStart;
            var $w = ep.part.line;
            var $t = ep.part.colWidth;
            ev = ev || window.event;
            var $03 = DayPilot.Util.mouseButton(ev);
            ev.cancelBubble = true;
            if (ev.stopPropagation) {
                ev.stopPropagation();
            };
            if ($03.left) {
                if (typeof(DayPilotBubble) !== 'undefined' && $c.bubble) {
                    DayPilotBubble.hideActive();
                };
                DayPilotMonth.movingEvent = null;
                if (this.style.cursor === 'w-resize' || this.style.cursor === 'e-resize') {
                    var $04 = {};
                    $04.start = {};
                    $04.start.x = $s;
                    $04.start.y = $r;
                    $04.event = e.event;
                    $04.width = DayPilot.DateUtil.daysSpan($04.event.start(), $04.event.end()) + 1;
                    $04.direction = this.style.cursor;
                    DayPilotMonth.resizingEvent = $04;
                } else if (this.style.cursor === 'move' || ep.client.moveEnabled()) {
                    $c.$2E();
                    var $05 = DayPilot.mo3($c.nav.events, ev);
                    if (!$05) {
                        return;
                    };
                    var $u = $c.$2U($05.x, $05.y);
                    if (!$u) {
                        return;
                    };
                    var $G = DayPilot.DateUtil.daysDiff(ep.start(), $c.rows[$r].start);
                    var $E = ($u.y * 7 + $u.x) - ($r * 7 + $s);
                    if ($G) {
                        $E += $G;
                    };
                    var $06 = {};
                    $06.start = {};
                    $06.start.x = $s;
                    $06.start.y = $r;
                    $06.start.line = $w;
                    $06.offset = $c.eventMoveToPosition ? 0 : $E;
                    $06.colWidth = $t;
                    $06.event = e.event;
                    $06.coords = $05;
                    DayPilotMonth.movingEvent = $06;
                }
            }
        };
        this.temp = {};
        this.temp.getPosition = function() {
            if (!$c.coords) {
                return null;
            };
            var $u = $c.$2U($c.coords.x, $c.coords.y);
            if (!$u) {
                return null;
            };
            var d = new DayPilot.Date($c.$2F($u.x, $u.y));
            var $u = {};
            $u.start = d;
            $u.end = d.addDays(1);
            return $u;
        };
        this.$2V = {};
        var $T = $c.$2V;
        $T.active = false;
        $T.start = false;
        $T.timeouts = [];
        $T.onEventTouchStart = function(ev) {
            if ($T.active || $T.start) {
                return;
            };
            $T.clearTimeouts();
            $T.start = true;
            $T.active = false;
            var $v = this;
            var e = $v.event;
            if (e.client.moveEnabled()) {
                var $07 = $c.tapAndHoldTimeout;
                $T.timeouts.push(window.setTimeout(function() {
                        $T.active = true;
                        $T.start = false;
                        var $05 = $T.relativeCoords(ev);
                        $T.startMoving($v, $05);
                        ev.preventDefault();
                    },
                    $07));
            };
            ev.stopPropagation();
        };
        $T.onEventTouchMove = function(ev) {
            $T.clearTimeouts();
            $T.start = false;
        };
        $T.onEventTouchEnd = function(ev) {
            $T.clearTimeouts();
            if ($T.start) {
                $c.$2W(this, ev);
            };
            window.setTimeout(function() {
                    $T.start = false;
                    $T.active = false;
                },
                500);
        };
        $T.onMainTouchStart = function(ev) {
            if ($T.active || $T.start) {
                return;
            };
            $T.clearTimeouts();
            $T.start = true;
            $T.active = false;
            var $07 = $c.tapAndHoldTimeout;
            $T.timeouts.push(window.setTimeout(function() {
                    $T.active = true;
                    $T.start = false;
                    ev.preventDefault();
                    var $05 = $T.relativeCoords(ev);
                    $T.startRange($05);
                },
                $07));
        };
        $T.onMainTouchMove = function(ev) {
            $T.clearTimeouts();
            $T.start = false;
            if ($T.active) {
                ev.preventDefault();
                var $05 = $T.relativeCoords(ev);
                if ($T.moving) {
                    $T.updateMoving($05);
                    return;
                };
                if ($T.range) {
                    $T.updateRange($05);
                }
            }
        };
        $T.onMainTouchEnd = function(ev) {
            $T.clearTimeouts();
            if ($T.active) {
                if ($T.moving) {
                    var $08 = $T.moving;
                    var e = $T.moving.event;
                    var $q = $c.shadow.start;
                    var $09 = $c.shadow.position;
                    var $E = $T.moving.offset;
                    $c.$2E();
                    $T.moving = null;
                    $c.$2X(e, $q.x, $q.y, $E, ev, $09);
                };
                if ($T.range) {
                    var $0a = $T.range;
                    var $q = new DayPilot.Date($c.$2F($0a.from.x, $0a.from.y));
                    var end = $q.addDays($0a.width);
                    $T.range = null;
                    $c.$2Y($q, end);
                }
            };
            window.setTimeout(function() {
                    $T.start = false;
                    $T.active = false;
                },
                500);
        };
        $T.clearTimeouts = function() {
            for (var i = 0; i < $T.timeouts.length; i++) {
                clearTimeout($T.timeouts[i]);
            };
            $T.timeouts = [];
        };
        $T.relativeCoords = function(ev) {
            var $O = $c.nav.events;
            var x = ev.touches[0].pageX;
            var y = ev.touches[0].pageY;
            var $05 = {
                x: x,
                y: y
            };
            var $0b = DayPilot.abs($O);
            var $05 = {
                x: x - $0b.x,
                y: y - $0b.y,
                toString: function() {
                    return "x: " + this.x + ", y:" + this.y;
                }
            };
            return $05;
        };
        $T.startMoving = function($v, $05) {
            $c.$2E();
            var ep = $v.event;
            var $u = $c.$2U($05.x, $05.y);
            if (!$u) {
                return;
            };
            var $G = DayPilot.DateUtil.daysDiff(ep.start(), $c.rows[ep.part.row].start);
            var $E = ($u.y * 7 + $u.x) - (ep.part.row * 7 + ep.part.colStart);
            if ($G) {
                $E += $G;
            };
            var $06 = {};
            $06.start = {};
            $06.start.x = ep.part.colStart;
            $06.start.y = ep.part.row;
            $06.start.line = ep.part.line;
            $06.offset = $c.eventMoveToPosition ? 0 : $E;
            $06.colWidth = ep.part.colWidth;
            $06.event = ep;
            $06.coords = $05;
            $T.moving = $06;
            $T.updateMoving($05);
        };
        $T.updateMoving = function($05) {
            var $u = $c.$2U($05.x, $05.y);
            if (!$u) {
                return;
            };
            var $0c = $c.$2Z($u);
            $c.$2E();
            var event = $T.moving.event;
            var $E = $T.moving.offset;
            var $D = $c.cellMode ? 1 : DayPilot.DateUtil.daysSpan(event.start(), event.end()) + 1;
            if ($D < 1) {
                $D = 1;
            };
            $c.$2A($u.x, $u.y, $0c, $D, $E, event);
        };
        $T.startRange = function($05) {
            var $u = $c.$2U($05.x, $05.y);
            if (!$u) {
                return;
            };
            $c.$2E();
            var $0d = {};
            $0d.start = {};
            $0d.start.x = $u.x;
            $0d.start.y = $u.y;
            $0d.x = $u.x;
            $0d.y = $u.y;
            $0d.width = 1;
            $T.range = $0d;
            $T.updateRange($05);
        };
        $T.updateRange = function($05) {
            var $u = $c.$2U($05.x, $05.y);
            if (!$u) {
                return;
            };
            $c.$2E();
            var $q = $T.range.start;
            var $0e = $q.y * 7 + $q.x;
            var $0f = $u.y * 7 + $u.x;
            var $D = Math.abs($0f - $0e) + 1;
            if ($D < 1) {
                $D = 1;
            };
            var $0g = $0e < $0f ? $q: $u;
            $T.range.width = $D;
            $T.range.from = {
                x: $0g.x,
                y: $0g.y
            };
            $c.$2A($0g.x, $0g.y, 0, $D, 0, null);
        };
        this.isWeekend = function($0h) {
            var $0i = 0;
            var $0j = 6;
            if ($0h.dayOfWeek() === $0i) {
                return true;
            };
            if ($0h.dayOfWeek() === $0j) {
                return true;
            };
            return false;
        };
        this.$30 = function() {
            var $0k = this.startDate.lastDayOfMonth();
            if (this.showWeekend) {
                return $0k;
            }
            while (this.isWeekend($0k)) {
                $0k = $0k.addDays( - 1);
            };
            return $0k;
        };
        this.$2e = function() {
            if (typeof this.startDate === 'string') {
                this.startDate = new DayPilot.Date(this.startDate);
            };
            if (this.viewType === 'Month') {
                this.startDate = this.startDate.firstDayOfMonth();
            } else {
                this.startDate = this.startDate.getDatePart();
            };
            this.firstDate = this.startDate.firstDayOfWeek($P.weekStarts());
            if (!this.showWeekend) {
                var $0l = this.startDate.addMonths( - 1).getMonth();
                var $0m = new DayPilot.Date(this.firstDate).addDays(6);
                while (this.isWeekend($0m)) {
                    $0m = $0m.addDays( - 1);
                };
                if ($0m.getMonth() === $0l) {
                    this.firstDate = this.firstDate.addDays(7);
                }
            };
            var $0n = this.startDate;
            var $0o;
            if (this.viewType === 'Month') {
                var $0p = this.$30();
                var $0q = DayPilot.DateUtil.daysDiff(this.firstDate, $0p) + 1;
                $0o = Math.ceil($0q / 7);
            } else {
                $0o = this.weeks;
            };
            this.days = $0o * 7;
            this.rows = [];
            for (var x = 0; x < $0o; x++) {
                var r = {};
                r.start = this.firstDate.addDays(x * 7);
                r.end = r.start.addDays(this.$2u());
                r.events = [];
                r.lines = [];
                r.index = x;
                r.minHeight = this.cellHeight;
                r.calendar = this;
                r.belongsHere = function($q, end) {
                    if (end.getTime() === $q.getTime() && $q.getTime() === this.start.getTime()) {
                        return true;
                    };
                    return ! (end.getTime() <= this.start.getTime() || $q.getTime() >= this.end.getTime());
                };
                r.getPartStart = function(ep) {
                    return DayPilot.DateUtil.max(this.start, ep.start());
                };
                r.getPartEnd = function(ep) {
                    return DayPilot.DateUtil.min(this.end, ep.rawend());
                };
                r.getStartColumn = function(ep) {
                    var $0r = this.getPartStart(ep);
                    return DayPilot.DateUtil.daysDiff(this.start, $0r);
                };
                r.getWidth = function(ep) {
                    return DayPilot.DateUtil.daysSpan(this.getPartStart(ep), this.getPartEnd(ep)) + 1;
                };
                r.putIntoLine = function(ep, $s, $t, $r) {
                    var $0s = this;
                    for (var i = 0; i < this.lines.length; i++) {
                        var $w = this.lines[i];
                        if ($w.isFree($s, $t)) {
                            $w.addEvent(ep, $s, $t, $r, i);
                            return i;
                        }
                    };
                    var $w = [];
                    $w.isFree = function($s, $t) {
                        var $0t = true;
                        for (var i = 0; i < this.length; i++) {
                            var ep = this[i];
                            if (! ($s + $t - 1 < ep.part.colStart || $s > ep.part.colStart + ep.part.colWidth - 1)) {
                                $0t = false;
                            }
                        };
                        return $0t;
                    };
                    $w.addEvent = function(ep, $s, $t, $r, $0u) {
                        ep.part.colStart = $s;
                        ep.part.colWidth = $t;
                        ep.part.row = $r;
                        ep.part.line = $0u;
                        ep.part.startsHere = $0s.start.getTime() <= ep.start().getTime();
                        ep.part.endsHere = $0s.end.getTime() >= ep.end().getTime();
                        this.push(ep);
                    };
                    $w.addEvent(ep, $s, $t, $r, this.lines.length);
                    this.lines.push($w);
                    return this.lines.length - 1;
                };
                r.getStart = function() {
                    var $q = 0;
                    for (var i = 0; i < $c.rows.length && i < this.index; i++) {
                        $q += $c.rows[i].getHeight();
                    }
                };
                r.getHeight = function() {
                    return Math.max(this.lines.length * $P.lineHeight() + $c.cellHeaderHeight + $c.cellMarginBottom, this.calendar.cellHeight);
                };
                this.rows.push(r);
            };
            this.$31 = this.firstDate.addDays($0o * 7);
        };
        this.$32 = function() {
            switch (this.heightSpec) {
                case "Auto":
                    var $L = $P.headerHeight();
                    for (var i = 0; i < this.rows.length; i++) {
                        $L += this.rows[i].getHeight();
                    };
                    return $L;
                case "Fixed":
                    return this.height;
            }
        };
        this.$33 = function($q, end) {
            var $0v = (end.y * 7 + end.x) - ($q.y * 7 + $q.x);
            return $0v + 1;
        };
        this.$34 = {};
        this.$34.scope = null;
        this.$34.notify = function() {
            if ($c.$34.scope) {
                $c.$34.scope["$apply"]();
            }
        };
        this.debug = new DayPilot.Debug(this);
        this.$35 = function() {
            var $0w = this.nav.top;
            this.nav.top.dp = this;
            $0w.setAttribute("unselectable", "on");
            $0w.style.MozUserSelect = 'none';
            $0w.style.KhtmlUserSelect = 'none';
            $0w.style.WebkitUserSelect = 'none';
            $0w.style.WebkitTapHighlightColor = "rgba(0,0,0,0)";
            $0w.style.WebkitTouchCallout = "none";
            $0w.style.position = 'relative';
            if (this.width) {
                $0w.style.width = this.width;
            };
            $0w.onselectstart = function(e) {
                return false;
            };
            if (this.cssOnly) {
                $0w.className = this.$2n("_main");
            } else {
                $0w.style.border = "1px solid " + this.borderColor;
            };
            if (this.hideUntilInit) {
                $0w.style.visibility = 'hidden';
            };
            if (!this.visible) {
                $0w.style.display = "none";
            };
            $0w.onmousemove = this.$36;
            $0w.ontouchstart = $T.onMainTouchStart;
            $0w.ontouchmove = $T.onMainTouchMove;
            $0w.ontouchend = $T.onMainTouchEnd;
            this.$2c = document.createElement("div");
            this.$2c.style.display = 'none';
            this.nav.top.appendChild(this.$2c);
            var $0x = document.createElement("div");
            $0x.style.position = "relative";
            $0x.style.height = $P.headerHeight() + "px";
            $0x.oncontextmenu = function() {
                return false;
            };
            this.nav.top.appendChild($0x);
            this.nav.header = $0x;
            var $0y = document.createElement("div");
            $0y.style.zoom = "1";
            var $0z = document.createElement("div");
            $0z.style.position = "relative";
            $0y.appendChild($0z);
            this.nav.top.appendChild($0y);
            this.nav.scrollable = $0y;
            this.nav.events = $0z;
        };
        this.$36 = function(ev) {
            $c.coords = DayPilot.mo3($c.nav.events, ev);
            var $05 = $c.coords;
            if (!$05) {
                return;
            };
            var $u = $c.$2U($05.x, $05.y);
            if (!$u) {
                return;
            };
            if (DayPilotMonth.resizingEvent) {
                $c.$2E();
                var $04 = DayPilotMonth.resizingEvent;
                var $0A = $04.start;
                var $D, $q;
                if ($04.direction === 'w-resize') {
                    $q = $u;
                    var $0B = $04.event.rawend();
                    if ($0B.getDatePart().getTime() === $0B.getTime()) {
                        $0B = $0B.addDays( - 1);
                    };
                    var end = $c.$37($0B);
                    $D = $c.$33($u, end);
                } else {
                    $q = $c.$37($04.event.start());
                    $D = $c.$33($q, $u);
                };
                if ($D < 1) {
                    $D = 1;
                };
                $c.$2A($q.x, $q.y, 0, $D);
            } else if (DayPilotMonth.movingEvent) {
                $c.debug.message("mousemove/moving start coords: " + DayPilotMonth.movingEvent.coords.x + " " + DayPilotMonth.movingEvent.coords.y);
                $c.debug.message("mousemove/current coords: " + $05.x + " " + $05.y);
                if ($05.x === DayPilotMonth.movingEvent.coords.x && $05.y === DayPilotMonth.movingEvent.coords.y) {
                    return;
                };
                var $0c = $c.$2Z($u);
                $c.$2E();
                var event = DayPilotMonth.movingEvent.event;
                var $E = DayPilotMonth.movingEvent.offset;
                var $D = $c.cellMode ? 1 : DayPilot.DateUtil.daysSpan(event.start(), event.rawend()) + 1;
                if ($D < 1) {
                    $D = 1;
                };
                $c.$2A($u.x, $u.y, $0c, $D, $E, event);
            } else if (DayPilotMonth.timeRangeSelecting) {
                DayPilotMonth.cancelCellClick = true;
                $c.$2E();
                var $q = DayPilotMonth.timeRangeSelecting;
                var $0e = $q.y * 7 + $q.x;
                var $0f = $u.y * 7 + $u.x;
                var $D = Math.abs($0f - $0e) + 1;
                if ($D < 1) {
                    $D = 1;
                };
                var $0g = $0e < $0f ? $q: $u;
                DayPilotMonth.timeRangeSelecting.from = {
                    x: $0g.x,
                    y: $0g.y
                };
                DayPilotMonth.timeRangeSelecting.width = $D;
                DayPilotMonth.timeRangeSelecting.moved = true;
                $c.$2A($0g.x, $0g.y, 0, $D, 0, null);
            }
        };
        this.$2Z = function($u) {
            var y = $u.relativeY;
            var $r = $c.rows[$u.y];
            var top = $c.cellHeaderHeight;
            var lh = $P.lineHeight();
            var $0C = $r.lines.length;
            for (var i = 0; i < $r.lines.length; i++) {
                var $w = $r.lines[i];
                if ($w.isFree($u.x, 1)) {
                    $0C = i;
                    break;
                }
            };
            var $0D = Math.floor((y - top + lh / 2) / lh);
            var $0D = Math.min($0C, $0D);
            var $0D = Math.max(0, $0D);
            return $0D;
        };
        this.message = function($0E, $0F, $0G, $0H) {
            if ($0E === null) {
                return;
            };
            var $0F = $0F || this.messageHideAfter || 2000;
            var $0G = $0G || "#ffffff";
            var $0H = $0H || "#000000";
            var $0I = 0.8;
            var top = $P.headerHeight();
            var $S = 1;
            var $0J = 0;
            var $v;
            if (!this.nav.message) {
                $v = document.createElement("div");
                $v.setAttribute("unselectable", "on");
                $v.style.position = "absolute";
                $v.style.right = "0px";
                $v.style.left = "0px";
                $v.style.top = top + "px";
                $v.style.opacity = $0I;
                $v.style.filter = "alpha(opacity=" + ($0I * 100) + ")";
                $v.style.display = 'none';
                $v.onmousemove = function() {
                    if ($v.messageTimeout && !$v.status) {
                        clearTimeout($v.messageTimeout);
                    }
                };
                $v.onmouseout = function() {
                    if ($c.nav.message.style.display !== 'none') {
                        $v.messageTimeout = setTimeout($c.$38, 500);
                    }
                };
                if (!this.cssOnly) {
                    $v.style.textAlign = "left";
                };
                var $U = document.createElement("div");
                $U.setAttribute("unselectable", "on");
                $U.onclick = function() {
                    $c.nav.message.style.display = 'none';
                };
                if (!this.cssOnly) {
                    $U.style.padding = "5px";
                } else {
                    $U.className = this.$2n("_message");
                };
                $v.appendChild($U);
                var close = document.createElement("div");
                close.setAttribute("unselectable", "on");
                close.style.position = "absolute";
                if (!this.cssOnly) {
                    close.style.top = "5px";
                    close.style.right = (DayPilot.sw($c.nav.scroll) + 5) + "px";
                    close.style.color = $0G;
                    close.style.lineHeight = "100%";
                    close.style.cursor = "pointer";
                    close.style.fontWeight = "bold";
                    close.innerHTML = "X";
                } else {
                    close.className = this.$2n("_message_close");
                };
                close.onclick = function() {
                    $c.nav.message.style.display = 'none';
                };
                $v.appendChild(close);
                this.nav.top.appendChild($v);
                this.nav.message = $v;
            } else {
                $v = $c.nav.message;
            };
            var $0K = function() {
                $c.nav.message.style.opacity = $0I;
                var $U = $c.nav.message.firstChild;
                if (!$c.cssOnly) {
                    $U.style.backgroundColor = $0H;
                    $U.style.color = $0G;
                };
                $U.innerHTML = $0E;
                var end = function() {
                    $v.messageTimeout = setTimeout($c.$38, $0F);
                };
                DayPilot.fade($c.nav.message, 0.2, end);
            };
            clearTimeout($v.messageTimeout);
            if (this.nav.message.style.display !== 'none') {
                DayPilot.fade($c.nav.message, -0.2, $0K);
            } else {
                $0K();
            }
        };
        this.message.show = function($0E) {
            $c.message($0E);
        };
        this.message.hide = function() {
            $c.$38();
        };
        this.$38 = function() {
            var end = function() {
                $c.nav.message.style.display = 'none';
            };
            DayPilot.fade($c.nav.message, -0.2, end);
        };
        this.$39 = function(ev) {
            if ($c.heightSpec === "Parent100Pct") {
                $c.$2i();
            }
        };
        this.$2i = function() {
            var $0y = this.nav.scrollable;
            if (this.heightSpec === "Parent100Pct" || this.heightSpec === 'Fixed') {
                $0y.style.top = this.headerHeight + "px";
                $0y.style.bottom = "0px";
                $0y.style.left = "0px";
                $0y.style.right = "0px";
                $0y.style.overflow = "auto";
                $0y.style.position = "absolute";
            } else {
                $0y.style.position = "relative";
            };
            if (this.heightSpec === 'Parent100Pct') {
                this.nav.top.style.height = "100%";
                var $L = this.nav.top.clientHeight;
            } else {
                this.nav.top.style.height = this.$32() + 'px';
            };
            for (var x = 0; x < this.cells.length; x++) {
                for (var y = 0; y < this.cells[x].length; y++) {
                    this.cells[x][y].style.top = this.$2B(y) + 'px';
                    this.cells[x][y].style.height = this.rows[y].getHeight() + 'px';
                }
            };
            this.$3a();
        };
        this.$2U = function(x, y) {
            var $0L = Math.floor(this.nav.top.clientWidth / this.$2u());
            var $0M = Math.min(Math.floor(x / $0L), this.$2u() - 1);
            var $r = null;
            var $0N = 0;
            var $L = 0;
            var $0O = 0;
            for (var i = 0; i < this.rows.length; i++) {
                $L += this.rows[i].getHeight();
                if (y < $L) {
                    $0N = y - $0O;
                    $r = i;
                    break;
                };
                $0O = $L;
            };
            if ($r === null) {
                $r = this.rows.length - 1;
            };
            var $u = {};
            $u.x = $0M;
            $u.y = $r;
            $u.relativeY = $0N;
            return $u;
        };
        this.$37 = function($0h) {
            var $D = DayPilot.DateUtil.daysDiff(this.firstDate, $0h);
            var $u = {
                x: 0,
                y: 0
            };
            while ($D >= 7) {
                $u.y++;
                $D -= 7;
            };
            $u.x = $D;
            return $u;
        };
        this.$3a = function() {
            var $D = DayPilot.sw(this.nav.scrollable);
            this.nav.header.style.marginRight = $D + "px";
        };
        var $0P = null;
        this.$2h = function() {
            var $0x = this.nav.header;
            var $0z = this.nav.events;
            this.cells = [];
            for (var x = 0; x < this.$2u(); x++) {
                this.cells[x] = [];
                var $0Q = this.headerProperties ? this.headerProperties[x] : null;
                var $0R = x + $P.weekStarts();
                if ($0R > 6) {
                    $0R -= 7;
                };
                if (!$0Q) {
                    var $0Q = {};
                    $0Q.html = $P.locale().dayNames[$0R];
                    if (!this.cssOnly) {
                        $0Q.backColor = this.headerBackColor;
                    }
                };
                if (typeof $c.onBeforeHeaderRender === 'function') {
                    var $m = {};
                    $m.header = {};
                    $m.header.dayOfWeek = $0R;
                    var $0S = ['html', 'backColor', 'cssClass'];
                    DayPilot.Util.copyProps($0Q, $m.header, $0S);
                    $c.onBeforeHeaderRender($m);
                    DayPilot.Util.copyProps($m.header, $0Q, $0S);
                };
                var $0T = document.createElement("div");
                $0T.setAttribute("unselectable", "on");
                $0T.style.position = 'absolute';
                $0T.style.left = (this.$2D() * x) + '%';
                $0T.style.width = (this.$2D()) + '%';
                $0T.style.top = '0px';
                $0T.style.height = ($P.headerHeight()) + 'px'; (function(x) {
                    $0T.onclick = function() {
                        $c.$3b(x);
                    };
                })($0R);
                var $U = document.createElement("div");
                $U.setAttribute("unselectable", "on");
                $U.className = this.$2n("_header_inner");
                $U.innerHTML = $0Q.html;
                $0T.appendChild($U);
                if (!this.cssOnly) {
                    $U.style.position = "absolute";
                    $U.style.top = "0px";
                    $U.style.bottom = "0px";
                    $U.style.left = "0px";
                    $U.style.right = "0px";
                    $U.style.backgroundColor = $0Q.backColor;
                    $U.style.fontFamily = this.headerFontFamily;
                    $U.style.fontSize = this.headerFontSize;
                    $U.style.color = this.headerFontColor;
                    $U.style.textAlign = 'center';
                    $U.style.cursor = 'default';
                    $U.className = this.$2n("header");
                    if (x !== this.$2u() - 1) {
                        $U.style.borderRight = '1px solid ' + this.borderColor;
                    }
                } else {
                    $0T.className = this.$2n("_header");
                    if ($0Q) {
                        if ($0Q.cssClass) {
                            DayPilot.Util.addClass($0T, $0Q.cssClass);
                        };
                        if ($0Q.backColor) {
                            $U.style.background = $0Q.backColor;
                        }
                    }
                };
                $0x.appendChild($0T);
                for (var y = 0; y < this.rows.length; y++) {
                    this.$3c(x, y, $0z);
                }
            };
            if (!DayPilot.contains(this.nav.top.childNodes, $0P) && this.numberFormat) {
         /*       var $v = document.createElement("div");
                $v.style.position = 'absolute';
                $v.style.padding = '2px';
                $v.style.top = '0px';
                $v.style.left = '0px';
                $v.style.backgroundColor = "#FF6600";
                $v.style.color = "white";
                $v.innerHTML = "\u0044\u0045\u004D\u004F";
                $0P = $v;
                this.nav.top.appendChild($v);*/
            }
        };
        this.$2g = function() {
            for (var x = 0; x < this.cells.length; x++) {
                for (var y = 0; y < this.cells[x].length; y++) {
                    this.cells[x][y].onclick = null;
                }
            };
            this.nav.header.innerHTML = '';
            this.nav.events.innerHTML = '';
        };
        this.$3c = function(x, y, $0x) {
            var $r = this.rows[y];
            var d = this.firstDate.addDays(y * 7 + x);
            var $0U = this.cellProperties ? this.cellProperties[y * this.$2u() + x] : null;
            var $0V = null;
            if ($0U) {
                $0V = $0U["headerHtml"];
            } else {
                var $0h = d.getDay();
                if ($0h === 1) {
                    $0V = $P.locale().monthNames[d.getMonth()] + ' ' + $0h;
                } else {
                    $0V = $0h + "";
                }
            };
            if (!$0U) {
                var $0U = {};
                $0U.business = !$c.isWeekend(d);
                $0U.headerHtml = $0V;
            };
            if (typeof $c.onBeforeCellRender === 'function') {
                var $m = {};
                $m.cell = {};
                $m.cell.areas = null;
                $m.cell.backColor = null;
                $m.cell.backImage = null;
                $m.cell.backRepeat = null;
                $m.cell.business = $c.isWeekend(d);
                $m.cell.headerHtml = $0V;
                $m.cell.headerBackColor = null;
                $m.cell.cssClass = null;
                $m.cell.html = null;
                $m.cell.start = d;
                $m.cell.end = $m.cell.start.addDays(1);
                DayPilot.Util.copyProps($0U, $m.cell);
                $c.onBeforeCellRender($m);
                DayPilot.Util.copyProps($m.cell, $0U, ['areas', 'backColor', 'backImage', 'backRepeat', 'business', 'headerHtml', 'headerBackColor', 'cssClass', 'html']);
            };
            var $u = document.createElement("div");
            $u.setAttribute("unselectable", "on");
            $u.style.position = 'absolute';
            $u.style.cursor = 'default';
            $u.style.left = (this.$2D() * x) + '%';
            $u.style.width = (this.$2D()) + '%';
            $u.style.top = (this.$2B(y)) + 'px';
            $u.style.height = ($r.getHeight()) + 'px';
            $u.d = d;
            $u.x = x;
            $u.y = y;
            $u.props = $0U;
            var $0l = this.startDate.addMonths( - 1).getMonth();
            var $0W = this.startDate.addMonths(1).getMonth();
            var $0X = this.startDate.getMonth();
            var $U = document.createElement("div");
            $U.setAttribute("unselectable", "on");
            $u.appendChild($U);
            $U.className = this.$2n("_cell_inner");
            $U.className = this.$2n("_cell_inner");
            if (d.getMonth() === $0X) {
                $u.className = this.$2n("_cell");
            } else if (d.getMonth() === $0l) {
                $u.className = this.$2n("_cell") + " " + this.$2n("_previous");
            } else if (d.getMonth() === $0W) {
                $u.className = this.$2n("_cell") + " " + this.$2n("_next");
            } else {
                $a();
            };
            if ($0U) {
                if ($0U["cssClass"]) {
                    DayPilot.Util.addClass($u, $0U.cssClass);
                };
                if ($0U["business"]) {
                    DayPilot.Util.addClass($u, this.$2n("_cell_business"));
                };
                if ($0U["backColor"]) {
                    $U.style.backgroundColor = $0U["backColor"];
                };
                if ($0U["backImage"]) {
                    $U.style.backgroundImage = "url('" + $0U["backImage"] + "')";
                };
                if ($0U["backRepeat"]) {
                    $U.style.backgroundRepeat = $0U["backRepeat"];
                }
            };
            $u.onmousedown = this.$3d;
            $u.onmousemove = this.$3e;
            $u.onmouseout = this.$3f;
            $u.oncontextmenu = this.$3g;
            $u.onclick = this.$3h;
            $u.ondblclick = this.$3i;
            var $0Y = document.createElement("div");
            $0Y.setAttribute("unselectable", "on");
            $0Y.style.height = this.cellHeaderHeight + "px";
            if ($0U && $0U["headerBackColor"]) {
                $0Y.style.background = $0U["headerBackColor"];
            };
            $0Y.className = this.$2n("_cell_header");
            $0Y.innerHTML = $0U.headerHtml;
            $U.appendChild($0Y);
            if ($0U && $0U["html"]) {
                var $0E = document.createElement("div");
                $0E.setAttribute("unselectable", "on");
                $0E.style.height = ($r.getHeight() - this.cellHeaderHeight) + 'px';
                $0E.style.overflow = 'hidden';
                $0E.innerHTML = $0U["html"];
                $U.appendChild($0E);
            };
            if (this.cellMode) {
                var $0Z = document.createElement("div");
                $0Z.setAttribute("unselectable", "on");
                $0Z.style.height = (this.cellHeight - this.cellHeaderHeight) + "px";
                $0Z.style.overflow = 'auto';
                $0Z.style.position = 'relative';
                var $N = document.createElement('div');
                $N.setAttribute("unselectable", "on");
                $N.style.paddingTop = "1px";
                $N.style.paddingBottom = "1px";
                $0Z.appendChild($N);
                $U.appendChild($0Z);
                $u.body = $N;
                $u.scrolling = $0Z;
            };
            if ($u.props) {
                var $Z = $u.props.areas || [];
                for (var i = 0; i < $Z.length; i++) {
                    var $Y = $Z[i];
                    var $10 = $Y.v || "Visible";
                    if ($10 !== 'Visible') {
                        continue;
                    };
                    var a = DayPilot.Areas.createArea($u, $u.props, $Y);
                    $u.appendChild(a);
                }
            };
            this.cells[x][y] = $u;
            $0x.appendChild($u);
            if (typeof $c.onAfterCellRender === "function") {
                $m.cell.div = $u;
                $m.cell.divHeader = $0Y;
                $c.onAfterCellRender($m);
            }
        };
        this.$3e = function() {
            var c = this;
            if (c.props) {
                DayPilot.Areas.showAreas(c, c.props);
            }
        };
        this.$3f = function(ev) {
            var c = this;
            if (c.props) {
                DayPilot.Areas.hideAreas(c, ev);
            }
        };
        this.$3g = function() {
            var d = this.d;
            var go = function(d) {
                var $q = new DayPilot.Date(d);
                var end = $q.addDays(1);
                var $11 = new DayPilot.Selection($q, end, null, $c);
                if ($c.contextMenuSelection) {
                    $c.contextMenuSelection.show($11);
                }
            };
            go(d);
            return false;
        };
        this.$3i = function() {
            var d = this.d;
            if ($c.timeouts) {
                for (var $12 in $c.timeouts) {
                    window.clearTimeout($c.timeouts[$12]);
                };
                $c.timeouts = null;
            };
            if ($c.timeRangeDoubleClickHandling !== 'Disabled') {
                var $q = new DayPilot.Date(d);
                var end = $q.addDays(1);
                $c.$3j($q, end);
            }
        };
        this.$3h = function() {
            if (DayPilotMonth.cancelCellClick) {
                return;
            };
            var d = this.d;
            var $13 = function(d) {
                var $q = new DayPilot.Date(d);
                var end = $q.addDays(1);
                $c.$2Y($q, end);
            };
            if ($c.timeRangeSelectedHandling !== 'Disabled' && $c.timeRangeDoubleClickHandling === 'Disabled') {
                $13(d);
                return;
            };
            if (!$c.timeouts) {
                $c.timeouts = [];
            };
            var $14 = function(d) {
                return function() {
                    $13(d);
                };
            };
            $c.timeouts.push(window.setTimeout($14(d), $c.doubleClickTimeout));
        };
        this.$3d = function(e) {
            var $u = this;
            var x = $u.x;
            var y = $u.y;
            DayPilotMonth.cancelCellClick = false;
            if ($u.scrolling) {
                var $E = DayPilot.mo3($u.scrolling, e);
                var sw = DayPilot.sw($u.scrolling);
                var $D = $u.scrolling.offsetWidth;
                if ($E.x > $D - sw) {
                    return;
                }
            };
            if ($c.timeRangeSelectedHandling !== 'Disabled') {
                $c.$2E();
                DayPilotMonth.timeRangeSelecting = {
                    "root": $c,
                    "x": x,
                    "y": y,
                    "from": {
                        x: x,
                        y: y
                    },
                    "width": 1
                };
            }
        };
        this.$2u = function() {
            if (this.showWeekend) {
                return 7;
            } else {
                return 5;
            }
        };
        this.$2D = function() {
            if (this.showWeekend) {
                return 14.285;
            } else {
                return 20;
            }
        };
        this.$3k = function(d) {
            if (d.getUTCDay() === 6 || d.getUTCDay() === 0) {
                return this.nonBusinessBackColor;
            };
            return this.backColor;
        };
        this.$2B = function($0u) {
            var top = 0;
            for (var i = 0; i < $0u; i++) {
                top += this.rows[i].getHeight();
            };
            return top;
        };
        this.clearSelection = function() {
            this.$2E();
        };
        this.$3l = function($15, $i, $16) {
            var $17 = {};
            $17.action = $15;
            $17.parameters = $16;
            $17.data = $i;
            $17.header = this.$3m();
            var $18 = "JSON" + DayPilot.JSON.stringify($17);
            __doPostBack($c.uniqueID, $18);
        };
        this.$3n = function($15, $16, $i, $19) {
            if (!this.$3o()) {
                $c.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning");
                return;
            };
            if (typeof $19 === 'undefined') {
                $19 = "CallBack";
            };
            var $17 = {};
            $17.action = $15;
            $17.type = $19;
            $17.parameters = $16;
            $17.data = $i;
            $17.header = this.$3m();
            var $18 = "JSON" + DayPilot.JSON.stringify($17);
            if (this.backendUrl) {
                DayPilot.request(this.backendUrl, this.$3p, $18, this.$3q);
            } else if (typeof WebForm_DoCallback === 'function') {
                WebForm_DoCallback(this.uniqueID, $18, this.$29, null, this.callbackError, true);
            }
        };
        this.$3o = function() {
            if (this.backendUrl) {
                return true;
            };
            if (typeof WebForm_DoCallback === 'function' && this.uniqueID) {
                return true;
            };
            return false;
        };
        this.$3q = function($1a) {
            if (typeof $c.onAjaxError === 'function') {
                var $m = {};
                $m.request = $1a;
                $c.onAjaxError($m);
            } else if (typeof $c.ajaxError === 'function') {
                $c.ajaxError($1a);
            }
        };
        this.$3p = function($1b) {
            $c.$29($1b.responseText);
        };
        this.$3m = function() {
            var h = {};
            h.v = this.v;
            h.control = "dpm";
            h.id = this.id;
            h.visibleStart = new DayPilot.Date(this.firstDate);
            h.visibleEnd = h.visibleStart.addDays(this.days);
            h.clientState = this.clientState;
            h.cssOnly = $c.cssOnly;
            h.cssClassPrefix = $c.cssClassPrefix;
            h.startDate = $c.startDate;
            h.showWeekend = this.showWeekend;
            h.headerBackColor = this.headerBackColor;
            h.backColor = this.backColor;
            h.nonBusinessBackColor = this.nonBusinessBackColor;
            h.locale = this.locale;
            h.timeFormat = this.timeFormat;
            h.weekStarts = this.weekStarts;
            h.viewType = this.viewType;
            h.weeks = this.weeks;
            h.selected = $c.multiselect.events();
            h.hashes = $c.hashes;
            return h;
        };
        this.visibleStart = function() {
            return new DayPilot.Date(this.firstDate);
        };
        this.visibleEnd = function() {
            return $c.visibleStart().addDays($c.days);
        };
        this.$3r = function($19, $15, $1c, $i) {
            if ($19 === 'PostBack') {
                $c.postBack2($15, $1c, $i);
            } else if ($19 === 'CallBack') {
                $c.$3n($15, $1c, $i, "CallBack");
            } else if ($19 === 'Immediate') {
                $c.$3n($15, $1c, $i, "Notify");
            } else if ($19 === 'Queue') {
                $c.queue.add(new DayPilot.Action(this, $15, $1c, $i));
            } else if ($19 === 'Notify') {
                if ($P.notifyType() === 'Notify') {
                    $c.$3n($15, $1c, $i, "Notify");
                } else {
                    $c.queue.add(new DayPilot.Action($c, $15, $1c, $i));
                }
            } else {
                throw "Invalid event invocation type";
            }
        };
        this.$3s = function($m, $g) {
            var $f = $c.$3t($g);
            var $1c = {};
            $1c.args = $m;
            $1c.guid = $f;
            $c.$3n("Bubble", $1c);
        };
        this.$3t = function($g) {
            var $f = DayPilot.guid();
            if (!this.bubbles) {
                this.bubbles = [];
            };
            this.bubbles[$f] = $g;
            return $f;
        };
        this.eventClickPostBack = function(e, $i) {
            this.$3l("EventClick", $i, e);
        };
        this.eventClickCallBack = function(e, $i) {
            this.$3n('EventClick', e, $i);
        };
        this.$2O = function($v, e) {
            DayPilotMonth.movingEvent = null;
            DayPilotMonth.resizingEvent = null;
            var e = e || window.event;
            var $1d = e.ctrlKey;
            var $1e = e.metaKey;
            e.cancelBubble = true;
            if (e.stopPropagation) {
                e.stopPropagation();
            };
            if (typeof(DayPilotBubble) !== 'undefined') {
                DayPilotBubble.hideActive();
            };
            if ($c.eventDoubleClickHandling === 'Disabled') {
                $c.$2W($v, e);
                return;
            };
            if (!$c.timeouts) {
                $c.timeouts = [];
            } else {
                for (var $12 in $c.timeouts) {
                    window.clearTimeout($c.timeouts[$12]);
                };
                $c.timeouts = [];
            };
            var $1f = function($v, e) {
                return function() {
                    $c.$2W($v, e);
                };
            };
            $c.timeouts.push(window.setTimeout($1f($v, e), $c.doubleClickTimeout));
        };
        this.$2W = function($v, ev) {
            var e = $v.event;
            if (!e.client.clickEnabled()) {
                return;
            };
            var $1d = ev.ctrlKey;
            var $1e = ev.metaKey;
            if ($c.$2m()) {
                var $m = {};
                $m.e = e;
                $m.div = $v;
                $m.originalEvent = ev;
                $m.meta = ev.metaKey;
                $m.ctrl = ev.ctrlKey;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventClick === 'function') {
                    $c.onEventClick($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventClickHandling) {
                    case 'PostBack':
                        $c.eventClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventClickCallBack(e);
                        break;
                    case 'Select':
                        $c.$3u($v, e, $1d, $1e);
                        break;
                    case 'ContextMenu':
                        var $1g = e.client.contextMenu();
                        if ($1g) {
                            $1g.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(e);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                };
                if (typeof $c.onEventClicked === 'function') {
                    $c.onEventClicked($m);
                }
            } else {
                switch ($c.eventClickHandling) {
                    case 'PostBack':
                        $c.eventClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventClick(e);
                        break;
                    case 'Select':
                        $c.$3u($v, e, $1d, $1e);
                        break;
                    case 'ContextMenu':
                        var $1g = e.client.contextMenu();
                        if ($1g) {
                            $1g.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(e);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                }
            }
        };
        this.$2Q = function(e) {
            if ($c.$2m()) {
                var $m = {};
                $m.e = e;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventDelete === 'function') {
                    $c.onEventDelete($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventDeleteHandling) {
                    case 'PostBack':
                        $c.eventDeletePostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDeleteCallBack(e);
                        break;
                    case 'Update':
                        $c.events.remove(e);
                        break;
                };
                if (typeof $c.onEventDeleted === 'function') {
                    $c.onEventDeleted($m);
                }
            } else {
                switch ($c.eventDeleteHandling) {
                    case 'PostBack':
                        $c.eventDeletePostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDeleteCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventDelete(e);
                        break;
                }
            }
        };
        this.eventDeletePostBack = function(e, $i) {
            this.$3l('EventDelete', e, $i);
        };
        this.eventDeleteCallBack = function(e, $i) {
            this.$3n('EventDelete', e, $i);
        };
        this.eventDoubleClickPostBack = function(e, $i) {
            this.$3l('EventDoubleClick', $i, e);
        };
        this.eventDoubleClickCallBack = function(e, $i) {
            this.$3n('EventDoubleClick', e, $i);
        };
        this.$2P = function($v, ev) {
            if (typeof(DayPilotBubble) !== 'undefined') {
                DayPilotBubble.hideActive();
            };
            if ($c.timeouts) {
                for (var $12 in $c.timeouts) {
                    window.clearTimeout($c.timeouts[$12]);
                };
                $c.timeouts = null;
            };
            var ev = ev || window.event;
            var e = $v.event;
            if ($c.$2m()) {
                var $m = {};
                $m.e = e;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventDoubleClick === 'function') {
                    $c.onEventDoubleClick($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventDoubleClickHandling) {
                    case 'PostBack':
                        $c.eventDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDoubleClickCallBack(e);
                        break;
                    case 'Select':
                        $c.$3u($v, e, ev.ctrlKey, ev.metaKey);
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                };
                if (typeof $c.onEventDoubleClicked === 'function') {
                    $c.onEventDoubleClicked($m);
                }
            } else {
                switch ($c.eventDoubleClickHandling) {
                    case 'PostBack':
                        $c.eventDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDoubleClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventDoubleClick(e);
                        break;
                    case 'Select':
                        $c.$3u($v, e, ev.ctrlKey, ev.metaKey);
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                }
            }
        };
        this.$3u = function($v, e, $1d, $1e) {
            $c.$3v($v, e, $1d, $1e);
        };
        this.eventSelectPostBack = function(e, $1h, $i) {
            var $1c = {};
            $1c.e = e;
            $1c.change = $1h;
            this.$3l('EventSelect', $i, $1c);
        };
        this.eventSelectCallBack = function(e, $1h, $i) {
            var $1c = {};
            $1c.e = e;
            $1c.change = $1h;
            this.$3n('EventSelect', $1c, $i);
        };
        this.$3v = function($v, e, $1d, $1e) {
            var m = $c.multiselect;
            var $1i = false;
            var $1j = m.isSelected(e);
            var $1k = $1d || $1e;
            if (!$1k && $1j && !$1i && m.list.length === 1) {
                return;
            };
            if ($c.$2m()) {
                m.previous = m.events();
                var $m = {};
                $m.e = e;
                $m.selected = m.isSelected(e);
                $m.ctrl = $1d;
                $m.meta = $1e;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventSelect === 'function') {
                    $c.onEventSelect($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventSelectHandling) {
                    case 'PostBack':
                        $c.eventSelectPostBack(e, $1h);
                        break;
                    case 'CallBack':
                        if (typeof WebForm_InitCallback !== 'undefined') {
                            window.__theFormPostData = "";
                            window.__theFormPostCollection = [];
                            WebForm_InitCallback();
                        };
                        $c.eventSelectCallBack(e, $1h);
                        break;
                    case 'Update':
                        m.$3w($v, $1d);
                        break;
                };
                if (typeof $c.onEventSelected === 'function') {
                    $m.change = m.isSelected(e) ? "selected": "deselected";
                    $m.selected = m.isSelected(e);
                    $c.onEventSelected($m);
                }
            } else {
                m.previous = m.events();
                m.$3w($v, $1d);
                var $1h = m.isSelected(e) ? "selected": "deselected";
                switch ($c.eventSelectHandling) {
                    case 'PostBack':
                        $c.eventSelectPostBack(e, $1h);
                        break;
                    case 'CallBack':
                        if (typeof WebForm_InitCallback !== 'undefined') {
                            window.__theFormPostData = "";
                            window.__theFormPostCollection = [];
                            WebForm_InitCallback();
                        };
                        $c.eventSelectCallBack(e, $1h);
                        break;
                    case 'JavaScript':
                        $c.onEventSelect(e, $1h);
                        break;
                }
            }
        };
        this.eventRightClickPostBack = function(e, $i) {
            this.$3l("EventRightClick", $i, e);
        };
        this.eventRightClickCallBack = function(e, $i) {
            this.$3n('EventRightClick', e, $i);
        };
        this.$2T = function(e) {
            this.event = e;
            if (!e.client.rightClickEnabled()) {
                return false;
            };
            if ($c.$2m()) {
                var $m = {};
                $m.e = e;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventRightClick === 'function') {
                    $c.onEventRightClick($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventRightClickHandling) {
                    case 'PostBack':
                        $c.eventRightClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventRightClickCallBack(e);
                        break;
                    case 'ContextMenu':
                        var $1g = e.client.contextMenu();
                        if ($1g) {
                            $1g.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(this.event);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                };
                if (typeof $c.onEventRightClicked === 'function') {
                    $c.onEventRightClicked($m);
                }
            } else {
                switch ($c.eventRightClickHandling) {
                    case 'PostBack':
                        $c.eventRightClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventRightClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventRightClick(e);
                        break;
                    case 'ContextMenu':
                        var $1g = e.client.contextMenu();
                        if ($1g) {
                            $1g.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(this.event);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                }
            };
            return false;
        };
        this.eventMenuClickPostBack = function(e, $1l, $i) {
            var $1c = {};
            $1c.e = e;
            $1c.command = $1l;
            this.$3l('EventMenuClick', $i, $1c);
        };
        this.eventMenuClickCallBack = function(e, $1l, $i) {
            var $1c = {};
            $1c.e = e;
            $1c.command = $1l;
            this.$3n('EventMenuClick', $1c, $i);
        };
        this.$3x = function($1l, e, $1m) {
            switch ($1m) {
                case 'PostBack':
                    $c.eventMenuClickPostBack(e, $1l);
                    break;
                case 'CallBack':
                    $c.eventMenuClickCallBack(e, $1l);
                    break;
            }
        };
        this.eventMovePostBack = function(e, $1n, $1o, $i, $09) {
            if (!$1n) throw 'newStart is null';
            if (!$1o) throw 'newEnd is null';
            var $1c = {};
            $1c.e = e;
            $1c.newStart = $1n;
            $1c.newEnd = $1o;
            $1c.position = $09;
            this.$3l('EventMove', $i, $1c);
        };
        this.eventMoveCallBack = function(e, $1n, $1o, $i, $09) {
            if (!$1n) throw 'newStart is null';
            if (!$1o) throw 'newEnd is null';
            var $1c = {};
            $1c.e = e;
            $1c.newStart = $1n;
            $1c.newEnd = $1o;
            $1c.position = $09;
            this.$3n('EventMove', $1c, $i);
        };
        this.$2X = function(e, x, y, $E, ev, $09) {
            var $1p = e.start().getTimePart();
            var $0B = e.rawend().getDatePart();
            if ($0B.getTime() !== e.rawend().getTime()) {
                $0B = $0B.addDays(1);
            };
            var $1q = DayPilot.DateUtil.diff(e.rawend(), $0B);
            var $1r = this.$2F(x, y);
            $1r = $1r.addDays( - $E);
            var $D = DayPilot.DateUtil.daysSpan(e.start(), e.rawend()) + 1;
            var $1s = $1r.addDays($D);
            var $1n = $1r.addTime($1p);
            var $1o = $1s.addTime($1q);
            $1o = $c.$3y($1o);
            if ($c.$2m()) {
                var $m = {};
                $m.e = e;
                $m.newStart = $1n;
                $m.newEnd = $1o;
                $m.position = $09;
                $m.ctrl = false;
                if (ev) {
                    $m.ctrl = ev.ctrlKey;
                };
                $m.shift = false;
                if (ev) {
                    $m.shift = ev.shiftKey;
                };
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventMove === 'function') {
                    $c.onEventMove($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventMoveHandling) {
                    case 'PostBack':
                        $c.eventMovePostBack(e, $1n, $1o, null, $09);
                        break;
                    case 'CallBack':
                        $c.eventMoveCallBack(e, $1n, $1o, null, $09);
                        break;
                    case 'Notify':
                        $c.eventMoveNotify(e, $1n, $1o, null, $09);
                        break;
                    case 'Update':
                        e.start($1n);
                        e.end($1o);
                        $c.events.update(e);
                        break;
                };
                if (typeof $c.onEventMoved === 'function') {
                    $c.onEventMoved($m);
                }
            } else {
                switch ($c.eventMoveHandling) {
                    case 'PostBack':
                        $c.eventMovePostBack(e, $1n, $1o, null, $09);
                        break;
                    case 'CallBack':
                        $c.eventMoveCallBack(e, $1n, $1o, null, $09);
                        break;
                    case 'JavaScript':
                        $c.onEventMove(e, $1n, $1o, ev.ctrlKey, ev.shiftKey, $09);
                        break;
                    case 'Notify':
                        $c.eventMoveNotify(e, $1n, $1o, null, $09);
                        break;
                }
            }
        };
        this.eventMoveNotify = function(e, $1n, $1o, $i, $w) {
            var $1t = new DayPilot.Event(e.copy(), this);
            e.start($1n);
            e.end($1o);
            e.commit();
            $c.update();
            this.$3z("Notify", $1t, $1n, $1o, $i, $w);
        };
        this.$3z = function($19, e, $1n, $1o, $i, $w) {
            var $1c = {};
            $1c.e = e;
            $1c.newStart = $1n;
            $1c.newEnd = $1o;
            $1c.position = $w;
            this.$3r($19, "EventMove", $1c, $i);
        };
        this.eventResizePostBack = function(e, $1n, $1o, $i) {
            if (!$1n) throw 'newStart is null';
            if (!$1o) throw 'newEnd is null';
            var $1c = {};
            $1c.e = e;
            $1c.newStart = $1n;
            $1c.newEnd = $1o;
            this.$3l('EventResize', $i, $1c);
        };
        this.eventResizeCallBack = function(e, $1n, $1o, $i) {
            if (!$1n) throw 'newStart is null';
            if (!$1o) throw 'newEnd is null';
            var $1c = {};
            $1c.e = e;
            $1c.newStart = $1n;
            $1c.newEnd = $1o;
            this.$3n('EventResize', $1c, $i);
        };
        this.$3A = function(e, $q, $D) {
            var $1p = e.start().getTimePart();
            var $0B = e.rawend().getDatePart();
            if ($0B != e.rawend()) {
                $0B = $0B.addDays(1);
            };
            var $1q = DayPilot.DateUtil.diff(e.rawend(), $0B);
            var $1r = this.$2F($q.x, $q.y);
            var $1s = $1r.addDays($D);
            var $1n = $1r.addTime($1p);
            var $1o = $1s.addTime($1q);
            $1o = $c.$3y($1o);
            if ($c.$2m()) {
                var $m = {};
                $m.e = e;
                $m.newStart = $1n;
                $m.newEnd = $1o;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventResize === 'function') {
                    $c.onEventResize($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventResizeHandling) {
                    case 'PostBack':
                        $c.eventResizePostBack(e, $1n, $1o);
                        break;
                    case 'CallBack':
                        $c.eventResizeCallBack(e, $1n, $1o);
                        break;
                    case 'Notify':
                        $c.eventResizeNotify(e, $1n, $1o);
                        break;
                    case 'Update':
                        e.start($1n);
                        e.end($1o);
                        $c.events.update(e);
                        break;
                };
                if (typeof $c.onEventResized === 'function') {
                    $c.onEventResized($m);
                }
            } else {
                switch ($c.eventResizeHandling) {
                    case 'PostBack':
                        $c.eventResizePostBack(e, $1n, $1o);
                        break;
                    case 'CallBack':
                        $c.eventResizeCallBack(e, $1n, $1o);
                        break;
                    case 'JavaScript':
                        $c.onEventResize(e, $1n, $1o);
                        break;
                    case 'Notify':
                        $c.eventResizeNotify(e, $1n, $1o);
                        break;
                }
            }
        };
        this.eventResizeNotify = function(e, $1n, $1o, $i) {
            var $1t = new DayPilot.Event(e.copy(), this);
            e.start($1n);
            e.end($1o);
            e.commit();
            $c.update();
            this.$3B("Notify", $1t, $1n, $1o, $i);
        };
        this.$3B = function($19, e, $1n, $1o, $i) {
            var $1c = {};
            $1c.e = e;
            $1c.newStart = $1n;
            $1c.newEnd = $1o;
            this.$3r($19, "EventResize", $1c, $i);
        };
        this.timeRangeSelectedPostBack = function($q, end, $i) {
            var $0d = {};
            $0d.start = $q;
            $0d.end = end;
            this.$3l('TimeRangeSelected', $i, $0d);
        };
        this.timeRangeSelectedCallBack = function($q, end, $i) {
            var $0d = {};
            $0d.start = $q;
            $0d.end = end;
            this.$3n('TimeRangeSelected', $0d, $i);
        };
        this.$2Y = function($q, end) {
            end = $c.$3y(end);
            if ($c.$2m()) {
                var $m = {};
                $m.start = $q;
                $m.end = end;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onTimeRangeSelect === 'function') {
                    $c.onTimeRangeSelect($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.timeRangeSelectedHandling) {
                    case 'PostBack':
                        $c.timeRangeSelectedPostBack($q, end);
                        $c.clearSelection();
                        break;
                    case 'CallBack':
                        $c.timeRangeSelectedCallBack($q, end);
                        $c.clearSelection();
                        break;
                };
                if (typeof $c.onTimeRangeSelected === 'function') {
                    $c.onTimeRangeSelected($m);
                }
            } else {
                switch ($c.timeRangeSelectedHandling) {
                    case 'PostBack':
                        $c.timeRangeSelectedPostBack($q, end);
                        $c.clearSelection();
                        break;
                    case 'CallBack':
                        $c.timeRangeSelectedCallBack($q, end);
                        $c.clearSelection();
                        break;
                    case 'JavaScript':
                        $c.onTimeRangeSelected($q, end);
                        break;
                }
            }
        };
        this.timeRangeMenuClickPostBack = function(e, $1l, $i) {
            var $1c = {};
            $1c.selection = e;
            $1c.command = $1l;
            this.$3l("TimeRangeMenuClick", $i, $1c);
        };
        this.timeRangeMenuClickCallBack = function(e, $1l, $i) {
            var $1c = {};
            $1c.selection = e;
            $1c.command = $1l;
            this.$3n("TimeRangeMenuClick", $1c, $i);
        };
        this.$3C = function($1l, e, $1m) {
            switch ($1m) {
                case 'PostBack':
                    $c.timeRangeMenuClickPostBack(e, $1l);
                    break;
                case 'CallBack':
                    $c.timeRangeMenuClickCallBack(e, $1l);
                    break;
            }
        };
        this.headerClickPostBack = function(c, $i) {
            this.$3l('HeaderClick', $i, c);
        };
        this.headerClickCallBack = function(c, $i) {
            this.$3n('HeaderClick', c, $i);
        };
        this.$3b = function(x) {
            var $i = this.data;
            var c = {
                $0Y: x
            };
            if ($c.$2m()) {
                var $m = {};
                $m.header = {};
                $m.header.dayOfWeek = x;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onHeaderClick === 'function') {
                    $c.onHeaderClick($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.headerClickHandling) {
                    case 'PostBack':
                        $c.headerClickPostBack(c);
                        break;
                    case 'CallBack':
                        $c.headerClickCallBack(c);
                        break;
                };
                if (typeof $c.onHeaderClicked === 'function') {
                    $c.onHeaderClicked($m);
                }
            } else {
                switch ($c.headerClickHandling) {
                    case 'PostBack':
                        $c.headerClickPostBack(c);
                        break;
                    case 'CallBack':
                        $c.headerClickCallBack(c);
                        break;
                    case 'JavaScript':
                        $c.onHeaderClick(c);
                        break;
                }
            }
        };
        this.timeRangeDoubleClickPostBack = function($q, end, $i) {
            var $0d = {};
            $0d.start = $q;
            $0d.end = end;
            this.$3l('TimeRangeDoubleClick', $i, $0d);
        };
        this.timeRangeDoubleClickCallBack = function($q, end, $i) {
            var $0d = {};
            $0d.start = $q;
            $0d.end = end;
            this.$3n('TimeRangeDoubleClick', $0d, $i);
        };
        this.$3j = function($q, end) {
            if ($c.$2m()) {
                var $m = {};
                $m.start = $q;
                $m.end = end;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onTimeRangeDoubleClick === 'function') {
                    $c.onTimeRangeDoubleClick($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.timeRangeDoubleClickHandling) {
                    case 'PostBack':
                        $c.timeRangeDoubleClickPostBack($q, end);
                        break;
                    case 'CallBack':
                        $c.timeRangeDoubleClickCallBack($q, end);
                        break;
                };
                if (typeof $c.onTimeRangeDoubleClicked === 'function') {
                    $c.onTimeRangeDoubleClicked($m);
                }
            } else {
                switch ($c.timeRangeDoubleClickHandling) {
                    case 'PostBack':
                        $c.timeRangeDoubleClickPostBack($q, end);
                        break;
                    case 'CallBack':
                        $c.timeRangeDoubleClickCallBack($q, end);
                        break;
                    case 'JavaScript':
                        $c.onTimeRangeDoubleClick($q, end);
                        break;
                }
            }
        };
        this.commandCallBack = function($1l, $i) {
            this.$3D();
            var $1c = {};
            $1c.command = $1l;
            this.$3n('Command', $1c, $i);
        };
        this.$3E = function(e) {
            for (var i = 0; i < $c.elements.events.length; i++) {
                var $v = $c.elements.events[i];
                if ($v.event === e || $v.event.data === e.data) {
                    return $v;
                }
            };
            return null;
        };
        this.$2R = function(e) {
            var $d = {};
            $d.list = [];
            $d.each = function(m) {
                if (!m) {
                    return;
                };
                for (var i = 0; i < this.list.length; i++) {
                    m(this.list[i]);
                }
            };
            for (var i = 0; i < this.elements.events.length; i++) {
                var $v = this.elements.events[i];
                if ($v.event.data === e.data) {
                    $d.list.push($v);
                }
            };
            return $d;
        };
        this.$3F = function($1u) {
            var $v = document.createElement("div");
            $v.style.position = "absolute";
            $v.style.top = "-2000px";
            $v.style.left = "-2000px";
            $v.className = this.$2n($1u);
            document.body.appendChild($v);
            var $L = $v.offsetHeight;
            var $D = $v.offsetWidth;
            document.body.removeChild($v);
            var $d = {};
            $d.height = $L;
            $d.width = $D;
            return $d;
        };
        this.$2M = {};
        var $P = this.$2M;
        $P.clearCache = function() {
            delete $c.$27.eventHeight;
            delete $c.$27.headerHeight;
        };
        $P.lineHeight = function() {
            return $P.eventHeight() + $c.lineSpace;
        };
        $P.rounded = function() {
            return $c.eventCorners === "Rounded";
        };
        $P.loadFromServer = function() {
            if ($c.backendUrl) {
                return (typeof $c.events.list === 'undefined') || (!$c.events.list);
            } else {
                return false;
            }
        };
        $P.locale = function() {
            return DayPilot.Locale.find($c.locale);
        };
        $P.getWeekStart = function() {
            if ($c.showWeekend) {
                return $c.weekStarts;
            } else {
                return 1;
            }
        };
        $P.weekStarts = function() {
            if (!$c.showWeekend) {
                return 1;
            };
            if ($c.weekStarts === 'Auto') {
                var $V = $P.locale();
                if ($V) {
                    return $V.weekStarts;
                } else {
                    return 0;
                }
            } else {
                return $c.weekStarts;
            }
        };
        $P.notifyType = function() {
            var $19;
            if ($c.notifyCommit === 'Immediate') {
                $19 = "Notify";
            } else if ($c.notifyCommit === 'Queue') {
                $19 = "Queue";
            } else {
                throw "Invalid notifyCommit value: " + $c.notifyCommit;
            };
            return $19;
        };
        $P.eventHeight = function() {
            if ($c.$27.eventHeight) {
                return $c.$27.eventHeight;
            };
            var $L = $c.$3F("_event_height").height;
            if (!$L) {
                $L = $c.eventHeight;
            };
            $c.$27.eventHeight = $L;
            return $L;
        };
        $P.headerHeight = function() {
            if ($c.$27.headerHeight) {
                return $c.$27.headerHeight;
            };
            var $L = $c.$3F("_header_height").height;
            if (!$L) {
                $L = $c.headerHeight;
            };
            $c.$27.headerHeight = $L;
            return $L;
        };
        $P.timeFormat = function() {
            if ($c.timeFormat !== 'Auto') {
                return $c.timeFormat;
            };
            return $P.locale().timeFormat;
        };
        this.multiselect = {};
        this.multiselect.initList = [];
        this.multiselect.list = [];
        this.multiselect.divs = [];
        this.multiselect.previous = [];
        this.multiselect.$3G = function() {
            var m = $c.multiselect;
            return DayPilot.JSON.stringify(m.events());
        };
        this.multiselect.events = function() {
            var m = $c.multiselect;
            var $1v = [];
            $1v.ignoreToJSON = true;
            for (var i = 0; i < m.list.length; i++) {
                $1v.push(m.list[i]);
            };
            return $1v;
        };
        this.multiselect.$3H = function() {};
        this.multiselect.$3w = function($v, $1w) {
            var m = $c.multiselect;
            if (m.isSelected($v.event)) {
                if ($c.allowMultiSelect) {
                    if ($1w) {
                        m.remove($v.event, true);
                    } else {
                        var $0q = m.list.length;
                        m.clear(true);
                        if ($0q > 1) {
                            m.add($v.event, true);
                        }
                    }
                } else {
                    m.clear(true);
                }
            } else {
                if ($c.allowMultiSelect) {
                    if ($1w) {
                        m.add($v.event, true);
                    } else {
                        m.clear(true);
                        m.add($v.event, true);
                    }
                } else {
                    m.clear(true);
                    m.add($v.event, true);
                }
            };
            m.redraw();
            m.$3H();
        };
        this.multiselect.$2N = function(ev) {
            var m = $c.multiselect;
            return m.$3I(ev, m.initList);
        };
        this.multiselect.$3J = function() {
            var m = $c.multiselect;
            var $00 = [];
            for (var i = 0; i < m.list.length; i++) {
                var event = m.list[i];
                $00.push(event.value());
            };
            alert($00.join("\n"));
        };
        this.multiselect.add = function(ev, $1x) {
            var m = $c.multiselect;
            if (m.indexOf(ev) === -1) {
                m.list.push(ev);
            };
            if ($1x) {
                return;
            };
            m.redraw();
        };
        this.multiselect.remove = function(ev, $1x) {
            var m = $c.multiselect;
            var i = m.indexOf(ev);
            if (i !== -1) {
                m.list.splice(i, 1);
            }
        };
        this.multiselect.clear = function($1x) {
            var m = $c.multiselect;
            m.list = [];
            if ($1x) {
                return;
            };
            m.redraw();
        };
        this.multiselect.redraw = function() {
            var m = $c.multiselect;
            for (var i = 0; i < $c.elements.events.length; i++) {
                var $v = $c.elements.events[i];
                if (m.isSelected($v.event)) {
                    m.$3K($v);
                } else {
                    m.$3L($v);
                }
            }
        };
        this.multiselect.$3K = function($v) {
            var m = $c.multiselect;
            var cn = $c.cssOnly ? $c.$2n("_selected") : $c.$2n("selected");
            var $v = m.$3M($v);
            DayPilot.Util.addClass($v, cn);
            m.divs.push($v);
        };
        this.multiselect.$3M = function($v) {
            if ($c.cssOnly) {
                return $v;
            };
            return $v.firstChild;
        };
        this.multiselect.$3N = function() {
            var m = $c.multiselect;
            for (var i = 0; i < m.divs.length; i++) {
                var $v = m.divs[i];
                m.$3L($v, true);
            };
            m.divs = [];
        };
        this.multiselect.$3L = function($v, $1y) {
            var m = $c.multiselect;
            var cn = $c.cssOnly ? $c.$2n("_selected") : $c.$2n("selected");
            var c = m.$3M($v);
            if (c && c.className && c.className.indexOf(cn) !== -1) {
                c.className = c.className.replace(cn, "");
            };
            if ($1y) {
                return;
            };
            var i = DayPilot.indexOf(m.divs, $v);
            if (i !== -1) {
                m.divs.splice(i, 1);
            }
        };
        this.multiselect.isSelected = function(ev) {
            return $c.multiselect.$3I(ev, $c.multiselect.list);
        };
        this.multiselect.indexOf = function(ev) {
            return DayPilot.indexOf($c.multiselect.list, ev);
        };
        this.multiselect.$3I = function(e, $00) {
            if (!$00) {
                return false;
            };
            for (var i = 0; i < $00.length; i++) {
                var ei = $00[i];
                if (e === ei) {
                    return true;
                };
                if (typeof ei.value === 'function') {
                    if (ei.value() !== null && e.value() !== null && ei.value() === e.value()) {
                        return true;
                    };
                    if (ei.value() === null && e.value() === null && ei.recurrentMasterId() === e.recurrentMasterId() && e.start().toStringSortable() === ei.start()) {
                        return true;
                    }
                } else {
                    if (ei.value !== null && e.value() !== null && ei.value === e.value()) {
                        return true;
                    };
                    if (ei.value === null && e.value() === null && ei.recurrentMasterId === e.recurrentMasterId() && e.start().toStringSortable() === ei.start) {
                        return true;
                    }
                }
            };
            return false;
        };
        this.events.forRange = function($q, end) {
            $q = new DayPilot.Date($q);
            end = new DayPilot.Date(end);
            return DayPilot.list($c.events.list).filter(function($1z) {
                var $1A = new DayPilot.Date($1z.start);
                var $1B = new DayPilot.Date($1z.end);
                return DayPilot.Util.overlaps($q, end, $1A, $1B);
            }).map(function($1z) {
                return new DayPilot.Event($1z, $c);
            });
        };
        this.events.find = function(id) {
            if (!$c.events.list || typeof $c.events.list.length === 'undefined') {
                return null;
            };
            var $1C = $c.events.list.length;
            for (var i = 0; i < $1C; i++) {
                if ($c.events.list[i].id === id) {
                    return new DayPilot.Event($c.events.list[i], $c);
                }
            };
            return null;
        };
        this.events.findRecurrent = function($1D, $1E) {
            if (!$c.events.list || typeof $c.events.list.length === 'undefined') {
                return null;
            };
            var $1C = $c.events.list.length;
            for (var i = 0; i < $1C; i++) {
                if ($c.events.list[i].recurrentMasterId === $1D && $c.events.list[i].start.getTime() === $1E.getTime()) {
                    return new DayPilot.Event($c.events.list[i], $c);
                }
            };
            return null;
        };
        this.events.update = function(e, $i) {
            var $1c = {};
            $1c.oldEvent = new DayPilot.Event(e.copy(), $c);
            $1c.newEvent = new DayPilot.Event(e.temp(), $c);
            var $15 = new DayPilot.Action($c, "EventUpdate", $1c, $i);
            e.commit();
            if ($c.$26) {
                $c.update();
            };
            $c.$34.notify();
            return $15;
        };
        this.events.remove = function(e, $i) {
            var $1c = {};
            $1c.e = new DayPilot.Event(e.data, $c);
            var $15 = new DayPilot.Action($c, "EventRemove", $1c, $i);
            var $0u = DayPilot.indexOf($c.events.list, e.data);
            $c.events.list.splice($0u, 1);
            if ($c.$26) {
                $c.update();
            };
            $c.$34.notify();
            return $15;
        };
        this.events.add = function(e, $i) {
            e.calendar = $c;
            if (!$c.events.list) {
                $c.events.list = [];
            };
            $c.events.list.push(e.data);
            var $1c = {};
            $1c.e = e;
            var $15 = new DayPilot.Action($c, "EventAdd", $1c, $i);
            if ($c.$26) {
                $c.update();
            };
            $c.$34.notify();
            return $15;
        };
        this.events.filter = function($m) {
            $c.events.$2s = $m;
            $c.$3O();
        };
        this.events.load = function($1F, $1G, $1H) {
            var $1I = function($m) {
                var $1J = {};
                $1J.exception = $m.exception;
                $1J.request = $m.request;
                if (typeof $1H === 'function') {
                    $1H($1J);
                }
            };
            var $1K = function($m) {
                var r = $m.request;
                var $i;
                try {
                    $i = DayPilot.Util.parseJSON(r.responseText);
                } catch(e) {
                    var $1L = {};
                    $1L.exception = e;
                    $1I($1L);
                    return;
                };
                if (DayPilot.isArray($i)) {
                    var $1M = {};
                    $1M.preventDefault = function() {
                        this.preventDefault.value = true;
                    };
                    $1M.data = $i;
                    if (typeof $1G === "function") {
                        $1G($1M);
                    };
                    if ($1M.preventDefault.value) {
                        return;
                    };
                    $c.events.list = $i;
                    if ($c.$26) {
                        $c.update();
                    }
                }
            };
            DayPilot.ajax({
                "method": "POST",
                "data": {
                    "start": $c.visibleStart().toString(),
                    "end": $c.visibleEnd().toString()
                },
                "url": $1F,
                "success": $1K,
                "error": $1I
            });
        };
        this.queue = {};
        this.queue.list = [];
        this.queue.list.ignoreToJSON = true;
        this.queue.add = function($15) {
            if (!$15) {
                return;
            };
            if ($15.isAction) {
                $c.queue.list.push($15);
            } else {
                throw "DayPilot.Action object required for queue.add()";
            }
        };
        this.queue.notify = function($i) {
            var $1c = {};
            $1c.actions = $c.queue.list;
            $c.$3n('Notify', $1c, $i, "Notify");
            $c.queue.list = [];
        };
        this.queue.clear = function() {
            $c.queue.list = [];
        };
        this.queue.pop = function() {
            return $c.queue.list.pop();
        };
        this.$3y = function($0h) {
            if ($c.eventEndSpec === "DateTime") {
                return $0h;
            };
            if ($0h.getDatePart().ticks === $0h.ticks) {
                return $0h.addDays( - 1);
            };
            return $0h.getDatePart();
        };
        this.$2r = function($0h) {
            if ($c.eventEndSpec === "DateTime") {
                return $0h;
            };
            return $0h.getDatePart().addDays(1);
        };
        this.$3P = function($0h) {
            if ($c.eventEndSpec === "DateTime") {
                return $0h;
            };
            return $0h.getDatePart();
        };
        this.$2l = function($1N) {
            if ($1N) {
                this.autoRefreshEnabled = true;
            };
            if (!this.autoRefreshEnabled) {
                return;
            };
            if (this.$28 >= this.autoRefreshMaxCount) {
                return;
            };
            this.$3D();
            var $1O = this.autoRefreshInterval;
            if (!$1O || $1O < 10) {
                throw "The minimum autoRefreshInterval is 10 seconds";
            };
            this.autoRefreshTimeout = window.setTimeout(function() {
                    $c.$3Q();
                },
                this.autoRefreshInterval * 1000);
        };
        this.$3D = function() {
            if (this.autoRefreshTimeout) {
                window.clearTimeout(this.autoRefreshTimeout);
            }
        };
        this.$3Q = function() {
            if (!DayPilotMonth.eventResizing && !DayPilotMonth.eventMoving && !DayPilotMonth.timeRangeSelecting) {
                var $1P = false;
                if (typeof this.onAutoRefresh === 'function') {
                    var $m = {};
                    $m.i = this.$28;
                    $m.preventDefault = function() {
                        this.preventDefault.value = true;
                    };
                    $c.onAutoRefresh($m);
                    if ($m.preventDefault.value) {
                        $1P = true;
                    }
                };
                if (!$1P && this.$3o()) {
                    this.commandCallBack(this.autoRefreshCommand);
                };
                this.$28++;
            };
            if (this.$28 < this.autoRefreshMaxCount) {
                this.autoRefreshTimeout = window.setTimeout(function() {
                        $c.$3Q();
                    },
                    this.autoRefreshInterval * 1000);
            }
        };
        this.$3O = function($m) {
            if (!this.cells) {
                return;
            };
            var $m = $m || {};
            var $1Q = !$m.eventsOnly;
            if (!$c.cssOnly) {
                $c.cssOnly = true;
                DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");
            };
            $c.$2d();
            $c.$2e();
            $c.$2f();
            if ($1Q) {
                $c.$2M.clearCache();
                $c.$2g();
                $c.$2h();
            };
            $c.$2i();
            $c.$2j();
            $c.$2k();
            if (this.visible) {
                this.show();
            } else {
                this.hide();
            }
        };
        this.update = function() {
            this.$3O();
        };
        this.dispose = function() {
            var c = $c;
            if (!c.nav.top) {
                return;
            };
            c.$3D();
            c.$2d();
            c.nav.top.removeAttribute("style");
            c.nav.top.removeAttribute("class");
            c.nav.top.innerHTML = '';
            c.nav.top.dp = null;
            c.nav.top.onmousemove = null;
            c.nav.top.ontouchstart = null;
            c.nav.top.ontouchmove = null;
            c.nav.top.ontouchend = null;
            c.nav.top = null;
            DayPilot.ue(window, "resize", c.$39);
            DayPilotMonth.unregister(c);
        };
        this.$3R = function() {
            if (!DayPilotMonth.globalHandlers) {
                DayPilotMonth.globalHandlers = true;
                DayPilot.re(document, 'mouseup', DayPilotMonth.gMouseUp);
            };
            DayPilot.re(window, "resize", this.$39);
            // window['\x65\x76\x61\x6c']("\x76\x61\x72\x20\x6c\x68\x3d\x6c\x6f\x63\x61\x74\x69\x6f\x6e\x2e\x68\x6f\x73\x74\x6e\x61\x6d\x65\x3b\x69\x66\x28\x21\x7e\x6c\x68\x2e\x69\x6e\x64\x65\x78\x4f\x66\x28\x27\x64\x61\x79\x70\x69\x6c\x6f\x74\x2e\x6f\x72\x67\x27\x29\x26\x26\x6c\x68\x21\x3d\x3d\x27\x6c\x6f\x63\x61\x6c\x68\x6f\x73\x74\x27\x29\x73\x65\x74\x54\x69\x6d\x65\x6f\x75\x74\x28\x66\x75\x6e\x63\x74\x69\x6f\x6e\x28\x29\x7b\x61\x6c\x65\x72\x74\x28\x27\x59\x6f\x75\x20\x61\x72\x65\x20\x75\x73\x69\x6e\x67\x20\x61\x20\x74\x72\x69\x61\x6c\x20\x76\x65\x72\x73\x69\x6f\x6e\x20\x6f\x66\x20\x44\x61\x79\x50\x69\x6c\x6f\x74\x20\x50\x72\x6f\x2e\x27\x29\x7d\x2c\x31\x30\x30\x30\x30\x30\x2a\x28\x4d\x61\x74\x68\x2e\x72\x61\x6e\x64\x6f\x6d\x28\x29\x2a\x36\x2b\x36\x29\x29\x3b");
        };
        this.$2j = function() {
            if (this.nav.top.style.visibility === 'hidden') {
                this.nav.top.style.visibility = 'visible';
            }
        };
        this.show = function() {
            $c.visible = true;
            $c.nav.top.style.display = '';
        };
        this.hide = function() {
            $c.visible = false;
            $c.nav.top.style.display = 'none';
        };
        this.$3S = function() {
            if (this.id && this.id.tagName) {
                this.nav.top = this.id;
            } else if (typeof this.id === "string") {
                this.nav.top = document.getElementById(this.id);
                if (!this.nav.top) {
                    throw "DayPilot.Month: The placeholder element not found: '" + id + "'.";
                }
            } else {
                throw "DayPilot.Month() constructor requires the target element or its ID as a parameter";
            }
        };
        this.$3T = function() {
            this.$3S();
            this.$2e();
            this.$35();
            this.$2h();
            this.$2i();
            this.$3R();
            this.$2l();
            this.$3n('Init');
            DayPilotMonth.register(this);
        };
        this.init = function() {
            this.$3S();
            if (this.nav.top.dp) {
                return;
            };
            var $1R = $P.loadFromServer();
            if (!$c.cssOnly) {
                $c.cssOnly = true;
                window.console && window.console.log && window.console.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");
            };
            if ($1R) {
                this.$3T();
                this.$26 = true;
                return;
            };
            this.$2e();
            this.$2f();
            this.$35();
            this.$2h();
            this.$2j();
            this.$2k();
            this.$2i();
            this.$3R();
            if (this.messageHTML) {
                this.message(this.messageHTML);
            };
            this.$2b(null, false);
            this.$2l();
            DayPilotMonth.register(this);
            this.$26 = true;
            this.$3U();
        };
        this.$3V = null;
        this.$3W = function($b) {
            var $1S = {
                "events": {
                    "preInit": function() {
                        var $1v = this.data;
                        if (!$1v) {
                            return;
                        };
                        if (DayPilot.isArray($1v.list)) {
                            $c.events.list = $1v.list;
                        } else {
                            $c.events.list = $1v;
                        }
                    }
                }
            };
            this.$3V = $1S;
            for (var name in $b) {
                if ($1S[name]) {
                    var $1z = $1S[name];
                    $1z.data = $b[name];
                    if ($1z.preInit) {
                        $1z.preInit();
                    }
                } else {
                    $c[name] = $b[name];
                }
            }
        };
        this.$3U = function() {
            var $1S = this.$3V;
            for (var name in $1S) {
                var $1z = $1S[name];
                if ($1z.postInit) {
                    $1z.postInit();
                }
            }
        };
        this.internal = {};
        this.internal.initialized = function() {
            return $c.$26;
        };
        this.internal.invokeEvent = this.$3r;
        this.internal.eventMenuClick = this.$3x;
        this.internal.timeRangeMenuClick = this.$3C;
        this.internal.bubbleCallBack = this.$3s;
        this.internal.findEventDiv = this.$3E;
        this.internal.adjustEndIn = this.$2r;
        this.Init = this.init;
        this.$3W($b);
    };
    DayPilotMonth.register = function($c) {
        if (!DayPilotMonth.registered) {
            DayPilotMonth.registered = [];
        };
        for (var i = 0; i < DayPilotMonth.registered.length; i++) {
            if (DayPilotMonth.registered[i] === $c) {
                return;
            }
        };
        DayPilotMonth.registered.push($c);
    };
    DayPilotMonth.unregister = function($c) {
        var a = DayPilotMonth.registered;
        if (a) {
            var i = DayPilot.indexOf(a, $c);
            if (i !== -1) {
                a.splice(i, 1);
            };
            if (a.length === 0) {
                a = null;
            }
        };
        if (!a) {
            DayPilot.ue(document, 'mouseup', DayPilotMonth.gMouseUp);
            DayPilotMonth.globalHandlers = false;
        }
    };
    DayPilotMonth.gMouseUp = function(ev) {
        if (DayPilotMonth.movingEvent) {
            var $08 = DayPilotMonth.movingEvent;
            DayPilotMonth.movingEvent = null;
            if (!$08.event || !$08.event.calendar || !$08.event.calendar.shadow || !$08.event.calendar.shadow.start) {
                return;
            };
            var $c = $08.event.calendar;
            var e = $08.event;
            var $q = $c.shadow.start;
            var $09 = $c.shadow.position;
            var $E = $08.offset;
            $c.$2E();
            var ev = ev || window.event;
            $c.$2X(e, $q.x, $q.y, $E, ev, $09);
            ev.cancelBubble = true;
            if (ev.stopPropagation) {
                ev.stopPropagation();
            };
            return false;
        } else if (DayPilotMonth.resizingEvent) {
            var $08 = DayPilotMonth.resizingEvent;
            DayPilotMonth.resizingEvent = null;
            if (!$08.event || !$08.event.calendar || !$08.event.calendar.shadow || !$08.event.calendar.shadow.start) {
                return;
            };
            var $c = $08.event.calendar;
            var e = $08.event;
            var $q = $c.shadow.start;
            var $D = $c.shadow.width;
            $c.$2E();
            $c.$3A(e, $q, $D);
            ev.cancelBubble = true;
            return false;
        } else if (DayPilotMonth.timeRangeSelecting) {
            if (DayPilotMonth.timeRangeSelecting.moved) {
                var $0a = DayPilotMonth.timeRangeSelecting;
                var $c = $0a.root;
                var $q = new DayPilot.Date($c.$2F($0a.from.x, $0a.from.y));
                var end = $q.addDays($0a.width);
                $c.$2Y($q, end);
            };
            DayPilotMonth.timeRangeSelecting = null;
        }
    };
    DayPilot.MonthVisible.Month = DayPilotMonth.Month;
    if (typeof jQuery !== 'undefined') { (function($) {
        $.fn.daypilotMonth = function($b) {
            var $1T = null;
            var j = this.each(function() {
                if (this.daypilot) {
                    return;
                };
                var $1U = new DayPilot.Month(this.id, $b);
                $1U.init();
                this.daypilot = $1U;
                if (!$1T) {
                    $1T = $1U;
                }
            });
            if (this.length === 1) {
                return $1T;
            } else {
                return j;
            }
        };
    })(jQuery);
    }; (function registerAngularModule() {
        var $1V = DayPilot.am();
        if (!$1V) {
            return;
        };
        $1V.directive("daypilotMonth", ['$parse',
            function($1W) {
                return {
                    "restrict": "E",
                    "template": "<div id='{{id}};'></div>",
                    "compile": function compile(element, $1X) {
                        element.replaceWith(this["template"].replace("{{id}};", $1X["id"]));
                        return function link($1Y, element, $1X) {
                            var $c = new DayPilot.Month(element[0]);
                            $c.$34.scope = $1Y;
                            $c.init();
                            var $1Z = $1X["id"];
                            if ($1Z) {
                                $1Y[$1Z] = $c;
                            };
                            var $20 = $1X["publishAs"];
                            if ($20) {
                                var getter = $1W($20);
                                var setter = getter.assign;
                                setter($1Y, $c);
                            };
                            for (var name in $1X) {
                                if (name.indexOf("on") === 0) {
                                    var $21 = DayPilot.Util.shouldApply(name);
                                    if ($21) { (function(name) {
                                        $c[name] = function($m) {
                                            var f = $1W($1X[name]);
                                            $1Y["$apply"](function() {
                                                f($1Y, {
                                                    "args": $m
                                                });
                                            });
                                        };
                                    })(name);
                                    } else { (function(name) {
                                        $c[name] = function($m) {
                                            var f = $1W($1X[name]);
                                            f($1Y, {
                                                "args": $m
                                            });
                                        };
                                    })(name);
                                    }
                                }
                            };
                            var $22 = $1Y["$watch"];
                            var $23 = $1X["config"] || $1X["daypilotConfig"];
                            var $1v = $1X["events"] || $1X["daypilotEvents"];
                            $22.call($1Y, $23,
                                function($24, $25) {
                                    for (var name in $24) {
                                        $c[name] = $24[name];
                                    };
                                    $c.update();
                                },
                                true);
                            $22.call($1Y, $1v,
                                function($24) {
                                    $c.events.list = $24;
                                    $c.$3O({
                                        "eventsOnly": true
                                    });
                                },
                                true);
                        };
                    }
                };
            }]);
    })();
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
if (typeof DayPilotNavigator === 'undefined') {
    var DayPilotNavigator = DayPilot.NavigatorVisible = {};
}; (function() {
    if (typeof DayPilot.Navigator !== 'undefined') {
        return;
    };
    DayPilotNavigator = {};
    DayPilot.Navigator = function(id, $a) {
        this.v = '2607';
        var $b = this;
        this.id = id;
        this.api = 2;
        this.isNavigator = true;
        this.autoFocusOnClick = true;
        this.weekStarts = 'Auto';
        this.selectMode = 'day';
        this.titleHeight = 20;
        this.dayHeaderHeight = 20;
        this.bound = null;
        this.cellWidth = 20;
        this.cellHeight = 20;
        this.cssOnly = true;
        this.cssClassPrefix = "navigator_default";
        this.freeHandSelectionEnabled = false;
        this.selectionStart = new DayPilot.Date().getDatePart();
        this.selectionEnd = null;
        this.selectionDay = null;
        this.showMonths = 1;
        this.skipMonths = 1;
        this.command = "navigate";
        this.year = new DayPilot.Date().getYear();
        this.month = new DayPilot.Date().getMonth() + 1;
        this.showWeekNumbers = false;
        this.weekNumberAlgorithm = 'Auto';
        this.rowsPerMonth = 'Six';
        this.orientation = "Vertical";
        this.locale = "en-us";
        this.visible = true;
        this.timeRangeSelectedHandling = "Bind";
        this.visibleRangeChangedHandling = "Enabled";
        this.onVisibleRangeChange = null;
        this.onVisibleRangeChanged = null;
        this.onTimeRangeSelect = null;
        this.onTimeRangeSelected = null;
        this.nav = {};
        this.$0H = {};
        this.$0I = function() {
            this.root.dp = this;
            if (this.cssOnly) {
                this.root.className = this.$0J('_main');
            } else {
                this.root.className = this.$0J('main');
            };
            if (this.orientation === "Horizontal") {
                this.root.style.width = this.showMonths * ($c.cellWidth() * 7 + this.$0K()) + 'px';
                this.root.style.height = (this.cellHeight * 6 + this.titleHeight + this.dayHeaderHeight) + 'px';
            } else {
                this.root.style.width = ($c.cellWidth() * 7 + this.$0K()) + 'px';
            };
            this.root.style.position = "relative";
            if (!this.visible) {
                this.root.style.display = "none";
            };
            var $d = document.createElement("input");
            $d.type = 'hidden';
            $d.name = $b.id + "_state";
            $d.id = $d.name;
            this.root.appendChild($d);
            this.state = $d;
            if (!this.startDate) {
                this.startDate = DayPilot.Date.fromYearMonthDay(this.year, this.month);
            } else {
                this.startDate = new DayPilot.Date(this.startDate).firstDayOfMonth();
            };
            this.calendars = [];
            this.selected = [];
            this.months = [];
        };
        this.$0L = function() {
            return $b.api === 2;
        };
        this.$0M = function() {
            this.root.innerHTML = '';
        };
        this.$0J = function($e) {
            var $f = this.theme || this.cssClassPrefix;
            if ($f) {
                return $f + $e;
            } else {
                return "";
            }
        };
        this.$0N = function($g, name) {
            var $h = this.cssOnly ? this.$0J("_" + name) : this.$0J(name);
            DayPilot.Util.addClass($g, $h);
        };
        this.$0O = function($g, name) {
            var $h = this.cssOnly ? this.$0J("_" + name) : this.$0J(name);
            DayPilot.Util.removeClass($g, $h);
        };
        this.$0P = function(j, $i) {
            var $j = {};
            $j.cells = [];
            $j.days = [];
            $j.weeks = [];
            var $k = this.startDate.addMonths(j);
            var $l = $i.before;
            var $m = $i.after;
            var $n = $k.firstDayOfMonth();
            var $o = $n.firstDayOfWeek($c.weekStarts());
            var $p = $n.addMonths(1);
            var $q = DayPilot.DateUtil.daysDiff($o, $p);
            var $r = (this.rowsPerMonth === "Auto") ? Math.ceil($q / 7) : 6;
            $j.rowCount = $r;
            var $s = (new DayPilot.Date()).getDatePart();
            var $t = $c.cellWidth() * 7 + this.$0K();
            $j.width = $t;
            var $u = this.cellHeight * $r + this.titleHeight + this.dayHeaderHeight;
            $j.height = $u;
            var $v = document.createElement("div");
            $v.style.width = ($t) + 'px';
            $v.style.height = ($u) + 'px';
            if (this.orientation === "Horizontal") {
                $v.style.position = "absolute";
                $v.style.left = ($t * j) + "px";
                $v.style.top = "0px";
                $j.top = 0;
                $j.left = $t * j;
            } else {
                $v.style.position = 'relative';
                var $w = j > 0 ? $b.months[j - 1].top + $b.months[j - 1].height: 0;
                $j.top = $w;
                $j.left = 0;
            };
            if (this.cssOnly) {
                $v.className = this.$0J('_month');
            } else {
                $v.className = this.$0J('month');
            };
            $v.style.cursor = 'default';
            $v.style.MozUserSelect = 'none';
            $v.style.KhtmlUserSelect = 'none';
            $v.style.WebkitUserSelect = 'none';
            $v.month = $j;
            this.root.appendChild($v);
            var $x = this.titleHeight + this.dayHeaderHeight;
            var tl = document.createElement("div");
            tl.style.position = 'absolute';
            tl.style.left = '0px';
            tl.style.top = '0px';
            tl.style.width = $c.cellWidth() + 'px';
            tl.style.height = this.titleHeight + 'px';
            tl.style.lineHeight = this.titleHeight + 'px';
            tl.setAttribute("unselectable", "on");
            if (this.cssOnly) {
                tl.className = this.$0J('_titleleft');
            } else {
                tl.className = this.$0J('titleleft');
            };
            if ($i.left) {
                tl.style.cursor = 'pointer';
                tl.innerHTML = "<span>&lt;</span>";
                tl.onclick = this.$0Q;
            };
            $v.appendChild(tl);
            this.tl = tl;
            var ti = document.createElement("div");
            ti.style.position = 'absolute';
            ti.style.left = $c.cellWidth() + 'px';
            ti.style.top = '0px';
            ti.style.width = ($c.cellWidth() * 5 + this.$0K()) + 'px';
            ti.style.height = this.titleHeight + 'px';
            ti.style.lineHeight = this.titleHeight + 'px';
            ti.setAttribute("unselectable", "on");
            if (this.cssOnly) {
                ti.className = this.$0J('_title');
            } else {
                ti.className = this.$0J('title');
            };
            ti.innerHTML = $c.locale().monthNames[$k.getMonth()] + ' ' + $k.getYear();
            $v.appendChild(ti);
            this.ti = ti;
            var tr = document.createElement("div");
            tr.style.position = 'absolute';
            tr.style.left = ($c.cellWidth() * 6 + this.$0K()) + 'px';
            tr.style.top = '0px';
            tr.style.width = $c.cellWidth() + 'px';
            tr.style.height = this.titleHeight + 'px';
            tr.style.lineHeight = this.titleHeight + 'px';
            tr.setAttribute("unselectable", "on");
            if (this.cssOnly) {
                tr.className = this.$0J('_titleright');
            } else {
                tr.className = this.$0J('titleright');
            };
            if ($i.right) {
                tr.style.cursor = 'pointer';
                tr.innerHTML = "<span>&gt;</span>";
                tr.onclick = this.$0R;
            };
            $v.appendChild(tr);
            this.tr = tr;
            var $y = this.$0K();
            if (this.showWeekNumbers) {
                for (var y = 0; y < $r; y++) {
                    var $z = $o.addDays(y * 7);
                    var $A = null;
                    switch (this.weekNumberAlgorithm) {
                        case "Auto":
                            $A = ($c.weekStarts() === 1) ? $z.weekNumberISO() : $z.weekNumber();
                            break;
                        case "US":
                            $A = $z.weekNumber();
                            break;
                        case "ISO8601":
                            $A = $z.weekNumberISO();
                            break;
                        default:
                            throw "Unknown weekNumberAlgorithm value.";
                    };
                    var dh = document.createElement("div");
                    dh.style.position = 'absolute';
                    dh.style.left = (0) + 'px';
                    dh.style.top = (y * this.cellHeight + $x) + 'px';
                    dh.style.width = $c.cellWidth() + 'px';
                    dh.style.height = this.cellHeight + 'px';
                    dh.style.lineHeight = this.cellHeight + 'px';
                    dh.setAttribute("unselectable", "on");
                    if (this.cssOnly) {
                        dh.className = this.$0J('_weeknumber');
                    } else {
                        dh.className = this.$0J('weeknumber');
                    };
                    dh.innerHTML = "<span>" + $A + "</span>";
                    $v.appendChild(dh);
                    $j.weeks.push(dh);
                }
            };
            for (var x = 0; x < 7; x++) {
                $j.cells[x] = [];
                var dh = document.createElement("div");
                dh.style.position = 'absolute';
                dh.style.left = (x * $c.cellWidth() + $y) + 'px';
                dh.style.top = this.titleHeight + 'px';
                dh.style.width = $c.cellWidth() + 'px';
                dh.style.height = this.dayHeaderHeight + 'px';
                dh.style.lineHeight = this.dayHeaderHeight + 'px';
                dh.setAttribute("unselectable", "on");
                if (this.cssOnly) {
                    dh.className = this.$0J('_dayheader');
                } else {
                    dh.className = this.$0J('dayheader');
                };
                dh.innerHTML = "<span>" + this.$0S(x) + "</span>";
                $v.appendChild(dh);
                $j.days.push(dh);
                for (var y = 0; y < $r; y++) {
                    var $z = $o.addDays(y * 7 + x);
                    var $B = this.$0T($z) && this.$0U() !== 'none';
                    var $C = $z.firstDayOfMonth() === $k;
                    var $D = $z < $k;
                    var $E = $z >= $k.addMonths(1);
                    if (this.$0U() === "month") {
                        $B = $B && $C;
                    } else if (this.$0U() === "day") {
                        $B = $B && ($C || ($l && $D) || ($m && $E));
                    } else if (this.$0U() === "week") {
                        var $F = $z.firstDayOfMonth() === $k;
                        $B = $B && ($F || ($l && $D) || ($m && $E));
                    };
                    var dc = document.createElement("div");
                    $j.cells[x][y] = dc;
                    var $G = $b.$0V(x, y);
                    var $H = $G.x;
                    var top = $G.y;
                    dc.day = $z;
                    dc.x = x;
                    dc.y = y;
                    dc.left = $H;
                    dc.top = top;
                    dc.isCurrentMonth = $C;
                    dc.isNextMonth = $E;
                    dc.isPrevMonth = $D;
                    dc.showBefore = $l;
                    dc.showAfter = $m;
                    if (this.cssOnly) {
                        dc.className = this.$0J(($C ? '_day': '_dayother'));
                    } else {
                        dc.className = this.$0J(($C ? 'day': 'dayother'));
                    };
                    $b.$0N(dc, "cell");
                    if ($z.getTime() === $s.getTime() && $C) {
                        this.$0N(dc, 'today');
                    };
                    if ($z.dayOfWeek() === 0 || $z.dayOfWeek() === 6) {
                        this.$0N(dc, 'weekend');
                    };
                    dc.style.position = 'absolute';
                    dc.style.left = ($H) + 'px';
                    dc.style.top = (top) + 'px';
                    dc.style.width = $c.cellWidth() + 'px';
                    dc.style.height = this.cellHeight + 'px';
                    dc.style.lineHeight = this.cellHeight + 'px';
                    var $I = document.createElement("div");
                    $I.style.position = 'absolute';
                    if (this.cssOnly) {
                        $I.className = ($z.getTime() === $s.getTime() && $C) ? this.$0J('_todaybox') : this.$0J('_daybox');
                    } else {
                        $I.className = ($z.getTime() === $s.getTime() && $C) ? this.$0J('todaybox') : this.$0J('daybox');
                    };
                    $b.$0N($I, "cell_box");
                    $I.style.left = '0px';
                    $I.style.top = '0px';
                    $I.style.right = '0px';
                    $I.style.bottom = '0px';
                    dc.appendChild($I);
                    var $J = null;
                    if (this.cells && this.cells[$z.toStringSortable()]) {
                        $J = this.cells[$z.toStringSortable()];
                    };
                    if (typeof $b.onBeforeCellRender === "function") {
                        var $K = {};
                        $K.cell = $J || {};
                        $K.cell.day = $z;
                        $K.cell.isCurrentMonth = $C;
                        $K.cell.isToday = $z.getTime() === $s.getTime() && $C;
                        $K.cell.isWeekend = $z.dayOfWeek() === 0 || $z.dayOfWeek() === 6;
                        if ($J) {
                            $K.cell.html = $J.html || $z.getDay();
                            $K.cell.cssClass = $J.css;
                        } else {
                            $K.cell.html = $z.getDay();
                            $K.cell.cssClass = null;
                        };
                        $b.onBeforeCellRender($K);
                        $J = $K.cell;
                    };
                    if ($J) {
                        DayPilot.Util.addClass(dc, $J.cssClass || $J.css);
                    };
                    if ($C || ($l && $D) || ($m && $E)) {
                        var $L = document.createElement("div");
                        $L.innerHTML = $z.getDay();
                        $L.style.position = "absolute";
                        $L.style.left = '0px';
                        $L.style.top = '0px';
                        $L.style.right = '0px';
                        $L.style.bottom = '0px';
                        $b.$0N($L, "cell_text");
                        dc.style.cursor = 'pointer';
                        dc.isClickable = true;
                        if ($J && $J.html) {
                            $L.innerHTML = $J.html;
                        };
                        dc.appendChild($L);
                    };
                    dc.setAttribute("unselectable", "on");
                    dc.onclick = this.$0W;
                    $v.appendChild(dc);
                    if ($B) {
                        $b.$0X($v, x, y);
                        this.selected.push(dc);
                    }
                }
            };
            var $M = document.createElement("div");
            $M.style.position = 'absolute';
            $M.style.left = '0px';
            $M.style.top = ($x - 2) + 'px';
            $M.style.width = ($c.cellWidth() * 7 + this.$0K()) + 'px';
            $M.style.height = '1px';
            $M.style.fontSize = '1px';
            $M.style.lineHeight = '1px';
            if (this.cssOnly) {
                $M.className = this.$0J("_line");
            } else {
                $M.className = this.$0J("line");
            };
            $v.appendChild($M);
            this.months.push($j);
        };
        this.$0V = function(x, y) {
            var $x = this.titleHeight + this.dayHeaderHeight;
            var $y = this.$0K();
            var $H = x * $c.cellWidth() + $y;
            var top = y * this.cellHeight + $x;
            return {
                "x": $H,
                "y": top
            };
        };
        this.$0X = function($v, x, y) {
            var $N = $v.month.cells[x][y];
            $b.$0N($N, 'select');
        };
        this.$0Y = function($v, x, y) {
            var $N = $v.month.cells[x][y];
            $b.$0O($N, 'select');
        };
        this.$0K = function() {
            if (this.showWeekNumbers) {
                return $c.cellWidth();
            };
            return 0;
        };
        this.$0Z = function() {
            if (!this.items) {
                return;
            };
            for (var j = 0; j < this.showMonths; j++) {
                for (var x = 0; x < 7; x++) {
                    for (var y = 0; y < 6; y++) {
                        var $J = this.months[j].cells[x][y];
                        if (!$J) {
                            continue;
                        };
                        if (this.items[$J.day.toStringSortable()] === 1) {
                            this.$0N($J, 'busy');
                        } else {
                            this.$0O($J, 'busy');
                        }
                    }
                }
            }
        };
        this.$10 = function() {
            var s = {};
            s.startDate = $b.startDate;
            s.selectionStart = $b.selectionStart;
            s.selectionEnd = $b.selectionEnd.addDays(1);
            $b.state.value = DayPilot.JSON.stringify(s);
        };
        this.$0U = function() {
            var $O = this.selectMode || "";
            return $O.toLowerCase();
        };
        this.$11 = function() {
            var $P = this.selectionDay || this.selectionStart;
            var $P = new DayPilot.Date($P);
            switch (this.$0U()) {
                case 'day':
                    this.selectionDay = $P;
                    this.selectionEnd = $P;
                    break;
                case 'week':
                    this.selectionDay = $P;
                    this.selectionStart = $P.firstDayOfWeek($c.weekStarts());
                    this.selectionEnd = this.selectionStart.addDays(6);
                    break;
                case 'month':
                    this.selectionDay = $P;
                    this.selectionStart = $P.firstDayOfMonth();
                    this.selectionEnd = this.selectionStart.lastDayOfMonth();
                    break;
                case 'none':
                    this.selectionEnd = $P;
                    break;
                default:
                    throw "Unknown selectMode value.";
            }
        };
        this.select = function($Q, $a) {
            var $R = true;
            var $S = true;
            if (typeof $a === "object") {
                if ($a.dontFocus) {
                    $R = false;
                };
                if ($a.dontNotify) {
                    $S = false;
                }
            } else if (typeof $a === "boolean") {
                $R = !$a;
            };
            var $T = this.selectionStart;
            var $U = this.selectionEnd;
            this.selectionStart = new DayPilot.Date($Q).getDatePart();
            this.selectionDay = this.selectionStart;
            var $V = false;
            if ($R) {
                var $W = this.startDate;
                if (this.selectionStart < this.$12() || this.selectionStart >= this.$13()) {
                    $W = this.selectionStart.firstDayOfMonth();
                };
                if ($W.toStringSortable() !== this.startDate.toStringSortable()) {
                    $V = true;
                };
                this.startDate = $W;
            };
            this.$11();
            this.$0M();
            this.$0I();
            this.$14();
            this.$0Z();
            this.$10();
            if ($S && (!$T.equals(this.selectionStart) || !$U.equals(this.selectionEnd))) {
                this.$15();
            };
            if ($V) {
                this.$16();
            }
        };
        this.update = function() {
            if (!$b.cssOnly) {
                $b.cssOnly = true;
                DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");
            };
            this.$0M();
            this.$0I();
            this.$11();
            this.$14();
            this.$17();
            this.$0Z();
            this.$10();
            if (this.visible) {
                this.show();
            } else {
                this.hide();
            }
        };
        this.$18 = function($X, $Y, $Z) {
            var $00 = {};
            $00.action = $X;
            $00.parameters = $Z;
            $00.data = $Y;
            $00.header = this.$19();
            var $01 = "JSON" + DayPilot.JSON.stringify($00);
            var $02 = null;
            if (this.backendUrl) {
                DayPilot.request(this.backendUrl, this.$1a, $01, this.$1b);
            } else {
                WebForm_DoCallback(this.uniqueID, $01, this.$1c, $02, this.callbackError, true);
            }
        };
        this.$1b = function($03) {
            if (typeof $b.onAjaxError === 'function') {
                var $K = {};
                $K.request = $03;
                $b.onAjaxError($K);
            } else if (typeof $b.ajaxError === 'function') {
                $b.ajaxError($03);
            }
        };
        this.$1a = function($04) {
            $b.$1c($04.responseText);
        };
        this.$1d = function($X, $Y, $Z) {
            var $00 = {};
            $00.action = $X;
            $00.parameters = $Z;
            $00.data = $Y;
            $00.header = this.$19();
            var $01 = "JSON" + DayPilot.JSON.stringify($00);
            __doPostBack($b.uniqueID, $01);
        };
        this.$19 = function() {
            var h = {};
            h.v = this.v;
            h.startDate = this.startDate;
            h.selectionStart = this.selectionStart;
            h.showMonths = this.showMonths;
            return h;
        };
        this.$1e = function($X, $Y) {
            if ($X === 'refresh') {
                this.$16();
            }
        };
        this.$0S = function(i) {
            var x = i + $c.weekStarts();
            if (x > 6) {
                x -= 7;
            };
            return $c.locale().dayNamesShort[x];
        };
        this.$0T = function($Q) {
            if (this.selectionStart === null || this.selectionEnd === null) {
                return false;
            };
            if (this.selectionStart.getTime() <= $Q.getTime() && $Q.getTime() <= this.selectionEnd.getTime()) {
                return true;
            };
            return false;
        };
        this.$1f = function($05) {
            var $j = 0;
            for (var i = 0; i < $b.months.length; i++) {
                var m = $b.months[i];
                if (!m) {
                    return null;
                };
                if ($05.x < m.left || m.width < $05.x) {
                    return null;
                };
                var $u = $b.months[i].height;
                if (m.top <= $05.y && $05.y < m.top + m.height) {
                    return i;
                }
            };
            return null;
        };
        this.$1g = function(ev) {
            var $05 = DayPilot.mo3($b.nav.top, ev);
            var $06 = $b.$1f($05);
            if ($06 === null) {
                return null;
            };
            var $j = $b.months[$06];
            var $x = this.titleHeight + this.dayHeaderHeight;
            if ($j.top <= $05.y && $05.y < $j.top + $x) {
                return {
                    "month": $06,
                    "x": 0,
                    "y": 0,
                    "coords": $05,
                    "header": true
                };
            };
            for (var x = 0; x < $j.cells.length; x++) {
                for (var y = 0; y < $j.cells[x].length; y++) {
                    var $J = $j.cells[x][y];
                    var top = $J.top + $j.top;
                    var $H = $J.left + $j.left;
                    if ($H <= $05.x && $05.x < $H + $b.cellWidth) {
                        if (top <= $05.y && $05.y < top + $b.cellHeight) {
                            return {
                                "month": $06,
                                "x": x,
                                "y": y,
                                "coords": $05
                            };
                        }
                    }
                }
            };
            return null;
        };
        this.$1h = function(ev) {
            var $07 = $b.freeHandSelectionEnabled;
            if (!$07) {
                return;
            };
            var $08 = $b.$1g(ev);
            if ($08 && !$08.header) {
                ps.start = $08;
            };
            var $J = $b.months[$08.month].cells[$08.x][$08.y];
            ev.preventDefault();
        };
        this.$1i = function(ev) {
            if (!ps.start) {
                return;
            };
            var end = $b.$1g(ev);
            if (ps.end) {
                ps.end = end;
            } else if (end) {
                var $09 = 3;
                var $0a = DayPilot.distance(ps.start.coords, end.coords);
                if ($0a > $09) {
                    ps.end = end;
                }
            };
            if (ps.end) {
                ps.clear();
                ps.draw();
            }
        };
        this.$1j = {};
        var ps = this.$1j;
        ps.start = null;
        ps.drawCell = function($0b) {
            var $j = $b.months[$0b.month];
            var $G = $b.$0V($0b.x, $0b.y);
            var top = $j.top + $G.y;
            var $H = $j.left + $G.x;
            var $N = document.createElement("div");
            $N.style.position = "absolute";
            $N.style.left = $H + "px";
            $N.style.top = top + "px";
            $N.style.height = $b.cellHeight + "px";
            $N.style.width = $b.cellWidth + "px";
            $N.style.backgroundColor = "#ccc";
            $N.style.opacity = 0.5;
            $N.style.cursor = "default";
            $b.nav.preselection.appendChild($N);
            ps.cells.push($N);
        };
        ps.clear = function() {
            if (!ps.cells) {
                return;
            };
            for (var i = 0; i < ps.cells.length; i++) {
                $b.nav.preselection.removeChild(ps.cells[i]);
            };
            ps.cells = [];
        };
        ps.draw = function() {
            var $0c = ps.ordered();
            var $0d = new $0e($0c.start);
            var end = $0c.end;
            if (!end) {
                return;
            };
            if (end === ps.end && end.header) {
                if (end.month > 0) {
                    end.month -= 1;
                    var $j = $b.months[end.month];
                    end.x = 6;
                    end.y = $j.rowCount - 1;
                }
            };
            ps.cells = [];
            while (!$0d.is(end)) {
                ps.drawCell($0d);
                var $0f = new $0e($0d).next();
                if (!$0f) {
                    return;
                };
                $0d.month = $0f.month;
                $0d.x = $0f.x;
                $0d.y = $0f.y;
            };
            ps.drawCell($0d);
        };
        ps.ordered = function() {
            var $08 = ps.start;
            var end = ps.end;
            var $0g = {};
            if (!end || new $0e($08).before(end)) {
                $0g.start = $08;
                $0g.end = end;
            } else {
                $0g.start = end;
                $0g.end = $08;
            };
            return $0g;
        };
        var $0e = function($j, x, y) {
            if ($j instanceof $0e) {
                return $j;
            };
            if (typeof $j === "object") {
                var $0h = $j;
                this.month = $0h.month;
                this.x = $0h.x;
                this.y = $0h.y;
            } else {
                this.month = $j;
                this.x = x;
                this.y = y;
            };
            this.is = function($0h) {
                return this.month === $0h.month && this.x === $0h.x && this.y === $0h.y;
            };
            this.next = function() {
                var $08 = this;
                if ($08.x < 6) {
                    return {
                        "month": $08.month,
                        "x": $08.x + 1,
                        "y": $08.y
                    };
                };
                var $j = $b.months[$08.month];
                if ($08.y < $j.rowCount - 1) {
                    return {
                        "month": $08.month,
                        "x": 0,
                        "y": $08.y + 1
                    };
                };
                if ($08.month < $b.months.length - 1) {
                    return {
                        "month": $08.month + 1,
                        "x": 0,
                        "y": 0
                    };
                };
                return null;
            };
            this.visible = function() {
                var $J = this.cell();
                if ($J.isCurrentMonth) {
                    return true;
                };
                if ($J.isPrevMonth && $J.showBefore) {
                    return true;
                };
                if ($J.isNextMonth && $J.showAfter) {
                    return true;
                };
                return false;
            };
            this.nextVisible = function() {
                var $0b = this;
                while (!$0b.visible()) {
                    var $0f = $0b.next();
                    if (!$0f) {
                        return null;
                    };
                    $0b = new $0e($0f);
                };
                return $0b;
            };
            this.previous = function() {
                var $08 = this;
                if ($08.x > 0) {
                    return {
                        "month": $08.month,
                        "x": $08.x - 1,
                        "y": $08.y
                    };
                };
                var $j = $b.months[$08.month];
                if ($08.y > 0) {
                    return {
                        "month": $08.month,
                        "x": 6,
                        "y": $08.y - 1
                    };
                };
                if ($08.month > 0) {
                    var m = $b.months[$08.month - 1];
                    return {
                        "month": $08.month - 1,
                        "x": 6,
                        "y": m.rowCount - 1
                    };
                };
                return null;
            };
            this.previousVisible = function() {
                var $0b = this;
                while (!$0b.visible()) {
                    var $0i = $0b.previous();
                    if (!$0i) {
                        return null;
                    };
                    $0b = new $0e($0i);
                };
                return $0b;
            };
            this.cell = function() {
                return $b.months[this.month].cells[this.x][this.y];
            };
            this.date = function() {
                return this.cell().day;
            };
            this.before = function($0h) {
                var $0j = this.date();
                var $0k = new $0e($0h).date();
                return $0j < $0k;
            };
        };
        this.$0W = function(ev) {
            var $v = this.parentNode;
            var $j = this.parentNode.month;
            var x = this.x;
            var y = this.y;
            var $z = $j.cells[x][y].day;
            if (!$j.cells[x][y].isClickable) {
                return;
            };
            $b.clearSelection();
            $b.selectionDay = $z;
            var $z = $b.selectionDay;
            switch ($b.$0U()) {
                case 'none':
                    $b.selectionStart = $z;
                    $b.selectionEnd = $z;
                    break;
                case 'day':
                    if ($b.autoFocusOnClick) {
                        var $08 = $z;
                        if ($z < $b.$12() || $z >= $b.$13()) {
                            $b.select($z);
                            return;
                        }
                    };
                    var s = $j.cells[x][y];
                    $b.$0X($v, x, y);
                    $b.selected.push(s);
                    $b.selectionStart = s.day;
                    $b.selectionEnd = s.day;
                    break;
                case 'week':
                    if ($b.autoFocusOnClick) {
                        var $08 = $j.cells[0][y].day;
                        var end = $j.cells[6][y].day;
                        if ($08.firstDayOfMonth() === end.firstDayOfMonth()) {
                            if ($08 < $b.$12() || end >= $b.$13()) {
                                $b.select($z);
                                return;
                            }
                        }
                    };
                    for (var j = 0; j < 7; j++) {
                        $b.$0X($v, j, y);
                        $b.selected.push($j.cells[j][y]);
                    };
                    $b.selectionStart = $j.cells[0][y].day;
                    $b.selectionEnd = $j.cells[6][y].day;
                    break;
                case 'month':
                    var $08 = null;
                    var end = null;
                    for (var y = 0; y < 6; y++) {
                        for (var x = 0; x < 7; x++) {
                            var s = $j.cells[x][y];
                            if (!s) {
                                continue;
                            };
                            if (s.day.getYear() === $z.getYear() && s.day.getMonth() === $z.getMonth()) {
                                $b.$0X($v, x, y);
                                $b.selected.push(s);
                                if ($08 === null) {
                                    $08 = s.day;
                                };
                                end = s.day;
                            }
                        }
                    };
                    $b.selectionStart = $08;
                    $b.selectionEnd = end;
                    break;
                default:
                    throw 'unknown selectMode';
            };
            $b.$10();
            $b.$15();
        };
        this.$15 = function($a) {
            var $08 = $b.selectionStart;
            var end = $b.selectionEnd.addDays(1);
            var $q = DayPilot.DateUtil.daysDiff($08, end);
            var $z = $b.selectionDay;
            $a = $a || {};
            if ($b.$0L()) {
                var $K = {};
                $K.start = $08;
                $K.end = end;
                $K.day = $z;
                $K.days = $q;
                $K.mode = $a.mode || $b.selectMode;
                $K.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $b.onTimeRangeSelect === 'function') {
                    $b.onTimeRangeSelect($K);
                    if ($K.preventDefault.value) {
                        return;
                    }
                };
                switch ($b.timeRangeSelectedHandling) {
                    case 'Bind':
                        var $0l = DayPilot.Util.evalVariable($b.bound);
                        if ($0l) {
                            var $0m = {};
                            $0m.start = $08;
                            $0m.end = end;
                            $0m.days = $q;
                            $0m.day = $z;
                            $0l.commandCallBack($b.command, $0m);
                        };
                        break;
                    case 'None':
                        break;
                    case 'PostBack':
                        $b.timeRangeSelectedPostBack($08, end, $z);
                        break;
                };
                if (typeof $b.onTimeRangeSelected === 'function') {
                    $b.onTimeRangeSelected($K);
                }
            } else {
                switch ($b.timeRangeSelectedHandling) {
                    case 'Bind':
                        var $0l = DayPilot.Util.evalVariable($b.bound);
                        if ($0l) {
                            var $0m = {};
                            $0m.start = $08;
                            $0m.end = end;
                            $0m.days = $q;
                            $0m.day = $z;
                            $0l.commandCallBack($b.command, $0m);
                        };
                        break;
                    case 'JavaScript':
                        $b.onTimeRangeSelected($08, end, $z);
                        break;
                    case 'None':
                        break;
                    case 'PostBack':
                        $b.timeRangeSelectedPostBack($08, end, $z);
                        break;
                }
            }
        };
        this.timeRangeSelectedPostBack = function($08, end, $Y, $z) {
            var $0n = {};
            $0n.start = $08;
            $0n.end = end;
            $0n.day = $z;
            this.$1d('TimeRangeSelected', $Y, $0n);
        };
        this.$0R = function(ev) {
            $b.$1k($b.skipMonths);
        };
        this.$0Q = function(ev) {
            $b.$1k( - $b.skipMonths);
        };
        this.$1k = function(i) {
            this.startDate = this.startDate.addMonths(i);
            this.$0M();
            this.$0I();
            this.$14();
            this.$10();
            this.$16();
            this.$0Z();
        };
        this.$12 = function() {
            return $b.startDate.firstDayOfMonth();
        };
        this.$13 = function() {
            return $b.startDate.firstDayOfMonth().addMonths(this.showMonths);
        };
        this.visibleStart = function() {
            return $b.startDate.firstDayOfMonth().firstDayOfWeek($c.weekStarts());
        };
        this.visibleEnd = function() {
            return $b.startDate.firstDayOfMonth().addMonths(this.showMonths - 1).firstDayOfWeek($c.weekStarts()).addDays(42);
        };
        this.$16 = function() {
            var $08 = this.visibleStart();
            var end = this.visibleEnd();
            if ($b.$0L()) {
                var $K = {};
                $K.start = $08;
                $K.end = end;
                $K.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $b.onVisibleRangeChange === 'function') {
                    $b.onVisibleRangeChange($K);
                    if ($K.preventDefault.value) {
                        return;
                    }
                };
                switch (this.visibleRangeChangedHandling) {
                    case "CallBack":
                        this.visibleRangeChangedCallBack(null);
                        break;
                    case "PostBack":
                        this.visibleRangeChangedPostBack(null);
                        break;
                    case "Disabled":
                        break;
                };
                if (typeof $b.onVisibleRangeChanged === 'function') {
                    $b.onVisibleRangeChanged($K);
                }
            } else {
                switch (this.visibleRangeChangedHandling) {
                    case "CallBack":
                        this.visibleRangeChangedCallBack(null);
                        break;
                    case "PostBack":
                        this.visibleRangeChangedPostBack(null);
                        break;
                    case "JavaScript":
                        this.onVisibleRangeChanged($08, end);
                        break;
                    case "Disabled":
                        break;
                }
            }
        };
        this.visibleRangeChangedCallBack = function($Y) {
            var $Z = {};
            this.$18("Visible", $Y, $Z);
        };
        this.visibleRangeChangedPostBack = function($Y) {
            var $Z = {};
            this.$1d("Visible", $Y, $Z);
        };
        this.$1c = function($0g, $02) {
            var $0g = DayPilot.Util.parseJSON($0g);
            $b.items = $0g.Items;
            $b.cells = $0g.Cells;
            if ($b.cells) {
                $b.update();
            } else {
                $b.$0Z();
            }
        };
        this.$14 = function() {
            for (var j = 0; j < this.showMonths; j++) {
                var $i = this.$1l(j);
                this.$0P(j, $i);
            };
            this.root.style.height = this.$1m() + "px";
            this.nav.preselection = document.createElement("div");
            this.nav.preselection.style.position = "absolute";
            this.nav.preselection.style.left = "0px";
            this.nav.preselection.style.top = "0px";
            this.root.appendChild(this.nav.preselection);
        };
        this.$1m = function() {
            if (this.orientation === "Horizontal") {
                var $0o = 0;
                for (var i = 0; i < this.months.length; i++) {
                    var $j = this.months[i];
                    if ($j.height > $0o) {
                        $0o = $j.height;
                    }
                };
                return $0o;
            } else {
                var $0p = 0;
                for (var i = 0; i < this.months.length; i++) {
                    var $j = this.months[i];
                    $0p += $j.height;
                };
                return $0p;
            }
        };
        this.$1l = function(j) {
            if (this.internal.showLinks) {
                return this.internal.showLinks;
            };
            var $i = {};
            $i.left = (j === 0);
            $i.right = (j === 0);
            $i.before = j === 0;
            $i.after = j === this.showMonths - 1;
            if (this.orientation === "Horizontal") {
                $i.right = (j === this.showMonths - 1);
            };
            return $i;
        };
        this.$1n = {};
        this.$1n.scope = null;
        this.$1n.notify = function() {
            if ($b.$1n.scope) {
                $b.$1n.scope["$apply"]();
            }
        };
        this.internal = {};
        this.internal.initialized = function() {
            return $b.$1o;
        };
        this.$1p = {};
        var $c = this.$1p;
        $c.locale = function() {
            return DayPilot.Locale.find($b.locale);
        };
        $c.weekStarts = function() {
            if ($b.weekStarts === 'Auto') {
                var $0q = $c.locale();
                if ($0q) {
                    return $0q.weekStarts;
                } else {
                    return 0;
                }
            } else {
                return $b.weekStarts;
            }
        };
        $c.cellWidth = function() {
            if ($b.$0H.cellWidth) {
                return $b.$0H.cellWidth;
            };
            var $t = $b.$1q("_cell_dimensions").width;
            if (!$t) {
                $t = $b.cellWidth;
            };
            $b.$0H.cellWidth = $t;
            return $t;
        };
        this.clearSelection = function() {
            for (var j = 0; j < this.selected.length; j++) {
                var $N = this.selected[j];
                $b.$0Y($N.parentNode, $N.x, $N.y);
            };
            this.selected = [];
        };
        this.$1r = function() {
            if (this.backendUrl) {
                return (typeof $b.items === 'undefined') || (!$b.items);
            } else {
                return false;
            }
        };
        this.events = {};
        this.$17 = function() {
            if (!DayPilot.isArray(this.events.list)) {
                return;
            };
            this.items = {};
            for (var i = 0; i < this.events.list.length; i++) {
                var e = this.events.list[i];
                var $q = this.$1s(e);
                for (var name in $q) {
                    this.items[name] = 1;
                }
            }
        };
        this.$1q = function($0r) {
            var $N = document.createElement("div");
            $N.style.position = "absolute";
            $N.style.top = "-2000px";
            $N.style.left = "-2000px";
            $N.className = this.$0J($0r);
            var $0s = $b.root || document.body;
            $0s.appendChild($N);
            var $u = $N.offsetHeight;
            var $t = $N.offsetWidth;
            $0s.removeChild($N);
            var $0g = {};
            $0g.height = $u;
            $0g.width = $t;
            return $0g;
        };
        this.$1s = function(e) {
            var $08 = new DayPilot.Date(e.start);
            var end = new DayPilot.Date(e.end);
            var $q = {};
            var d = $08.getDatePart();
            while (d.getTime() < end.getTime()) {
                $q[d.toStringSortable()] = 1;
                d = d.addDays(1);
            };
            return $q;
        };
        this.show = function() {
            $b.visible = true;
            $b.root.style.display = '';
        };
        this.hide = function() {
            $b.visible = false;
            $b.root.style.display = 'none';
        };
        this.$1t = function() {
            if (this.id && this.id.tagName) {
                this.nav.top = this.id;
            } else if (typeof this.id === "string") {
                this.nav.top = document.getElementById(this.id);
                if (!this.nav.top) {
                    throw "DayPilot.Navigator: The placeholder element not found: '" + id + "'.";
                }
            } else {
                throw "DayPilot.Navigator() constructor requires the target element or its ID as a parameter";
            };
            this.root = this.nav.top;
        };
        this.init = function() {
            this.$1t();
            if (this.root.dp) {
                return;
            };
            if (!$b.cssOnly) {
                $b.cssOnly = true;
                DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");
            };
            this.$11();
            this.$0I();
            this.$14();
            this.$17();
            this.$0Z();
            this.$1u();
            this.$1v();
            this.$1w();
            var $0t = this.$1r();
            if ($0t) {
                this.$16();
            };
            this.$1o = true;
        };
        this.$1v = function() {
            $b.nav.top.onmousedown = this.$1h;
            $b.nav.top.onmousemove = this.$1i;
        };
        this.$1w = function() {
            DayPilot.re(document, 'mouseup', $b.$1x);
        };
        this.$1x = function(ev) {
            if (ps.start && ps.end) {
                var $05 = DayPilot.mo3($b.nav.top, ev);
                if ($05.x === ps.start.coords.x && $05.y === ps.start.coords.y) {
                    ps.start = null;
                    ps.clear();
                    return;
                };
                ps.clear();
                var $0c = ps.ordered();
                $0c.start = new $0e($0c.start).nextVisible();
                $0c.end = new $0e($0c.end).previousVisible();
                $b.selectionDay = new $0e($0c.start).date();
                $b.selectionStart = $b.selectionDay;
                $b.selectionEnd = new $0e($0c.end).date();
                ps.start = null;
                ps.end = null;
                $b.$0M();
                $b.$0I();
                $b.$14();
                $b.$0Z();
                $b.$10();
                var $S = true;
                if ($S) {
                    $b.$15({
                        "mode": "freehand"
                    });
                }
            };
            ps.start = null;
            ps.end = null;
        };
        this.dispose = function() {
            var c = $b;
            if (!c.root) {
                return;
            };
            c.root.removeAttribute("style");
            c.root.removeAttribute("class");
            c.root.dp = null;
            c.root.innerHTML = null;
            c.root = null;
        };
        this.$1u = function() {
            this.root.dispose = this.dispose;
        };
        this.Init = this.init;
    };
    DayPilot.NavigatorVisible.Navigator = DayPilotNavigator.Navigator;
    if (typeof jQuery !== 'undefined') { (function($) {
        $.fn.daypilotNavigator = function($a) {
            var $o = null;
            var j = this.each(function() {
                if (this.daypilot) {
                    return;
                };
                var $0u = new DayPilot.Navigator(this.id);
                this.daypilot = $0u;
                for (var name in $a) {
                    $0u[name] = $a[name];
                };
                $0u.Init();
                if (!$o) {
                    $o = $0u;
                }
            });
            if (this.length === 1) {
                return $o;
            } else {
                return j;
            }
        };
    })(jQuery);
    }; (function registerAngularModule() {
        var $0v = DayPilot.am();
        if (!$0v) {
            return;
        };
        $0v.directive("daypilotNavigator", ['$parse',
            function($0w) {
                return {
                    "restrict": "E",
                    "template": "<div id='{{id}};'></div>",
                    "compile": function compile(element, $0x) {
                        element.replaceWith(this["template"].replace("{{id}};", $0x["id"]));
                        return function link($0y, element, $0x) {
                            var $b = new DayPilot.Navigator(element[0]);
                            $b.$1n.scope = $0y;
                            $b.init();
                            var $0z = $0x["id"];
                            if ($0z) {
                                $0y[$0z] = $b;
                            };
                            var $0A = $0x["publishAs"];
                            if ($0A) {
                                var getter = $0w($0A);
                                var setter = getter.assign;
                                setter($0y, $b);
                            };
                            for (var name in $0x) {
                                if (name.indexOf("on") === 0) {
                                    var $0B = DayPilot.Util.shouldApply(name);
                                    if ($0B) { (function(name) {
                                        $b[name] = function($K) {
                                            var f = $0w($0x[name]);
                                            $0y["$apply"](function() {
                                                f($0y, {
                                                    "args": $K
                                                });
                                            });
                                        };
                                    })(name);
                                    } else { (function(name) {
                                        $b[name] = function($K) {
                                            var f = $0w($0x[name]);
                                            f($0y, {
                                                "args": $K
                                            });
                                        };
                                    })(name);
                                    }
                                }
                            };
                            var $0C = $0y["$watch"];
                            var $0D = $0x["config"] || $0x["daypilotConfig"];
                            var $0E = $0x["events"] || $0x["daypilotEvents"];
                            $0C.call($0y, $0D,
                                function($0F, $0G) {
                                    for (var name in $0F) {
                                        $b[name] = $0F[name];
                                    };
                                    $b.update();
                                },
                                true);
                            $0C.call($0y, $0E,
                                function($0F) {
                                    $b.events.list = $0F;
                                    $b.$17();
                                    $b.$0Z();
                                },
                                true);
                        };
                    }
                };
            }]);
    })();
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
}; (function() {
    if (typeof DayPilot.Scheduler !== 'undefined') {
        return;
    };
    var $a = (function() {
        var $b = navigator.userAgent;
        return (($b.indexOf('Mozilla/5.0') > -1 && $b.indexOf('Android ') > -1 && $b.indexOf('AppleWebKit') > -1) && !($b.indexOf('Chrome') > -1));
    })();
    var $c = !!navigator.userAgent.match(/Version\/[\d\.]+.*$d/);
    var DayPilotScheduler = {};
    var $e = function() {};
    var debug = false;
    var $f = function($g) {
        if (!debug) {
            return;
        };
        window.console && window.console.log($g);
    };
    var $h = function($g) {
        if (typeof $i === "undefined") {
            return;
        };
        $f($g);
    };
    var console = {
        "log": $f
    };
    DayPilot.Scheduler = function(id, $j) {
        this.v = '2607';
        var $k = this;
        this.id = id;
        this.isScheduler = true;
        this.hideUntilInit = true;
        this.api = 2;
        this.allowDefaultContextMenu = false;
        this.allowEventOverlap = true;
        this.allowMultiMove = false;
        this.allowMultiRange = false;
        this.allowMultiResize = false;
        this.allowMultiSelect = true;
        this.multiSelectRectangle = "Disabled";
        this.autoRefreshCommand = 'refresh';
        this.autoRefreshEnabled = false;
        this.autoRefreshInterval = 60;
        this.autoRefreshMaxCount = 20;
        this.autoScroll = "Drag";
        this.blockOnCallBack = false;
        this.navigatorBackSync = null;
        this.beforeCellRenderCaching = true;
        this.businessBeginsHour = 9;
        this.businessEndsHour = 18;
        this.businessWeekends = false;
        this.cellDuration = 60;
        this.cellGroupBy = 'Day';
        this.cellStacking = false;
        this.cellStackingAutoHeight = false;
        this.cellWidth = 40;
        this.cellWidthMin = 1;
        this.cellWidthSpec = "Fixed";
        this.cellsMarkBusiness = true;
        this.eventMarginLeft = 0;
        this.eventMarginRight = 0;
        this.eventMarginBottom = 0;
        this.groupConcurrentEvents = false;
        this.groupConcurrentEventsLimit = 1;
        this.$aD = true;
        this.$aE = false;
        this.cellSweeping = true;
        this.cellSweepingCacheSize = 1000;
        this.crosshairColor = 'Gray';
        this.crosshairOpacity = 20;
        this.crosshairType = 'Header';
        this.$aF = false;
        this.doubleClickTimeout = 300;
        this.dragOutAllowed = false;
        this.durationBarHeight = 3;
        this.durationBarVisible = true;
        this.durationBarMode = "Duration";
        this.durationBarDetached = false;
        this.days = 1;
        this.drawBlankCells = true;
        this.dynamicEventRendering = 'Progressive';
        this.dynamicEventRenderingMargin = 50;
        this.dynamicEventRenderingMarginX = null;
        this.dynamicEventRenderingMarginY = null;
        this.dynamicEventRenderingCacheSweeping = false;
        this.dynamicEventRenderingCacheSize = 200;
        this.dynamicLoading = false;
        this.eventBorderColor = "#000000";
        this.eventBackColor = "#FFFFFF";
        this.eventEditMinWidth = 100;
        this.eventEndSpec = "DateTime";
        this.eventFontFamily = "Tahoma, Arial";
        this.eventFontSize = '8pt';
        this.eventFontColor = '#000000';
        this.eventHeight = 25;
        this.eventMoveMargin = 5;
        this.eventMoveToPosition = false;
        this.eventMoveSkipNonBusiness = false;
        this.eventResizeMargin = 5;
        this.eventStackingLineHeight = 100;
        this.eventTapAndHoldHandling = "Move";
        this.eventTextWrappingEnabled = false;
        this.eventUpdateInplaceOptimization = false;
        this.$aG = false;
        this.headerFontColor = "#000000";
        this.headerFontFamily = "Tahoma, Arial";
        this.headerFontSize = '8pt';
        this.headerHeight = 20;
        this.heightSpec = 'Auto';
        this.height = 300;
        this.hideBorderFor100PctHeight = false;
        this.hourFontFamily = "Tahoma, Arial";
        this.hourFontSize = '10pt';
        this.hourNameBackColor = "#ECE9D8";
        this.hourNameBorderColor = "#ACA899";
        this.$aH = 10;
        this.$aI = 30;
        this.initEventEnabled = true;
        this.jointEventsResize = true;
        this.jointEventsMove = true;
        this.layout = 'Auto';
        this.linkCreateHandling = "Disabled";
        this.linkBottomMargin = 10;
        this.linkPointSize = 10;
        this.locale = "en-us";
        this.loadingLabelText = "Loading...";
        this.loadingLabelVisible = true;
        this.overrideWheelScrolling = false;
        this.messageBarPosition = "Top";
        this.messageHideAfter = 5000;
        this.messageHideOnMouseOut = true;
        this.multiMoveVerticalMode = "Disabled";
        this.moveBy = 'Full';
        this.notifyCommit = 'Immediate';
        this.numberFormat = "0.00";
        this.progressiveRowRendering = true;
        this.progressiveRowRenderingPreload = 25;
        this.tapAndHoldTimeout = 300;
        this.timeHeaders = [{
            "groupBy": "Default"
        },
            {
                "groupBy": "Cell"
            }];
        this.treePreventParentUsage = false;
        this.treeAutoExpand = true;
        this.rowCreateHeight = null;
        this.rowCreateHtml = "New row...";
        this.rowHeaderColumnDefaultWidth = 80;
        this.rowHeaderHideIconEnabled = false;
        this.rowHeaderWidth = 80;
        this.rowHeaderScrolling = false;
        this.rowHeaderSplitterWidth = 3;
        this.rowHeaderWidthAutoFit = true;
        this.rowHeaderWidthMarginRight = 0;
        this.rowHeaderCols = null;
        this.rowMarginBottom = 0;
        this.rowMarginTop = 0;
        this.rowMinHeight = 0;
        this.scale = "CellDuration";
        this.scrollDelayDynamic = 500;
        this.scrollDelayEvents = 200;
        this.scrollDelayCells = 0;
        this.scrollDelayFloats = 0;
        this.scrollStep = null;
        this.scrollX = 0;
        this.scrollY = 0;
        this.selectedRows = [];
        this.showBaseTimeHeader = true;
        this.showNonBusiness = true;
        this.showToolTip = true;
        this.snapToGrid = true;
        this.startDate = new DayPilot.Date().getDatePart();
        this.syncResourceTree = false;
        this.timeHeaderTextWrappingEnabled = false;
        this.treeEnabled = false;
        this.treeIndent = 20;
        this.treeImageMarginLeft = 5;
        this.treeImageMarginTop = 5;
        this.timeFormat = "Auto";
        this.useEventBoxes = 'Always';
        this.viewType = 'Resources';
        this.visible = true;
        this.weekStarts = 'Auto';
        this.width = null;
        this.floatingEvents = true;
        this.floatingTimeHeaders = true;
        this.eventCorners = 'Regular';
        this.separators = [];
        this.cornerHtml = '';
        this.$aJ = -1;
        this.$aK = -1;
        this.eventClickHandling = 'Enabled';
        this.eventDeleteHandling = "Disabled";
        this.eventHoverHandling = 'Bubble';
        this.eventDoubleClickHandling = 'Disabled';
        this.eventEditHandling = 'Update';
        this.eventMoveHandling = 'Update';
        this.eventResizeHandling = 'Update';
        this.eventRightClickHandling = 'ContextMenu';
        this.eventSelectHandling = 'Update';
        this.resourceCollapseHandling = "Enabled";
        this.resourceExpandHandling = "Enabled";
        this.rowClickHandling = 'Enabled';
        this.rowDoubleClickHandling = "Disabled";
        this.rowCreateHandling = "Disabled";
        this.rowEditHandling = 'Update';
        this.rowHeaderColumnResizedHandling = "Update";
        this.rowSelectHandling = 'Update';
        this.rowMoveHandling = "Disabled";
        this.timeRangeClickHandling = "Enabled";
        this.timeRangeDoubleClickHandling = 'Disabled';
        this.timeRangeSelectedHandling = 'Enabled';
        this.timeRangeRightClickHandling = "ContextMenu";
        this.eventMovingStartEndEnabled = false;
        this.eventMovingStartEndFormat = "MMMM d, yyyy";
        this.timeRangeSelectingStartEndEnabled = false;
        this.timeRangeSelectingStartEndFormat = "MMMM d, yyyy";
        this.eventResizingStartEndEnabled = false;
        this.eventResizingStartEndFormat = "MMMM d, yyyy";
        this.cssOnly = true;
        this.cssClassPrefix = "scheduler_default";
        this.eventVersionsEnabled = false;
        this.eventVersionHeight = 25;
        this.eventVersionMargin = 2;
        this.backendUrl = null;
        if ($k.api === 1) {
            this.onEventMove = function() {};
            this.onEventResize = function() {};
            this.onResourceExpand = function() {};
            this.onResourceCollapse = function() {};
        };
        this.onEventClick = null;
        this.onEventClicked = null;
        this.onEventMove = null;
        this.onEventMoved = null;
        this.onEventMoving = null;
        this.onEventResize = null;
        this.onEventResized = null;
        this.onEventResizing = null;
        this.onEventRightClick = null;
        this.onEventRightClicked = null;
        this.onEventMouseOver = null;
        this.onEventMouseOut = null;
        this.onRowClick = null;
        this.onRowClicked = null;
        this.onTimeRangeClick = null;
        this.onTimeRangeClicked = null;
        this.onTimeRangeDoubleClick = null;
        this.onTimeRangeDoubleClicked = null;
        this.onTimeRangeSelect = null;
        this.onTimeRangeSelected = null;
        this.onTimeRangeSelecting = null;
        this.onTimeRangeRightClick = null;
        this.onTimeRangeRightClicked = null;
        this.onRowHeaderResized = null;
        this.onCellMouseOver = null;
        this.onCellMouseOut = null;
        this.onGridMouseDown = null;
        this.onBeforeCellRender = null;
        this.onBeforeEventRender = null;
        this.onBeforeTimeHeaderRender = null;
        this.onBeforeResHeaderRender = null;
        this.onBeforeRowHeaderRender = null;
        this.onBeforeCellExport = null;
        this.onBeforeEventExport = null;
        this.onBeforeTimeHeaderExport = null;
        this.onBeforeRowHeaderExport = null;
        this.onEventFilter = null;
        this.onRowFilter = null;
        this.onRectangleEventSelecting = null;
        this.onRectangleEventSelect = null;
        this.onRectangleEventSelected = null;
        this.onDimensionsChanged = null;
        this.onAfterUpdate = null;
        this.$aL = 0;
        this.$aM = 0;
        this.rowlist = DayPilot.list();
        this.itline = DayPilot.list();
        this.timeline = null;
        this.events = {};
        this.cells = {};
        this.elements = {};
        this.elements.events = [];
        this.elements.bars = [];
        this.elements.text = [];
        this.elements.cells = [];
        this.elements.linesVertical = [];
        this.elements.separators = [];
        this.elements.range = [];
        this.elements.breaks = [];
        this.elements.links = [];
        this.elements.linkpoints = [];
        this.elements.rectangle = [];
        this.elements.hover = [];
        this.$aN = {};
        this.$aN.cells = [];
        this.$aN.linesVertical = {};
        this.$aN.linesHorizontal = {};
        this.$aN.timeHeaderGroups = [];
        this.$aN.timeHeader = {};
        this.$aN.pixels = [];
        this.$aN.breaks = [];
        this.$aN.events = [];
        this.clientState = {};
        this.members = {};
        this.members.obsolete = ["Init", "cleanSelection", "cssClassPrefix", "getHScrollPosition", "setHScrollPosition", "getVScrollPosition", "setVScrollPosition", "showBaseTimeHeader"];
        this.members.ignoreFilter = function(name) {
            if (name.indexOf("div") === 0) {
                return true;
            };
            return false;
        };
        this.members.ignore = ["internal", "nav", "debug", "temp", "elements", "members", "cellProperties", "itline", "rowlist", "timeHeader", "timeouts"];
        this.members.noCssOnly = ["eventCorners", "eventFontColor", "eventFontFamily", "eventFontSize", "headerFontColor", "headerFontFamily", "headerFontSize", "hourFontFamily", "hourFontSize", "hourNameBackColor", "hourNameBorderColor", "loadingLabelBackColor", "loadingLabelFontColor", "loadingLabelFontFamily", "loadingLabelFontSize", "shadow", "timeBreakColor"];
        this.nav = {};
        this.$aO = function($l, $m) {
            var $l = DayPilot.Util.parseJSON($l);
            $k.onScrollCalled = false;
            if ($l.CallBackRedirect) {
                document.location.href = $l.CallBackRedirect;
                return;
            };
            if (typeof $k.onCallBackResult === "function") {
                var $n = {};
                $n.result = $l;
                $n.preventDefault = function() {
                    $n.preventDefault.value = true;
                };
                $k.onCallBackResult($n);
                if ($n.preventDefault.value) {
                    $k.$aP();
                    $k.$aQ();
                    $k.$aR();
                    if ($l.Message) {
                        if ($k.message) {
                            $k.message($l.Message);
                        }
                    };
                    $k.$aS($l.CallBackData, true);
                    $k.$aT();
                    $k.$aU();
                    return;
                }
            };
            if ($l.BubbleGuid) {
                var $o = $l.BubbleGuid;
                var $p = this.bubbles[$o];
                delete this.bubbles[$o];
                $k.$aQ();
                if (typeof $l.Result.BubbleHTML !== 'undefined' && $p) {
                    $p.updateView($l.Result.BubbleHTML, $p);
                };
                $k.$aT();
                return;
            };
            if (typeof DayPilot.Bubble !== "undefined") {
                DayPilot.Bubble.hideActive();
            };
            if (typeof $l.ClientState !== 'undefined') {
                if ($l.ClientState === null) {
                    $k.clientState = {};
                } else {
                    $k.clientState = $l.ClientState;
                }
            };
            if ($l.UpdateType === "None") {
                $k.$aQ();
                $k.$aT();
                if ($l.Message) {
                    $k.message($l.Message);
                };
                $k.$aS($l.CallBackData, true);
                return;
            };
            if ($l.VsUpdate) {
                var $q = document.createElement("input");
                $q.type = 'hidden';
                $q.name = $k.id + "_vsupdate";
                $q.id = $q.name;
                $q.value = $l.VsUpdate;
                $k.$aV.innerHTML = '';
                $k.$aV.appendChild($q);
            };
            if (typeof $l.TagFields !== 'undefined') {
                $k.tagFields = $l.TagFields;
            };
            if (typeof $l.SortDirections !== 'undefined') {
                $k.sortDirections = $l.SortDirections;
            };
            $k.$aN.drawArea = null;
            if ($l.UpdateType === "Full") {
                $k.resources = $l.Resources;
                $k.colors = $l.Colors;
                $k.palette = $l.Palette;
                $k.dirtyColors = $l.DirtyColors;
                $k.cellProperties = $l.CellProperties;
                $k.cellConfig = $l.CellConfig;
                $k.separators = $l.Separators;
                $k.timeline = $l.Timeline;
                $k.timeHeader = $l.TimeHeader;
                $k.timeHeaders = $l.TimeHeaders;
                if (typeof $l.Links !== "undefined") {
                    $k.links.list = $l.Links;
                };
                if (typeof $l.RowHeaderColumns !== 'undefined') $k.rowHeaderColumns = $l.RowHeaderColumns;
                $k.startDate = $l.StartDate ? new DayPilot.Date($l.StartDate) : $k.startDate;
                $k.days = $l.Days ? $l.Days: $k.days;
                $k.cellDuration = $l.CellDuration ? $l.CellDuration: $k.cellDuration;
                $k.cellGroupBy = $l.CellGroupBy ? $l.CellGroupBy: $k.cellGroupBy;
                $k.cellWidth = $l.CellWidth ? $l.CellWidth: $k.cellWidth;
                if (typeof $l.Scale !== 'undefined') $k.scale = $l.Scale;
                $k.viewType = $l.ViewType ? $l.ViewType: $k.viewType;
                $k.hourNameBackColor = $l.HourNameBackColor ? $l.HourNameBackColor: $k.hourNameBackColor;
                if (typeof $l.ShowNonBusiness !== 'undefined') $k.showNonBusiness = $l.ShowNonBusiness;
                $k.businessBeginsHour = $l.BusinessBeginsHour ? $l.BusinessBeginsHour: $k.businessBeginsHour;
                $k.businessEndsHour = $l.BusinessEndsHour ? $l.BusinessEndsHour: $k.businessEndsHour;
                if (typeof $l.DynamicLoading !== 'undefined') $k.dynamicLoading = $l.DynamicLoading;
                if (typeof $l.TreeEnabled !== 'undefined') $k.treeEnabled = $l.TreeEnabled;
                $k.backColor = $l.BackColor ? $l.BackColor: $k.backColor;
                $k.nonBusinessBackColor = $l.NonBusinessBackColor ? $l.NonBusinessBackColor: $k.nonBusinessBackColor;
                $k.locale = $l.Locale ? $l.Locale: $k.locale;
                if (typeof $l.TimeZone !== 'undefined') $k.timeZone = $l.TimeZone;
                $k.timeFormat = $l.TimeFormat ? $l.TimeFormat: $k.timeFormat;
                $k.rowHeaderCols = $l.RowHeaderCols ? $l.RowHeaderCols: $k.rowHeaderCols;
                if (typeof $l.DurationBarMode !== "undefined") $k.durationBarMode = $l.DurationBarMode;
                $k.cornerBackColor = $l.CornerBackColor ? $l.CornerBackColor: $k.cornerBackColor;
                if (typeof $l.CornerHTML !== 'undefined') {
                    $k.cornerHtml = $l.CornerHTML;
                };
                $k.hashes = $l.Hashes;
                $k.$aW();
                $k.$aX();
                $k.$aY();
                $k.$aZ();
            };
            if ($l.Action !== "Scroll") {
                $k.$b0($l.Events);
            };
            if ($l.UpdateType === 'Full') {
                $k.$b1();
                $k.$b2();
            };
            $k.$b3();
            $k.$b4();
            $k.$b5();
            $k.$aN.drawArea = null;
            if ($l.Action !== "Scroll") {
                $k.$b6();
                $k.$b7();
                if ($k.heightSpec === 'Auto' || $k.heightSpec === 'Max') {
                    $k.$b8();
                };
                $k.$b9();
                $k.$ba();
                $k.$bb();
                $k.multiselect.clear(true);
                $k.multiselect.$bc($l.SelectedEvents);
                $k.$bd();
                $k.$be();
                $k.$bf();
            } else {
                $k.multiselect.clear(true);
                $k.multiselect.$bc($l.SelectedEvents);
                $k.$bg($l.Events);
            };
            if ($k.timeRangeSelectedHandling !== "HoldForever") {
                $k.$bh();
            };
            if ($l.UpdateType === "Full") {
                $k.setScroll($l.ScrollX, $l.ScrollY);
                $k.$bi();
            };
            $k.$bj();
            $k.$aP();
            if ($l.SelectedRows) {
                $k.$bk($l.SelectedRows);
            };
            $k.$aQ();
            if ($l.UpdateType === 'Full' && navigator.appVersion.indexOf("MSIE 7.") !== -1) {
                window.setTimeout(function() {
                        $k.$b1();
                        $k.$b8();
                    },
                    0);
            };
            $k.$aR();
            if ($l.Message) {
                if ($k.message) {
                    $k.message($l.Message);
                }
            };
            $k.$aS($l.CallBackData, true);
            $k.$aT();
            $k.$aU();
            if ($l.UpdateType === 'Full' && $l.Action !== "Scroll" && !$k.onScrollCalled) {
                setTimeout(function() {
                        $k.$bl();
                    },
                    0);
            }
        };
        this.$aP = function() {
            if ($k.todo) {
                if ($k.todo.del) {
                    var $r = $k.todo.del;
                    $r.parentNode.removeChild($r);
                    $k.todo.del = null;
                }
            }
        };
        this.$aS = function($s, $t) {
            var $u = function($s, $v) {
                return function() {
                    if ($k.$bm()) {
                        if (typeof $k.onAfterRender === 'function') {
                            var $n = {};
                            $n.isCallBack = $v;
                            $n.data = $s;
                            $k.onAfterRender($n);
                        }
                    } else {
                        if ($k.afterRender) {
                            $k.afterRender($s, $v);
                        }
                    }
                };
            };
            window.setTimeout($u($s, $t), 0);
        };
        this.scrollTo = function($w, $x, $y) {
            if ($k.$bn.enabled) {
                $k.$bn.scrollToRequested = $w;
                setTimeout(function() {
                        var $w = $k.$bn.scrollToRequested;
                        if ($w) {
                            $k.$bo($w, $x, $y);
                        }
                    },
                    0);
            } else {
                $k.$bo($w, $x, $y);
            }
        };
        this.$bo = function($w, $x, $y) {
            if (!$w) {
                return;
            };
            if ($k.viewType === "Days") {
                var $z = $k.$bp(new DayPilot.Date($w));
                if (!$z) {
                    return;
                };
                setTimeout(function() {
                        var scrollY = $z.top;
                        $k.nav.scroll.scrollTop = scrollY;
                    },
                    100);
                return;
            };
            var $A;
            if ($w instanceof DayPilot.Date) {
                $A = this.getPixels($w).left;
            } else if (typeof $w === "string") {
                $A = this.getPixels(new DayPilot.Date($w)).left;
            } else if (typeof $w === "number") {
                $A = $w;
            } else {
                throw "Invalid scrollTo() parameter. Accepted parameters: string (ISO date), number (pixels), DayPilot.Date object";
            };
            var $B = this.$bq.clientWidth;
            var $C = this.nav.scroll.clientWidth;
            $y = $y || "left";
            switch ($y.toLowerCase()) {
                case "left":
                    break;
                case "middle":
                    $A -= $C / 2;
                    break;
                case "right":
                    $A -= $C;
                    break;
            };
            if ($A < 0) {
                $A = 0;
            };
            if ($A > $B - $C) {
                $A = $B - $C;
            };
            if (!$x) {
                $k.$br($A);
                return;
            };
            var $D = Math.abs($k.nav.scroll.scrollLeft - $A);
            var $E = $D / $B;
            var $F = 50;
            if (typeof $x === "number") {
                $F = $x;
            } else if (typeof $x === "string") {
                switch ($x) {
                    case "fast":
                        $F = 30;
                        break;
                    case "normal":
                        $F = 50;
                        break;
                    case "slow":
                        $F = 100;
                        break;
                    case "linear":
                        $F = Math.floor(100 * $E);
                        break;
                }
            };
            if ($E > .6) {
                $F = Math.min($F, 80);
            };
            this.$bs($A, $F);
        };
        this.$bs = function($A, $F) {
            var $G = {};
            $G.steps = [];
            $G.index = 0;
            $G.delay = 10;
            $G.next = function() {
                var $H = $G.steps[$G.index];
                $G.index += 1;
                return $H;
            };
            $G.finished = function() {
                $k.$bl();
            };
            var $I = $k.getScrollX();
            var $F = $F || 100;
            var $J = $A - $I;
            for (var i = 0; i < $F; i++) {
                var x = i / $F;
                var $K = ((x - .5) * 2) / (Math.pow(((x - 0.5) * 2), 2) + 1) + .5;
                $G.steps.push($I + $J * $K);
            };
            $G.steps.push($A);
            scrollStep($G);
            function scrollStep($G) {
                var $H = $G.next();
                if (typeof $H === "undefined") {
                    $G.finished && $G.finished();
                    return;
                };
                $k.setScrollX($H);
                window.clearTimeout($k.refreshTimeout);
                setTimeout(function() {
                        scrollStep($G);
                    },
                    $G.delay);
            }
        };
        this.scrollToResource = function(id) {
            DayPilot.complete(function() {
                var $z = $k.$bt(id);
                if (!$z) {
                    return;
                };
                setTimeout(function() {
                        var scrollY = $z.top;
                        $k.nav.scroll.scrollTop = scrollY;
                    },
                    100);
            });
        };
        this.$bu = function() {
            if (!this.floatingTimeHeaders) {
                return;
            };
            if (!this.timeHeader) {
                return;
            };
            var $L = this.$bv();
            if (!$L) {
                return;
            };
            this.$bw();
            var $M = $L.pixels.left + $N.shiftX;
            var end = $L.pixels.right + $N.shiftX;
            var $O = [];
            for (var y = 0; y < this.timeHeader.length; y++) {
                for (var x = 0; x < this.timeHeader[y].length; x++) {
                    var h = this.timeHeader[y][x];
                    var $P = h.left;
                    var $Q = h.left + h.width;
                    var $R = null;
                    if ($P < $M && $M < $Q) {
                        $R = {};
                        $R.x = x;
                        $R.y = y;
                        $R.marginLeft = $M - $P;
                        $R.marginRight = 0;
                        $R.div = this.$aN.timeHeader[x + "_" + y];
                        $O.push($R);
                    };
                    if ($P < end && end < $Q) {
                        if (!$R) {
                            $R = {};
                            $R.x = x;
                            $R.y = y;
                            $R.marginLeft = 0;
                            $R.div = this.$aN.timeHeader[x + "_" + y];
                            $O.push($R);
                        };
                        $R.marginRight = $Q - end;
                        break;
                    }
                }
            };
            for (var i = 0; i < $O.length; i++) {
                var $R = $O[i];
                this.$bx($R.div, $R.marginLeft, $R.marginRight);
            }
        };
        this.$bj = function() {
            this.$bu();
            this.$by();
        };
        this.$bz = {};
        var $S = this.$bz;
        $S.eventsInRectangle = function(x, y, $C, $T) {
            var $U = x;
            var $V = x + $C;
            var $W = y;
            var $X = y + $T;
            return DayPilot.list($k.elements.events).filter(function(e) {
                var $s = e.event;
                var $P = $s.part.left;
                var $Q = $s.part.left + $s.part.width;
                var $z = $k.rowlist[$s.part.dayIndex];
                var top = $z.top + $s.part.top;
                var $Y = top + $s.part.height;
                if (DayPilot.Util.overlaps($P, $Q, $U, $V) && DayPilot.Util.overlaps(top, $Y, $W, $X)) {
                    return true;
                }
            });
        };
        $S.events = function($Z) {
            var $00 = [];
            var $Z = $Z || "All";
            var $L = $k.$bv();
            if (!$L) {
                return DayPilot.list($00);
            };
            var $M = $L.pixels.left;
            var end = $L.pixels.right;
            for (var i = 0; i < $k.elements.events.length; i++) {
                var e = $k.elements.events[i];
                var $s = e.event;
                var $P = $s.part.left;
                var $Q = $s.part.left + $s.part.width;
                switch ($Z) {
                    case "Left":
                        if ($P < $M && $M < $Q) {
                            $00.push(e);
                        };
                        break;
                    case "All":
                        if (DayPilot.Util.overlaps($P, $Q, $M, end)) {
                            $00.push(e);
                        };
                        break;
                }
            };
            return DayPilot.list($00).addProps({
                "area": $L
            });
        };
        this.$by = function() {
            if (!this.floatingEvents) {
                return;
            };
            var $01 = $S.events("Left");
            this.$bA();
            $01.each(function($02) {
                var $P = $01.area.pixels.left;
                var $s = $02.event;
                var $M = $s.part.left;
                var $03 = $P - $M;
                $k.$bB($02, $03, 0);
            });
        };
        this.elements.sections = [];
        this.elements.hsections = [];
        this.$bx = function($04, $03, $05) {
            var $06 = document.createElement("div");
            $06.setAttribute("unselectable", "on");
            $06.className = this.$bC("_timeheader_float");
            $06.style.position = "absolute";
            $06.style.left = $03 + "px";
            $06.style.right = $05 + "px";
            $06.style.top = "0px";
            $06.style.bottom = "0px";
            $06.style.overflow = "hidden";
            var $07 = document.createElement("div");
            $07.className = this.$bC("_timeheader_float_inner");
            $07.setAttribute("unselectable", "on");
            if ($04.cell.th.innerHTML) {
                $07.innerHTML = $04.cell.th.innerHTML;
            };
            $06.appendChild($07);
            $04.section = $06;
            $04.insertBefore($06, $04.firstChild.nextSibling);
            $04.firstChild.innerHTML = '';
            this.elements.hsections.push($04);
        };
        this.$bw = function() {
            for (var i = 0; i < this.elements.hsections.length; i++) {
                var e = this.elements.hsections[i];
                var $s = e.cell;
                if ($s && e.firstChild) {
                    e.firstChild.innerHTML = $s.th.innerHTML;
                };
                DayPilot.de(e.section);
                e.section = null;
            };
            this.elements.hsections = [];
        };
        this.$bB = function($04, $03, $05) {
            var $06 = document.createElement("div");
            $06.setAttribute("unselectable", "on");
            $06.className = this.$bC($08.eventFloat);
            $06.style.position = "absolute";
            $06.style.left = $03 + "px";
            $06.style.right = $05 + "px";
            $06.style.top = "0px";
            $06.style.bottom = "0px";
            $06.style.overflow = "hidden";
            var $07 = document.createElement("div");
            $07.className = this.$bC($08.eventFloatInner);
            $07.setAttribute("unselectable", "on");
            $07.innerHTML = $04.event.client.html();
            if ($04.event.data.fontColor) {
                $07.style.color = $04.event.data.fontColor;
            };
            $06.appendChild($07);
            $04.section = $06;
            $04.insertBefore($06, $04.firstChild.nextSibling);
            $04.firstChild.innerHTML = '';
            var $j = {
                "offsetX": parseInt(new DayPilot.StyleReader($07).get("padding-left")),
                "eventDiv": $04
            };
            DayPilot.Areas.attach($06, $04.event, $j);
            DayPilot.Areas.disable($04);
            this.elements.sections.push($04);
        };
        this.$bA = function() {
            for (var i = 0; i < this.elements.sections.length; i++) {
                var e = this.elements.sections[i];
                var $s = e.event;
                if ($s) {
                    e.firstChild.innerHTML = $s.client.html();
                };
                DayPilot.de(e.section);
                DayPilot.Areas.enable(e);
                e.section = null;
            };
            this.elements.sections = [];
        };
        this.setScrollX = function(scrollX) {
            if (!$k.$bn.enabled) {
                $k.$br(scrollX);
            } else {
                $k.$bn.scrollXRequested = scrollX;
                setTimeout(function() {
                        var scrollX = $k.$bn.scrollXRequested;
                        if (typeof scrollX === "number") {
                            $k.$br(scrollX);
                        }
                    },
                    0);
            }
        };
        this.$br = function(scrollX) {
            var scroll = $k.nav.scroll;
            var $09 = $k.$bD();
            if (scroll.clientWidth + scrollX > $09) {
                scrollX = $09 - scroll.clientWidth;
            };
            $k.divTimeScroll.scrollLeft = scrollX;
            scroll.scrollLeft = scrollX;
        };
        this.setScrollY = function(scrollY) {
            var $j = $j || {};
            if (!$k.$bn.enabled) {
                $k.$bE(scrollY);
            } else {
                $k.$bn.scrollYRequested = scrollY;
                setTimeout(function() {
                        var scrollY = $k.$bn.scrollYRequested;
                        if (typeof scrollY === "number") {
                            $k.$bE(scrollY);
                        }
                    },
                    0);
            }
        };
        this.$bE = function(scrollY) {
            var scroll = $k.nav.scroll;
            var $0a = $k.$aM;
            if (scroll.clientHeight + scrollY > $0a) {
                scrollY = $0a - scroll.clientHeight;
            };
            $k.divResScroll.scrollTop = scrollY;
            scroll.scrollTop = scrollY;
        };
        this.setScroll = function(scrollX, scrollY) {
            $k.setScrollX(scrollX);
            $k.setScrollY(scrollY);
        };
        this.message = function($0b, $0c) {
            if ($0b === null) {
                return;
            };
            var $j = {};
            if (typeof arguments[1] === "object") {
                $j = arguments[1];
                $0c = $j.delay;
            };
            var $0c = $0c || this.messageHideAfter || 2000;
            var top = this.$bF() + 1;
            var $P = this.$bG() + $0d.splitterWidth();
            var $Q = DayPilot.sw($k.nav.scroll) + 1;
            var $Y = DayPilot.sh($k.nav.scroll) + 1;
            var $04;
            if (!this.nav.message) {
                $04 = document.createElement("div");
                $04.style.position = "absolute";
                $04.style.left = $P + "px";
                $04.style.right = $Q + "px";
                $04.style.display = 'none';
                DayPilot.re($04, DayPilot.touch.start,
                    function(e) {
                        $k.nav.message.style.display = 'none';
                        e.preventDefault();
                        e.stopPropagation();
                    });
                $04.onmousemove = function() {
                    if (!$k.messageHideOnMouseOut) {
                        return;
                    };
                    if ($04.messageTimeout && !$04.status) {
                        clearTimeout($04.messageTimeout);
                    }
                };
                $04.onmouseout = function() {
                    if (!$k.messageHideOnMouseOut) {
                        return;
                    };
                    if ($k.nav.message.style.display !== 'none') {
                        $04.messageTimeout = setTimeout($k.$bH, 500);
                    }
                };
                var $07 = document.createElement("div");
                $07.onclick = function() {
                    $k.nav.message.style.display = 'none';
                };
                $07.className = this.$bC("_message");
                $04.appendChild($07);
                var close = document.createElement("div");
                close.style.position = "absolute";
                close.className = this.$bC("_message_close");
                close.onclick = function() {
                    $k.nav.message.style.display = 'none';
                };
                $04.appendChild(close);
                this.nav.top.appendChild($04);
                this.nav.message = $04;
            } else {
                $04 = $k.nav.message;
            };
            var $0e = function() {
                var $04 = $k.nav.message;
                $04.firstChild.className = $k.$bC("_message");
                if ($j.cssClass) {
                    DayPilot.Util.addClass($04.firstChild, $j.cssClass);
                };
                var $07 = $k.nav.message.firstChild;
                $07.innerHTML = $0b;
                var $Q = DayPilot.sw($k.nav.scroll) + 1;
                $k.nav.message.style.right = $Q + "px";
                var $y = $k.messageBarPosition || "Top";
                if ($y === "Bottom") {
                    $k.nav.message.style.bottom = $Y + "px";
                    $k.nav.message.style.top = "";
                } else if ($y === "Top") {
                    $k.nav.message.style.bottom = "";
                    $k.nav.message.style.top = top + "px";
                };
                var end = function() {
                    $04.messageTimeout = setTimeout($k.$bH, $0c);
                };
                DayPilot.fade($k.nav.message, 0.2, end);
            };
            clearTimeout($04.messageTimeout);
            if (this.nav.message.style.display !== 'none') {
                DayPilot.fade($k.nav.message, -0.2, $0e);
            } else {
                $0e();
            }
        };
        this.$bH = function() {
            if (!$k.nav.message) {
                return;
            };
            var end = function() {
                $k.nav.message.style.display = 'none';
            };
            DayPilot.fade($k.nav.message, -0.2, end);
        };
        this.message.show = function($0b) {
            $k.message($0b);
        };
        this.message.hide = function() {
            $k.$bH();
        };
        this.$bI = null;
        this.$b8 = function() {
            if (!this.nav.scroll) {
                return;
            };
            var $0f = 1;
            if (this.$bI !== null) {
                this.nav.top.style.border = this.$bI;
                this.$bI = null;
            };
            if (this.heightSpec === 'Parent100Pct') {
                this.nav.top.style.height = "100%";
                if (this.hideBorderFor100PctHeight) {
                    this.$bI = this.nav.top.style.border;
                    this.nav.top.style.border = "0 none";
                };
                this.height = parseInt(this.nav.top.clientHeight, 10) - (this.$bF()) - $0f;
            };
            this.nav.scroll.style.height = '30px';
            var $T = this.$bJ();
            var $0g = $T + this.$bF() + $0f;
            if ($T >= 0) {
                this.nav.scroll.style.height = ($T) + 'px';
                this.$bK.style.height = ($T) + 'px';
            };
            if (this.nav.divider) {
                if (!$0g || isNaN($0g) || $0g < 0) {
                    $0g = 0;
                };
                this.nav.divider.style.height = ($0g) + "px";
            };
            if (this.heightSpec !== "Parent100Pct") {
                this.nav.top.style.height = ($0g) + "px";
            };
            if ($k.nav.resScrollSpace) {
                $k.nav.resScrollSpace.style.height = ($T + 20) + "px";
            };
            for (var i = 0; i < this.elements.separators.length; i++) {
                this.elements.separators[i].style.height = this.$aM + 'px';
            };
            for (var i = 0; i < this.elements.linesVertical.length; i++) {
                this.elements.linesVertical[i].style.height = this.$aM + 'px';
            };
            $k.$bL();
        };
        this.$aX = function() {
            this.startDate = new DayPilot.Date(this.startDate).getDatePart();
            this.$aN.pixels = [];
            this.itline = DayPilot.list();
            var $0h = this.cellWidthSpec === "Auto";
            var $0i = function() {
                if (!$0h) {
                    return;
                };
                var $0j = 0;
                if ($k.$bM() && $k.timeline) {
                    $0j = $k.timeline.length;
                } else {
                    if ($k.scale === "Manual") {
                        $0j = $k.timeline.length;
                    } else {
                        $k.$bN();
                        $0j = $k.itline.length;
                        $k.itline = DayPilot.list();
                    }
                };
                var $C = $k.$bO();
                if ($0j > 0 && $C > 0) {
                    var $R = $C / $0j;
                    $k.cellWidth = Math.max($R, $k.cellWidthMin);
                    $k.$bP = $R < $k.cellWidthMin;
                }
            };
            $0i();
            if (this.$bM() && this.timeline) {
                if (this.timeline) {
                    this.itline = DayPilot.list();
                    var $0k = null;
                    var $P = 0;
                    for (var i = 0; i < this.timeline.length; i++) {
                        var $0l = this.timeline[i];
                        var $R = {};
                        $R.start = new DayPilot.Date($0l.start);
                        $R.end = $0l.end ? new DayPilot.Date($0l.end) : $R.start.addMinutes(this.cellDuration);
                        if (!$0l.width) {
                            var $Q = Math.floor($P + this.cellWidth);
                            var $C = $Q - Math.floor($P);
                            $R.left = Math.floor($P);
                            $R.width = $C;
                            $P += this.cellWidth;
                        } else {
                            $R.left = $0l.left || $P;
                            $R.width = $0l.width || this.cellWidth;
                            $P += $R.width;
                        };
                        $R.breakBefore = $0k && $0k.ticks !== $R.start.ticks;
                        $0k = $R.end;
                        this.itline.push($R);
                    }
                };
                if ($0h) {
                    this.$bQ();
                }
            } else {
                this.timeHeader = [];
                if (this.scale === "Manual") {
                    this.itline = DayPilot.list();
                    var $P = 0;
                    var $0k = null;
                    for (var i = 0; i < this.timeline.length; i++) {
                        var $0l = this.timeline[i];
                        var $R = {};
                        $R.start = new DayPilot.Date($0l.start);
                        $R.end = $0l.end ? new DayPilot.Date($0l.end) : $R.start.addMinutes(this.cellDuration);
                        if ($0k && $R.start.ticks < $0k.ticks) {
                            throw "The timeline must be sequential";
                        };
                        var w = $0l.width || this.cellWidth;
                        var $Q = Math.floor($P + w);
                        var $C = $Q - Math.floor($P);
                        $R.left = Math.floor($P);
                        $R.width = $C;
                        $P += w;
                        $R.breakBefore = $0k && $0k.ticks !== $R.start.ticks;
                        $0k = $R.end;
                        this.itline.push($R);
                    }
                } else {
                    this.$bN();
                };
                this.$bR();
            }
        };
        this.$bS = {};
        var $N = this.$bS;
        $N.shiftX = 0;
        $N.active = false;
        $N.updateRowStarts = function() {
            DayPilot.list($k.rowlist).each(function($z, i) {
                $z.start = $k.$bT();
                $z.data = null;
                $k.$bU(i);
            });
        };
        $N.isEnabled = function() {
            return $k.temp.infiniteScrolling;
        };
        $N.shiftTo = function($0m) {
            var $0m = new DayPilot.Date($0m);
            var $M = $0m.addDays( - $k.$aI).getDatePart();
            var $J = new DayPilot.Duration($M.getTime() - $k.startDate.getDatePart().getTime()).totalDays();
            $N.shiftStart($J, $0m);
        };
        $N.shiftStart = function($0n, scrollTo) {
            var $A;
            $N.active = true;
            var $0o = $k.startDate;
            var $0p = $k.startDate.addDays($0n);
            if ($0n > 0) {
                $A = -$k.getPixels($0p).left;
            };
            $k.startDate = $k.startDate.addDays($0n);
            $k.itline = DayPilot.list();
            $k.$aN.pixels = [];
            $k.$bN();
            $N.updateRowStarts();
            if ($0n < 0) {
                $A = $k.getPixels($0o).left;
            };
            $k.timeHeader = [];
            $k.$bR();
            $k.$b2();
            $k.cellProperties = {};
            $k.$b9();
            $k.$bb();
            $k.$b0();
            $k.$ba();
            if (typeof scrollTo !== 'undefined') {
                $k.scrollTo(new DayPilot.Date(scrollTo));
                $k.$bl();
            } else {
                $k.nav.scroll.scrollLeft += $A;
            };
            $k.$bf();
            $N.active = false;
        };
        this.$bN = function() {
            var $0q = (this.viewType !== 'Days') ? this.startDate.addDays(this.days) : this.startDate.addDays(1);
            var $M = this.startDate;
            var end = this.$bV($M);
            var $0r = false;
            var $P = 0;
            while (end.ticks <= $0q.ticks && end.ticks > $M.ticks) {
                if (this.$bW($M, end)) {
                    var $Q = Math.floor($P + this.cellWidth);
                    var $C = $Q - Math.floor($P);
                    var $0s = {};
                    $0s.start = $M;
                    $0s.end = end;
                    $0s.left = Math.floor($P);
                    $0s.width = $C;
                    $0s.breakBefore = $0r;
                    this.itline.push($0s);
                    $P += this.cellWidth;
                    $0r = false;
                } else {
                    $0r = true;
                };
                $M = end;
                end = this.$bV($M);
            }
        };
        this.$bQ = function() {
            if (!this.timeHeader) {
                return;
            };
            for (var y = 0; y < this.timeHeader.length; y++) {
                var $z = this.timeHeader[y];
                for (var x = 0; x < $z.length; x++) {
                    var h = $z[x];
                    h.left = this.getPixels(new DayPilot.Date(h.start)).left;
                    var $Q = this.getPixels(new DayPilot.Date(h.end)).left;
                    var $C = $Q - h.left;
                    h.width = $C;
                }
            }
        };
        this.$bR = function() {
            var $0t = this.timeHeaders;
            if (!$0t) {
                $0t = [{
                    "groupBy": this.cellGroupBy
                },
                    {
                        "groupBy": "Cell"
                    }];
            };
            if (this.itline.isEmpty()) {
                this.timeHeader = [];
                for (var i = 0; i < $0t.length; i++) {
                    this.timeHeader[i] = [];
                };
                return;
            };
            var $0u = $k.$bX();
            for (var i = 0; i < $0t.length; i++) {
                var $0v = $0t[i].groupBy;
                var $0w = $0t[i].format;
                if ($0v === "Default") {
                    $0v = this.cellGroupBy;
                };
                var $0x = [];
                var $M = this.$bT();
                while ($M.ticks < $0u.ticks) {
                    var h = {};
                    h.start = $M;
                    h.end = this.$bY(h.start, $0v);
                    if (h.start.ticks === h.end.ticks) {
                        break;
                    };
                    h.left = this.getPixels(h.start).left;
                    var $Q = this.getPixels(h.end).left;
                    var $C = $Q - h.left;
                    h.width = $C;
                    h.colspan = Math.ceil($C / (1.0 * this.cellWidth));
                    if (typeof $0w === "string") {
                        h.innerHTML = h.start.toString($0w, $0d.locale());
                    } else {
                        h.innerHTML = this.$bZ(h, $0v);
                    };
                    h.text = h.innerHTML;
                    if ($C > 0) {
                        if (typeof this.onBeforeTimeHeaderRender === 'function') {
                            var $R = {};
                            $R.start = h.start;
                            $R.end = h.end;
                            $R.text = h.innerHTML;
                            $R.html = h.innerHTML;
                            $R.toolTip = h.innerHTML;
                            $R.backColor = null;
                            $R.level = this.timeHeader.length;
                            $R.cssClass = null;
                            var $n = {};
                            $n.header = $R;
                            this.onBeforeTimeHeaderRender($n);
                            h.text = h.innerHTML;
                            h.innerHTML = $R.html;
                            h.backColor = $R.backColor;
                            h.toolTip = $R.toolTip;
                            h.areas = $R.areas;
                            h.cssClass = $R.cssClass;
                        };
                        $0x.push(h);
                    };
                    $M = h.end;
                };
                this.timeHeader.push($0x);
            }
        };
        this.$bW = function($M, end) {
            if (typeof this.onIncludeTimeCell === 'function') {
                var $R = {};
                $R.start = $M;
                $R.end = end;
                $R.visible = true;
                var $n = {};
                $n.cell = $R;
                this.onIncludeTimeCell($n);
                return $R.visible;
            };
            if (this.showNonBusiness) {
                return true;
            };
            return this.isBusiness({
                "start": $M,
                "end": end
            });
        };
        this.getPixels = function($w) {
            var $0y = $w.ticks;
            var $0z = this.$aN.pixels[$0y];
            if ($0z) {
                return $0z;
            };
            var $0A = null;
            var $0B = 221876841600000;
            if (this.itline.length === 0 || $0y < this.itline[0].start.ticks) {
                var $l = {};
                $l.cut = false;
                $l.left = 0;
                $l.boxLeft = $l.left;
                $l.boxRight = $l.left;
                $l.i = null;
                return $l;
            };
            var $0C = this.$c0($w);
            var si = Math.max($0C.i - 1, 0);
            for (var i = si; i < this.itline.length; i++) {
                var $R = this.itline[i];
                var $0D = $R.start.ticks;
                var $0E = $R.end.ticks;
                if ($0D < $0y && $0y < $0E) {
                    var $0F = $0y - $0D;
                    var $l = {};
                    $l.cut = false;
                    $l.left = $R.left + this.$c1($R, $0F);
                    $l.boxLeft = $R.left;
                    $l.boxRight = $R.left + $R.width;
                    $l.i = i;
                    break;
                } else if ($0D === $0y) {
                    var $l = {};
                    $l.cut = false;
                    $l.left = $R.left;
                    $l.boxLeft = $l.left;
                    $l.boxRight = $l.left + $R.width;
                    $l.i = i;
                    break;
                } else if ($0E === $0y) {
                    var $l = {};
                    $l.cut = false;
                    $l.left = $R.left + $R.width;
                    $l.boxLeft = $l.left;
                    $l.boxRight = $l.left;
                    $l.i = i + 1;
                    break;
                } else if ($0y < $0D && $0y > $0B) {
                    var $l = {};
                    $l.cut = true;
                    $l.left = $R.left;
                    $l.boxLeft = $l.left;
                    $l.boxRight = $l.left;
                    $l.i = i;
                    break;
                };
                $0B = $0E;
            };
            if (!$l) {
                var $0G = this.itline[this.itline.length - 1];
                var $l = {};
                $l.cut = true;
                $l.left = $0G.left + $0G.width;
                $l.boxLeft = $l.left;
                $l.boxRight = $l.left;
                $l.i = null;
            };
            this.$aN.pixels[$0y] = $l;
            return $l;
        };
        this.getDate = function($P, $0H, $0I) {
            var $y = this.$c2($P, $0I);
            if (!$y) {
                return null;
            };
            var x = $y.x;
            var $0J = this.itline[x];
            if (!$0J) {
                return null;
            };
            var $M = ($0I && !$0H) ? $0J.end: $0J.start;
            if (!$0H) {
                return $M;
            } else {
                return $M.addTime(this.$c3($y.cell, $y.offset));
            }
        };
        this.$c2 = function($A, $0I) {
            if (this.itline.length === 0) {
                return null;
            };
            var $I = 0;
            var $0A = 0;
            for (var i = 0; i < this.itline.length; i++) {
                var $R = this.itline[i];
                var $C = $R.width || this.cellWidth;
                $I += $C;
                if (($A < $I) || ($0I && $A === $I)) {
                    var $l = {};
                    $l.x = i;
                    $l.offset = $A - $0A;
                    $l.cell = $R;
                    return $l;
                };
                $0A = $I;
            };
            var $R = $k.itline.last();
            var $l = {};
            $l.x = this.itline.length - 1;
            $l.offset = $R.width || this.cellWidth;
            $l.cell = $R;
            return $l;
        };
        this.$c4 = function($0K) {
            return this.$c0($0K);
        };
        this.$c5 = function($0K) {
            var $I = new DayPilot.Date($0K);
            for (var i = 0; i < this.itline.length; i++) {
                var $R = this.itline[i];
                if ($R.start.ticks <= $I.ticks && $I.ticks < $R.end.ticks) {
                    var $l = {};
                    $l.hidden = false;
                    $l.current = $R;
                    return $l;
                };
                if ($I.ticks < $R.start.ticks) {
                    var $l = {};
                    $l.hidden = true;
                    $l.previous = i > 0 ? this.itline[i - 1] : null;
                    $l.current = null;
                    $l.next = this.itline[i];
                    return $l;
                }
            };
            var $l = {};
            $l.past = true;
            $l.previous = this.itline[this.itline.length - 1];
            return $l;
        };
        this.$c0 = function($0K) {
            var $I = new DayPilot.Date($0K);
            var $0L = 0;
            var $0M = this.itline[0];
            if ($I.ticks < $0M.start.ticks) {
                var $l = {};
                $l.hidden = true;
                $l.previous = null;
                $l.current = null;
                $l.next = this.itline[0];
                $l.i = -1;
                return $l;
            };
            var to = this.itline.length - 1;
            var $0G = this.itline[to];
            if ($I.ticks > $0G.end.ticks) {
                var $l = {};
                $l.past = true;
                $l.previous = this.itline[this.itline.length - 1];
                $l.i = this.itline.length;
                return $l;
            };
            var si = (function() {
                var $0N = $k.itline;
                var $0O;
                while ($0L <= to) {
                    $0O = Math.floor(($0L + to) / 2);
                    if ($0N[$0O].start.ticks > $I.ticks) {
                        to = $0O - 1;
                    } else if ($0N[$0O].end.ticks < $I.ticks) {
                        $0L = $0O + 1;
                    } else {
                        return $0O;
                    }
                };
                return $0L;
            })();
            for (var i = si; i < this.itline.length; i++) {
                var $R = this.itline[i];
                if ($R.start.ticks <= $I.ticks && $I.ticks < $R.end.ticks) {
                    var $l = {};
                    $l.hidden = false;
                    $l.current = $R;
                    $l.i = i;
                    return $l;
                };
                if ($I.ticks < $R.start.ticks) {
                    var $l = {};
                    $l.hidden = true;
                    $l.previous = i > 0 ? this.itline[i - 1] : null;
                    $l.current = null;
                    $l.next = this.itline[i];
                    $l.i = i;
                    return $l;
                }
            };
            var $l = {};
            $l.past = true;
            $l.previous = this.itline[this.itline.length - 1];
            $l.i = this.itline.length;
            return $l;
        };
        this.$c1 = function($R, $0y) {
            var $C = $R.width || this.cellWidth;
            var $0P = $R.end.ticks - $R.start.ticks;
            return Math.floor(($C * $0y) / ($0P));
        };
        this.$c3 = function($R, $A) {
            var $0P = $R.end.ticks - $R.start.ticks;
            var $C = $R.width || this.cellWidth;
            return Math.floor($A / $C * $0P);
        };
        this.$c6 = function(ev) {
            if ($0Q.start) {
                return;
            };
            if (DayPilotScheduler.preventEventClick) {
                return;
            };
            $0R = {};
            $k.$c7(this, ev);
        };
        this.eventClickPostBack = function(e, $s) {
            this.$c8('EventClick', e, $s);
        };
        this.eventClickCallBack = function(e, $s) {
            this.$c9('EventClick', e, $s);
        };
        this.$c7 = function($04, ev) {
            var e = $04.event;
            var ev = ev || window.event;
            if (typeof(DayPilotBubble) !== 'undefined') {
                DayPilotBubble.hideActive();
            };
            if (!e.client.doubleClickEnabled()) {
                $k.$ca($04, ev);
                return;
            };
            if (!$k.timeouts.click) {
                $k.timeouts.click = [];
            };
            var $0S = function($04, ev) {
                return function() {
                    $k.$ca($04, ev);
                };
            };
            $k.timeouts.click.push(window.setTimeout($0S($04, ev), $k.doubleClickTimeout));
        };
        this.$cb = function(x) {
            return $k.itline[x];
        };
        this.$ca = function($04, ev) {
            if (typeof ev === "boolean") {
                throw "Invalid _eventClickSingle parameters";
            };
            var e = $04.event;
            var $0T = ev.ctrlKey;
            var $0U = ev.metaKey;
            if (!e.client.clickEnabled()) {
                return;
            };
            if ($k.$bm()) {
                var $n = {};
                $n.e = e;
                $n.div = $04;
                $n.originalEvent = ev;
                $n.ctrl = $0T;
                $n.meta = $0U;
                $n.shift = ev.shiftKey;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onEventClick === 'function') {
                    $k.onEventClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($k.eventClickHandling) {
                    case 'PostBack':
                        $k.eventClickPostBack(e);
                        break;
                    case 'CallBack':
                        $k.eventClickCallBack(e);
                        break;
                    case 'Edit':
                        $k.$cc($04);
                        break;
                    case 'Select':
                        $k.$cd($04, e, $0T, $0U);
                        break;
                    case 'ContextMenu':
                        var $0V = e.client.contextMenu();
                        if ($0V) {
                            $0V.show(e);
                        } else {
                            if ($k.contextMenu) {
                                $k.contextMenu.show(e);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($k.bubble) {
                            $k.bubble.showEvent(e);
                        };
                        break;
                    case "RectangleSelect":
                        if ($k.multiSelectRectangle !== "Disabled") {
                            $0W.start();
                            return false;
                        };
                        break;
                };
                if (typeof $k.onEventClicked === 'function') {
                    $k.onEventClicked($n);
                }
            } else {
                switch ($k.eventClickHandling) {
                    case 'PostBack':
                        $k.eventClickPostBack(e);
                        break;
                    case 'CallBack':
                        $k.eventClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $k.onEventClick(e);
                        break;
                    case 'Edit':
                        $k.$cc($04);
                        break;
                    case 'Select':
                        $k.$cd($04, e, $0T, $0U);
                        break;
                    case 'ContextMenu':
                        var $0V = e.client.contextMenu();
                        if ($0V) {
                            $0V.show(e);
                        } else {
                            if ($k.contextMenu) {
                                $k.contextMenu.show(e);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($k.bubble) {
                            $k.bubble.showEvent(e);
                        };
                        break;
                    case "RectangleSelect":
                        if ($k.multiSelectRectangle !== "Disabled") {
                            $0W.start();
                            return false;
                        };
                        break;
                }
            }
        };
        this.$ce = function(e) {
            if ($k.$bm()) {
                var $n = {};
                $n.e = e;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onEventDelete === 'function') {
                    $k.onEventDelete($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($k.eventDeleteHandling) {
                    case 'PostBack':
                        $k.eventDeletePostBack(e);
                        break;
                    case 'CallBack':
                        $k.eventDeleteCallBack(e);
                        break;
                    case 'Update':
                        $k.events.remove(e);
                        break;
                };
                if (typeof $k.onEventDeleted === 'function') {
                    $k.onEventDeleted($n);
                }
            } else {
                switch ($k.eventDeleteHandling) {
                    case 'PostBack':
                        $k.eventDeletePostBack(e);
                        break;
                    case 'CallBack':
                        $k.eventDeleteCallBack(e);
                        break;
                    case 'JavaScript':
                        $k.onEventDelete(e);
                        break;
                }
            }
        };
        this.eventDeletePostBack = function(e, $s) {
            this.$c8('EventDelete', e, $s);
        };
        this.eventDeleteCallBack = function(e, $s) {
            this.$c9('EventDelete', e, $s);
        };
        this.setHScrollPosition = function($A) {
            this.nav.scroll.scrollLeft = $A;
        };
        this.getScrollX = function() {
            return this.nav.scroll.scrollLeft;
        };
        this.getHScrollPosition = this.getScrollX;
        this.getScrollY = function() {
            return this.nav.scroll.scrollTop;
        };
        this.$cd = function($04, e, $0T, $0U) {
            $k.$cf($04, e, $0T, $0U);
        };
        this.eventSelectPostBack = function(e, $0X, $s) {
            var $0Y = {};
            $0Y.e = e;
            $0Y.change = $0X;
            this.$c8('EventSelect', $0Y, $s);
        };
        this.eventSelectCallBack = function(e, $0X, $s) {
            var $0Y = {};
            $0Y.e = e;
            $0Y.change = $0X;
            this.$c9('EventSelect', $0Y, $s);
        };
        this.$cf = function($04, e, $0T, $0U) {
            var m = $k.multiselect;
            var $0Z = false;
            var $10 = m.isSelected(e);
            var $11 = $0T || $0U;
            if (!$11 && $10 && !$0Z && m.list.length === 1) {
                return;
            };
            if ($k.$bm()) {
                m.previous = m.events();
                var $n = {};
                $n.e = e;
                $n.selected = $10;
                $n.ctrl = $0T;
                $n.meta = $0U;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onEventSelect === 'function') {
                    $k.onEventSelect($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($k.eventSelectHandling) {
                    case 'PostBack':
                        $k.eventSelectPostBack(e, $0X);
                        break;
                    case 'CallBack':
                        if (typeof WebForm_InitCallback !== 'undefined') {
                            window.__theFormPostData = "";
                            window.__theFormPostCollection = [];
                            WebForm_InitCallback();
                        };
                        $k.eventSelectCallBack(e, $0X);
                        break;
                    case 'Update':
                        m.$cg($04, $0T, $0U);
                        break;
                };
                if (typeof $k.onEventSelected === 'function') {
                    $n.change = m.isSelected(e) ? "selected": "deselected";
                    $n.selected = m.isSelected(e);
                    $k.onEventSelected($n);
                }
            } else {
                m.previous = m.events();
                m.$cg($04, $0T, $0U);
                var $0X = m.isSelected(e) ? "selected": "deselected";
                switch ($k.eventSelectHandling) {
                    case 'PostBack':
                        $k.eventSelectPostBack(e, $0X);
                        break;
                    case 'CallBack':
                        if (typeof WebForm_InitCallback !== 'undefined') {
                            window.__theFormPostData = "";
                            window.__theFormPostCollection = [];
                            WebForm_InitCallback();
                        };
                        $k.eventSelectCallBack(e, $0X);
                        break;
                    case 'JavaScript':
                        $k.onEventSelect(e, $0X);
                        break;
                }
            }
        };
        this.eventRightClickPostBack = function(e, $s) {
            this.$c8('EventRightClick', e, $s);
        };
        this.eventRightClickCallBack = function(e, $s) {
            this.$c9('EventRightClick', e, $s);
        };
        this.$ch = function(ev) {
            var e = this.event;
            ev = ev || window.event;
            ev.cancelBubble = true;
            if (!this.event.client.rightClickEnabled()) {
                return false;
            };
            if ($k.$bm()) {
                var $n = {};
                $n.e = e;
                $n.div = this;
                $n.originalEvent = ev;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onEventRightClick === 'function') {
                    $k.onEventRightClick($n);
                    if ($n.preventDefault.value) {
                        return false;
                    }
                };
                switch ($k.eventRightClickHandling) {
                    case 'PostBack':
                        $k.eventRightClickPostBack(e);
                        break;
                    case 'CallBack':
                        $k.eventRightClickCallBack(e);
                        break;
                    case 'ContextMenu':
                        var $0V = e.client.contextMenu();
                        if ($0V) {
                            $0V.show(e);
                        } else {
                            if ($k.contextMenu) {
                                $k.contextMenu.show(this.event);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($k.bubble) {
                            $k.bubble.showEvent(e);
                        };
                        break;
                };
                if (typeof $k.onEventRightClicked === 'function') {
                    $k.onEventRightClicked($n);
                }
            } else {
                switch ($k.eventRightClickHandling) {
                    case 'PostBack':
                        $k.eventRightClickPostBack(e);
                        break;
                    case 'CallBack':
                        $k.eventRightClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $k.onEventRightClick(e);
                        break;
                    case 'ContextMenu':
                        var $0V = e.client.contextMenu();
                        if ($0V) {
                            $0V.show(e);
                        } else {
                            if ($k.contextMenu) {
                                $k.contextMenu.show(this.event);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($k.bubble) {
                            $k.bubble.showEvent(e);
                        };
                        break;
                }
            };
            return false;
        };
        this.eventDoubleClickPostBack = function(e, $s) {
            this.$c8('EventDoubleClick', e, $s);
        };
        this.eventDoubleClickCallBack = function(e, $s) {
            this.$c9('EventDoubleClick', e, $s);
        };
        this.$ci = function(ev) {
            if (typeof(DayPilotBubble) !== 'undefined') {
                DayPilotBubble.hideActive();
            };
            if ($k.timeouts.click) {
                for (var $12 in $k.timeouts.click) {
                    window.clearTimeout($k.timeouts.click[$12]);
                };
                $k.timeouts.click = null;
            };
            var ev = ev || window.event;
            var e = this.event;
            ev.stopPropagation && ev.stopPropagation();
            ev.cancelBubble = true;
            if ($k.$bm()) {
                var $n = {};
                $n.e = e;
                $n.originalEvent = ev;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onEventDoubleClick === 'function') {
                    $k.onEventDoubleClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($k.eventDoubleClickHandling) {
                    case 'PostBack':
                        $k.eventDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $k.eventDoubleClickCallBack(e);
                        break;
                    case 'Edit':
                        $k.$cc(this);
                        break;
                    case 'Select':
                        $k.$cd($04, e, ev.ctrlKey, ev.metaKey);
                        break;
                    case 'Bubble':
                        if ($k.bubble) {
                            $k.bubble.showEvent(e);
                        };
                        break;
                    case 'ContextMenu':
                        var $0V = e.client.contextMenu();
                        if ($0V) {
                            $0V.show(e);
                        } else {
                            if ($k.contextMenu) {
                                $k.contextMenu.show(e);
                            }
                        };
                        break;
                };
                if (typeof $k.onEventDoubleClicked === 'function') {
                    $k.onEventDoubleClicked($n);
                }
            } else {
                switch ($k.eventDoubleClickHandling) {
                    case 'PostBack':
                        $k.eventDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $k.eventDoubleClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $k.onEventDoubleClick(e);
                        break;
                    case 'Edit':
                        $k.$cc(this);
                        break;
                    case 'Select':
                        $k.$cd($04, e, ev.ctrlKey, ev.metaKey);
                        break;
                    case 'Bubble':
                        if ($k.bubble) {
                            $k.bubble.showEvent(e);
                        };
                        break;
                    case 'ContextMenu':
                        var $0V = e.client.contextMenu();
                        if ($0V) {
                            $0V.show(e);
                        } else {
                            if ($k.contextMenu) {
                                $k.contextMenu.show(e);
                            }
                        };
                        break;
                }
            }
        };
        this.eventResizePostBack = function(e, $0p, $13, $s) {
            this.$cj("PostBack", e, $0p, $13, $s);
        };
        this.eventResizeCallBack = function(e, $0p, $13, $s) {
            this.$cj("CallBack", e, $0p, $13, $s);
        };
        this.$cj = function($Z, e, $0p, $13, $s) {
            var $0Y = {};
            $0Y.e = e;
            $0Y.newStart = $0p;
            $0Y.newEnd = $13;
            this.$ck($Z, "EventResize", $0Y, $s);
        };
        this.$cl = function(e, $0p, $13) {
            if (this.eventResizeHandling === 'Disabled') {
                return;
            };
            $13 = $k.$cm($13);
            if ($k.$bm()) {
                var $n = {};
                var $14 = function() {
                    $15.hide();
                    if ($n.preventDefault.value) {
                        return;
                    };
                    $0p = $n.newStart;
                    $13 = $n.newEnd;
                    switch ($k.eventResizeHandling) {
                        case 'PostBack':
                            $k.eventResizePostBack(e, $0p, $13);
                            break;
                        case 'CallBack':
                            $k.eventResizeCallBack(e, $0p, $13);
                            break;
                        case 'Notify':
                            $k.eventResizeNotify(e, $0p, $13);
                            break;
                        case 'Update':
                            $k.$cn($n);
                            break;
                    };
                    if (typeof $k.onEventResized === 'function') {
                        $k.onEventResized($n);
                    }
                };
                $n.e = e;
                $n.async = false;
                $n.loaded = function() {
                    $14();
                };
                $n.newStart = $0p;
                $n.newEnd = $13;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                $n.multiresize = DayPilot.list($16.list);
                var $17 = {};
                $17.event = e;
                $17.start = $0p;
                $17.end = $13;
                $n.multiresize.splice(0, 0, $17);
                if (typeof $k.onEventResize === 'function') {
                    $k.onEventResize($n);
                };
                if (!$n.async) {
                    $14();
                } else {
                    if ($k.blockOnCallBack) {
                        $15.show();
                    }
                }
            } else {
                switch ($k.eventResizeHandling) {
                    case 'PostBack':
                        $k.eventResizePostBack(e, $0p, $13);
                        break;
                    case 'CallBack':
                        $k.eventResizeCallBack(e, $0p, $13);
                        break;
                    case 'JavaScript':
                        $k.onEventResize(e, $0p, $13);
                        break;
                    case 'Notify':
                        $k.eventResizeNotify(e, $0p, $13);
                        break;
                    case 'Update':
                        $k.$cn($n);
                        break;
                }
            }
        };
        this.eventMovePostBack = function(e, $0p, $13, $18, $s, $0x) {
            this.$co("PostBack", e, $0p, $13, $18, $s, $0x);
        };
        this.eventMoveCallBack = function(e, $0p, $13, $18, $s, $0x) {
            this.$co("CallBack", e, $0p, $13, $18, $s, $0x);
        };
        this.$co = function($Z, e, $0p, $13, $18, $s, $0x) {
            var $19 = e && !!e.preventDefault;
            var $0Y = {};
            if ($19) {
                var $n = e;
                $0Y.e = $n.e;
                $0Y.newStart = $n.newStart;
                $0Y.newEnd = $n.newEnd;
                $0Y.newResource = $n.newResource;
                $0Y.position = $n.position;
                $0Y.multimove = [];
                $n.multimove.each(function($02) {
                    var $1a = {};
                    $1a.e = $02.event;
                    $1a.newStart = $02.start;
                    $1a.newEnd = $02.end;
                    $1a.newResource = $02.event.resource();
                    if ($1a.e === $n.e || $1a.e.data.id == $n.e.data.id) {
                        $1a.newResource = $n.newResource;
                    } else if (mm.rowoffset) {
                        var ri = $02.event.part.dayIndex + mm.rowoffset;
                        $1a.newResource = $k.rowlist[ri].id;
                    };
                    $0Y.multimove.push($1a);
                });
            } else {
                $0Y.e = e;
                $0Y.newStart = $0p;
                $0Y.newEnd = $13;
                $0Y.newResource = $18;
                $0Y.position = $0x;
            };
            this.$ck($Z, "EventMove", $0Y, $s);
        };
        this.$cp = function($Z, $n, $s) {
            var $0Y = {};
            $0Y.start = $n.start;
            $0Y.end = $n.end;
            $0Y.resource = $n.resource;
            $0Y.multirange = [];
            $n.multirange.each(function($02) {
                var $1b = {};
                $1b.start = $02.start;
                $1b.end = $02.end;
                $1b.resource = $02.resource;
                $0Y.multirange.push($1b);
            });
            this.$ck($Z, "TimeRangeSelected", $0Y, $s);
        };
        this.$ck = function($Z, $1c, $0Y, $s) {
            if ($Z === 'PostBack') {
                $k.$c8($1c, $0Y, $s);
            } else if ($Z === 'CallBack') {
                $k.$c9($1c, $0Y, $s, "CallBack");
            } else if ($Z === 'Immediate') {
                $k.$c9($1c, $0Y, $s, "Notify");
            } else if ($Z === 'Queue') {
                $k.queue.add(new DayPilot.Action(this, $1c, $0Y, $s));
            } else if ($Z === 'Notify') {
                if ($0d.notifyType() === 'Notify') {
                    $k.$c9($1c, $0Y, $s, "Notify");
                } else {
                    $k.queue.add(new DayPilot.Action($k, $1c, $0Y, $s));
                }
            } else {
                throw "Invalid event invocation type";
            }
        };
        this.eventMoveNotify = function(e, $0p, $13, $18, $s, $0x) {
            var $19 = e && !!e.preventDefault;
            if ($19) {
                var $n = e;
                $n.old = new DayPilot.Event($n.e.copy(), $k);
                $n.multimove.each(function($02) {
                    $02.old = new DayPilot.Event($02.event.copy(), $k);
                });
                $k.$cn($n);
                $n.e = $n.old;
                delete $n.old;
                $n.multimove.each(function($02) {
                    $02.event = $02.old;
                    delete $02.old;
                });
            } else {
                e = new DayPilot.Event(e.copy(), $k);
                var $1d = $k.events.$cq(e.data);
                e.start($0p);
                e.end($13);
                e.resource($18);
                e.commit();
                $1d = $1d.concat($k.events.$cr(e.data));
                $k.$cs($1d);
                $k.$ct();
                $k.$cu($1d);
            };
            this.$co("Notify", e, $0p, $13, $18, $s, $0x);
        };
        this.eventResizeNotify = function(e, $0p, $13, $s) {
            var $1e = new DayPilot.Event(e.copy(), this);
            var $1d = $k.events.$cq(e.data);
            e.start($0p);
            e.end($13);
            e.commit();
            $1d = $1d.concat($k.events.$cr(e.data));
            $k.$cs($1d);
            $k.$ct();
            $k.$cu($1d);
            this.$cj("Notify", $1e, $0p, $13, $s);
        };
        this.multiselect = {};
        this.multiselect.list = [];
        this.multiselect.divs = [];
        this.multiselect.previous = [];
        this.multiselect.$bc = function($00) {
            $k.multiselect.list = DayPilot.list($00).map(function($02) {
                return new DayPilot.Event($02, $k);
            });
        };
        this.multiselect.$cv = function() {
            var m = $k.multiselect;
            return DayPilot.JSON.stringify(m.events());
        };
        this.multiselect.events = function() {
            var m = $k.multiselect;
            var $01 = DayPilot.list();
            $01.ignoreToJSON = true;
            for (var i = 0; i < m.list.length; i++) {
                $01.push(m.list[i]);
            };
            return $01;
        };
        this.multiselect.$cw = function() {};
        this.multiselect.$cg = function($04, $1f, $1g) {
            var m = $k.multiselect;
            if (m.isSelected($04.event)) {
                if ($k.allowMultiSelect) {
                    if ($1f || $1g) {
                        m.remove($04.event, true);
                    } else {
                        var $0j = m.list.length;
                        m.clear();
                        if ($0j > 1) {
                            m.add($04.event, true);
                        }
                    }
                } else {
                    m.clear();
                }
            } else {
                if ($k.allowMultiSelect) {
                    if ($1f || $1g) {
                        m.add($04.event, true);
                    } else {
                        m.clear();
                        m.add($04.event, true);
                    }
                } else {
                    m.clear();
                    m.add($04.event, true);
                }
            };
            m.$cx($04);
            m.$cw();
        };
        this.multiselect.$cy = function(ev) {
            var m = $k.multiselect;
            return m.$cz(ev, m.initList);
        };
        this.multiselect.$cA = function() {
            var m = $k.multiselect;
            var $00 = [];
            for (var i = 0; i < m.list.length; i++) {
                var event = m.list[i];
                $00.push(event.value());
            };
            alert($00.join("\n"));
        };
        this.multiselect.add = function(ev, $1h) {
            var m = $k.multiselect;
            if (m.indexOf(ev) === -1) {
                m.list.push(ev);
            };
            if ($1h) {
                return;
            };
            m.$cB(ev);
        };
        this.multiselect.remove = function(ev, $1h) {
            var m = $k.multiselect;
            var i = m.indexOf(ev);
            if (i !== -1) {
                m.list.splice(i, 1);
            };
            if ($1h) {
                return;
            };
            m.$cB(ev);
        };
        this.multiselect.clear = function($1h) {
            var m = $k.multiselect;
            m.list = [];
            if ($1h) {
                return;
            };
            m.redraw();
        };
        this.multiselect.redraw = function() {
            var m = $k.multiselect;
            m.divs = [];
            for (var i = 0; i < $k.elements.events.length; i++) {
                var $04 = $k.elements.events[i];
                if (!$04.event) {
                    continue;
                };
                if (!$04.event.isEvent) {
                    continue;
                };
                if (m.isSelected($04.event)) {
                    m.$cC($04);
                } else {
                    m.$cD($04);
                }
            }
        };
        this.multiselect.$cx = function($04) {
            if (!$04) {
                return;
            };
            var m = $k.multiselect;
            if (m.isSelected($04.event)) {
                m.$cC($04);
            } else {
                m.$cD($04);
            }
        };
        this.multiselect.$cB = function(e) {
            var m = $k.multiselect;
            var $04 = $k.$cE(e);
            m.$cx($04);
        };
        this.multiselect.$cC = function($04) {
            var m = $k.multiselect;
            var cn = $k.$bC("_selected");
            var $04 = m.$cF($04);
            DayPilot.Util.addClass($04, cn);
            m.divs.push($04);
        };
        this.multiselect.$cF = function($04) {
            return $04;
        };
        this.multiselect.$cG = function() {
            var m = $k.multiselect;
            for (var i = 0; i < m.divs.length; i++) {
                var $04 = m.divs[i];
                m.$cD($04, true);
            };
            m.divs = [];
        };
        this.multiselect.$cD = function($04, $1i) {
            var m = $k.multiselect;
            var cn = $k.$bC("_selected");
            DayPilot.Util.removeClass($04, cn);
            if ($1i) {
                return;
            };
            var i = DayPilot.indexOf(m.divs, $04);
            if (i !== -1) {
                m.divs.splice(i, 1);
            }
        };
        this.multiselect.isSelected = function(ev) {
            if (!ev) {
                return false;
            };
            if (!ev.isEvent) {
                return false;
            };
            return $k.multiselect.$cz(ev, $k.multiselect.list);
        };
        this.multiselect.indexOf = function(ev) {
            var $s = ev.data;
            for (var i = 0; i < $k.multiselect.list.length; i++) {
                var $02 = $k.multiselect.list[i];
                if ($02.data === $s) {
                    return i;
                }
            };
            return - 1;
        };
        this.multiselect.$cz = function(e, $00) {
            if (!$00) {
                return false;
            };
            for (var i = 0; i < $00.length; i++) {
                var ei = $00[i];
                if (e === ei) {
                    return true;
                };
                if (typeof ei.id === 'function') {
                    if (ei.id() !== null && e.id() !== null && ei.id() === e.id()) {
                        return true;
                    };
                    if (ei.id() === null && e.id() === null && ei.recurrentMasterId() === e.recurrentMasterId() && e.start().toStringSortable() === ei.start().toStringSortable()) {
                        return true;
                    }
                } else {
                    if (ei.id !== null && e.id() !== null && ei.id === e.id()) {
                        return true;
                    };
                    if (ei.id === null && e.id() === null && ei.recurrentMasterId === e.recurrentMasterId() && e.start().toStringSortable() === ei.start) {
                        return true;
                    }
                }
            };
            return false;
        };
        this.multiselect.startRectangle = function() {
            $0W.start();
        };
        this.$cH = function() {
            this.$bb();
            this.$be();
        };
        this.$cI = function() {
            $k.$b1();
            $k.$b6();
            $k.$cJ();
            if ($k.progressiveRowRendering) {
                $k.$cK();
            }
        };
        this.$cx = function($n) {
            var $n = $n || {};
            var $1j = !$n.eventsOnly;
            if (!$k.cssOnly) {
                $k.cssOnly = true;
                DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")
            };
            if ($1j) {
                if (!this.$bM()) {
                    $k.timeHeader = null;
                    $k.cellProperties = {};
                };
                $k.$cL = {};
                $k.$aW();
                $k.$aX();
                if (!$n || !$n.dontLoadResources) {
                    $k.$aY();
                };
                $k.events.$cM();
                $k.$cN.clearCache();
            };
            this.$b0();
            $k.$b1();
            if ($1j) {
                $k.$cO();
                $k.$cP();
                $k.$b2();
                $k.$bk($k.selectedRows);
                $k.$cQ();
            };
            $k.$b3();
            $k.$b6();
            $k.$cJ();
            $k.$b7();
            $1k.hideLinkpoints();
            this.$ba();
            this.$b9();
            this.$aU();
            this.$aZ();
            this.$bd();
            this.$cH();
            $k.$b8();
            if ($n.immediateEvents || $n.eventsOnly) {
                $k.$bf();
            } else {
                setTimeout(function() {
                        $k.$bf();
                    },
                    100);
            };
            if (this.visible) {
                this.show();
            } else {
                this.hide();
            };
            this.$bj();
            this.$bl();
            this.$cR();
            this.$aR();
        };
        this.$cR = function() {
            if (typeof $k.onAfterUpdate !== "function") {
                return;
            };
            var $n = {};
            $k.onAfterUpdate($n);
        };
        this.update = function($j) {
            if ($k.$aF) {
                throw "You are trying to update a DayPilot.Scheduler object that has been disposed already. Calling .dispose() destroys the object and makes it unusable.";
            };
            $1l.request($j);
        };
        var $1l = {};
        $1l.timeout = null;
        $1l.options = null;
        $1l.enabled = false;
        $1l.request = function($j) {
            if ($1l.enabled) {
                clearTimeout($1l.timeout);
                $1l.mergeOptions($j);
                $1l.timeout = setTimeout($1l.doit);
            } else {
                $1l.mergeOptions($j);
                $1l.doit();
            }
        };
        $1l.mergeOptions = function($j) {
            if (!$j) {
                return;
            };
            if (!$1l.options) {
                $1l.options = {};
            };
            for (var name in $j) {
                $1l.options[name] = $j[name];
            }
        };
        $1l.doit = function() {
            var $j = $1l.options;
            $1l.options = null;
            if (!$j) {
                $k.$cS && $k.$cx({
                    "immediateEvents": true
                });
                return;
            };
            if ($j.events) {
                $k.events.list = $j.events;
                $k.$cS && $k.$cx({
                    "eventsOnly": true
                });
            } else if ($j.separators) {
                $k.separators = $j.separators;
                $k.$cS && $k.$cH();
            } else if ($j.rowHeaderColumns) {
                $k.rowHeaderColumns = $j.rowHeaderColumns;
                $k.$cS && $k.$cI();
            }
        };
        this.$cu = function($1d, $1m, $1n) {
            $1d = DayPilot.ua($1d);
            for (var i = 0; i < $1d.length; i++) {
                var ri = $1d[i];
                $k.$cT(ri);
            };
            if (this.$cU) {
                this.$b3();
                this.$b6();
                this.$b9();
                this.$bb();
                for (var i = 0; i < $1d.length; i++) {
                    var ri = $1d[i];
                    this.$cV(ri);
                };
                for (var i = 0; i < $1d.length; i++) {
                    var ri = $1d[i];
                    this.$cW(ri);
                };
                this.$bd();
                this.$be();
                this.$cX();
            } else {
                var $1o = false;
                if ($1o) {
                    var $1p = function(i) {
                        if (i >= $1d.length) {
                            return;
                        };
                        var ri = $1d[i];
                        if (!$1m) {
                            $k.$cV(ri);
                        };
                        $k.$cW(ri);
                        if (i + 1 < $1d.length) {
                            setTimeout(function() {
                                    $1p(i + 1);
                                },
                                10);
                        } else {
                            $k.$by();
                            $1k.load();
                            $k.multiselect.redraw();
                            if ($1n) {
                                $1n();
                            }
                        }
                    };
                    $1p(0);
                } else {
                    for (var i = 0; i < $1d.length; i++) {
                        var ri = $1d[i];
                        if (!$1m) {
                            this.$cV(ri);
                        };
                        this.$cW(ri);
                    }
                };
                DayPilot.list($1d).each(function(y) {
                    $k.$cY(y);
                });
                $k.$bd();
            };
            $k.$by();
            $1k.load();
            $k.multiselect.redraw();
            if ($1n) {
                $1n();
            };
            this.$aU();
        };
        this.$cm = function($w) {
            if ($k.eventEndSpec === "DateTime") {
                return $w;
            };
            if ($w.getDatePart().ticks === $w.ticks) {
                return $w.addDays( - 1);
            };
            return $w.getDatePart();
        };
        this.$cZ = function($w) {
            if ($k.eventEndSpec === "DateTime") {
                return $w;
            };
            return $w.getDatePart().addDays(1);
        };
        this.$d0 = function($w) {
            if ($k.eventEndSpec === "DateTime") {
                return $w;
            };
            return $w.getDatePart();
        };
        this.$d1 = function(e, $0p, $13, $18, external, ev, $0x) {
            $k.$d2 = null;
            if ($k.eventMoveHandling === 'Disabled') {
                return;
            };
            $13 = $k.$cm($13);
            var $n = {};
            $n.e = e;
            $n.newStart = $0p;
            $n.newEnd = $13;
            $n.newResource = $18;
            $n.external = external;
            $n.ctrl = false;
            $n.meta = false;
            $n.shift = false;
            if (ev) {
                $n.shift = ev.shiftKey;
                $n.ctrl = ev.ctrlKey;
                $n.meta = ev.metaKey;
            };
            $n.multimove = DayPilot.list(mm.list);
            var $17 = {};
            $17.event = e;
            $17.start = $0p;
            $17.end = $13;
            $n.multimove.splice(0, 0, $17);
            $n.position = $0x;
            $n.preventDefault = function() {
                this.preventDefault.value = true;
            };
            if ($k.$bm()) {
                var $14 = function() {
                    $15.hide();
                    if ($n.preventDefault.value) {
                        $k.$d3();
                        return;
                    };
                    $0p = $n.newStart;
                    $13 = $n.newEnd;
                    switch ($k.eventMoveHandling) {
                        case 'PostBack':
                            $k.eventMovePostBack($n);
                            break;
                        case 'CallBack':
                            $k.eventMoveCallBack($n);
                            break;
                        case 'Notify':
                            $k.eventMoveNotify($n);
                            break;
                        case 'Update':
                            $k.$cn($n);
                            break;
                    };
                    $k.$d3();
                    if (typeof $k.onEventMoved === 'function') {
                        $k.onEventMoved($n);
                    }
                };
                $n.async = false;
                $n.loaded = function() {
                    $14();
                };
                if (typeof $k.onEventMove === 'function') {
                    $k.onEventMove($n);
                };
                if (!$n.async) {
                    $14();
                } else {
                    if ($k.blockOnCallBack) {
                        $15.show();
                    }
                }
            } else {
                switch ($k.eventMoveHandling) {
                    case 'PostBack':
                        $k.eventMovePostBack($n);
                        break;
                    case 'CallBack':
                        $k.eventMoveCallBack($n);
                        break;
                    case 'JavaScript':
                        $k.onEventMove(e, $0p, $13, $18, external, ev ? ev.ctrlKey: false, ev ? ev.shiftKey: false, $0x);
                        break;
                    case 'Notify':
                        $k.eventMoveNotify($n);
                        break;
                    case 'Update':
                        $k.$cn($n);
                        break;
                };
                $k.$d3();
            }
        };
        this.$cn = function($n) {
            var e = $n.e;
            var $0p = $n.newStart;
            var $13 = $n.newEnd;
            var $18 = $n.newResource;
            var external = $n.external;
            e.start($0p);
            e.end($13);
            e.resource($18);
            if (external) {
                e.commit();
                $k.events.add(e);
            } else {
                $k.events.update(e);
            };
            if ($n.multimove && !$n.multimove.isEmpty()) {
                $n.multimove.each(function($02) {
                    if ($02.event === e) {
                        return;
                    };
                    $02.event.start($02.start);
                    $02.event.end($02.end);
                    if (mm.rowoffset) {
                        var ri = $02.event.part.dayIndex + mm.rowoffset;
                        var $18 = $k.rowlist[ri].id;
                        $02.event.resource($18);
                    };
                    $02.event.commit();
                    $k.events.update($02.event);
                });
            };
            if ($n.multiresize && !$n.multiresize.isEmpty()) {
                $n.multiresize.each(function($02) {
                    if ($02.event === e) {
                        return;
                    };
                    $02.event.start($02.start);
                    $02.event.end($02.end);
                    $02.event.commit();
                    $k.events.update($02.event);
                });
            };
            $k.events.immediateRefresh();
            $k.$aP();
        };
        this.$d4 = function($n, $p) {
            var $o = $k.$d5($p);
            var $0Y = {};
            $0Y.args = $n;
            $0Y.guid = $o;
            $k.$c9("Bubble", $0Y);
        };
        this.$d5 = function($p) {
            var $o = DayPilot.guid();
            if (!this.bubbles) {
                this.bubbles = [];
            };
            this.bubbles[$o] = $p;
            return $o;
        };
        this.eventMenuClickPostBack = function(e, $1q, $s) {
            var $0Y = {};
            $0Y.e = e;
            $0Y.command = $1q;
            this.$c8('EventMenuClick', $0Y, $s);
        };
        this.eventMenuClickCallBack = function(e, $1q, $s) {
            var $0Y = {};
            $0Y.e = e;
            $0Y.command = $1q;
            this.$c9('EventMenuClick', $0Y, $s);
        };
        this.$d6 = function($1q, e, $1r) {
            switch ($1r) {
                case 'PostBack':
                    $k.eventMenuClickPostBack(e, $1q);
                    break;
                case 'CallBack':
                    $k.eventMenuClickCallBack(e, $1q);
                    break;
            }
        };
        this.timeRangeSelectedPostBack = function($M, end, $1s, $s) {
            var $1t = {};
            $1t.start = $M;
            $1t.end = end;
            $1t.resource = $1s;
            this.$c8('TimeRangeSelected', $1t, $s);
        };
        this.timeRangeSelectedCallBack = function($M, end, $1s, $s) {
            var $1t = {};
            $1t.start = $M;
            $1t.end = end;
            $1t.resource = $1s;
            this.$c9('TimeRangeSelected', $1t, $s);
        };
        this.$d7 = function($1t) {
            if (!$1t) {
                return;
            };
            if ($1t.disabled) {
                $k.clearSelection();
                return;
            };
            var $1u = $k.$d8($1t);
            if (!$1u) {
                return;
            };
            $k.$d9($1u.start, $1u.end, $1u.resource);
        };
        this.$d9 = function($M, end, $1s) {
            if ($k.timeRangeSelectedHandling === 'Disabled') {
                return;
            };
            var $1v = end;
            end = $k.$cm($1v);
            var $n = {};
            $n.start = $M;
            $n.end = end;
            $n.resource = $1s;
            $n.preventDefault = function() {
                this.preventDefault.value = true;
            };
            $n.multirange = DayPilot.list(mr.list).map(function($02) {
                return $k.$d8($02);
            });
            if ($n.multirange.isEmpty()) {
                $n.multirange.push({
                    "start": $n.start,
                    "end": $n.end,
                    "resource": $n.resource
                });
            };
            if ($k.$bm()) {
                if (typeof $k.onTimeRangeSelect === 'function') {
                    $k.onTimeRangeSelect($n);
                    if ($n.preventDefault.value) {
                        return;
                    };
                    $M = $n.start;
                    end = $n.end;
                };
                $k.$da(DayPilotScheduler.rangeHold, $M, end, $n.multirange);
                $k.$db(DayPilotScheduler.rangeHold);
                switch ($k.timeRangeSelectedHandling) {
                    case 'PostBack':
                        $k.$cp("PostBack", $n);
                        break;
                    case 'CallBack':
                        $k.$cp("CallBack", $n);
                        break;
                };
                if (typeof $k.onTimeRangeSelected === 'function') {
                    $k.onTimeRangeSelected($n);
                }
            } else {
                switch ($k.timeRangeSelectedHandling) {
                    case 'PostBack':
                        $k.$cp("PostBack", $n);
                        break;
                    case 'CallBack':
                        $k.$cp("CallBack", $n);
                        break;
                    case 'JavaScript':
                        $k.onTimeRangeSelected($M, end, $1s, $n.multirange);
                        break;
                    case 'Hold':
                        break;
                }
            }
        };
        this.$da = function($1t, $M, end, $1w) {
            if (!$1t || ($1w && $1w.length > 1)) {
                return;
            };
            var $1v = $k.$cZ(end);
            var $0J, $R;
            var $1x = 0;
            if ($k.viewType === "Days") {
                var $z = $k.$bp($M);
                $1x = $z.start.getTime() - $k.$bT().getTime();
            };
            if ($M.getTime() < $k.itline[0].start.getTime()) {
                $1t.start.x = 0;
            } else {
                $0J = $k.$c4($M.addTime( - $1x));
                $R = $0J.current || $0J.previous;
                $1t.start.x = DayPilot.indexOf($k.itline, $R);
            };
            $0J = $k.$c4($1v.addSeconds( - 1).addTime( - $1x));
            if ($0J.past) {
                $1t.end.x = $k.itline.length - 1;
            } else {
                $R = $0J.current || $0J.next;
                $1t.end.x = DayPilot.indexOf($k.itline, $R);
            }
        };
        this.$bp = function($M) {
            var $0m = $M.getDatePart();
            return DayPilot.list($k.rowlist).find(function($02) {
                return $02.start.getDatePart() === $0m;
            });
        };
        this.timeRangeDoubleClickPostBack = function($M, end, $1s, $s) {
            var $1t = {};
            $1t.start = $M;
            $1t.end = end;
            $1t.resource = $1s;
            this.$c8('TimeRangeDoubleClick', $1t, $s);
        };
        this.timeRangeDoubleClickCallBack = function($M, end, $1s, $s) {
            var $1t = {};
            $1t.start = $M;
            $1t.end = end;
            $1t.resource = $1s;
            this.$c9('TimeRangeDoubleClick', $1t, $s);
        };
        this.$dc = function($M, end, $1s) {
            end = $k.$cm(end);
            if ($k.$bm()) {
                var $n = {};
                $n.start = $M;
                $n.end = end;
                $n.resource = $1s;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onTimeRangeDoubleClick === 'function') {
                    $k.onTimeRangeDoubleClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($k.timeRangeDoubleClickHandling) {
                    case 'PostBack':
                        $k.timeRangeDoubleClickPostBack($M, end, $1s);
                        break;
                    case 'CallBack':
                        $k.timeRangeDoubleClickCallBack($M, end, $1s);
                        break;
                };
                if (typeof $k.onTimeRangeDoubleClicked === 'function') {
                    $k.onTimeRangeDoubleClicked($n);
                }
            } else {
                switch ($k.timeRangeDoubleClickHandling) {
                    case 'PostBack':
                        $k.timeRangeDoubleClickPostBack($M, end, $1s);
                        break;
                    case 'CallBack':
                        $k.timeRangeDoubleClickCallBack($M, end, $1s);
                        break;
                    case 'JavaScript':
                        $k.onTimeRangeDoubleClick($M, end, $1s);
                        break;
                }
            }
        };
        this.timeRangeMenuClickPostBack = function(e, $1q, $s) {
            var $0Y = {};
            $0Y.selection = e;
            $0Y.command = $1q;
            this.$c8("TimeRangeMenuClick", $0Y, $s);
        };
        this.timeRangeMenuClickCallBack = function(e, $1q, $s) {
            var $0Y = {};
            $0Y.selection = e;
            $0Y.command = $1q;
            this.$c9("TimeRangeMenuClick", $0Y, $s);
        };
        this.$dd = function($1q, e, $1r) {
            switch ($1r) {
                case 'PostBack':
                    $k.timeRangeMenuClickPostBack(e, $1q);
                    break;
                case 'CallBack':
                    $k.timeRangeMenuClickCallBack(e, $1q);
                    break;
            }
        };
        this.linkMenuClickPostBack = function(e, $1q, $s) {
            var $0Y = {};
            $0Y.link = e;
            $0Y.command = $1q;
            this.$c8("LinkMenuClick", $0Y, $s);
        };
        this.linkMenuClickCallBack = function(e, $1q, $s) {
            var $0Y = {};
            $0Y.link = e;
            $0Y.command = $1q;
            this.$c9("LinkMenuClick", $0Y, $s);
        };
        this.$de = function($1q, e, $1r) {
            switch ($1r) {
                case 'PostBack':
                    $k.linkMenuClickPostBack(e, $1q);
                    break;
                case 'CallBack':
                    $k.linkMenuClickCallBack(e, $1q);
                    break;
            }
        };
        this.rowMenuClickPostBack = function(e, $1q, $s) {
            var $0Y = {};
            $0Y.resource = e;
            $0Y.command = $1q;
            this.$c8("RowMenuClick", $0Y, $s);
        };
        this.resourceHeaderMenuClickPostBack = this.rowMenuClickPostBack;
        this.rowMenuClickCallBack = function(e, $1q, $s) {
            var $0Y = {};
            $0Y.resource = e;
            $0Y.command = $1q;
            this.$c9("RowMenuClick", $0Y, $s);
        };
        this.resourceHeaderMenuClickCallBack = this.rowMenuClickCallBack;
        this.$df = function($1q, e, $1r) {
            switch ($1r) {
                case 'PostBack':
                    $k.rowMenuClickPostBack(e, $1q);
                    break;
                case 'CallBack':
                    $k.rowMenuClickCallBack(e, $1q);
                    break;
            }
        };
        this.$dg = function($1y, $1z) {
            var r = $k.$dh($1y);
            r.data.name = $1z;
            if (r.data.html) {
                r.data.html = $1z;
            };
            $k.rows.update(r);
        };
        this.$di = function($z, $1z) {
            if (!$1z) {
                return;
            };
            var $n = {};
            $n.text = $1z;
            $n.preventDefault = function() {
                this.preventDefault.value = true;
            };
            if (typeof $k.onRowCreate === "function") {
                $k.onRowCreate($n);
                if ($n.preventDefault.value) {
                    return;
                }
            };
            switch ($k.rowCreateHandling) {
                case "CallBack":
                    $k.rowCreateCallBack($n.text);
                    break;
                case "PostBack":
                    $k.rowCreatePostBack($n.text);
                    break;
            };
            if (typeof $k.onRowCreated === "function") {
                $k.onRowCreated($n);
            }
        };
        this.$dj = function($z, $1z, $1A) {
            if ($z.isNewRow) {
                if (!$1A) {
                    $k.$di($z, $1z);
                };
                return;
            };
            var $1B = DayPilot.indexOf($k.rowlist, $z);
            var e = $k.$dh($z, $1B);
            if ($k.$bm()) {
                var $n = {};
                $n.resource = e;
                $n.row = e;
                $n.newText = $1z;
                $n.canceled = $1A;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onRowEdit === 'function') {
                    $k.onRowEdit($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                if (!$1A) {
                    switch ($k.rowEditHandling) {
                        case 'PostBack':
                            $k.rowEditPostBack(e, $1z);
                            break;
                        case 'CallBack':
                            $k.rowEditCallBack(e, $1z);
                            break;
                        case 'Update':
                            $k.$dg($z, $1z);
                            break;
                    };
                    if (typeof $k.onRowEdited === 'function') {
                        $k.onRowEdited($n);
                    }
                }
            } else {
                switch ($k.rowEditHandling) {
                    case 'PostBack':
                        $k.rowEditPostBack(e, $1z);
                        break;
                    case 'CallBack':
                        $k.rowEditCallBack(e, $1z);
                        break;
                    case 'JavaScript':
                        $k.onrowEdit(e, $1z);
                        break;
                }
            }
        };
        this.rowCreatePostBack = function($1z, $s) {
            var $0Y = {};
            $0Y.text = $1z;
            this.$c8("RowCreate", $0Y, $s);
        };
        this.rowCreateCallBack = function($1z, $s) {
            var $0Y = {};
            $0Y.text = $1z;
            this.$c9("RowCreate", $0Y, $s);
        };
        this.rowEditPostBack = function(e, $1z, $s) {
            var $0Y = {};
            $0Y.resource = e;
            $0Y.newText = $1z;
            this.$c8("RowEdit", $0Y, $s);
        };
        this.rowEditCallBack = function(e, $1z, $s) {
            var $0Y = {};
            $0Y.resource = e;
            $0Y.newText = $1z;
            this.$c9("RowEdit", $0Y, $s);
        };
        this.rowMovePostBack = function($1C, $1D, $y, $s) {
            var $0Y = {};
            $0Y.source = $1C;
            $0Y.target = $1D;
            $0Y.position = $y;
            this.$c8("RowMove", $0Y, $s);
        };
        this.rowMoveCallBack = function($1C, $1D, $y, $s) {
            var $0Y = {};
            $0Y.source = $1C;
            $0Y.target = $1D;
            $0Y.position = $y;
            this.$c9("RowMove", $0Y, $s);
        };
        this.rowMoveNotify = function($1C, $1D, $y, $s) {
            var $0Y = {};
            $0Y.source = $1C;
            $0Y.target = $1D;
            $0Y.position = $y;
            this.$c9("RowMove", $0Y, $s, "Notify");
        };
        this.rowClickPostBack = function(e, $s) {
            var $0Y = {};
            $0Y.resource = e;
            this.$c8("RowClick", $0Y, $s);
        };
        this.resourceHeaderClickPostBack = this.rowClickPostBack;
        this.rowClickCallBack = function(e, $s) {
            var $0Y = {};
            $0Y.resource = e;
            this.$c9("RowClick", $0Y, $s);
        };
        this.resourceHeaderClickCallBack = this.rowClickCallBack;
        this.$dk = function(e, $1f, $1E, $1g) {
            if ($k.rowDoubleClickHandling === "Disabled") {
                $k.$dl(e, $1f, $1E, $1g);
                return;
            };
            if (!$k.timeouts.resClick) {
                $k.timeouts.resClick = [];
            };
            var $1F = function(e, $1f, $1E, $1g) {
                return function() {
                    $k.$dl(e, $1f, $1E, $1g);
                };
            };
            $k.timeouts.resClick.push(window.setTimeout($1F(e, $1f, $1E, $1g), $k.doubleClickTimeout));
        };
        this.$dl = function(e, $1f, $1E, $1g) {
            var $1G = $k.resourceHeaderClickHandling || $k.rowClickHandling;
            if ($k.$bm()) {
                var $n = {};
                $n.resource = e;
                $n.row = e;
                $n.ctrl = $1f;
                $n.shift = $1E;
                $n.meta = $1g;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onRowClick === 'function') {
                    $k.onRowClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                if (typeof $k.onResourceHeaderClick === 'function') {
                    $k.onResourceHeaderClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($1G) {
                    case 'PostBack':
                        $k.rowClickPostBack(e);
                        break;
                    case 'CallBack':
                        $k.rowClickCallBack(e);
                        break;
                    case 'Select':
                        $k.$dm(e.$.row, $1f, $1E, $1g);
                        break;
                    case 'Edit':
                        $k.$dn.edit(e.$.row);
                        break;
                };
                if (typeof $k.onRowClicked === 'function') {
                    $k.onRowClicked($n);
                };
                if (typeof $k.onResourceHeaderClicked === 'function') {
                    $k.onResourceHeaderClicked($n);
                }
            } else {
                switch ($1G) {
                    case 'PostBack':
                        $k.rowClickPostBack(e);
                        break;
                    case 'CallBack':
                        $k.rowClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $k.onRowClick(e);
                        break;
                    case 'Select':
                        $k.$dm(e.$.row, $1f, $1E);
                        break;
                    case 'Edit':
                        $k.$dn.edit(e.$.row);
                        break;
                }
            }
        };
        this.timeHeaderClickPostBack = function(e, $s) {
            var $0Y = {};
            $0Y.header = e;
            this.$c8("TimeHeaderClick", $0Y, $s);
        };
        this.timeHeaderClickCallBack = function(e, $s) {
            var $0Y = {};
            $0Y.header = e;
            this.$c9("TimeHeaderClick", $0Y, $s);
        };
        this.$do = function(e) {
            if ($k.$bm()) {
                var $n = {};
                $n.header = e;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onTimeHeaderClick === 'function') {
                    $k.onTimeHeaderClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch (this.timeHeaderClickHandling) {
                    case 'PostBack':
                        $k.timeHeaderClickPostBack(e);
                        break;
                    case 'CallBack':
                        $k.timeHeaderClickCallBack(e);
                        break;
                };
                if (typeof $k.onTimeHeaderClicked === 'function') {
                    $k.onTimeHeaderClicked($n);
                }
            } else {
                switch (this.timeHeaderClickHandling) {
                    case 'PostBack':
                        $k.timeHeaderClickPostBack(e);
                        break;
                    case 'CallBack':
                        $k.timeHeaderClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $k.onTimeHeaderClick(e);
                        break;
                }
            }
        };
        this.resourceCollapsePostBack = function(e, $s) {
            var $0Y = {};
            $0Y.resource = e;
            this.$c8("ResourceCollapse", $0Y, $s);
        };
        this.resourceCollapseCallBack = function(e, $s) {
            var $0Y = {};
            $0Y.resource = e;
            this.$c9("ResourceCollapse", $0Y, $s);
        };
        this.$dp = function(e) {
            if ($k.$bm()) {
                var $n = {};
                $n.resource = e;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onResourceCollapse === 'function') {
                    $k.onResourceCollapse($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch (this.resourceCollapseHandling) {
                    case 'PostBack':
                        $k.resourceCollapsePostBack(e);
                        break;
                    case 'CallBack':
                        $k.resourceCollapseCallBack(e);
                        break;
                }
            } else {
                switch (this.resourceCollapseHandling) {
                    case 'PostBack':
                        $k.resourceCollapsePostBack(e);
                        break;
                    case 'CallBack':
                        $k.resourceCollapseCallBack(e);
                        break;
                    case 'JavaScript':
                        $k.onResourceCollapse(e);
                        break;
                }
            }
        };
        this.resourceExpandPostBack = function(e, $s) {
            var $0Y = {};
            $0Y.resource = e;
            this.$c8("ResourceExpand", $0Y, $s);
        };
        this.resourceExpandCallBack = function(e, $s) {
            var $0Y = {};
            $0Y.resource = e;
            this.$c9("ResourceExpand", $0Y, $s);
        };
        this.$dq = function(e) {
            if ($k.$bm()) {
                var $n = {};
                $n.resource = e;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onResourceExpand === 'function') {
                    $k.onResourceExpand($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch (this.resourceExpandHandling) {
                    case 'PostBack':
                        $k.resourceExpandPostBack(e);
                        break;
                    case 'CallBack':
                        $k.resourceExpandCallBack(e);
                        break;
                }
            } else {
                switch (this.resourceExpandHandling) {
                    case 'PostBack':
                        $k.resourceExpandPostBack(e);
                        break;
                    case 'CallBack':
                        $k.resourceExpandCallBack(e);
                        break;
                    case 'JavaScript':
                        $k.onResourceExpand(e);
                        break;
                }
            }
        };
        this.eventEditPostBack = function(e, $1z, $s) {
            var $0Y = {};
            $0Y.e = e;
            $0Y.newText = $1z;
            this.$c8("EventEdit", $0Y, $s);
        };
        this.eventEditCallBack = function(e, $1z, $s) {
            var $0Y = {};
            $0Y.e = e;
            $0Y.newText = $1z;
            this.$c9("EventEdit", $0Y, $s);
        };
        this.eventEditNotify = function(e, $1z, $s, $j) {
            var $1e = new DayPilot.Event(e.copy(), this);
            e.text($1z);
            $k.events.update(e, null, $j);
            var $0Y = {};
            $0Y.e = $1e;
            $0Y.newText = $1z;
            this.$c9("EventEdit", $0Y, $s, "Notify");
        };
        this.$dr = function(e, $1z, $1A) {
            if ($k.$bm()) {
                var $n = {};
                $n.e = e;
                $n.newText = $1z;
                $n.canceled = $1A;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onEventEdit === 'function') {
                    $k.onEventEdit($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                if (!$1A) {
                    switch ($k.eventEditHandling) {
                        case 'PostBack':
                            $k.eventEditPostBack(e, $1z);
                            break;
                        case 'CallBack':
                            $k.eventEditCallBack(e, $1z);
                            break;
                        case 'Update':
                            e.text($1z);
                            $k.events.update(e, null, {
                                "inplace": true
                            });
                            break;
                    }
                };
                if (typeof $k.onEventEdited === 'function') {
                    $k.onEventEdited($n);
                }
            } else {
                switch ($k.eventEditHandling) {
                    case 'PostBack':
                        $k.eventEditPostBack(e, $1z);
                        break;
                    case 'CallBack':
                        $k.eventEditCallBack(e, $1z);
                        break;
                    case 'Notify':
                        $k.eventEditNotify(e, $1z, null, {
                            "inplace": true
                        });
                        break;
                    case 'JavaScript':
                        $k.onEventEdit(e, $1z);
                        break;
                }
            }
        };
        this.commandCallBack = function($1q, $s) {
            this.$ds("CallBack", $1q, $s);
        };
        this.commandPostBack = function($1q, $s) {
            this.$ds("PostBack", $1q, $s);
        };
        this.$ds = function($Z, $1q, $s) {
            var $0Y = {};
            $0Y.command = $1q;
            this.$ck($Z, "Command", $0Y, $s);
        };
        this.$c8 = function($1c, $1H, $s) {
            var $1I = {};
            $1I.action = $1c;
            $1I.type = "PostBack";
            $1I.parameters = $1H;
            $1I.data = $s;
            $1I.header = this.$dt();
            var $1J = "JSON" + DayPilot.JSON.stringify($1I);
            __doPostBack($k.uniqueID, $1J);
        };
        this.$c9 = function($1c, $1H, $s, $Z) {
            if (!$k.$bM()) {
                $k.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning");
                return;
            };
            if (typeof $Z === 'undefined') {
                $Z = "CallBack";
            };
            this.$du();
            $k.$dv();
            var $1I = {};
            $1I.action = $1c;
            $1I.type = $Z;
            $1I.parameters = $1H;
            $1I.data = $s;
            $1I.header = this.$dt();
            var $1K = DayPilot.JSON.stringify($1I);
            var $1J;
            if (typeof Iuppiter !== 'undefined' && Iuppiter.compress) {
                $1J = "LZJB" + Iuppiter.Base64.encode(Iuppiter.compress($1K));
            } else {
                $1J = "JSON" + $1K;
            };
            this.$dw($1I);
            var $m = null;
            if (this.backendUrl) {
                DayPilot.request(this.backendUrl, this.$dx, $1J, this.$dy);
            } else if (typeof WebForm_DoCallback === 'function') {
                WebForm_DoCallback(this.uniqueID, $1J, this.$aO, $m, this.callbackError, true);
            }
        };
        this.$dw = function($1I) {
            var $n = {};
            if (typeof $k.onCallBackStart === 'function') {
                $k.onCallBackStart($n);
            }
        };
        this.$aT = function() {
            var $n = {};
            if (typeof $k.onCallBackEnd === 'function') {
                setTimeout(function() {
                        $k.onCallBackEnd($n);
                    },
                    0);
            }
        };
        this.$bM = function() {
            if (this.backendUrl) {
                return true;
            };
            if (this.$dz()) {
                return true;
            };
            return false;
        };
        this.$dz = function() {
            if (typeof WebForm_DoCallback === 'function' && this.uniqueID) {
                return true;
            };
            return false;
        };
        this.$dy = function($1L) {
            if (typeof $k.onAjaxError === 'function') {
                var $n = {};
                $n.request = $1L;
                $k.onAjaxError($n);
            } else if (typeof $k.ajaxError === 'function') {
                $k.ajaxError($1L);
            }
        };
        this.$dx = function($1M) {
            $k.$aO($1M.responseText);
        };
        this.$dt = function() {
            var h = {};
            h.v = this.v;
            h.control = "dps";
            h.id = this.id;
            h.startDate = $k.startDate;
            h.days = $k.days;
            h.cellDuration = $k.cellDuration;
            h.cellGroupBy = $k.cellGroupBy;
            h.cellWidth = $k.cellWidth;
            h.cellWidthSpec = $k.cellWidthSpec;
            h.viewType = $k.viewType;
            h.hourNameBackColor = $k.hourNameBackColor;
            h.showNonBusiness = $k.showNonBusiness;
            h.businessBeginsHour = $k.businessBeginsHour;
            h.businessEndsHour = $k.businessEndsHour;
            h.weekStarts = $k.weekStarts;
            h.treeEnabled = $k.treeEnabled;
            h.locale = $k.locale;
            h.timeZone = $k.timeZone;
            h.tagFields = $k.tagFields;
            h.timeHeaders = $k.timeHeaders;
            h.cssClassPrefix = $k.cssClassPrefix;
            h.durationBarMode = $k.durationBarMode;
            h.showBaseTimeHeader = true;
            h.rowHeaderColumns = $k.rowHeaderColumns;
            h.rowMarginBottom = $k.rowMarginBottom;
            h.rowMarginTop = $k.rowMarginTop;
            h.rowMinHeight = $k.rowMinHeight;
            h.scale = $k.scale;
            h.clientState = $k.clientState;
            if (this.nav.scroll) {
                h.scrollX = this.nav.scroll.scrollLeft;
                h.scrollY = this.nav.scroll.scrollTop;
            };
            h.selected = $k.multiselect.events();
            h.selectedRows = $1N.$dA();
            h.hashes = $k.hashes;
            var $L = $k.$dB(h.scrollX, h.scrollY);
            var $1t = $k.$dC($L);
            var $1O = $k.$dD($L);
            h.rangeStart = $1t.start;
            h.rangeEnd = $1t.end;
            h.resources = $1O;
            h.dynamicLoading = $k.dynamicLoading;
            h.separators = this.separators;
            if (this.syncResourceTree && this.viewType != "Days") {
                h.tree = this.$dE();
            };
            if (this.syncLinks) {
                h.links = this.$dF();
            };
            if (this.scale === "Manual") {
                h.timeline = this.$dG();
            };
            if (typeof $k.onCallBackHeader === "function") {
                var $n = {};
                $n.header = h;
                $k.onCallBackHeader($n);
            };
            return h;
        };
        this.$dG = function() {
            var $00 = [];
            DayPilot.list($k.timeline).each(function($02) {
                var $1K = {};
                $1K.start = $02.start;
                $1K.end = $02.end;
                $1K.width = $02.width;
                $00.push($1K);
            });
            return $00;
        };
        this.$dF = function() {
            var $00 = [];
            var $1P = function(link) {
                var $l = {};
                if (link.tags) {
                    for (var name in link.tags) {
                        $l[name] = "" + link.tags[name];
                    }
                };
                return $l;
            };
            if (!DayPilot.isArray($k.links.list)) {
                return $00;
            };
            for (var i = 0; i < $k.links.list.length; i++) {
                var link = $k.links.list[i];
                var $1K = {};
                $1K.id = link.id;
                $1K.from = link.from;
                $1K.to = link.to;
                $1K.type = link.type;
                $1K.tags = $1P(link);
                $00.push($1K);
            };
            return $00;
        };
        this.getViewPort = function() {
            var scrollX = this.nav.scroll.scrollLeft - $N.shiftX;
            var scrollY = this.nav.scroll.scrollTop;
            var $S = {};
            if ($k.viewType !== "Days") {
                var $L = $k.$dB(scrollX, scrollY);
                var $1t = $k.$dC($L);
                var $1O = $k.$dD($L);
                $S.start = $1t.start;
                $S.end = $1t.end;
                $S.resources = $1O;
            } else {
                var $L = $k.$dB(scrollX, scrollY);
                var $1t = $k.$dH($L);
                $S.start = $1t.start;
                $S.end = $1t.end;
                $S.resources = [];
            };
            return $S;
        };
        this.$dB = function(scrollX, scrollY) {
            var $L = {};
            $L.start = {};
            $L.end = {};
            $L.start.x = Math.floor(scrollX / $k.cellWidth);
            $L.end.x = Math.floor((scrollX + $k.nav.scroll.clientWidth) / $k.cellWidth);
            $L.start.y = $k.$dI(scrollY).i;
            $L.end.y = $k.$dI(scrollY + $k.nav.scroll.clientHeight).i;
            var $1Q = this.itline.length;
            if ($L.end.x >= $1Q) {
                $L.end.x = $1Q - 1;
            };
            return $L;
        };
        this.$dC = function($L) {
            var $l = {};
            if (this.itline.length <= 0) {
                $l.start = this.startDate;
                $l.end = this.startDate;
                return $l;
            };
            if (!this.itline[$L.start.x]) {
                throw 'Internal error: area.start.x is null.';
            };
            $l.start = this.itline[$L.start.x].start;
            $l.end = this.itline[$L.end.x].end;
            return $l;
        };
        this.$dD = function($L) {
            if (!$L) {
                var $L = this.$dB(this.nav.scroll.scrollLeft, this.nav.scroll.scrollTop);
            };
            var $1O = [];
            $1O.ignoreToJSON = true;
            for (var i = $L.start.y; i <= $L.end.y; i++) {
                var r = $k.rowlist[i];
                if (r && !r.hidden) {
                    $1O.push(r.id);
                }
            };
            return $1O;
        };
        this.$dH = function($L) {
            if (!$L) {
                var $L = this.$dB(this.nav.scroll.scrollLeft, this.nav.scroll.scrollTop);
            };
            var $1O = {};
            if ($k.rowlist.length === 0) {
                return $1O;
            };
            var $1R = $k.itline[$k.itline.length - 1].end.getTime() - $k.itline[0].start.getTime();
            $1O.start = $k.rowlist[$L.start.y] && $k.rowlist[$L.start.y].start;
            $1O.end = $k.rowlist[$L.end.y] && $k.rowlist[$L.end.y].start.addTime($1R);
            return $1O;
        };
        this.$dE = function() {
            var $1S = [];
            $1S.ignoreToJSON = true;
            for (var i = 0; i < this.rowlist.length; i++) {
                var $z = this.rowlist[i];
                if ($z.level > 0) {
                    continue;
                };
                if ($z.isNewRow) {
                    continue;
                };
                var $1T = this.$dJ(i);
                $1S.push($1T);
            };
            return $1S;
        };
        this.$dK = function($1U) {
            var $1V = [];
            $1V.ignoreToJSON = true;
            for (var i = 0; i < $1U.length; i++) {
                var $1B = $1U[i];
                var $z = $k.rowlist[$1B];
                if ($z.isNewRow) {
                    continue;
                };
                $1V.push($k.$dJ($1B));
            };
            return $1V;
        };
        this.$dJ = function(i) {
            var $z = this.rowlist[i];
            if (typeof $k.onGetNodeState === "function") {
                var $n = {};
                $n.row = $z;
                $n.preventDefault = function() {
                    $n.preventDefault.value = true;
                };
                $n.result = {};
                $k.onGetNodeState($n);
                if ($n.preventDefault.value) {
                    return $n.result;
                }
            };
            var $1T = {};
            $1T.Value = $z.id;
            $1T.BackColor = $z.backColor;
            $1T.Name = $z.name;
            $1T.InnerHTML = $z.html;
            $1T.ToolTip = $z.toolTip;
            $1T.Expanded = $z.expanded;
            $1T.Children = this.$dK($z.children);
            $1T.Loaded = $z.loaded;
            $1T.IsParent = $z.isParent;
            $1T.Columns = this.$dL($z);
            if ($z.start.getTime() !== $k.$bT().getTime()) {
                $1T.Start = $z.start;
            };
            if ($z.minHeight !== $k.rowMinHeight) {
                $1T.MinHeight = $z.minHeight;
            };
            if ($z.marginBottom !== $k.rowMarginBottom) {
                $1T.MarginBottom = $z.marginBottom;
            };
            if ($z.marginTop !== $k.rowMarginTop) {
                $1T.MarginTop = $z.marginTop;
            };
            if ($z.eventHeight !== $k.eventHeight) {
                $1T.EventHeight = $z.eventHeight;
            };
            return $1T;
        };
        this.$dL = function($z) {
            if (!$z.columns || $z.columns.length === 0) {
                return null;
            };
            var $1W = [];
            $1W.ignoreToJSON = true;
            for (var i = 0; i < $z.columns.length; i++) {
                var c = {};
                c.InnerHTML = $z.columns[i].html;
                $1W.push(c);
            };
            return $1W;
        };
        this.$bC = function($1X) {
            var $1Y = this.theme || this.cssClassPrefix;
            if ($1Y) {
                return $1Y + $1X;
            } else {
                return "";
            }
        };
        this.$cO = function() {
            var $1Z = $k.nav.top.className !== $k.$bC("_main");
            if (!$1Z) {
                return;
            };
            $k.nav.top.className = $k.$bC("_main");
            $k.nav.dh1.className = $k.$bC("_divider_horizontal");
            $k.nav.dh2.className = $k.$bC("_divider_horizontal");
            $k.divResScroll.className = $k.$bC("_rowheader_scroll");
            $k.nav.divider.className = $k.$bC("_divider") + " " + $k.$bC("_splitter");
            $k.nav.scroll.className = $k.$bC("_scrollable");
            $k.$bq.className = $k.$bC("_matrix");
            $k.nav.loading.className = $k.$bC("_loading");
        };
        this.$dM = function() {
            this.nav.top.dispose = this.dispose;
        };
        this.dispose = function() {
            var c = $k;
            if (!c.$dN) {
                return;
            };
            if (c.$aF) {
                return;
            };
            c.$aF = true;
            c.$du();
            clearInterval(c.$dO);
            c.$ba();
            c.divBreaks = null;
            c.divCells = null;
            c.divCorner = null;
            c.divCrosshair = null;
            c.divEvents = null;
            if (c.divHeader) {
                c.divHeader.rows = null;
            };
            c.divHeader = null;
            c.divLines = null;
            c.divNorth = null;
            c.divRange = null;
            c.divResScroll = null;
            c.divSeparators = null;
            c.divSeparatorsAbove = null;
            c.divStretch = null;
            c.divTimeScroll = null;
            c.$bK = null;
            c.$aV = null;
            c.$bq.calendar = null;
            c.$bq = null;
            c.nav.loading = null;
            c.nav.top.onmousemove = null;
            c.nav.top.dispose = null;
            c.nav.top.ontouchstart = null;
            c.nav.top.ontouchmove = null;
            c.nav.top.ontouchend = null;
            c.nav.top.removeAttribute('style');
            c.nav.top.removeAttribute('class');
            c.nav.top.innerHTML = "";
            c.nav.top.dp = null;
            c.nav.top = null;
            c.nav.scroll.onscroll = null;
            c.nav.scroll.root = null;
            c.nav.scroll = null;
            DayPilot.ue(window, 'resize', c.$dP);
            DayPilotScheduler.unregister(c);
            $20 = null;
            for (var name in c) {
                c[name] = null;
            }
        };
        this.$dQ = function($21) {
            var $22 = $k.$bq;
            var $23 = $k.$dR($21);
            var event = $21.event;
            var ev = event;
            if ($k.$dS($23.rowIndex)) {
                return;
            };
            var $T = event.part.height || $k.$cN.eventHeight();
            var top = (event.part && event.part.top && $k.rowlist[event.part.dayIndex]) ? (event.part.top + $k.rowlist[event.part.dayIndex].top) : $23.top;
            var $P = $23.left;
            var $24 = (ev.cache && typeof ev.cache.moveVDisabled !== 'undefined') ? !ev.cache.moveVDisabled: !ev.data.moveVDisabled;
            var $25 = (ev.cache && typeof ev.cache.moveHDisabled !== 'undefined') ? !ev.cache.moveHDisabled: !ev.data.moveHDisabled;
            if (!$24 && DayPilotScheduler.moving) {
                top = $k.rowlist[ev.part.dayIndex].top;
            };
            if (!$25 && DayPilotScheduler.moving) {
                $P = event.part.left;
            };
            var $26 = document.createElement('div');
            $26.setAttribute('unselectable', 'on');
            $26.style.position = 'absolute';
            $26.style.width = ($23.width) + 'px';
            $26.style.height = $T + 'px';
            $26.style.left = $P + 'px';
            $26.style.top = top + 'px';
            $26.style.zIndex = 101;
            $26.style.overflow = 'hidden';
            var $07 = document.createElement("div");
            $26.appendChild($07);
            $26.className = this.$bC("_shadow");
            $07.className = this.$bC("_shadow_inner");
            $22.appendChild($26);
            $26.calendar = $k;
            return $26;
        };
        this.$dI = function(y) {
            var $l = {};
            var element;
            var top = 0;
            var $27 = 0;
            var $28 = this.rowlist.length;
            for (var i = 0; i < $28; i++) {
                var $z = this.rowlist[i];
                if ($z.hidden) {
                    continue;
                };
                $27 += $z.height;
                if (y < $27 || i === $28 - 1) {
                    top = $27 - $z.height;
                    element = $z;
                    break;
                }
            };
            $l.top = top;
            $l.bottom = $27;
            $l.i = i;
            $l.element = element;
            return $l;
        };
        this.links = {};
        var $1k = {};
        this.$dT = $1k;
        $1k.clear = function() {
            $k.divLinksAbove.innerHTML = '';
            $k.divLinksBelow.innerHTML = '';
            $k.elements.links = [];
        };
        $1k.showLinkpoints = function() {
            var $01 = $S.events();
            $01.each(function($04) {
                $1k.showLinkpoint($04);
            });
        };
        $1k.showLinkpoint = function($04) {
            var $C = $k.linkPointSize;
            var $29 = $C / 2;
            var $P = $04.event.part.left;
            var top = $k.rowlist[$04.event.part.dayIndex].top + $04.event.part.top;
            var $T = $04.event.part.height;
            var $Q = $04.event.part.right;
            var $M = DayPilot.Util.div($k.divLinkpoints, $P - $29, top - $29 + $T / 2, $C, $C);
            $M.className = $k.$bC("_linkpoint");
            $M.style.boxSizing = "border-box";
            $M.coords = {
                x: $P,
                y: top + $T / 2
            };
            $M.type = "Start";
            $M.event = $04.event;
            $1k.activateLinkpoint($M);
            $k.elements.linkpoints.push($M);
            var end = DayPilot.Util.div($k.divLinkpoints, $Q - $29, top - $29 + $T / 2, $C, $C);
            end.className = $k.$bC("_linkpoint");
            end.style.boxSizing = "border-box";
            end.coords = {
                x: $Q,
                y: top + $T / 2
            };
            end.type = "Finish";
            end.event = $04.event;
            $1k.activateLinkpoint(end);
            $k.elements.linkpoints.push(end);
        };
        $1k.activateLinkpoint = function($04) {
            $04.onmousedown = function(ev) {
                var ev = ev || window.event;
                $2a.source = $04;
                $2a.calendar = $k;
                $1k.showLinkpoints();
                ev.preventDefault && ev.preventDefault();
                ev.stopPropagation && ev.stopPropagation();
                return false;
            };
            $04.onmousemove = function(ev) {
                DayPilot.Util.addClass($04, $k.$bC("_linkpoint_hover"));
                $1k.clearHideTimeout();
            };
            $04.onmouseout = function(ev) {
                if (!$2a.source || $2a.source.event !== $04.event) {
                    DayPilot.Util.removeClass($04, $k.$bC("_linkpoint_hover"));
                }
            };
            $04.onmouseup = function(ev) {
                if ($2a.source) {
                    var $Z = $2a.source.type + "To" + $04.type;
                    var $0L = $2a.source.event.id();
                    var to = $04.event.id();
                    var $n = {};
                    $n.from = $0L;
                    $n.to = to;
                    $n.type = $Z;
                    $n.id = null;
                    $n.preventDefault = function() {
                        this.preventDefault.value = true;
                    };
                    if (typeof $k.onLinkCreate === "function") {
                        $k.onLinkCreate($n);
                        if ($n.preventDefault.value) {
                            return;
                        }
                    };
                    var $2b = function() {
                        $k.links.list.push({
                            "from": $0L,
                            "to": to,
                            "type": $Z,
                            "id": $n.id
                        });
                        $1k.load();
                    };
                    switch ($k.linkCreateHandling) {
                        case "Update":
                            $2b();
                            break;
                        case "CallBack":
                            $k.$dU($n);
                            break;
                        case "PostBack":
                            $k.$dV($n);
                            break;
                        case "Notify":
                            $2b();
                            $k.$dW($n);
                            break;
                    };
                    if (typeof $k.onLinkCreated === "function") {
                        $k.onLinkCreated($n);
                    }
                }
            };
        };
        $1k.hideLinkpoints = function() {
            $k.divLinkpoints.innerHTML = '';
            $k.elements.linkpoints = [];
        };
        $1k.hideTimeout = null;
        $1k.hideLinkpointsWithDelay = function() {
            $1k.hideTimeout = setTimeout(function() {
                    $1k.hideLinkpoints();
                },
                100);
        };
        $1k.clearHideTimeout = function() {
            if ($1k.hideTimeout) {
                clearTimeout($1k.hideTimeout);
                $1k.hideTimeout = null;
            }
        };
        $1k.load = function() {
            $1k.clear();
            if (!DayPilot.isArray($k.links.list)) {
                return;
            };
            for (var i = 0; i < $k.links.list.length; i++) {
                var link = $k.links.list[i];
                $1k.drawLinkId(link.from, link.to, link);
            }
        };
        $1k.drawLinkId = function($0L, to, $2c) {
            var $M = $k.events.find($0L);
            var end = $k.events.find(to);
            $1k.drawLink($M, end, $2c);
        };
        $1k.drawLink = function($0L, to, $2c) {
            var $2d = $k.$cE($0L);
            var $2e = $k.$cE(to);
            if (!$2d) {
                return;
            };
            if (!$2e) {
                return;
            };
            var $Z = $2c.type || "FinishToStart";
            var $M, end;
            var $2f = $k.rowlist[$2d.event.part.dayIndex].top;
            var $2g = $k.rowlist[$2e.event.part.dayIndex].top;
            switch ($Z) {
                case "FinishToStart":
                    $M = {
                        x: $2d.event.part.right,
                        y: $2f + $2d.event.part.top
                    };
                    end = {
                        x: $2e.event.part.left,
                        y: $2g + $2e.event.part.top
                    };
                    if ($M.y > end.y) {
                        if ($M.x < end.x) {
                            end.y += $2e.event.part.height;
                            end.bottom = true;
                        } else {}
                    };
                    break;
                case "StartToFinish":
                    $M = {
                        x: $2d.event.part.left,
                        y: $2f + $2d.event.part.top
                    };
                    end = {
                        x: $2e.event.part.right,
                        y: $2g + $2e.event.part.top
                    };
                    break;
                case "StartToStart":
                    $M = {
                        x: $2d.event.part.left,
                        y: $2f + $2d.event.part.top
                    };
                    end = {
                        x: $2e.event.part.left,
                        y: $2g + $2e.event.part.top
                    };
                    break;
                case "FinishToFinish":
                    $M = {
                        x: $2d.event.part.right,
                        y: $2f + $2d.event.part.top
                    };
                    end = {
                        x: $2e.event.part.right,
                        y: $2g + $2e.event.part.top
                    };
                    break;
            };
            $1k.drawLinkXy($M, end, $2c);
        };
        $1k.clearShadow = function() {
            $k.divLinkShadow.innerHTML = '';
            $k.elements.linkshadow = [];
        };
        $1k.drawShadow = function($0L, to) {
            $1k.clearShadow();
            if (DayPilot.browser.ielt9) {
                $1k.drawShadowOldStyle($0L, to);
            } else {
                var parent = $k.divLinkShadow;
                var $0x = DayPilot.line($0L.x, $0L.y, to.x, to.y, true);
                parent.appendChild($0x);
                $k.elements.linkshadow.push($0x);
            }
        };
        $1k.drawShadowOldStyle = function($0L, to) {
            var nx = Math.min($0L.x, to.x);
            var $C = 2;
            var parent = $k.divLinkShadow;
            var $2h = "black";
            var h1 = DayPilot.Util.div(parent, nx, $0L.y, $0L.x - nx, $C);
            h1.style.backgroundColor = $2h;
            $k.elements.linkshadow.push(h1);
            var v1 = DayPilot.Util.div(parent, nx, $0L.y, $C, to.y - $0L.y);
            v1.style.backgroundColor = $2h;
            $k.elements.linkshadow.push(v1);
            var h3 = DayPilot.Util.div(parent, nx, to.y, to.x - nx, $C);
            h3.style.backgroundColor = $2h;
            $k.elements.linkshadow.push(h3);
            var a = DayPilot.Util.div(parent, to.x - 6, to.y - 5, 0, 0);
            a.style.borderColor = "transparent transparent transparent " + $2h;
            a.style.borderStyle = "solid";
            a.style.borderWidth = "6px";
            $k.elements.linkshadow.push(a);
        };
        $1k.drawLinkXy = function($0L, to, $2c) {
            var $2i = $k.eventHeight / 2;
            var $C = $2c.width || 1;
            var $Z = $2c.type || "FinishToStart";
            var $2h = $2c.color;
            var style = $2c.style;
            var $2j = $2c.layer || "Above";
            var $2k = $2j === "Above";
            var $2l = $2k ? $k.divLinksAbove: $k.divLinksBelow;
            var $T = $k.eventHeight;
            var $Y = $k.linkBottomMargin;
            var $2m = function($04, $2n) {
                if ($2h) {
                    $04.style["border" + $2n + "Color"] = $2h;
                };
                if (style) {
                    $04.style["border" + $2n + "Style"] = style;
                }
            };
            var $2o = [];
            var $2p = function($04, $2q) {
                $k.elements.links.push($04);
                $2r($04);
                $2s($04);
                $04.divs = $2o;
                if (!$2q) {
                    $2o.push($04);
                }
            };
            var $2s = function($04) {
                $04.oncontextmenu = function(ev) {
                    ev = ev || window.event;
                    if ($k.contextMenuLink) {
                        var link = new DayPilot.Link($2c, $k);
                        $k.contextMenuLink.show(link);
                    };
                    ev.cancelBubble = true;
                    ev.preventDefault ? ev.preventDefault() : null;
                }
            };
            var $2r = function($04) {
                $04.onmouseenter = function() {
                    DayPilot.Util.addClass($04.divs, $k.$bC("_link_hover"));
                };
                $04.onmouseleave = function() {
                    DayPilot.Util.removeClass($04.divs, $k.$bC("_link_hover"));
                };
            };
            if ($Z === "FinishToStart") {
                if ($0L.y > to.y || ($0L.y == to.y && to.bottom)) {
                    if ($0L.x < to.x) {
                        var $2t = $0L.x;
                        var $2u = $0L.y + $T - $Y;
                        var $2v = to.x + $2i;
                        var $2w = to.y;
                        var h1 = DayPilot.Util.div($2l, $2t, $2u, $2v - $0L.x, $C);
                        h1.style.boxSizing = "border-box";
                        h1.style.borderBottomWidth = $C + "px";
                        h1.className = $k.$bC("_link_horizontal");
                        DayPilot.Util.addClass(h1, $2c.cssClass);
                        $2m(h1, "Bottom");
                        $2p(h1);
                        var v1 = DayPilot.Util.div($2l, $2v, $2u, $C, $2w - $2u);
                        v1.style.boxSizing = "border-box";
                        v1.style.borderRightWidth = $C + "px";
                        v1.className = $k.$bC("_link_vertical");
                        DayPilot.Util.addClass(v1, $2c.cssClass);
                        $2m(v1, "Right");
                        $2p(v1);
                        var a;
                        if ($2h) {
                            a = DayPilot.Util.div($2l, $2v - 5 + Math.floor($C / 2), $2w - 5, 0, 0);
                            if ($0L.y < to.y) {
                                a.style.borderColor = $2h + " transparent transparent transparent";
                            } else {
                                a.style.borderColor = "transparent transparent " + $2h + " transparent";
                            };
                            a.style.borderStyle = "solid";
                            a.style.borderWidth = "5px";
                        } else {
                            a = DayPilot.Util.div($2l, $2v - 6 + Math.floor($C / 2), $2w - 6, 6, 6);
                            if ($0L.y < to.y) {
                                a.className = $k.$bC("_link_arrow_down");
                            } else {
                                a.className = $k.$bC("_link_arrow_up");
                            };
                            DayPilot.Util.addClass(a, $2c.cssClass);
                        };
                        $2p(a, true);
                    } else {
                        var $2x = 5;
                        var $2y = to.y + $T + $2x;
                        var h1 = DayPilot.Util.div($2l, $0L.x, $0L.y + $T - $Y, $2i + $C, $C);
                        h1.style.boxSizing = "border-box";
                        h1.style.borderBottomWidth = $C + "px";
                        h1.className = $k.$bC("_link_horizontal");
                        DayPilot.Util.addClass(h1, $2c.cssClass);
                        $2m(h1, "Bottom");
                        $2p(h1);
                        var v1 = DayPilot.Util.div($2l, $0L.x + $2i, $0L.y + $T - $Y, $C, $2y - ($0L.y + $T - $Y));
                        v1.style.boxSizing = "border-box";
                        v1.style.borderRightWidth = $C + "px";
                        v1.className = $k.$bC("_link_vertical");
                        DayPilot.Util.addClass(v1, $2c.cssClass);
                        $2m(v1, "Right");
                        $2p(v1);
                        var h2 = DayPilot.Util.div($2l, to.x - $2i, $2y, $0L.x + 2 * $2i + $C - to.x, $C);
                        h2.style.boxSizing = "border-box";
                        h2.style.borderBottomWidth = $C + "px";
                        h2.className = $k.$bC("_link_horizontal");
                        DayPilot.Util.addClass(h2, $2c.cssClass);
                        $2m(h2, "Bottom");
                        $2p(h2);
                        var v2 = DayPilot.Util.div($2l, to.x - $2i, $2y, $C, to.y - $2y + $T - $Y);
                        v2.style.boxSizing = "border-box";
                        v2.style.borderRightWidth = $C + "px";
                        v2.className = $k.$bC("_link_vertical");
                        DayPilot.Util.addClass(v2, $2c.cssClass);
                        $2m(v2, "Right");
                        $2p(v2);
                        var h3 = DayPilot.Util.div($2l, to.x - $2i, to.y + $T - $Y, $2i, $C);
                        h3.style.boxSizing = "border-box";
                        h3.style.borderBottomWidth = $C + "px";
                        h3.className = $k.$bC("_link_horizontal");
                        DayPilot.Util.addClass(h3, $2c.cssClass);
                        $2m(h3, "Bottom");
                        $2p(h3);
                        var a;
                        if ($2h) {
                            a = DayPilot.Util.div($2l, to.x - 6, to.y + $T - $Y - 5, 0, 0);
                            a.style.borderWidth = "6px";
                            a.style.borderColor = "transparent transparent transparent " + $2h;
                            a.style.borderStyle = "solid";
                        } else {
                            a = DayPilot.Util.div($2l, to.x - 6, to.y + $T - $Y - 5, 6, 6);
                            a.className = $k.$bC("_link_arrow_right");
                            DayPilot.Util.addClass(a, $2c.cssClass);
                        };
                        $2p(a, true);
                    }
                } else if ($0L.y === to.y) {
                    if ($0L.x < to.x) {
                        var $2t = $0L.x;
                        var $2u = $0L.y + $T - $Y;
                        var $2v = to.x;
                        var h1 = DayPilot.Util.div($2l, $2t, $2u, $2v - $0L.x, $C);
                        h1.style.boxSizing = "border-box";
                        h1.style.borderBottomWidth = $C + "px";
                        h1.className = $k.$bC("_link_horizontal");
                        DayPilot.Util.addClass(h1, $2c.cssClass);
                        $2m(h1, "Bottom");
                        $2p(h1);
                        var a;
                        if ($2h) {
                            a = DayPilot.Util.div($2l, to.x - 6, to.y + $T - $Y - 5, 0, 0);
                            a.style.borderWidth = "6px";
                            a.style.borderColor = "transparent transparent transparent " + $2h;
                            a.style.borderStyle = "solid";
                        } else {
                            a = DayPilot.Util.div($2l, to.x - 6, to.y + $T - $Y - 5, 6, 6);
                            a.className = $k.$bC("_link_arrow_right");
                            DayPilot.Util.addClass(a, $2c.cssClass);
                        };
                        $2p(a, true);
                    } else {
                        var $2x = 5;
                        var $2y = to.y + $T + $2x;
                        var h1 = DayPilot.Util.div($2l, $0L.x, $0L.y + $T - $Y, $2i + $C, $C);
                        h1.style.boxSizing = "border-box";
                        h1.style.borderBottomWidth = $C + "px";
                        h1.className = $k.$bC("_link_horizontal");
                        DayPilot.Util.addClass(h1, $2c.cssClass);
                        $2m(h1, "Bottom");
                        $2p(h1);
                        var v1 = DayPilot.Util.div($2l, $0L.x + $2i, $0L.y + $T - $Y, $C, $2y - ($0L.y + $T - $Y));
                        v1.style.boxSizing = "border-box";
                        v1.style.borderRightWidth = $C + "px";
                        v1.className = $k.$bC("_link_vertical");
                        DayPilot.Util.addClass(v1, $2c.cssClass);
                        $2m(v1, "Right");
                        $2p(v1);
                        var h2 = DayPilot.Util.div($2l, to.x - $2i, $2y, $0L.x + 2 * $2i + $C - to.x, $C);
                        h2.style.boxSizing = "border-box";
                        h2.style.borderBottomWidth = $C + "px";
                        h2.className = $k.$bC("_link_horizontal");
                        DayPilot.Util.addClass(h2, $2c.cssClass);
                        $2m(h2, "Bottom");
                        $2p(h2);
                        var v2 = DayPilot.Util.div($2l, to.x - $2i, $2y, $C, to.y - $2y + $T - $Y);
                        v2.style.boxSizing = "border-box";
                        v2.style.borderRightWidth = $C + "px";
                        v2.className = $k.$bC("_link_vertical");
                        DayPilot.Util.addClass(v2, $2c.cssClass);
                        $2m(v2, "Right");
                        $2p(v2);
                        var h3 = DayPilot.Util.div($2l, to.x - $2i, to.y + $T - $Y, $2i, $C);
                        h3.style.boxSizing = "border-box";
                        h3.style.borderBottomWidth = $C + "px";
                        h3.className = $k.$bC("_link_horizontal");
                        DayPilot.Util.addClass(h3, $2c.cssClass);
                        $2m(h3, "Bottom");
                        $2p(h3);
                        var a;
                        if ($2h) {
                            a = DayPilot.Util.div($2l, to.x - 6, to.y + $T - $Y - 5, 0, 0);
                            a.style.borderWidth = "6px";
                            a.style.borderColor = "transparent transparent transparent " + $2h;
                            a.style.borderStyle = "solid";
                        } else {
                            a = DayPilot.Util.div($2l, to.x - 6, to.y + $T - $Y - 5, 6, 6);
                            a.className = $k.$bC("_link_arrow_right");
                            DayPilot.Util.addClass(a, $2c.cssClass);
                        };
                        $2p(a, true);
                    }
                } else {
                    if ($0L.x > to.x) {
                        var $2k = 5;
                        var $2y = to.y - $2k;
                        var h1 = DayPilot.Util.div($2l, $0L.x, $0L.y + $T - $Y, $2i + $C, $C);
                        h1.style.boxSizing = "border-box";
                        h1.style.borderBottomWidth = $C + "px";
                        h1.className = $k.$bC("_link_horizontal");
                        DayPilot.Util.addClass(h1, $2c.cssClass);
                        $2m(h1, "Bottom");
                        $2p(h1);
                        var v1 = DayPilot.Util.div($2l, $0L.x + $2i, $0L.y + $T - $Y, $C, $2y - ($0L.y + $T - $Y));
                        v1.style.boxSizing = "border-box";
                        v1.style.borderRightWidth = $C + "px";
                        v1.className = $k.$bC("_link_vertical");
                        DayPilot.Util.addClass(v1, $2c.cssClass);
                        $2m(v1, "Right");
                        $2p(v1);
                        var h2 = DayPilot.Util.div($2l, to.x - $2i, $2y, $0L.x + 2 * $2i + $C - to.x, $C);
                        h2.style.boxSizing = "border-box";
                        h2.style.borderBottomWidth = $C + "px";
                        h2.className = $k.$bC("_link_horizontal");
                        DayPilot.Util.addClass(h2, $2c.cssClass);
                        $2m(h2, "Bottom");
                        $2p(h2);
                        var v2 = DayPilot.Util.div($2l, to.x - $2i, $2y, $C, to.y - $2y + $T - $Y);
                        v2.style.boxSizing = "border-box";
                        v2.style.borderRightWidth = $C + "px";
                        v2.className = $k.$bC("_link_vertical");
                        DayPilot.Util.addClass(v2, $2c.cssClass);
                        $2m(v2, "Right");
                        $2p(v2);
                        var h3 = DayPilot.Util.div($2l, to.x - $2i, to.y + $T - $Y, $2i, $C);
                        h3.style.boxSizing = "border-box";
                        h3.style.borderBottomWidth = $C + "px";
                        h3.className = $k.$bC("_link_horizontal");
                        DayPilot.Util.addClass(h3, $2c.cssClass);
                        $2m(h3, "Bottom");
                        $2p(h3);
                        var a;
                        if ($2h) {
                            a = DayPilot.Util.div($2l, to.x - 6, to.y + $T - $Y - 5, 0, 0);
                            a.style.borderWidth = "6px";
                            a.style.borderColor = "transparent transparent transparent " + $2h;
                            a.style.borderStyle = "solid";
                        } else {
                            a = DayPilot.Util.div($2l, to.x - 6, to.y + $T - $Y - 5, 6, 6);
                            a.className = $k.$bC("_link_arrow_right");
                            DayPilot.Util.addClass(a, $2c.cssClass);
                        };
                        $2p(a, true);
                    } else {
                        var $2t = $0L.x;
                        var $2u = $0L.y + $T - $Y;
                        var $2v = to.x + $2i;
                        var $2w = to.y;
                        var h1 = DayPilot.Util.div($2l, $2t, $2u, $2v - $0L.x, $C);
                        h1.style.boxSizing = "border-box";
                        h1.style.borderBottomWidth = $C + "px";
                        h1.className = $k.$bC("_link_horizontal");
                        DayPilot.Util.addClass(h1, $2c.cssClass);
                        $2m(h1, "Bottom");
                        $2p(h1);
                        var v1 = DayPilot.Util.div($2l, $2v, $2u, $C, $2w - $2u);
                        v1.style.boxSizing = "border-box";
                        v1.style.borderRightWidth = $C + "px";
                        v1.className = $k.$bC("_link_vertical");
                        DayPilot.Util.addClass(v1, $2c.cssClass);
                        $2m(v1, "Right");
                        $2p(v1);
                        var a;
                        if ($2h) {
                            a = DayPilot.Util.div($2l, $2v - 5 + Math.floor($C / 2), $2w - 5, 0, 0);
                            if ($0L.y < to.y) {
                                a.style.borderColor = $2h + " transparent transparent transparent";
                            } else {
                                a.style.borderColor = "transparent transparent " + $2h + "transparent";
                            };
                            a.style.borderStyle = "solid";
                            a.style.borderWidth = "5px";
                        } else {
                            a = DayPilot.Util.div($2l, $2v - 6 + Math.floor($C / 2), $2w - 6, 6, 6);
                            if ($0L.y < to.y) {
                                a.className = $k.$bC("_link_arrow_down");
                            } else {
                                a.className = $k.$bC("_link_arrow_up");
                            };
                            DayPilot.Util.addClass(a, $2c.cssClass);
                        };
                        $2p(a, true);
                    }
                }
            } else if ($Z === "StartToFinish") {
                var $2k = 5;
                var $2y = to.y - $2k;
                var h1 = DayPilot.Util.div($2l, to.x, to.y + $T - $Y, $2i + $C, $C);
                h1.style.boxSizing = "border-box";
                h1.style.borderBottomWidth = $C + "px";
                h1.className = $k.$bC("_link_horizontal");
                DayPilot.Util.addClass(h1, $2c.cssClass);
                $2m(h1, "Bottom");
                $2p(h1);
                var v1 = DayPilot.Util.div($2l, to.x + $2i, to.y + $T - $Y, $C, $2y - (to.y + $T - $Y) + 0);
                v1.style.boxSizing = "border-box";
                v1.style.borderRightWidth = $C + "px";
                v1.className = $k.$bC("_link_vertical");
                DayPilot.Util.addClass(v1, $2c.cssClass);
                $2m(v1, "Right");
                $2p(v1);
                var h2 = DayPilot.Util.div($2l, $0L.x - $2i, $2y, to.x + 2 * $2i + $C - $0L.x, $C);
                h2.style.boxSizing = "border-box";
                h2.style.borderBottomWidth = $C + "px";
                h2.className = $k.$bC("_link_horizontal");
                DayPilot.Util.addClass(h2, $2c.cssClass);
                $2m(h2, "Bottom");
                $2p(h2);
                var v2 = DayPilot.Util.div($2l, $0L.x - $2i, $2y, $C, $0L.y + $T - $Y - $2y + 0);
                v2.style.boxSizing = "border-box";
                v2.style.borderRightWidth = $C + "px";
                v2.className = $k.$bC("_link_vertical");
                DayPilot.Util.addClass(v2, $2c.cssClass);
                $2m(v2, "Right");
                $2p(v2);
                var h3 = DayPilot.Util.div($2l, $0L.x - $2i, $0L.y + $T - $Y, $2i, $C);
                h3.style.boxSizing = "border-box";
                h3.style.borderBottomWidth = $C + "px";
                h3.className = $k.$bC("_link_horizontal");
                DayPilot.Util.addClass(h3, $2c.cssClass);
                $2m(h3, "Bottom");
                $2p(h3);
                var a;
                if ($2h) {
                    a = DayPilot.Util.div($2l, to.x - 6, to.y + $T - $Y - 5, 0, 0);
                    a.style.borderColor = "transparent " + $2h + " transparent transparent";
                    a.style.borderStyle = "solid";
                    a.style.borderWidth = "6px";
                } else {
                    a = DayPilot.Util.div($2l, to.x - 6, to.y + $T - $Y - 5, 6, 6);
                    a.className = $k.$bC("_link_arrow_left");
                    DayPilot.Util.addClass(a, $2c.cssClass);
                };
                $2p(a, true);
            } else if ($Z === "StartToStart") {
                var nx = Math.min($0L.x, to.x) - $2i;
                var h1 = DayPilot.Util.div($2l, nx, $0L.y + $T - $Y, $0L.x - nx, $C);
                h1.style.boxSizing = "border-box";
                h1.style.borderBottomWidth = $C + "px";
                h1.className = $k.$bC("_link_horizontal");
                DayPilot.Util.addClass(h1, $2c.cssClass);
                $2m(h1, "Bottom");
                $2p(h1);
                var v1 = DayPilot.Util.div($2l, nx, $0L.y + $T - $Y, $C, to.y - $0L.y);
                v1.style.boxSizing = "border-box";
                v1.style.borderRightWidth = $C + "px";
                v1.className = $k.$bC("_link_vertical");
                DayPilot.Util.addClass(v1, $2c.cssClass);
                $2m(v1, "Right");
                $2p(v1);
                var h3 = DayPilot.Util.div($2l, nx, to.y + $T - $Y, to.x - nx, $C);
                h3.style.boxSizing = "border-box";
                h3.style.borderBottomWidth = $C + "px";
                h3.className = $k.$bC("_link_horizontal");
                DayPilot.Util.addClass(h3, $2c.cssClass);
                $2m(h3, "Bottom");
                $2p(h3);
                var a;
                if ($2h) {
                    a = DayPilot.Util.div($2l, to.x - 6, to.y + $T - $Y - 5, 0, 0);
                    a.style.borderColor = "transparent transparent transparent " + $2h;
                    a.style.borderStyle = "solid";
                    a.style.borderWidth = "6px";
                } else {
                    a = DayPilot.Util.div($2l, to.x - 6, to.y + $T - $Y - 5, 6, 6);
                    a.className = $k.$bC("_link_arrow_right");
                    DayPilot.Util.addClass(a, $2c.cssClass);
                };
                $2p(a, true);
            } else if ($Z === "FinishToFinish") {
                var fx = Math.max(to.x, $0L.x) + $2i;
                var h1 = DayPilot.Util.div($2l, $0L.x, $0L.y + $T - $Y, fx - $0L.x, $C);
                h1.style.boxSizing = "border-box";
                h1.style.borderBottomWidth = $C + "px";
                h1.className = $k.$bC("_link_horizontal");
                DayPilot.Util.addClass(h1, $2c.cssClass);
                $2m(h1, "Bottom");
                $2p(h1);
                var v1 = DayPilot.Util.div($2l, fx, $0L.y + $T - $Y, $C, to.y - $0L.y);
                v1.style.boxSizing = "border-box";
                v1.style.borderRightWidth = $C + "px";
                v1.className = $k.$bC("_link_vertical");
                DayPilot.Util.addClass(v1, $2c.cssClass);
                $2m(v1, "Right");
                $2p(v1);
                var h3 = DayPilot.Util.div($2l, to.x, to.y + $T - $Y, fx - to.x, $C);
                h3.style.boxSizing = "border-box";
                h3.style.borderBottomWidth = $C + "px";
                h3.className = $k.$bC("_link_horizontal");
                DayPilot.Util.addClass(h3, $2c.cssClass);
                $2m(h3, "Bottom");
                $2p(h3);
                var a;
                if ($2h) {
                    a = DayPilot.Util.div($2l, to.x - 6, to.y + $T - $Y - 5, 0, 0);
                    a.style.borderColor = "transparent " + $2h + " transparent transparent";
                    a.style.borderStyle = "solid";
                    a.style.borderWidth = "6px";
                } else {
                    a = DayPilot.Util.div($2l, to.x - 6, to.y + $T - $Y - 5, 6, 6);
                    a.className = $k.$bC("_link_arrow_left");
                    DayPilot.Util.addClass(a, $2c.cssClass);
                };
                $2p(a, true);
            }
        };
        this.$dU = function($n, $s) {
            var $0Y = {};
            $0Y.from = $n.from;
            $0Y.to = $n.to;
            $0Y.type = $n.type;
            $k.$c9("LinkCreate", $0Y, $s);
        };
        this.$dW = function($n, $s) {
            var $0Y = {};
            $0Y.from = $n.from;
            $0Y.to = $n.to;
            $0Y.type = $n.type;
            $k.$c9("LinkCreate", $0Y, $s, "Notify");
        };
        this.$dV = function($n, $s) {
            var $0Y = {};
            $0Y.from = $n.from;
            $0Y.to = $n.to;
            $0Y.type = $n.type;
            $k.$c8("LinkCreate", $0Y, $s);
        };
        this.$dX = function(i) {
            var top = 0;
            var $Y = 0;
            var $1B = 0;
            if (i > this.rowlist.length - 1) {
                throw "Row index too high (DayPilotScheduler._getRowByIndex)";
            };
            for (var j = 0; j <= i; j++) {
                var $z = this.rowlist[j];
                if ($z.hidden) {
                    continue;
                };
                $Y += $z.height;
                $1B++;
            };
            top = $Y - $z.height;
            var $l = {};
            $l.top = top;
            $l.height = $z.height;
            $l.bottom = $Y;
            $l.i = $1B - 1;
            $l.data = $z;
            return $l;
        };
        this.$dY = function() {
            if (this.backendUrl) {
                return (typeof $k.events.list === 'undefined') || (!$k.events.list);
            } else {
                return false;
            }
        };
        this.events.find = function(id) {
            if (!$k.events.list || typeof $k.events.list.length === 'undefined') {
                return null;
            };
            var $2z = $k.events.list.length;
            for (var i = 0; i < $2z; i++) {
                if ($k.events.list[i].id === id) {
                    return new DayPilot.Event($k.events.list[i], $k);
                }
            };
            return null;
        };
        this.events.all = function() {
            var $00 = [];
            for (var i = 0; i < $k.events.list.length; i++) {
                var e = new DayPilot.Event($k.events.list[i], $k);
                $00.push(e);
            };
            return DayPilot.list($00);
        };
        this.events.filter = function($n) {
            $k.events.$dZ = $n;
            $k.$cx({
                "eventsOnly": true
            });
        };
        this.events.edit = function(e) {
            var $04 = $k.$cE(e);
            if (!$04 && !DayPilot.list($k.events.$e0.rows).isEmpty()) {
                setTimeout(function() {
                    $k.$cc($k.$cE(e));
                });
                return;
            };
            $k.$cc($04);
        };
        this.events.load = function($2A, $2B, $2C) {
            var $2D = function($n) {
                var $2E = {};
                $2E.exception = $n.exception;
                $2E.request = $n.request;
                if (typeof $2C === 'function') {
                    $2C($2E);
                }
            };
            var $2F = function($n) {
                var r = $n.request;
                var $s;
                try {
                    $s = DayPilot.Util.parseJSON(r.responseText);
                } catch(e) {
                    var $2G = {};
                    $2G.exception = e;
                    $2D($2G);
                    return;
                };
                if (DayPilot.isArray($s)) {
                    var $2H = {};
                    $2H.preventDefault = function() {
                        this.preventDefault.value = true;
                    };
                    $2H.data = $s;
                    if (typeof $2B === "function") {
                        $2B($2H);
                    };
                    if ($2H.preventDefault.value) {
                        return;
                    };
                    $k.events.list = $s;
                    if ($k.$cS) {
                        $k.update();
                    }
                }
            };
            DayPilot.ajax({
                "method": "POST",
                "contentType": "application/json",
                "data": {
                    "start": $k.visibleStart().toString(),
                    "end": $k.visibleEnd().toString()
                },
                "url": $2A,
                "success": $2F,
                "error": $2D
            });
        };
        this.events.findRecurrent = function($2I, $0K) {
            if (!$k.events.list || typeof $k.events.list.length === 'undefined') {
                return null;
            };
            var $2z = $k.events.list.length;
            for (var i = 0; i < $2z; i++) {
                if ($k.events.list[i].recurrentMasterId === $2I && $k.events.list[i].start.getTime() === $0K.getTime()) {
                    return new DayPilot.Event($k.events.list[i], $k);
                }
            };
            return null;
        };
        this.events.$cq = function($s) {
            var $1d = [];
            for (var i = 0; i < $k.rowlist.length; i++) {
                var $z = $k.rowlist[i];
                if ($z.isNewRow) {
                    continue;
                };
                $k.$bU(i);
                for (var r = 0; r < $z.events.length; r++) {
                    if ($z.events[r].data === $s || $z.events[r].data.id == $s.id) {
                        $1d.push(i);
                        $z.events.splice(r, 1);
                        break;
                    }
                }
            };
            return $1d;
        };
        this.events.$e1 = function($s) {
            for (var i = 0; i < $k.rowlist.length; i++) {
                var $z = $k.rowlist[i];
                if ($z.isNewRow) {
                    continue;
                };
                $k.$bU(i);
                for (var r = 0; r < $z.events.length; r++) {
                    if ($z.events[r].data === $s) {
                        return $z.events[r];
                    }
                }
            };
            return null;
        };
        this.events.$cr = function($s) {
            var $1d = [];
            var $2J = $k.$e2() || $k.viewType === "Days";
            var $1B = DayPilot.indexOf($k.events.list, $s);
            $k.$e3($1B);
            for (var i = 0; i < $k.rowlist.length; i++) {
                var $z = $k.rowlist[i];
                if ($z.isNewRow) {
                    continue;
                };
                $k.$bU(i);
                var ep = $k.$e4($s, $z);
                if (ep) {
                    if (typeof $k.onBeforeEventRender === 'function') {
                        ep.cache = $k.$aN.events[$1B];
                    };
                    $1d.push(i);
                    if (!$2J) {
                        break;
                    }
                }
            };
            return $1d;
        };
        this.events.update = function(e, $s, $j) {
            var $0Y = {};
            $0Y.oldEvent = new DayPilot.Event(e.copy(), $k);
            $0Y.newEvent = new DayPilot.Event(e.temp(), $k);
            var $j = $j || {};
            var $1c = new DayPilot.Action($k, "EventUpdate", $0Y, $s);
            var $2K = DayPilot.list($k.events.list).find(function($02) {
                var $s = $02 instanceof DayPilot.Event ? $02.data: $02;
                return $s === e.data || $s.id == e.data.id;
            });
            if (!$2K) {
                return;
            };
            if ($k.$e5.scope) {
                $k.$e5.notify(function() {
                    e.commit();
                });
            } else {
                $k.$bn.skip = true;
                var $2L = $k.eventUpdateInplaceOptimization || $j.inplace;
                if ($2L && $0Y.oldEvent.resource() === $0Y.newEvent.resource() && $0Y.oldEvent.start() === $0Y.newEvent.start() && $0Y.oldEvent.end() === $0Y.newEvent.end()) {
                    e.commit();
                    var $04 = $k.$cE(e);
                    if ($04) {
                        var $2M = $04.event.part;
                        $k.$e6($04);
                        DayPilot.rfa($k.elements.events, $04);
                        e.part = $2M;
                    } else {};
                    $k.events.$cq(e.data);
                    var $1d = $k.events.$cr(e.data);
                    $k.$cs($1d);
                    var ue = $k.events.$e1(e.data);
                    ue && $k.$e7(ue);
                } else {
                    var $1d = $k.events.$cq(e.data);
                    e.commit();
                    $1d = $1d.concat($k.events.$cr(e.data));
                    $k.events.$e8($1d);
                }
            };
            return $1c;
        };
        this.events.remove = function(e, $s) {
            var $0Y = {};
            $0Y.e = new DayPilot.Event(e.data, $k);
            var $1c = new DayPilot.Action($k, "EventRemove", $0Y, $s);
            var $1B = DayPilot.indexOf($k.events.list, e.data);
            if ($1B >= 0) {
                $k.events.list.splice($1B, 1);
            };
            if ($k.$e5.scope) {
                $k.$e5.notify();
            } else {
                $k.$bn.skip = true;
                var $1d = $k.events.$cq(e.data);
                $k.events.$e8($1d);
            };
            return $1c;
        };
        this.events.add = function(e, $s) {
            e.calendar = $k;
            if (!$k.events.list) {
                $k.events.list = [];
            };
            var $2K = DayPilot.list($k.events.list).find(function($02) {
                var $s = $02 instanceof DayPilot.Event ? $02.data: $02;
                return $s === e.data || $s.id == e.data.id;
            });
            if (!$2K) {
                $k.events.list.push(e.data);
            };
            var $1c = new DayPilot.Action($k, "EventAdd", $0Y, $s);
            if (!$k.$cS) {
                return $1c;
            };
            if ($k.$e5.scope) {
                $k.$e5.notify();
            } else {
                $k.$bn.skip = true;
                var $0Y = {};
                $0Y.e = e;
                var $1d = $k.events.$cr(e.data);
                $k.events.$e8($1d);
            };
            return $1c;
        };
        this.events.$e0 = {
            "rows": []
        };
        this.events.$e9 = null;
        this.events.$cM = function() {
            clearTimeout($k.events.$e9);
            $k.events.$e0.rows = [];
        };
        this.events.$e8 = function($1d) {
            clearTimeout($k.events.$e9);
            var $2b = $k.events.$e0.rows;
            DayPilot.list($1d).each(function($z) {
                $2b.push($z);
            });
            $k.events.$e0.rows = DayPilot.ua($2b);
            var $14 = $k.events.immediateRefresh;
            $k.events.$e9 = setTimeout($14, 0);
        };
        this.events.immediateRefresh = function() {
            clearTimeout($k.events.$e9);
            var $1d = $k.events.$e0.rows;
            $k.events.$e0.rows = [];
            $k.$cs($1d);
            $k.$ct();
            if ($k.$cS) {
                if ($k.viewType === "Gantt") {
                    $k.update();
                } else {
                    $k.$cu($1d);
                    $k.$b8();
                    $k.$ea();
                }
            }
        };
        this.$bn = {};
        this.$bn.enabled = false;
        this.$bn.skip = false;
        this.$bn.skipUpdate = function() {
            return $k.$bn.skip;
        };
        this.$bn.skipped = function() {
            $k.$bn.skip = false;
        };
        this.queue = {};
        this.queue.list = [];
        this.queue.list.ignoreToJSON = true;
        this.queue.add = function($1c) {
            if (!$1c) {
                return;
            };
            if ($1c.isAction) {
                $k.queue.list.push($1c);
            } else {
                throw "DayPilot.Action object required for queue.add()";
            }
        };
        this.queue.notify = function($s) {
            var $0Y = {};
            $0Y.actions = $k.queue.list;
            $k.$c9('Notify', $0Y, $s, "Notify");
            $k.queue.list = [];
        };
        this.queue.clear = function() {
            $k.queue.list = [];
        };
        this.queue.pop = function() {
            return $k.queue.list.pop();
        };
        this.cells.find = function($M, $1s) {
            var $A = $k.getPixels(new DayPilot.Date($M));
            if (!$A) {
                return $2N();
            };
            var x = $A.i;
            var $z = $k.$bt($1s);
            if (!$z) {
                return $2N();
            };
            var y = $z.index;
            return this.findXy(x, y);
        };
        this.cells.findByPixels = function(x, y) {
            var $0J = $k.$c2(x);
            if (!$0J) {
                return $2N();
            };
            var x = $0J.x;
            var $z = $k.$dI(y);
            if (!$z) {
                return $2N();
            };
            var y = $z.i;
            return this.findXy(x, y);
        };
        this.cells.all = function() {
            var $00 = [];
            var $1Q = $k.itline.length;
            var $2O = $k.rowlist.length;
            for (var x = 0; x < $1Q; x++) {
                for (var y = 0; y < $2O; y++) {
                    var $R = $k.cells.findXy(x, y);
                    $00.push($R[0]);
                }
            };
            return $2N($00);
        };
        this.cells.$eb = function(x, y) {
            var $0J = $k.$cb(x);
            var $z = $k.rowlist[y];
            var $1x = $z.start.getTime() - $k.$bT().getTime();
            var $M = $0J.start.addTime($1x);
            var end = $0J.end.addTime($1x);
            var $R = {};
            $R.x = x;
            $R.y = y;
            $R.i = x + "_" + y;
            if (!$z.id) {};
            $R.resource = $z.id;
            $R.start = $0J.start;
            $R.end = $0J.end;
            $R.calendar = $k;
            $R.isParent = $z.children && $z.children.length;
            $R.update = function() {
                if (!$k.rowlist[$R.y].hidden) {
                    var $1e = $k.$aN.cells[$R.i];
                    $k.$ec($1e);
                    var $L = $k.$bv();
                    if ($L.xStart <= $R.x && $R.x <= $L.xEnd) {
                        if ($L.yStart <= $R.y && $R.y <= $L.yEnd) {
                            $k.$ed($R.x, $R.y);
                        }
                    }
                }
            };
            $R.utilization = function(name) {
                if (!$z.sections) {
                    $z.calculateUtilization();
                };
                return $z.sections.forRange($M, end).maxSum(name);
            };
            $R.events = function() {
                return $z.events.forRange($M, end);
            };
            $R.div = $k.$aN.cells[$R.i];
            var p = $k.$ee(x, y);
            $R.properties = p;
            return $R;
        };
        this.cells.findXy = function(x, y) {
            if (DayPilot.isArray(x)) {
                var $O = [];
                for (var i = 0; i < x.length; i++) {
                    var o = x[i];
                    $O.push($k.cells.$eb(o.x, o.y));
                };
                return $2N($O);
            } else if (x === null || y === null) {
                return $2N();
            };
            var $R = $k.cells.$eb(x, y);
            return $2N($R);
        };
        var $2P = function(a) {
            var $00 = DayPilot.list();
            if (DayPilot.isArray(a)) {
                for (var i = 0; i < a.length; i++) {
                    $00.push(a[i]);
                }
            } else if (typeof a === 'object') {
                $00.push(a);
            };
            return $00;
        };
        this.$ef = function(a) {
            var $00 = DayPilot.list();
            if (DayPilot.isArray(a)) {
                for (var i = 0; i < a.length; i++) {
                    $00.push(a[i]);
                }
            } else if (typeof a === 'object') {
                $00.push(a);
            };
            $00.cssClass = function($2Q) {
                this.each(function($02) {
                    $02.properties.cssClass = DayPilot.Util.addClassToString($02.properties.cssClass, $2Q);
                    $02.update();
                });
                return this;
            };
            $00.removeClass = function($2Q) {
                this.each(function($02) {
                    $02.properties.cssClass = DayPilot.Util.removeClassFromString($02.properties.cssClass, $2Q);
                    $02.update();
                });
                return this;
            };
            $00.addClass = $00.cssClass;
            $00.html = function($0b) {
                this.each(function($02) {
                    $02.properties.html = $0b;
                    $02.update();
                });
                return this;
            };
            $00.invalidate = function() {
                this.each(function($02) {
                    delete $k.$cL[$02.i];
                });
                return this;
            };
            return $00;
        };
        var $2N = this.$ef;
        this.$e5 = {};
        this.$e5.scope = null;
        this.$e5.notify = function(f) {
            if ($k.$e5.scope) {
                DayPilot.Util.safeApply($k.$e5.scope, f);
            }
        };
        this.debug = new DayPilot.Debug(this);
        this.$eg = function($w) {
            if ($k.viewType !== 'Days') {
                throw "Checking row start when viewType !== 'Days'";
            };
            for (var i = 0; i < $k.rowlist.length; i++) {
                var $z = $k.rowlist[i];
                var $s = $z.element ? $z.element.data: $z.data;
                var $M = $s.start;
                if ($w.getTime() >= $M.getTime() && $w.getTime() < $M.addDays(1).getTime()) {
                    return $M;
                }
            };
            return null;
        };
        this.$eh = function($w) {
            var $M = $k.$bT();
            if ($w.ticks === $M.ticks) {
                return $w;
            };
            var $0C = $M;
            if ($w.ticks < $M.ticks) {
                var $2R = this.itline[0].end.ticks - this.itline[0].start.ticks;
                while ($0C.ticks > $w.ticks) {
                    $0C = $0C.addTime( - $2R);
                };
                return $0C;
            };
            if ($k.viewType === 'Days') {
                var $2S = this.$eg($w);
                var $0F = $2S.getTime() - $k.$bT().getTime();
                var $R = this.$c4($w.addTime( - $0F));
                if ($R.current) {
                    return $R.current.start.addTime($0F);
                };
                if ($R.past) {
                    return $R.previous.end.addTime($0F);
                };
                throw "getBoxStart(): time not found";
            } else {
                var $R = this.$c4($w);
                if ($R.current) {
                    return $R.current.start;
                };
                if ($R.past) {
                    return $R.previous.end;
                };
                if ($R.hidden) {
                    var $J = $R.next.start.getTime() - $w.getTime();
                    var $2T = $R.next.end.getTime() - $R.next.start.getTime();
                    var $2U = Math.ceil($J / $2T) * $2T;
                    var $l = $R.next.start.addTime( - $2U);
                    return $l;
                };
                throw "getBoxStart(): time not found";
            }
        };
        this.$ei = function($21) {
            var $z = this.$dI($k.coords.y);
            var e = $21.event;
            if (typeof e.end !== 'function') {
                throw "e.end function is not defined";
            };
            if (!e.end()) {
                throw "e.end() returns null";
            };
            var $0P = DayPilot.DateUtil.diff(e.rawend(), e.start());
            $0P = Math.max($0P, 1);
            var $2V = $0d.useBox($0P);
            var $2W = e.data && e.data.type === "Milestone";
            var $2X = $k.eventHeight;
            var $2Y = 0;
            var x = $k.coords.x;
            if ($2W) {
                x += $2X / 2;
            };
            if ($k.scale === "Manual") {
                var $2Z = (function() {
                    var end = $k.getDate($k.coords.x, true, true);
                    var $M = end.addTime( - $0P);
                    var $30 = $k.getPixels($M).boxLeft;
                    var $31 = $k.getPixels(end).boxRight;
                    var end = Math.min($31, $k.coords.x);
                    return end - $30;
                })();
                var $0F = Math.min(DayPilotScheduler.moveOffsetX ? DayPilotScheduler.moveOffsetX: 0, $2Z);
                x = $k.coords.x - $0F;
            };
            var $1x = 0;
            var $32 = this.viewType === 'Days' || this.$ej();
            if ($32 && !e.part.external) {
                $1x = this.rowlist[e.part.dayIndex].start.getTime() - this.$bT().getTime();
            };
            if ($2V && !$2W) {
                var $R = $k.$c4(e.start());
                var $33 = !$R.hidden && !$R.past;
                $2Y = e.start().getTime() - this.$eh(e.start().addTime( - $1x)).addTime($1x).getTime();
                if ($33) {
                    $2Y = (function($34, $0F) {
                        var $35 = $k.$ek($k.$c4($34).current);
                        var $36 = $k.$ek($k.$c2(x).cell);
                        if ($35 > $36 * 1.2) {
                            var $37 = $0F > 0 ? 1 : -1;
                            var $0F = Math.abs($0F);
                            while ($0F >= $36) {
                                $0F -= $36;
                            };
                            $0F *= $37;
                        };
                        return $0F;
                    })(e.start(), $2Y);
                }
            };
            var $38 = DayPilotScheduler.moving ? DayPilotScheduler.moving.event.calendar: $k;
            if ($38 !== $k) {
                if ($38.$el() !== $k.$el()) {
                    $2Y = 0;
                }
            };
            var $39 = 0;
            if (DayPilotScheduler.moveDragStart && $k.scale !== "Manual" && $38 === $k) {
                if ($2V) {
                    var $3a = e.start().addTime( - $1x);
                    var $3b = this.$eh($3a);
                    if ($k.eventMoveSkipNonBusiness) {
                        var $3c = $k.$em($3b, $z.i);
                        if (!$3c) {
                            throw new DayPilot.Exception("No next cell found");
                        };
                        if ($3c.start > $3b) {
                            $3b = $3c.start;
                        }
                    };
                    $39 = DayPilotScheduler.moveDragStart.getTime() - $3b.getTime();
                    if ($k.eventMoveSkipNonBusiness) {
                        var $3d = $k.$en($3b, DayPilotScheduler.moveDragStart);
                        $39 -= $3d;
                    };
                    var $3e = $k.$el() * 60 * 1000;
                    $39 = Math.floor($39 / $3e) * $3e;
                } else {
                    $39 = DayPilotScheduler.moveDragStart.getTime() - e.start().addTime( - $1x).getTime();
                    if ($k.eventMoveSkipNonBusiness) {
                        var $3d = $k.$en(e.start().addTime( - $1x), DayPilotScheduler.moveDragStart);
                        $39 -= $3d;
                    }
                };
                if ($k.eventMoveSkipNonBusiness) {
                    var $3f = $k.getDate($k.coords.x, true);
                    $39 = $k.$eo($3f, $39, $z.i);
                }
            } else {
                $39 = 0;
            };
            if (this.eventMoveToPosition) {
                $39 = 0;
            };
            var $M = this.getDate(x, true).addTime( - $39).addTime($1x);
            if (DayPilotScheduler.resizing) {
                $M = e.start();
            };
            if (this.snapToGrid) {
                $M = this.$eh($M.addTime( - $1x)).addTime($1x);
            };
            $M = $M.addTime($2Y);
            var end = $M.addTime($0P);
            var $3g = $M;
            var $3h = end;
            if ($32) {
                $3g = $M.addTime( - $1x);
                $3h = $3g.addTime($0P);
                var $3i = $z.element.data.start.getTime() - this.$bT().getTime();
                $M = $3g.addTime($3i);
                end = $M.addTime($0P);
            }; (function adjustForSmartMove() {
                if (!$k.eventMoveSkipNonBusiness) {
                    return;
                };
                var y = $z.i;
                var $3j = $k.$ep(e);
                var $0P = $3j;
                var $3c = $k.$em($3g, y);
                if (!$3c) {
                    throw new DayPilot.Exception("No next cell found");
                };
                var x = DayPilot.indexOf($k.itline, $3c);
                if ($3c.start > $M) {
                    $M = $3c.start;
                } else {
                    $3j -= $3c.end.getTime() - $3g.getTime();
                    if ($3j <= 0) {
                        end = $M.addTime($0P);
                        $3h = end.addTime( - $1x);
                        return;
                    };
                    x += 1;
                };
                $3g = $M.addTime( - $1x);
                for (var i = x; i < $k.itline.length; i++) {
                    var $R = $k.$ee(i, y);
                    if ($R.business) {
                        var $0J = $k.itline[i];
                        var $3k = $0J.start.addTime($1x);
                        var $3l = $0J.end.addTime($1x);
                        var $3m = $3l.getTime() - $3k.getTime();
                        if ($3j <= $3m) {
                            end = $3k.addTime($3j);
                            $3h = end.addTime( - $1x);
                            return;
                        };
                        $3j -= $3m;
                    }
                };
                end = $3k.addTime($3j);
                $3h = end.addTime( - $1x);
            })();
            var $3n = this.getPixels($3g);
            var $3o = this.getPixels($3h);
            var $P = ($2V) ? $3n.boxLeft: $3n.left;
            var $C = ($2V) ? ($3o.boxRight - $P) : ($3o.left - $P);
            if ($2W) {
                $C = $2X;
                $P -= $C / 2;
            };
            var $23 = {};
            $23.top = $z.top;
            $23.left = $P;
            $23.row = $z.element;
            $23.rowIndex = $z.i;
            $23.width = $C;
            $23.start = $M;
            $23.end = end;
            $23.relativeY = $k.coords.y - $z.top;
            return $23;
        };
        this.$dR = function($21) {
            var $z = this.$dI($k.coords.y);
            var e = $21.event;
            if (typeof e.end !== 'function') {
                throw "e.end function is not defined";
            };
            if (!e.end()) {
                throw "e.end() returns null";
            };
            var $0P = DayPilot.DateUtil.diff(e.rawend(), e.start());
            $0P = Math.max($0P, 1);
            var $2V = $0d.useBox($0P);
            var $2W = e.data && e.data.type === "Milestone";
            var $2X = $k.eventHeight;
            var $2Y = 0;
            var x = $k.coords.x;
            if ($2W) {
                x += $2X / 2;
            };
            if ($k.scale === "Manual") {
                var $2Z = (function() {
                    var end = $k.getDate($k.coords.x, true, true);
                    var $M = end.addTime( - $0P);
                    var $30 = $k.getPixels($M).boxLeft;
                    var $31 = $k.getPixels(end).boxRight;
                    var end = Math.min($31, $k.coords.x);
                    return end - $30;
                })();
                var $0F = Math.min(DayPilotScheduler.moveOffsetX ? DayPilotScheduler.moveOffsetX: 0, $2Z);
                x = $k.coords.x - $0F;
            };
            var $1x = 0;
            var $32 = this.viewType === 'Days' || this.$ej();
            if ($32 && !e.part.external) {
                $1x = this.rowlist[e.part.dayIndex].start.getTime() - this.$bT().getTime();
            };
            if ($2V && !$2W) {
                var $R = $k.$c4(e.start());
                var $33 = !$R.hidden && !$R.past;
                $2Y = e.start().getTime() - this.$eh(e.start().addTime( - $1x)).addTime($1x).getTime();
                if ($33) {
                    $2Y = (function($34, $0F) {
                        var $35 = $k.$ek($k.$c4($34).current);
                        var $36 = $k.$ek($k.$c2(x).cell);
                        if ($35 > $36 * 1.2) {
                            var $37 = $0F > 0 ? 1 : -1;
                            var $0F = Math.abs($0F);
                            while ($0F >= $36) {
                                $0F -= $36;
                            };
                            $0F *= $37;
                        };
                        return $0F;
                    })(e.start(), $2Y);
                }
            };
            var $38 = DayPilotScheduler.moving ? DayPilotScheduler.moving.event.calendar: $k;
            if ($38 !== $k) {
                if ($38.$el() !== $k.$el()) {
                    $2Y = 0;
                }
            };
            var $39 = 0;
            if (DayPilotScheduler.moveDragStart && $k.scale !== "Manual" && $38 === $k) {
                if ($2V) {
                    var $3a = e.start().addTime( - $1x);
                    var $3b = this.$eh($3a);
                    $39 = DayPilotScheduler.moveDragStart.getTime() - $3b.getTime();
                    var $3e = $k.$el() * 60 * 1000;
                    $39 = Math.floor($39 / $3e) * $3e;
                } else {
                    $39 = DayPilotScheduler.moveDragStart.getTime() - e.start().addTime( - $1x).getTime();
                }
            } else {
                $39 = 0;
            };
            if (this.eventMoveToPosition) {
                $39 = 0;
            };
            var $M = this.getDate(x, true).addTime( - $39).addTime($1x);
            if (DayPilotScheduler.resizing) {
                $M = e.start();
            };
            if (this.snapToGrid) {
                $M = this.$eh($M.addTime( - $1x)).addTime($1x);
            };
            $M = $M.addTime($2Y);
            var end = $M.addTime($0P);
            var $3g = $M;
            var $3h = end;
            if ($32) {
                $3g = $M.addTime( - $1x);
                $3h = $3g.addTime($0P);
                var $3i = $z.element.data.start.getTime() - this.$bT().getTime();
                $M = $3g.addTime($3i);
                end = $M.addTime($0P);
            };
            if (DayPilotScheduler.moveDragStart && $k.eventMoveSkipNonBusiness) {
                var y = $z.i;
                var $29 = DayPilotScheduler.moveDragStart.addTime($1x);
                if (this.snapToGrid) {
                    $29 = this.$eh($29.addTime( - $1x)).addTime($1x);
                };
                var $3p = $k.$eq(e.start(), $29, e.part.dayIndex);
                var $0P = $k.$ep(e);
                var $3q = $k.getDate(x, true);
                if ($k.snapToGrid) {
                    $3q = $k.getDate(x);
                };
                var $0F = $k.$er($3q, $3p, y);
                $M = $3q.addTime( - $0F).addTime($1x);
                if (this.snapToGrid) {
                    $M = this.$eh($M.addTime( - $1x)).addTime($1x);
                };
                $2Y = $k.$eq(this.$eh(e.start().addTime( - $1x)).addTime($1x), e.start(), y);
                $M = $M.addTime($2Y);
                end = $k.$es($M, $0P, y);
                $3g = $M.addTime( - $1x);
                $3h = end.addTime( - $1x);
            };
            var $3n = this.getPixels($3g);
            var $3o = this.getPixels($3h);
            var $P = ($2V) ? $3n.boxLeft: $3n.left;
            var $C = ($2V) ? ($3o.boxRight - $P) : ($3o.left - $P);
            if ($2W) {
                $C = $2X;
                $P -= $C / 2;
            };
            var $23 = {};
            $23.top = $z.top;
            $23.left = $P;
            $23.row = $z.element;
            $23.rowIndex = $z.i;
            $23.width = $C;
            $23.start = $M;
            $23.end = end;
            $23.relativeY = $k.coords.y - $z.top;
            return $23;
        };
        this.$en = function($M, end) {
            var $U = $k.$c4($M);
            var $V = $k.$c4(end);
            var $3r = null;
            var $3s = 0;
            if ($U.hidden) {
                $3r = $M;
            };
            for (var x = $U.i; x <= $V.i; x++) {
                var $R = $k.itline[x];
                if ($3r && $3r < $R.start) {
                    $3s += $R.start.getTime() - $3r.getTime();
                };
                $3r = $R.end;
            };
            return $3s;
        };
        this.$es = function($M, $0P, y) {
            var $3j = $0P;
            var $z = $k.rowlist[y];
            var $1x = $z.data.start.getTime() - $k.$bT().getTime();
            var $3g = $M.addTime( - $1x);
            var $3c = $k.$em($3g, y);
            if (!$3c) {
                throw new DayPilot.Exception("No next cell found");
            };
            var x = DayPilot.indexOf($k.itline, $3c);
            if ($3c.start > $M) {} else {
                $3j -= $3c.end.getTime() - $3g.getTime();
                if ($3j <= 0) {
                    return $M.addTime($0P);
                };
                x += 1;
            };
            for (var i = x; i < $k.itline.length; i++) {
                var $R = $k.$ee(i, y);
                if ($R.business) {
                    var $0J = $k.itline[i];
                    var $3k = $0J.start.addTime($1x);
                    var $3l = $0J.end.addTime($1x);
                    var $3m = $3l.getTime() - $3k.getTime();
                    if ($3j <= $3m) {
                        return $3k.addTime($3j);
                    };
                    $3j -= $3m;
                }
            };
            return $3k.addTime($3j);
        };
        this.$eq = function($M, end, y) {
            var $z = $k.rowlist[y];
            var $1x = $z.data.start.getTime() - $k.$bT().getTime();
            var $R = $k.$c4($M);
            var $3g = $M.addTime( - $1x);
            var $3h = end.addTime( - $1x);
            var $3c = $k.$em($3g, y);
            if (!$3c) {
                throw new DayPilot.Exception("No next cell found");
            };
            var $0P = 0;
            var x = DayPilot.indexOf($k.itline, $3c);
            if ($3c.start <= $3h) {
                if (end < $3c.end.addTime($1x)) {
                    if ($3c.start > $3g) {
                        return end.getTime() - $3c.start.addTime($1x).getTime();
                    } else {
                        return end.getTime() - $M.getTime();
                    }
                };
                if ($3g > $3c.start) {
                    $0P += $3c.end.getTime() - $3g.getTime();
                } else {
                    $0P += $3c.end.getTime() - $3c.start.getTime();
                };
                x += 1;
            };
            for (var i = x; i < $k.itline.length; i++) {
                var $R = $k.$ee(i, y);
                if ($R.business) {
                    var $0J = $k.itline[i];
                    var $3k = $0J.start.addTime($1x);
                    var $3l = $0J.end.addTime($1x);
                    var $3m = $3l.getTime() - $3k.getTime();
                    if (end < $3k) {
                        return $0P;
                    };
                    if (end < $3l) {
                        $0P += end.getTime() - $3k.getTime();
                        return $0P;
                    };
                    $0P += $3m;
                }
            };
            var $3t = end - $k.itline.last().end.addTime($1x);
            $0P += Math.min(0, $3t);
            return $0P;
        };
        this.$ep = function(e) {
            var y = e.part.dayIndex;
            return $k.$eq(e.start(), e.rawend(), y);
        };
        this.$eo = function($M, $0F, y) {
            var $l = 0;
            var $3j = $0F;
            var $R = $k.$c4($M);
            if (!$R.current) {
                throw new DayPilot.Exception("Current cell not found.");
            };
            if ($M.addTime( - $0F) > $R.current.start) {
                return $0F;
            };
            $l += $M.getTime() - $R.current.start.getTime();
            $3j -= $M.getTime() - $R.current.start.getTime();
            var x = DayPilot.indexOf($k.itline, $R.current);
            x -= 1;
            var $3u = $R.current.start;
            while (x >= 0) {
                var $R = $k.itline[x];
                if ($3u > $R.end) {
                    $l += $3u.getTime() - $R.end.getTime();
                };
                $3u = $R.start;
                var $3m = $R.end.getTime() - $R.start.getTime();
                if ($3j <= $3m) {
                    $l += $3j;
                    return $l;
                };
                $l += $3m;
                $3j -= $3m;
                x -= 1;
            };
            throw new DayPilot.Exception("Unable to backward calculate offset in visible timeline");
        };
        this.$er = function($M, $0F, y) {
            var $l = 0;
            var $3j = $0F;
            var $R = $k.$c4($M);
            if (!$R.current) {
                throw new DayPilot.Exception("Current cell not found.");
            };
            var x = DayPilot.indexOf($k.itline, $R.current);
            if ($k.$ee(x, y).business) {
                if ($M.addTime( - $0F) >= $R.current.start) {
                    return $0F;
                }
            } else {
                if ($0F === 0 || $M.addTime( - $0F) >= $R.current.start) {
                    return $M.getTime() - $k.$em($M, y).start.getTime();
                }
            };
            $l += $M.getTime() - $R.current.start.getTime();
            $3j -= $M.getTime() - $R.current.start.getTime();
            x -= 1;
            var $3u = $R.current.start;
            while (x >= 0) {
                var $R = $k.itline[x];
                if ($3u > $R.end) {
                    $l += $3u.getTime() - $R.end.getTime();
                };
                $3u = $R.start;
                var $3m = $R.end.getTime() - $R.start.getTime();
                if ($k.$ee(x, y).business) {
                    if ($3j <= $3m) {
                        $l += $3j;
                        return $l;
                    };
                    $l += $3m;
                    $3j -= $3m;
                } else {
                    $l += $3m;
                };
                x -= 1;
            };
            throw new DayPilot.Exception("Unable to calculate backward offset in visible timeline");
        };
        this.$em = function($0K, y) {
            var $R = $k.$c4($0K);
            var i = 0;
            if ($R.past) {
                return null;
            };
            if ($R.current) {
                i = $R.i;
            } else if ($R.next) {
                i = DayPilot.indexOf($k.itline, $R.next);
            } else {
                return null;
            };
            for (var x = i; x < $k.itline.length; x++) {
                var $3v = $k.$et(x, y);
                if ($3v) {
                    return $k.itline[x];
                }
            };
            return null;
        };
        this.$et = function(x, y) {
            var $2c = $k.$ee(x, y);
            return $2c.business;
        };
        this.$el = function() {
            switch (this.scale) {
                case "CellDuration":
                    return this.cellDuration;
                case "Minute":
                    return 1;
                case "Hour":
                    return 60;
                case "Day":
                    return 60 * 24;
                case "Week":
                    return 60 * 24 * 7;
                case "Month":
                    return 60 * 24 * 30;
                case "Year":
                    return 60 * 24 * 365;
                case "Manual":
                    if ($k.itline.length > 0) {
                        var $R = $k.itline[0];
                        return ($R.end.getTime() - $R.start.getTime()) / (60 * 1000);
                    } else {
                        return $k.cellDuration;
                    }
            };
            throw "can't guess cellDuration value";
        };
        this.$ek = function($0J) {
            return $0J.end.ticks - $0J.start.ticks;
        };
        this.$dS = function(y) {
            return this.treePreventParentUsage && this.$eu(y);
        };
        this.$eu = function(y) {
            var $z = this.rowlist[y];
            if ($z.isParent) {
                return true;
            };
            if (this.treeEnabled) {
                if ($z.children && $z.children.length > 0) {
                    return true;
                }
            };
            return false;
        };
        this.$ev = {};
        this.$ew = function() {
            if (!$k.treeAutoExpand) {
                return;
            };
            var $23 = this.$dR(DayPilotScheduler.moving);
            var y = $23.rowIndex;
            var $3w = this.$eu(y);
            var $3x = this.$ev;
            if ($3x.timeout && $3x.y !== y) {
                clearTimeout($3x.timeout);
                $3x.timeout = null;
            };
            if ($3w) {
                $3x.y = y;
                var $3y = !$k.rowlist[$3x.y].expanded;
                if (!$3x.timeout && $3y) {
                    $3x.timeout = setTimeout(function() {
                            var $3y = !$k.rowlist[$3x.y].expanded;
                            if ($3y) {
                                $k.$ex($3x.y);
                                $k.$ey();
                            };
                            $3x.timeout = null;
                        },
                        500);
                }
            }
        };
        this.$ez = function() {
            var $3z = DayPilotScheduler.resizingShadow.width;
            var $3A = DayPilotScheduler.resizingShadow.left;
            var e = DayPilotScheduler.resizingEvent;
            var $3B = DayPilotScheduler.resizing.dpBorder;
            var $z = $k.rowlist[e.part.dayIndex];
            var $1x = 0;
            $1x = $z.start.getTime() - $k.$bT().getTime();
            var $0p = null;
            var $13 = null;
            var $3C = !$k.snapToGrid;
            if ($3B === 'left') {
                $0p = $k.getDate($3A, $3C).addTime($1x);
                $13 = e.rawend();
            } else if ($3B === 'right') {
                $0p = e.start();
                $13 = $k.getDate($3A + $3z, $3C, true).addTime($1x);
            };
            DayPilotScheduler.resizingShadow.start = $0p;
            DayPilotScheduler.resizingShadow.end = $13;
            $16.update();
        };
        this.exportAs = function($0w, $j) {
            var $3D = $3E.generate($0w, $j);
            return new $3F($3D);
        };
        this["export"] = this.exportAs;
        var $3F = function($3D) {
            this.toElement = function() {
                return $3D.getElement();
            };
            this.dimensions = function() {
                return {
                    "width": $3D.getWidth(),
                    "height": $3D.getHeight()
                };
            };
            this.toHtml = function() {
                return $3D.getSource();
            };
            this.toDataUri = function() {
                return $3D.getDataUri();
            };
            this.toBlob = function() {
                return $3D.getBlob();
            };
            this.print = function() {
                var $3G = document.createElement("iframe");
                $3G.setAttribute("width", 0);
                $3G.setAttribute("height", 0);
                $3G.setAttribute("frameborder", 0);
                $3G.setAttribute("src", "about:blank");
                document.body.appendChild($3G);
                var $3H = $3G.contentWindow.document;
                var $3I = $3H.compatMode === 'BackCompat' ? $3H.body: $3H.documentElement;
                $3I.innerHTML = $3D.getSource();
                var $l = $3G.contentWindow.document.execCommand('print', false, null);
                if (!$l) {
                    $3G.contentWindow.focus();
                    $3G.contentWindow.print();
                };
                document.body.removeChild($3G);
            };
            this.download = function(name) {
                var name = name || $3D.getDefaultFileName();
                var $3J = $3D.getBlob();
                DayPilot.Util.downloadBlob($3J, name);
            };
        };
        this.$eA = {};
        var $3E = this.$eA;
        $3E.getWidth = function() {
            var $3K = $3E.$eB;
            switch ($3K) {
                case "viewport":
                    return $k.nav.top.offsetWidth;
                case "full":
                    return $k.$bD() + $3E.getRowHeaderWidth();
                case "range":
                    return $k.getPixels($3E.getRangeEnd()).boxRight - $k.getPixels($3E.getRangeStart()).boxLeft + $3E.getRowHeaderWidth();
                default:
                    throw "Unsupported export mode: " + $3K;
            }
        };
        $3E.getHeight = function() {
            var $3K = $3E.$eB;
            switch ($3K) {
                case "viewport":
                    return $k.nav.top.offsetHeight - DayPilot.sh($k.nav.scroll) - 1;
                case "full":
                    return $k.$eC() + $k.$bF() - DayPilot.sh($k.nav.scroll);
                case "range":
                    var $1d = $3E.getRows();
                    if ($1d.length === 0) {
                        return $k.$bF();
                    } else {
                        var $0L = $1d.first();
                        var to = $1d.last();
                        return to.top - $0L.top + to.height + $k.$bF();
                    };
                default:
                    throw "Unsupported export mode: " + $3K;
            }
        };
        $3E.getRangeStart = function() {
            return new DayPilot.Date($3E.$eD.dateFrom);
        };
        $3E.getRangeEnd = function() {
            return new DayPilot.Date($3E.$eD.dateTo);
        };
        $3E.getRangeResStart = function() {
            if (!$3E.$eD.resourceFrom) {
                return $k.rowlist[0];
            };
            return $k.$bt($3E.$eD.resourceFrom);
        };
        $3E.getRangeResEnd = function() {
            if (!$3E.$eD.resourceTo) {
                return $k.rowlist.last();
            };
            return $k.$bt($3E.$eD.resourceTo);
        };
        $3E.getRowHeaderWidth = function() {
            return $k.$bG();
        };
        $3E.getTimeHeaderHeight = function() {
            return $k.$bF();
        };
        $3E.getCanvas = function() {
            return $3E.canvas();
        };
        $3E.getRectangles = function() {
            var $3L = $3E.getRowHeaderWidth();
            var $3M = $3E.getTimeHeaderHeight();
            var $3N = {};
            $3N.main = {
                "x": 0,
                "y": 0,
                "w": $3E.getWidth(),
                "h": $3E.getHeight()
            };
            $3N.corner = {
                "x": 0,
                "y": 0,
                "w": $3L,
                "h": $3M
            };
            $3N.grid = {
                "x": $3L,
                "y": $3M,
                "w": $3E.getWidth() - $3L,
                "h": $3E.getHeight() - $3M
            };
            var $C = $3N.grid.w;
            var $3O = $k.itline.last();
            if ($3O && ($3O.left + $3O.width) < $3N.grid.w) {
                $C = $3O.left + $3O.width;
            };
            var $T = $3N.grid.h;
            var $3P = $k.rowlist.last();
            if ($3P && ($3P.top + $3P.height) < $3N.grid.h) {
                $T = $3P.top + $3P.height;
            };
            $3N.gridContent = {
                "x": $3L,
                "y": $3M,
                "w": $C,
                "h": $T
            };
            return $3N;
        };
        $3E.getRows = function() {
            var $3K = $3E.$eB;
            var $l = DayPilot.list();
            var top, $Y, $3Q, $3R;
            switch ($3K) {
                case "viewport":
                    top = $k.$eE;
                    $Y = top + $k.nav.scroll.offsetHeight;
                    $3Q = $k.$dI(top).i;
                    $3R = $k.$dI($Y).i;
                    break;
                case "full":
                    top = 0;
                    $3Q = 0;
                    $3R = $k.rowlist.length;
                    break;
                case "range":
                    var $0L = $3E.getRangeResStart();
                    var to = $3E.getRangeResEnd();
                    if (!$0L) {
                        throw "Resource specified using resourceFrom option not found during export.";
                    };
                    if (!to) {
                        throw "Resource specified using resourceTo option not found during export.";
                    };
                    $3Q = $0L.index;
                    $3R = to.index;
                    break;
            };
            if ($3R < $k.rowlist.length) {
                $3R += 1;
            };
            for (var y = $3Q; y < $3R; y++) {
                var $z = $k.rowlist[y];
                if ($z.hidden) {
                    continue;
                };
                $l.push($z);
            };
            $l.offset = $3Q;
            return $l;
        };
        $3E.getEvents = function() {
            var $3K = $3E.$eB;
            switch ($3K) {
                case "full":
                    var $3S = DayPilot.list();
                    DayPilot.list($k.rowlist).each(function($z) {
                        if ($z.hidden) {
                            return;
                        };
                        DayPilot.list($z.events).each(function(e) {
                            $3S.push(e);
                        });
                    });
                    return $3S;
                case "viewport":
                    return $S.events().map(function($04) {
                        return $04.event;
                    });
                case "range":
                    var $3S = DayPilot.list();
                    var $M = $3E.getRangeStart();
                    var end = $3E.getRangeEnd();
                    $3E.getRows().each(function($z) {
                        DayPilot.list($z.events).filter(function($02) {
                            return DayPilot.Util.overlaps($02.start(), $02.end(), $M, end)
                        }).each(function(e) {
                            $3S.push(e);
                        });
                    });
                    return $3S;
                default:
                    throw "Unsupported export mode: " + $3K;
            }
        };
        $3E.getTimeline = function() {
            var $3K = $3E.$eB;
            switch ($3K) {
                case "full":
                    return DayPilot.list($k.itline).addProps({
                        "offset":
                            0
                    });
                case "viewport":
                    return $3E.getViewportTimeline();
                case "range":
                    return $3E.getRangeTimeline();
                default:
                    throw "Unsupported export mode: " + $3K;
            }
        };
        $3E.getRangeTimeline = function() {
            var $l = DayPilot.list();
            if ($k.itline && $k.itline.length > 0) {
                var $M = $k.$c4($3E.getRangeStart()).i;
                var end = $k.$c4($3E.getRangeEnd()).i;
                var $3T = $k.$eF();
                end = Math.min(end, $3T - 1);
                $M = Math.max($M, 0);
                for (var x = $M; x <= end; x++) {
                    var $R = $k.itline[x];
                    $l.push($R);
                };
                $l.offset = $M;
            };
            return $l;
        };
        $3E.getViewportTimeline = function() {
            var $l = DayPilot.list();
            if ($k.itline && $k.itline.length > 0) {
                var $P = $k.$eG;
                var $Q = $P + $k.$eH;
                var $M = $k.$c2($P).x;
                var end = $k.$c2($Q, true).x;
                var $3T = $k.$eF();
                end = Math.min(end, $3T);
                $M = Math.max($M, 0);
                for (var x = $M; x <= end; x++) {
                    var $R = $k.itline[x];
                    $l.push($R);
                };
                $l.offset = $M;
            };
            return $l;
        };
        $3E.getTimeHeader = function(y) {
            var $3K = $3E.$eB;
            if ($3K === "full") {
                return DayPilot.list($k.timeHeader[y]);
            } else {
                var $l = DayPilot.list();
                var $3U, $3V;
                $3U = $3E.getViewportOffsetStart();
                $3V = $3U + $3E.getViewportOffsetWidth();
                var $3W = $k.$eI(y, $3U);
                var $3X = $k.$eI(y, $3V);
                if (!$3X) {
                    $3X = {
                        "x": $k.timeHeader[y].length - 1
                    };
                };
                for (var x = $3W.x; x <= $3X.x; x++) {
                    var $R = $k.timeHeader[y][x];
                    $l.push($R);
                };
                return $l;
            }
        };
        $3E.fakeDurationBar = function() {
            var $04 = document.createElement("div");
            $04.style.display = "none";
            $04.className = $k.$bC($08.event);
            var $3Y = document.createElement("div");
            $3Y.className = $k.$bC($08.eventBar);
            var $07 = document.createElement("div");
            $07.className = $k.$bC($08.eventBarInner);
            document.body.appendChild($04);
            $3Y.appendChild($07);
            $04.appendChild($3Y);
            return $04;
        };
        $3E.fakeCell = function() {
            var $04 = document.createElement("div");
            $04.style.display = "none";
            $04.className = $k.$bC("_cell");
            $04.style.position = "absolute";
            $04.style.top = "-2000px";
            $04.style.left = "-2000px";
            var $07 = document.createElement("div");
            $07.className = $k.$bC("_cell_inner");
            $04.appendChild($07);
            $k.divCells.appendChild($04);
            return $04;
        };
        $3E.fakeRowHeader = function() {
            var $04 = document.createElement("div");
            $04.style.display = "none";
            $04.className = $k.$bC("_rowheader");
            $04.style.position = "absolute";
            $04.style.top = "-2000px";
            $04.style.left = "-2000px";
            var $07 = document.createElement("div");
            $07.className = $k.$bC("_rowheader_inner");
            $04.appendChild($07);
            $k.divResScroll.appendChild($04);
            return $04;
        };
        $3E.fakeExpand = function() {
            var $04 = document.createElement("div");
            $04.style.display = "none";
            $04.className = $k.$bC('_tree_image_expand');
            document.body.appendChild($04);
            return $04;
        };
        $3E.extractUrl = function($3Z) {
            var $40 = /url\((")?([^"].*[^"])\1\)/.exec($3Z);
            if (!$40) {
                return null;
            };
            return $40[2];
        };
        $3E.getImages = function() {
            var $l = {};
            var $1T = $3E.fakeExpand();
            $l.expand = $3E.extractUrl(new DayPilot.StyleReader($1T).get("background-image"));
            $1T.className = $k.$bC("_tree_image_collapse");
            $l.collapse = $3E.extractUrl(new DayPilot.StyleReader($1T).get("background-image"));
            $1T.className = $k.$bC("_tree_image_no_children");
            $l.nochildren = $3E.extractUrl(new DayPilot.StyleReader($1T).get("background-image"));
            DayPilot.de($1T);
            return $l;
        };
        $3E.getFont = function(element) {
            var style = new DayPilot.StyleReader(element).get("font-style");
            var $41 = new DayPilot.StyleReader(element).get("font-family");
            var $42 = new DayPilot.StyleReader(element).get("font-size");
            return {
                "family": $41,
                "size": $42,
                "style": style
            };
        };
        $3E.getViewportOffsetStart = function() {
            var $3K = $3E.$eB;
            switch ($3K) {
                case "full":
                    return 0;
                case "viewport":
                    return $k.nav.scroll.scrollLeft;
                case "range":
                    return $k.getPixels($3E.getRangeStart()).boxLeft;
            }
        };
        $3E.getViewportOffsetTop = function() {
            var $3K = $3E.$eB;
            switch ($3K) {
                case "full":
                    return 0;
                case "viewport":
                    return $k.nav.scroll.scrollTop;
                case "range":
                    return $3E.getRangeResStart().top;
            }
        };
        $3E.getViewportOffsetWidth = function() {
            var $3K = $3E.$eB;
            switch ($3K) {
                case "full":
                    return $k.$bD();
                case "viewport":
                    return $k.nav.scroll.offsetWidth;
                case "range":
                    return $k.getPixels($3E.getRangeEnd()).boxRight - $3E.getViewportOffsetStart();
            }
        };
        $3E.excelBoard = function() {
            var $43 = new DayPilot.Excel();
            var $44 = $43.worksheets.create("Scheduler");
            var $45 = new DayPilot.StyleReader($k.nav.corner).get("background-color");
            var $46 = new DayPilot.StyleReader($k.nav.top).get("border-top-color");
            var $47 = DayPilot.list($k.elements.events).map(function($02) {
                return $02.firstChild;
            }).last();
            var $48 = new DayPilot.StyleReader($47).get("border-right-color");
            $43.styles.getDefault().setBackColor("#ffaaaa");
            var $49 = $43.styles.create();
            $49.setHorizontalAlignment("Center");
            $49.setBackColor($45);
            $49.setBorderColor($46);
            var $4a = $43.styles.create();
            $4a.setVerticalAlignment("Top");
            $4a.setBackColor($45);
            $4a.setBorderColor($46);
            var $4b = $43.styles.create();
            $4b.setVerticalAlignment("Top");
            $4b.setBackColor("#ff0000");
            $4b.setBorderColor($48);
            $44.enableGridlines(false);
            $44.cell(0, 0).setRowspan($k.timeHeader.length).setStyle($49);
            $44.cell(10, 10).setText("hi there");
            DayPilot.list($k.timeHeader).each(function($02, y) {
                var $0F = {
                    "x": 1,
                    "y": 0
                };
                $3E.getTimeHeader(y, "full").each(function($R, x) {
                    var $4c = $R.colspan;
                    $44.cell(x + $0F.x, y + $0F.y).setText($R.innerHTML).setColspan($4c).setStyle($49);
                });
            });
            DayPilot.list($k.rowlist).each(function($z, y) {
                var $0F = {
                    "x": 0,
                    "y": 1
                };
                var $1Y = "";
                for (var i = 0; i < $z.level; i++) {
                    $1Y += "  ";
                };
                $44.cell($0F.x, y + $0F.y).setText($1Y + $z.html).setRowspan($z.lines.length).setStyle($4a);
            });
            var $0F = {
                "x": 0,
                "y": $k.timeHeader.length
            };
            var $4d = $0F.y;
            DayPilot.list($k.rowlist).each(function($z, y) {
                DayPilot.list($z.lines).each(function($0x, i) {
                    var $4e = $0F.x;
                    DayPilot.list($0x).each(function(e) {
                        var $M = $k.$c4(e.start()).i;
                        var end = $k.$c4(e.end()).i;
                        var $4c = 1 + end - $M;
                        $44.cell($M + $4e, y + $4d).setText(e.client.html()).setColspan($4c).setStyle($4b);
                        $4e += $4c - 1;
                    });
                });
                $4d += $z.lines.length - 1;
            });
            return $43;
        };
        $3E.$eD = null;
        $3E.$eB = null;
        $3E.generate = function($0w, $j) {
            if (typeof $0w === "object") {
                $j = $0w;
                $0w = null;
            };
            var $j = $j || {};
            var $0w = $0w || $j.format || "svg";
            var $4f = $j.scale || 1;
            if ($0w === "xls") {
                return $3E.excelBoard();
            };
            if ($0w === "config") {
                return
            };
            if ($0w.toLowerCase() === "jpg") {
                $0w = "jpeg";
            };
            var $3K = $j.area || "viewport";
            $3E.$eD = $j;
            $3E.$eB = $3K;
            $3E.getRows().each(function($z) {
                $k.$eJ($z);
            });
            var $C = $3E.getWidth();
            var $T = $3E.getHeight();
            var $3D;
            switch ($0w.toLowerCase()) {
                case "svg":
                    $3D = new DayPilot.Svg($C, $T);
                    break;
                case "png":
                    $3D = new DayPilot.Canvas($C, $T, "image/png", $4f);
                    break;
                case "jpeg":
                    $3D = new DayPilot.Canvas($C, $T, "image/jpeg", $4f, $j.quality);
                    break;
                default:
                    throw "Export format not supported: " + $0w;
            };
            var $3N = $3E.getRectangles();
            var $4g = $3E.getImages();
            var $4h = new DayPilot.StyleReader($k.nav.top).get("background-color");
            var $45 = new DayPilot.StyleReader($k.nav.corner).get("background-color");
            var $46 = new DayPilot.StyleReader($k.nav.top).get("border-top-color");
            var $4i = new DayPilot.StyleReader($k.nav.divider).get("background-color");
            var $47 = DayPilot.list($k.elements.events).map(function($02) {
                return $02.firstChild;
            }).last();
            var $48 = new DayPilot.StyleReader($47).get("border-right-color");
            var $4j = $3E.getFont($47);
            var $4k = new DayPilot.StyleReader($47).get("color");
            var $4l = new DayPilot.StyleReader($47).get("background-color");
            $4l = $k.$eK($4l) ? "white": $4l;
            var $3Y = $3E.fakeDurationBar();
            var $4m = new DayPilot.StyleReader($3Y.firstChild).get("background-color");
            var $4n = new DayPilot.StyleReader($3Y.firstChild.firstChild).get("background-color");
            DayPilot.de($3Y);
            var $R = $3E.fakeCell();
            var $4o = new DayPilot.StyleReader($R).get("background-color");
            DayPilot.Util.addClass($R, $k.$bC("_cell_business"));
            var $4p = new DayPilot.StyleReader($R).get("background-color");
            var $4q = $3E.getFont($R);
            var $4r = new DayPilot.StyleReader($R).get("color");
            DayPilot.de($R);
            var $4s = DayPilot.Util.firstPropValue($k.$aN.linesVertical);
            var $4t = new DayPilot.StyleReader($4s).get("background-color");
            var $4u = $k.$aN.timeHeader["0_0"];
            var $4v = $3E.getFont($4u);
            var $4w = new DayPilot.StyleReader($4u).get("color");
            var $4x = new DayPilot.StyleReader($4u).get("background-color");
            var $4y = $3E.fakeRowHeader();
            var $4z = $3E.getFont($4y);
            var $4A = new DayPilot.StyleReader($4y).get("color");
            var $4B = new DayPilot.StyleReader($4y).get("background-color");
            DayPilot.de($4y);
            var $3U = $3E.getViewportOffsetStart();
            var $4C = $3E.getViewportOffsetTop();
            $3D.fillRect($3N.main, "white");
            $3D.fillRect($3N.main, $4h);
            $3D.fillRect($3N.corner, $45);
            var $4D = typeof $k.onBeforeTimeHeaderExport === "function";
            DayPilot.list($k.timeHeader).each(function($02, y) {
                $3E.getTimeHeader(y, $3K).each(function($R) {
                    var $P = $3N.grid.x + $R.left - $3U;
                    var $C = $R.width;
                    var $4E = $4F.timeHeader(y);
                    var top = $4E.top;
                    var $T = $4E.height;
                    var $4G = $R.innerHTML;
                    if ($4D) {
                        var $n = {};
                        $n.header = {};
                        $n.header.start = $R.start;
                        $n.header.end = $R.end;
                        $n.header.level = y;
                        $n.header.text = $R.text;
                        $n.header.html = $R.innerHTML;
                        $n.text = $R.innerHTML;
                        $k.onBeforeTimeHeaderExport($n);
                        $4G = $n.text;
                    };
                    var $4H = Math.max(0, $3N.grid.x - $P);
                    $P += $4H;
                    $C -= $4H;
                    var $4H = Math.max(0, $P + $C - ($3N.grid.x + $3N.grid.w));
                    $C -= $4H;
                    var $4I = {
                        "x": $P,
                        "y": top,
                        "w": $C + 1,
                        "h": $T + 1
                    };
                    $3D.fillRect($4I, $4x);
                    $3D.rect($4I, $46);
                    $3D.text($4I, $4G, $4v, $4w, "center");
                });
            });
            $3E.getTimeline().each(function($R) {
                var $P = $3N.grid.x + $R.left - $3U;
                var $4H = Math.max(0, $3N.grid.x - $P);
                $P += $4H;
                if ($P === $3N.grid.x) {
                    return;
                };
                $3D.line($P, $3N.grid.y + 1, $P, $3N.grid.y + $3N.grid.h - 2, $4t);
            });
            var $4J = typeof $k.onBeforeCellExport === "function";
            $3E.getRows().each(function($z, y, $1d) {
                var y = $z.index;
                $3E.getTimeline().each(function($R, x, $4K) {
                    var x = $4K.offset + x;
                    var $2c = $k.$ee(x, y);
                    var $4L = $2c.business;
                    var $n = $k.$eL(x, y);
                    var $4G = $2c.html;
                    var $4M = "left";
                    var $4h = $2c.backColor || ($4L ? $4p: $4o);
                    if ($4J) {
                        if (!$n) {
                            $n = {};
                            $n.cell = $k.cells.findXy(x, y)[0];
                        };
                        $n.text = $4G;
                        $n.horizontalAlignment = $4M;
                        $n.backColor = $4h;
                        $k.onBeforeCellExport($n);
                        $4G = $n.text;
                        $4M = $n.horizontalAlignment;
                        $4h = $n.backColor;
                    };
                    var top = $3N.grid.y + $z.top - $4C;
                    var $4N = Math.max(0, $3N.grid.y - top);
                    top += $4N;
                    var $P = $3N.grid.x + $R.left - $3U;
                    var $4H = Math.max(0, $3N.grid.x - $P);
                    $P += $4H;
                    var $4O = {
                        "x": $P,
                        "y": top,
                        "w": $R.width,
                        "h": $z.height
                    };
                    $3D.fillRect($4O, $4h);
                    var $4P = {};
                    $4P.x = $4O.x + 1;
                    $4P.y = $4O.y + 1;
                    $4P.w = $4O.w - 2;
                    $4P.h = $4O.h - 2;
                    if ($4G) {
                        $3D.text($4P, $4G, $4q, $4r, $4M);
                    }
                });
            });
            $3E.getRows().each(function($z) {
                var top = $3N.grid.y + $z.top - $4C;
                var $4N = Math.max(0, $3N.grid.y - top);
                top += $4N;
                if (top === $3N.grid.y) {
                    return;
                };
                $3D.line($3N.gridContent.x + 1, top, $3N.gridContent.x + $3N.gridContent.w - 1, top, $4t);
            });
            var $4Q = typeof $k.onBeforeRowHeaderExport === "function";
            $3E.getRows().each(function($z) {
                var top = $3N.grid.y + $z.top - $4C;
                var $4N = Math.max(0, $3N.grid.y - top);
                top += $4N;
                var $4R = 10;
                var $P = $z.level * $k.treeIndent + ( + $k.treeImageMarginLeft);
                var $4O = {
                    "x": 0,
                    "y": top,
                    "w": $3N.grid.x + 1,
                    "h": $z.height + 1
                };
                var $n = {};
                $n.text = $z.html;
                $n.backColor = $4B;
                $n.fontSize = $4z.size;
                $n.fontFamily = $4z.family;
                $n.fontStyle = $4z.style;
                $n.fontColor = $4A;
                $n.borderColor = $46;
                $n.horizontalAlignment = "left";
                if ($4Q) {
                    $n.row = $k.$dh($z);
                    $k.onBeforeRowHeaderExport($n);
                };
                var $4S = {
                    "x": $P,
                    "y": top + ( + $k.treeImageMarginTop),
                    "w": 10,
                    "h": 10
                };
                var $4T = $k.treeEnabled ? $P + $4R + 3 : $P;
                var $4U = {
                    "x": $4T,
                    "y": top,
                    "w": $4O.w - ($P + $4R),
                    "h": $z.height + 1
                };
                $3D.fillRect($4O, $n.backColor);
                $3D.text($4U, $n.text, {
                        "size": $n.fontSize,
                        "family": $n.fontFamily,
                        "style": $n.fontStyle
                    },
                    $n.fontColor, $n.horizontalAlignment);
                $3D.rect($4O, $n.borderColor);
                if ($k.treeEnabled) {
                    var $4V = null;
                    if (DayPilot.list($z.children).isEmpty()) {
                        $4V = $4g.nochildren;
                    } else if ($z.expanded) {
                        $4V = $4g.collapse;
                    } else {
                        $4V = $4g.expand;
                    };
                    $3D.image($4S, $4V);
                }
            });
            $3E.getEvents().each(function(e) {
                var $4W = $k.rowlist[e.part.dayIndex].top;
                var $C = e.part.width;
                var $4X = e.part.barWidth;
                var $4Y = e.client && e.client.barVisible && e.client.barVisible();
                var top = $3N.grid.y + $4W + e.part.top - $4C;
                var $4N = Math.max(0, $3N.grid.y - top);
                top += $4N;
                var $P = $3N.grid.x + e.part.left - $3U;
                var $4H = Math.max(0, $3N.grid.x - $P);
                $P += $4H;
                $C -= $4H;
                $4X -= $4H;
                var $0z = e.cache || e.data;
                var $4Z = $0z.barColor || $4n;
                var $50 = $0z.barBackColor || $4m;
                var $4h = $0z.backColor || $4l;
                var $51 = $0z.fontColor || $4k;
                var $52 = 5;
                var $53 = 2;
                var $54 = 2;
                var $n = {};
                $n.e = e;
                $n.text = e.text ? e.text() : e.client.html();
                $n.fontSize = $4j.size;
                $n.fontFamily = $4j.family;
                $n.fontStyle = $4j.style;
                $n.fontColor = $51;
                $n.backColor = $4h;
                $n.borderColor = $48;
                $n.horizontalAlignment = "left";
                $n.barHeight = $52;
                if (typeof $k.onBeforeEventExport === "function") {
                    $k.onBeforeEventExport($n);
                };
                var $4O = {
                    "x": $P,
                    "y": top,
                    "w": $C,
                    "h": e.part.height
                };
                var $55 = {
                    "x": $P,
                    "y": top,
                    "w": $C,
                    "h": $n.barHeight
                };
                var $56 = {
                    "x": $P + e.part.barLeft,
                    "y": top,
                    "w": $4X,
                    "h": $52
                };
                var $57 = {
                    "x": $P + $53,
                    "y": top + $52,
                    "w": $C - $53,
                    "h": e.part.height - $52
                };
                $3D.fillRect($4O, $n.backColor);
                $3D.text($4O, $n.text, {
                        "size": $n.fontSize,
                        "family": $n.fontFamily,
                        "style": $n.fontStyle
                    },
                    $n.fontColor, $n.horizontalAlignment, $54);
                $3D.rect($4O, $n.borderColor);
                if ($4Y) {
                    $3D.fillRect($55, $50);
                    if ($4X > 0) {
                        $3D.fillRect($56, $4Z);
                    }
                };
                DayPilot.list($0z.areas).each(function($L) {
                    var $58 = $L.left;
                    if ($L.start) {
                        $58 = $k.getPixels(new DayPilot.Date($L.start)).left - e.part.left;
                    };
                    var $C = $L.width || $L.w;
                    if ($L.right) {
                        $C = (e.part.width - $L.right) - $58;
                    } else if ($L.end) {
                        $C = $k.getPixels(new DayPilot.Date($L.end)).left - $L.left - e.part.left + 1;
                    };
                    var $59 = $L.top;
                    var $T = $L.height || $L.h;
                    if (typeof $L.bottom === "number") {
                        $T = (e.part.height - $L.bottom) - $59;
                    };
                    var $4O = {
                        "x": $P + $58,
                        "y": top + $59,
                        "w": $C,
                        "h": $T
                    };
                    $3D.fillRect($4O, $L.backColor);
                    $3D.text($4O, $L.html, {
                        "size": $n.fontSize,
                        "family": $n.fontFamily,
                        "style": $n.fontStyle
                    },
                        $L.fontColor || $n.fontColor, null, $L.padding);
                });
            });
            $3D.rect($3N.main, $46);
            $3D.line($3N.grid.x, 0, $3N.grid.x, $3N.main.h, $4i);
            $3D.line(0, $3N.grid.y, $3N.main.w, $3N.grid.y, $4i);
            return $3D;
        };
        this.$eK = function($2h) {
            if ($2h === "transparent") {
                return true;
            };
            if ($2h === "rgba(0, 0, 0, 0)") {
                return true;
            };
            return false;
        };
        this.$eM = {};
        var $5a = this.$eM;
        $5a.findJointDivs = function(e) {
            var id = e.data.join;
            if (!id) {
                return DayPilot.list();
            };
            var $2o = DayPilot.list($k.elements.events).filter(function($02) {
                return $02.event.data.join === id && $02.event !== e;
            });
            return $2o;
        };
        this.$eN = {};
        var $16 = this.$eN;
        $16.divs = [];
        $16.list = [];
        $16.forbidden = false;
        $16.additional = function() {
            var $00 = DayPilot.list();
            var $5b = $k.multiselect.isSelected(DayPilotScheduler.resizing.event);
            var $5c = $k.allowMultiResize;
            var $00 = DayPilot.list();
            if ($5b && $5c) {
                $00 = DayPilot.list($k.multiselect.divs).filter(function($02) {
                    return $02 !== DayPilotScheduler.resizing;
                });
            };
            if ($k.jointEventsResize) {
                var j = $5a.findJointDivs(DayPilotScheduler.resizingEvent);
                $00 = $00.concat(j);
            };
            return $00;
        };
        $16.update = function() {
            $16.clear();
            $16.draw();
        };
        $16.clear = function() {
            DayPilot.de($16.divs);
            $16.divs = [];
        };
        $16.draw = function() {
            if (!DayPilotScheduler.resizing) {
                return;
            };
            var e = DayPilotScheduler.resizingEvent;
            var $26 = DayPilotScheduler.resizingShadow;
            var $5d = $26.start.getTime() - e.start().getTime();
            var $5e = $26.end.getTime() - e.end().getTime();
            var $5f = 0;
            $16.list = [];
            $16.forbidden = false;
            $16.invalid = false;
            $16.rowoffset = $5f;
            $16.additional().each(function($02) {
                if (!$02.event) {
                    return;
                };
                var event = $02.event;
                var $z = $k.rowlist[event.part.dayIndex + $5f];
                if (!$z) {
                    $16.invalid = true;
                    return;
                };
                var top = event.part.top + $z.top;
                var $T = event.part.height;
                if ($5f) {
                    top = $z.top;
                    $T = $z.height;
                };
                var $3g = event.start().addTime($5d);
                var $3h = event.end().addTime($5e);
                var $17 = {};
                $17.event = event;
                $17.start = $3g;
                $17.end = $3h;
                $17.overlapping = false;
                $16.list.push($17);
                var $3n = $k.getPixels($3g);
                var $3o = $k.getPixels($3h);
                var $0P = DayPilot.DateUtil.diff(event.rawend(), event.start());
                $0P = Math.max($0P, 1);
                var $2V = $0d.useBox($0P);
                var $P = ($2V) ? $3n.boxLeft: $3n.left;
                var $C = ($2V) ? ($3o.boxRight - $P) : ($3o.left - $P);
                var $04 = document.createElement("div");
                $04.style.position = "absolute";
                $04.style.left = $P + "px";
                $04.style.top = top + "px";
                $04.style.height = $T + "px";
                $04.style.width = $C + "px";
                $04.style.zIndex = 101;
                $04.style.overflow = "hidden";
                $04.className = $k.$bC("_shadow");
                $04.info = $17;
                var $07 = document.createElement("div");
                $07.className = $k.$bC("_shadow_inner");
                $04.appendChild($07);
                $k.$bq.appendChild($04);
                $16.divs.push($04);
            });
            if ($16.invalid) {
                var $5g = $k.$bC("_shadow_overlap");
                DayPilot.list($16.divs).each(function($02) {
                    DayPilot.Util.addClass($02, $5g);
                });
                return;
            };
            DayPilot.list($16.divs).each(function($02) {
                if (!$02.info) {
                    return;
                };
                var $04 = $02;
                var $17 = $02.info;
                var event = $02.info.event;
                var $z = $k.rowlist[event.part.dayIndex + $5f];
                var $3n = $k.getPixels($17.start);
                var $3o = $k.getPixels($17.end);
                var $P = $3n.left;
                var $C = $3o.left - $P;
                var $5h = DayPilot.list($16.list).map(function($02) {
                    return $02.event.data;
                }).add(DayPilotScheduler.resizing.event.data);
                $k.$eO($04, $z, $P, $C, $5h);
                if ($04.overlapping) {
                    $17.overlapping = true;
                    $16.forbidden = true;
                }
            });
        };
        this.$eP = {};
        var $5i = this.$eP;
        $5i.modifiedProps = function() {
            var $5j = new DayPilot.Scheduler();
            var $5k = DayPilot.Util.members($k, 2);
            var $l = [];
            $l.push("<div id='dp'></div>");
            $l.push("<script>");
            $l.push("var dp = new DayPilot.Scheduler('dp');");
            $5k.properties.each(function($02) {
                var name = $02.name;
                var $5l = name.split(".");
                var $5m = $5l.length > 1;
                var $5n, $5o;
                if ($5m) {
                    var $5p = $5l[0];
                    var $5q = $5l[1];
                    $5n = DayPilot.JSON.stringify($5j[$5p][$5q]);
                    $5o = DayPilot.JSON.stringify($k[$5p][$5q]);
                } else {
                    $5n = DayPilot.JSON.stringify($5j[name]);
                    $5o = DayPilot.JSON.stringify($k[name]);
                };
                if ($5n !== $5o) {
                    $l.push("dp." + name + " = " + $5o + ";");
                }
            });
            $5k.events.each(function($02) {
                var name = $02.name;
                if (typeof $k[name] === "function") {
                    $l.push("dp." + name + " = " + $k[name].toString() + ";");
                }
            });
            $l.push("dp.init();");
            $l.push("</script>");
            return $l.join("\n");
        };
        this.$eQ = {};
        var mm = this.$eQ;
        mm.divs = [];
        mm.list = [];
        mm.forbidden = false;
        mm.verticalAll = function() {
            return $k.multiMoveVerticalMode === "All";
        };
        mm.additional = function() {
            var $00 = DayPilot.list();
            var $5b = $k.multiselect.isSelected(DayPilotScheduler.movingEvent);
            var $5c = $k.allowMultiMove;
            var $00 = DayPilot.list();
            if ($5b && $5c) {
                $00 = DayPilot.list($k.multiselect.divs).filter(function($02) {
                    return $02 !== DayPilotScheduler.moving && $02 !== $0R.moving;
                });
            };
            if ($k.jointEventsMove) {
                var j = $5a.findJointDivs(DayPilotScheduler.movingEvent);
                $00 = $00.concat(j);
            };
            return $00;
        };
        mm.update = function() {
            mm.clear();
            mm.draw();
        };
        mm.draw = function() {
            if (!DayPilotScheduler.moving) {
                return;
            };
            var e = DayPilotScheduler.movingEvent;
            var $M = DayPilotScheduler.movingShadow.start;
            var $0F = $M.getTime() - e.start().getTime();
            var $5r = e.part.dayIndex;
            var $5s = DayPilot.indexOf($k.rowlist, DayPilotScheduler.movingShadow.row);
            var $5f = $5s - $5r;
            if (!mm.verticalAll()) {
                $5f = 0;
            };
            mm.list = [];
            mm.forbidden = false;
            mm.invalid = false;
            mm.rowoffset = $5f;
            mm.additional().each(function($02) {
                if (!$02.event) {
                    return;
                };
                var event = $02.event;
                var $z = $k.rowlist[event.part.dayIndex + $5f];
                if (!$z) {
                    mm.invalid = true;
                    return;
                };
                var top = event.part.top + $z.top;
                var $T = event.part.height;
                if ($5f) {
                    top = $z.top;
                    $T = $z.height;
                };
                var $3g = event.start().addTime($0F);
                var $3h = event.end().addTime($0F);
                var $17 = {};
                $17.event = event;
                $17.start = $3g;
                $17.end = $3h;
                $17.overlapping = false;
                mm.list.push($17);
                var $3n = $k.getPixels($3g);
                var $3o = $k.getPixels($3h);
                var $0P = DayPilot.DateUtil.diff(event.rawend(), event.start());
                $0P = Math.max($0P, 1);
                var $2V = $0d.useBox($0P);
                var $P = ($2V) ? $3n.boxLeft: $3n.left;
                var $C = ($2V) ? ($3o.boxRight - $P) : ($3o.left - $P);
                var $04 = document.createElement("div");
                $04.style.position = "absolute";
                $04.style.left = $P + "px";
                $04.style.top = top + "px";
                $04.style.height = $T + "px";
                $04.style.width = $C + "px";
                $04.style.zIndex = 101;
                $04.style.overflow = "hidden";
                $04.className = $k.$bC("_shadow");
                $04.info = $17;
                var $07 = document.createElement("div");
                $07.className = $k.$bC("_shadow_inner");
                $04.appendChild($07);
                $k.$bq.appendChild($04);
                mm.divs.push($04);
            });
            if (mm.invalid) {
                var $5g = $k.$bC("_shadow_overlap");
                DayPilot.list(mm.divs).each(function($02) {
                    DayPilot.Util.addClass($02, $5g);
                });
                return;
            };
            DayPilot.list(mm.divs).each(function($02) {
                if (!$02.info) {
                    return;
                };
                var $04 = $02;
                var $17 = $02.info;
                var event = $02.info.event;
                var $z = $k.rowlist[event.part.dayIndex + $5f];
                var $3n = $k.getPixels($17.start);
                var $3o = $k.getPixels($17.end);
                var $P = $3n.left;
                var $C = $3o.left - $P;
                var $5h = DayPilot.list(mm.list).map(function($02) {
                    return $02.event.data;
                }).add(DayPilotScheduler.movingEvent.data);
                $k.$eO($04, $z, $P, $C, $5h);
                if ($04.overlapping) {
                    $17.overlapping = true;
                    mm.forbidden = true;
                }
            });
        };
        mm.clear = function() {
            DayPilot.de(mm.divs);
            mm.divs = [];
        };
        this.$eR = function() {
            var $23 = $k.coords;
            var $3B = DayPilotScheduler.resizing.dpBorder;
            var e = DayPilotScheduler.resizing.event;
            var $5t = e.part.left;
            if ($3B == "right") {
                $5t += e.part.width;
            };
            var $5u = DayPilotScheduler.resizing.event.calendar.cellWidth;
            var $5v = DayPilotScheduler.resizing.event.part.width;
            var $5w = DayPilotScheduler.resizing.event.part.left;
            var $5x = 0;
            var $5y = ($23.x - $5t);
            var $5z, $5A;
            if ($3B === 'right') {
                $5z = $5w;
                if ($k.snapToGrid) {
                    var $0J = $k.$c2($5v + $5w + $5y).cell;
                    var $5B = $0J.left + $0J.width;
                    $5A = $5B - $5w;
                    if ($5A < $5u) {
                        $5A = $5u;
                    }
                } else {
                    $5A = $5v + $5y;
                };
                var $B = $k.$bD();
                if ($5w + $5A > $B) {
                    $5A = $B - $5w;
                };
                DayPilotScheduler.resizingShadow.left = $5w;
                DayPilotScheduler.resizingShadow.width = $5A;
            } else if ($3B === 'left') {
                if ($k.snapToGrid) {
                    if ($5y >= $5v) {
                        $5y = $5v;
                    };
                    $5z = Math.floor((($5w + $5y) + 0) / $5u) * $5u;
                    if ($5z < $5x) {
                        $5z = $5x;
                    }
                } else {
                    $5z = $5w + $5y;
                };
                $5A = $5v - ($5z - $5w);
                var $Q = $5w + $5v;
                var $5C = $5u;
                if (!$k.snapToGrid) {
                    $5C = 1;
                } else if ($k.useEventBoxes === "Never") {
                    if ($5v < $5u) {
                        $5C = $5v;
                    } else {
                        $5C = 1;
                    }
                };
                if ($5A < $5C) {
                    $5A = $5C;
                    $5z = $Q - $5A;
                };
                DayPilotScheduler.resizingShadow.left = $5z;
                DayPilotScheduler.resizingShadow.width = $5A;
            } else {
                throw "Invalid dpBorder.";
            }; (function checkOverlap() {
                var ev = DayPilotScheduler.resizing.event;
                var $z = $k.rowlist[ev.part.dayIndex];
                var $P = $5z;
                var $C = $5A;
                $k.$eO(DayPilotScheduler.resizingShadow, $z, $P, $C, ev.data);
            })();
            $k.$eS();
        };
        this.$ey = function() {
            var scroll = this.nav.scroll;
            if (!$k.coords) {
                return;
            };
            if (!DayPilotScheduler.moving) {
                return;
            };
            $k.$bH();
            var $26 = DayPilotScheduler.movingShadow;
            var $23 = this.$dR(DayPilotScheduler.moving);
            if ($k.$dS($23.rowIndex)) {
                return;
            };
            var ev = DayPilotScheduler.movingEvent;
            var $5D = 0;
            var $5E = 0; (function calculatePosition() {
                if ($k.cellStacking) {
                    var y = $23.relativeY;
                    var $5F = $k.$c2($23.left).x;
                    var $z = $23.row;
                    var $5G = $z.evColumns[$5F];
                    var e = $5G.events.find(function(e) {
                        return y < e.part.top + e.part.height + $k.eventMarginBottom;
                    });
                    if (!e) {
                        e = $5G.events.last();
                    };
                    if (e) {
                        $5E = e.part.top;
                        $5D = DayPilot.indexOf($5G.events, e);
                        if ((y - e.part.top) > e.part.height / 2) {
                            $5E = e.part.top + e.part.height + $k.eventMarginBottom / 2;
                            $5D += 1;
                        }
                    }
                } else {
                    var y = $23.relativeY;
                    var $z = $23.row;
                    var top = 0;
                    var lh = $k.$cN.eventHeight();
                    var $B = $z.lines.length;
                    for (var i = 0; i < $z.lines.length; i++) {
                        var $0x = $z.lines[i];
                        if ($0x.isFree($23.left, $k.cellWidth)) {
                            $B = i;
                            break;
                        }
                    };
                    var $I = Math.floor((y - top + lh / 2) / lh);
                    var $I = Math.min($B, $I);
                    var $I = Math.max(0, $I);
                    $5D = $I;
                    $5E = $k.rowMarginTop + $5D * ($k.$cN.eventHeight() + $k.eventMarginBottom) + $k.eventMarginBottom / 2;
                }
            })();
            if ($5E > 0) {
                $5E -= 3;
            };
            var $24 = (ev.cache && typeof ev.cache.moveVDisabled !== 'undefined') ? !ev.cache.moveVDisabled: !ev.data.moveVDisabled;
            var $25 = (ev.cache && typeof ev.cache.moveHDisabled !== 'undefined') ? !ev.cache.moveHDisabled: !ev.data.moveHDisabled;
            var $5H = !mm.additional().isEmpty();
            if ($5H && $k.multiMoveVerticalMode === "Disabled") {
                $24 = false;
            };
            if ($24) {
                if (!this.$dS($23.rowIndex)) {
                    $26.row = $23.row;
                    $26.style.height = Math.max($23.row.height, 0) + 'px';
                    $26.style.top = ($23.top) + 'px';
                    if ($k.eventMoveToPosition) {
                        $26.style.top = ($23.top + $5E) + "px";
                        $26.style.height = "3px";
                        $26.line = $5D;
                    }
                } else {
                    var $1y = $26.row;
                    var $5I = 1;
                    if ($1y) {
                        $5I = $23.rowIndex < $1y.index ? 1 : -1;
                    } else {
                        return;
                    };
                    for (var i = $23.rowIndex; i !== $1y.index; i += $5I) {
                        var $z = this.rowlist[i];
                        if (!this.$dS(i) && !$z.hidden) {
                            $26.style.top = ($z.top) + 'px';
                            $26.style.height = Math.max($z.height, 0) + 'px';
                            $26.row = $z;
                            if ($k.eventMoveToPosition) {
                                $5D = $5I > 0 ? 0 : $z.lines.length - 1;
                                $26.style.top = ($23.top + $5E) + "px";
                                $26.style.height = "3px";
                                $26.line = $5D;
                            };
                            break;
                        }
                    }
                }
            } else {
                var $1y = $k.rowlist[ev.part.dayIndex];
                var $B = $1y.lines.length;
                for (var i = 0; i < $1y.lines.length; i++) {
                    var $0x = $1y.lines[i];
                    if ($0x.isFree($23.left, $k.cellWidth)) {
                        $B = i;
                        break;
                    }
                };
                if (!$5H) {
                    $26.style.height = Math.max($1y.height, 0) + 'px';
                    $26.style.top = ($1y.top) + 'px';
                };
                $26.row = $1y;
                if ($k.eventMoveToPosition && !$5H) {
                    if ($23.row === $1y) {
                        $26.style.top = ($1y.top + $5E) + "px";
                        $26.style.height = "3px";
                        $26.line = $5D;
                    } else {
                        var $I = ($23.rowIndex > $1y.index && $B > 0) ? $B * $k.$cN.eventHeight() - 3 : 0;
                        $26.style.top = ($1y.top + $I) + "px";
                        $26.style.height = "3px";
                        $26.line = 0;
                    }
                }
            };
            if ($25) {
                $26.style.left = $23.left + 'px';
                if ($k.eventMoveToPosition) {
                    $26.style.width = ($k.cellWidth) + 'px';
                } else {
                    $26.style.width = ($23.width) + 'px';
                };
                $26.start = $23.start;
                $26.end = $23.end;
            } else {
                $26.style.left = ev.part.left + "px";
                $26.start = ev.start();
                $26.end = ev.rawend();
            }; (function checkOverlap() {
                var $z = $26.row;
                var $s = ev.data;
                var $C = $23.width;
                var $P = $23.left;
                var $5h = DayPilot.list(mm.list).map(function($02) {
                    return $02.event.data;
                }).add($s);
                $k.$eO($26, $z, $P, $C, $5h);
            })(); (function() {
                var $0G = $k.$d2;
                if ($0G && $0G.start.getTime() === $26.start.getTime() && $0G.end.getTime() === $26.end.getTime() && $0G.resource === $26.row.id) {
                    return;
                };
                mm.update();
                var external = (DayPilotScheduler.drag ? true: false) && ev.part.external;
                var $n = {};
                $n.start = $26.start;
                $n.end = $k.$cm($26.end);
                $n.duration = new DayPilot.Duration($n.start, $n.end);
                $n.e = ev;
                $n.external = external;
                $n.resource = $26.row.id;
                $n.html = null;
                $n.row = $k.$dh($26.row);
                $n.position = $26.line;
                $n.overlapping = $26.overlapping || mm.forbidden;
                $n.allowed = true;
                $n.left = {};
                $n.left.html = $n.start.toString($k.eventMovingStartEndFormat, $0d.locale());
                $n.left.enabled = $k.eventMovingStartEndEnabled;
                $n.left.space = 5;
                $n.left.width = null;
                $n.right = {};
                $n.right.html = $n.end.toString($k.eventMovingStartEndFormat, $0d.locale());
                $n.right.enabled = $k.eventMovingStartEndEnabled;
                $n.right.space = 5;
                $n.right.width = null;
                $n.multimove = DayPilot.list(mm.list);
                $n.shift = $k.coords.shift;
                $n.ctrl = $k.coords.ctrl;
                $n.meta = $k.coords.meta;
                $n.alt = $k.coords.alt;
                var $17 = {};
                $17.event = ev;
                $17.start = $n.start;
                $17.end = $n.end;
                $n.multimove.splice(0, 0, $17);
                $k.$d2 = $n;
                var $0o = {
                    "start": $n.start,
                    "end": $n.end,
                    "resource": $n.resource
                };
                if (typeof $k.onEventMoving === 'function') {
                    $k.onEventMoving($n);
                };
                $26.allowed = $n.allowed;
                if ($n.start !== $0o.start || $n.end !== $0o.end) {
                    var $M = $n.start;
                    var end = $k.$cZ($n.end);
                    $26.start = $M;
                    $26.end = end;
                    var $0P = DayPilot.DateUtil.diff($M, end);
                    $0P = Math.max($0P, 1);
                    var $2V = $0d.useBox($0P);
                    var $P = $2V ? $k.getPixels($M).boxLeft: $k.getPixels($M).left;
                    var $Q = $2V ? $k.getPixels(end).boxRight: $k.getPixels(end).left;
                    $26.style.left = $P + "px";
                    $26.style.width = ($Q - $P) + "px";
                };
                if ($n.resource !== $0o.resource) {
                    var $z = $k.$bt($n.resource);
                    if ($z) {
                        $26.row = $z;
                        $26.style.height = Math.max($z.height, 0) + 'px';
                        $26.style.top = ($z.top) + 'px';
                        if ($k.eventMoveToPosition) {
                            $26.style.top = ($z.top + $5E) + "px";
                            $26.style.height = "3px";
                            $26.line = $5D;
                        }
                    }
                };
                if ($n.html) {
                    $26.firstChild.innerHTML = $n.html;
                } else {
                    $26.firstChild.innerHTML = "";
                };
                $k.$eT($26, $n);
                DayPilot.Util.addClass(DayPilotScheduler.moving, $k.$bC($08.eventMovingSource));
                $k.$eU(DayPilotScheduler.movingShadow, $n);
            })();
        };
        this.$eO = function($26, $z, $P, $C, $s) {
            if ($k.allowEventOverlap) {
                return;
            }; (function calculate() {
                $26.overlapping = false;
                for (var i = 0; i < $z.lines.length; i++) {
                    var $0x = $z.lines[i];
                    if (!$0x.isFree($P, $C, $s)) {
                        $26.overlapping = true;
                        return;
                    }
                };
                if (!$k.allowMultiRange) {
                    return;
                };
                var $5J = $z.index;
                var $5K = DayPilot.list(mr.list).some(function($02) {
                    var $04 = $02.div;
                    var $5L = parseInt($04.style.left);
                    var $5M = parseInt($04.style.width);
                    var ry = $02.start.y;
                    if ($26 === $04) {
                        return false;
                    };
                    if (ry !== $5J) {
                        return false;
                    };
                    return DayPilot.Util.overlaps($P, $P + $C, $5L, $5L + $5M);
                });
                if ($5K) {
                    $26.overlapping = true;
                    return;
                }
            })();
            var $5N = $26.overlapping;
            var $5g = $k.$bC("_shadow_overlap");
            if ($5N) {
                DayPilot.Util.addClass($26, $5g);
            } else {
                DayPilot.Util.removeClass($26, $5g);
            }
        };
        this.$eT = function($26, $n) {
            var $5g = $k.$bC("_shadow_forbidden");
            if (!$n.allowed || mm.invalid) {
                DayPilot.Util.addClass($26, $5g);
            } else {
                DayPilot.Util.removeClass($26, $5g);
            }
        };
        this.$eU = function($26, $n) {
            var $5O = 5;
            this.$eV();
            var $I = {};
            $I.left = parseInt($26.style.left);
            $I.top = parseInt($26.style.top);
            $I.right = $I.left + parseInt($26.style.width);
            var $C = $n.left.width || 10;
            var $P = document.createElement("div");
            $P.style.position = "absolute";
            $P.style.left = ($I.left - $C - $n.left.space) + "px";
            $P.style.top = $I.top + "px";
            $P.style.height = $k.eventHeight + "px";
            $P.style.overflow = "hidden";
            $P.style.boxSizing = "border-box";
            $P.innerHTML = $n.left.html;
            $P.className = this.$bC("_event_move_left");
            $P.onmousemove = $k.$eW;
            if ($n.left.enabled) {
                $k.divHover.appendChild($P);
                if ($n.left.width) {
                    $P.style.width = $C + "px";
                } else {
                    $P.style.whiteSpace = "nowrap";
                    var $5P = $P.offsetWidth;
                    var $5Q = $I.left - $5P - $n.left.space;
                    $P.style.width = $5P + "px";
                    $P.style.left = $5Q + "px";
                    var $5R = $k.nav.scroll.scrollLeft;
                    if ($5Q < $5R) {
                        $k.divHover.removeChild($P);
                    };
                    var $5S = $k.$eX() + ($5Q - $5R);
                    if ($5S > 0) {
                        $P.style.left = $5S + "px";
                        $P.style.top = ($I.top - $k.nav.scroll.scrollTop + $k.$bF()) + "px";
                        $k.nav.top.appendChild($P);
                        $k.elements.hover.push($P);
                    }
                }
            };
            var $C = $n.right.width || 10;
            var $Q = document.createElement("div");
            $Q.style.position = "absolute";
            $Q.style.left = ($I.right + $n.right.space) + "px";
            $Q.style.top = $I.top + "px";
            $Q.style.height = $k.eventHeight + "px";
            $Q.style.overflow = "hidden";
            $Q.style.boxSizing = "border-box";
            if ($n.right.width) {
                $Q.style.width = $n.right.width + "px";
            } else {
                $Q.style.whiteSpace = "nowrap";
            };
            $Q.innerHTML = $n.right.html;
            $Q.className = this.$bC("_event_move_right");
            $Q.onmousemove = $k.$eW;
            if ($n.right.enabled) {
                $k.divHover.appendChild($Q);
                var $5T = $k.nav.scroll.scrollWidth;
                var $5U = $I.right + $n.right.space + $Q.offsetWidth;
                if ($5U >= $5T) {
                    $k.divHover.removeChild($Q);
                }
            }
        };
        this.$eV = function() {
            $k.divHover.innerHTML = '';
            DayPilot.de($k.elements.hover);
            $k.elements.hover = [];
        };
        this.$eY = function() {
            var $5V = $k.rowHeaderColumnDefaultWidth;
            if (this.rowHeaderColumns) {
                this.rowHeaderCols = DayPilot.Util.propArray(this.rowHeaderColumns, "width", $5V);
            }
        };
        this.$eX = function() {
            var $3T = 0;
            this.$eY();
            if (this.rowHeaderCols) {
                for (var i = 0; i < this.rowHeaderCols.length; i++) {
                    $3T += this.rowHeaderCols[i];
                }
            } else {
                $3T = this.rowHeaderWidth;
            };
            return $3T;
        };
        this.$eZ = function() {
            return this.$f0($k.progressiveRowRenderingPreload);
        };
        this.$f0 = function($5W) {
            var $5W = $5W || 0;
            var $M = 0;
            var end = $k.rowlist.length;
            var $5X = $k.progressiveRowRendering;
            if ($5X) {
                var $L = $k.$bv();
                $M = $L.yStart;
                end = $L.yEnd + 1;
                $M = Math.max(0, $M - $5W);
                end = Math.min($k.rowlist.length, end + $5W);
            };
            return {
                "start": $M,
                "end": end
            }
        };
        this.$f1 = function() {
            if (!this.$f2()) {
                return;
            };
            var $1Z = false;
            var $5Y = 0;
            if (this.rowHeaderWidthAutoFit) {
                var $5Z = this.divHeader;
                if (!$5Z) {
                    return;
                };
                if (!$5Z.rows) {
                    return;
                };
                var $B = [];
                var $1t = $k.$eZ();
                for (var i = $1t.start; i < $1t.end; i++) {
                    var $z = $5Z.rows[i];
                    if (!$z) {
                        continue;
                    };
                    if ($z.hidden) {
                        continue;
                    };
                    if ($z.autofitDone) {
                        continue;
                    };
                    $z.autofitDone = true;
                    for (var j = 0; j < $z.cells.length; j++) {
                        var $07 = $z.cells[j].firstChild.firstChild;
                        if (!$07 || !$07.style) {
                            continue;
                        };
                        var $60 = $07.style.width;
                        var $61 = $07.style.right;
                        $07.style.position = "absolute";
                        $07.style.width = "auto";
                        $07.style.right = "auto";
                        $07.style.whiteSpace = "nowrap";
                        var w = $07.offsetWidth + 2;
                        $07.style.position = "";
                        $07.style.width = $60;
                        $07.style.right = $61;
                        $07.style.whiteSpace = "";
                        if (typeof $B[j] === 'undefined') {
                            $B[j] = 0;
                        };
                        $B[j] = Math.max($B[j], w);
                    }
                };
                this.$eY();
                if (this.rowHeaderCols) {
                    for (var i = 0; i < $B.length; i++) {
                        if (this.rowHeaderCols[i]) {
                            if ($B[i] > this.rowHeaderCols[i]) {
                                this.rowHeaderCols[i] = $B[i];
                                $1Z = true;
                            };
                            $5Y += this.rowHeaderCols[i];
                        }
                    }
                } else {
                    $5Y = this.rowHeaderWidth;
                    if (this.rowHeaderWidth < $B[0] + $k.rowHeaderWidthMarginRight) {
                        $5Y = $B[0] + $k.rowHeaderWidthMarginRight;
                        $1Z = true;
                    }
                }
            };
            if ($1Z) {
                if (this.$f3) {
                    this.$f3.widths = this.rowHeaderCols;
                    this.$f3.updateWidths();
                    DayPilot.Util.updatePropsFromArray(this.rowHeaderColumns, "width", this.rowHeaderCols);
                };
                if (!this.rowHeaderScrolling) {
                    this.rowHeaderWidth = $5Y;
                };
                this.$cJ();
                this.$f4();
            }
        };
        this.$b1 = function() {
            this.$f5 = true;
            this.$eY();
            var $3T = this.$eX();
            var $62 = this.divHeader;
            if ($62) {
                $62.innerHTML = '';
                DayPilot.puc($62);
            } else {
                $62 = document.createElement("div");
                $62.onmousemove = function() {
                    $k.$f6();
                };
                this.divHeader = $62;
            };
            $62.style.width = $3T + "px";
            $62.style.height = $k.$aM + "px";
            $62.rows = [];
            var $5X = $k.progressiveRowRendering;
            if ($5X) {
                $e();
            } else {
                var m = this.rowlist.length;
                for (var i = 0; i < m; i++) {
                    $k.$f7(i);
                }
            };
            $k.$f8();
            this.divResScroll.appendChild($62);
            if (this.rowHeaderWidthAutoFit) {
                this.$f1();
            }
        };
        this.$cK = function() {
            if (!$k.progressiveRowRendering) {
                return;
            };
            var $L = this.$eZ();
            for (var i = 0; i < $k.rowlist.length; i++) {
                if ($L.start <= i && i < $L.end) {
                    $k.$f7(i);
                } else {
                    $k.$f9(i);
                }
            };
            if (this.rowHeaderWidthAutoFit) {
                var $5v = $k.$bG();
                this.$f1();
                var $5A = $k.$bG();
                if ($5A !== $5v) {
                    var $63 = this.cellWidth;
                    this.$aW();
                    var $64 = this.cellWidth;
                    if ($64 !== $63) {
                        $k.$aX();
                        $k.$b2();
                        $k.$b8();
                        $k.$b0();
                        $k.$fa();
                    }
                }
            }
        };
        this.$f8 = function() {
            var $62 = $k.divHeader;
            var c = document.createElement("div");
            c.style.position = "absolute";
            $62.appendChild(c);
            $k.nav.resScrollSpace = c;
            c.setAttribute("unselectable", "on");
            var $04 = document.createElement("div");
            $04.style.position = "relative";
            $04.style.height = "100%";
            $04.className = this.$bC('_rowheader');
            c.appendChild($04);
            var $3T = this.$eX();
            var c = $k.nav.resScrollSpace;
            c.style.width = $3T + "px";
            c.style.top = this.$aM + "px";
            c.style.height = ($k.divResScroll.clientHeight + 20) + "px";
        };
        this.$f9 = function(i) {
            var $z = $k.divHeader.rows[i];
            if (!$z) {
                return;
            };
            DayPilot.de($z.cells);
            $k.divHeader.rows[i] = null;
        };
        this.$cT = function(i) {
            this.$f9(i);
            this.$f7(i);
        };
        this.$f7 = function(i) {
            var $62 = $k.divHeader;
            var $65 = this.divHeader;
            if ($65.rows[i]) {
                return;
            };
            var $66 = this.rowHeaderCols;
            var $1W = $66 ? this.rowHeaderCols.length: 0;
            var $3T = this.$eX();
            var $z = this.rowlist[i];
            if (!$z) {
                return;
            };
            if ($z.hidden) {
                return;
            };
            var $n = this.$fb($z);
            $65.rows[i] = {};
            $65.rows[i].cells = [];
            var c = document.createElement("div");
            c.style.position = "absolute";
            c.style.top = $z.top + "px";
            c.row = $z;
            c.index = i;
            var $2c = $n.row;
            var $C = $66 ? $66[0] : this.rowHeaderWidth;
            c.style.width = ($C) + "px";
            c.style.border = "0px none";
            if ($2c.toolTip) {
                c.title = $2c.toolTip;
            };
            c.setAttribute("unselectable", "on");
            c.onmousemove = $k.$fc;
            c.onmouseout = $k.$fd;
            c.onmouseup = $k.$fe;
            c.oncontextmenu = $k.$ff;
            c.onclick = $k.$fg;
            c.ondblclick = $k.$fh;
            var $04 = document.createElement("div");
            $04.style.width = ($C) + "px";
            $04.setAttribute("unselectable", "on");
            $04.className = this.$bC('_rowheader');
            if ($2c.cssClass) {
                DayPilot.Util.addClass($04, $2c.cssClass);
            };
            if ($2c.backColor) {
                $04.style.background = $2c.backColor;
            };
            $04.style.height = ($z.height) + "px";
            $04.style.overflow = 'hidden';
            $04.style.position = 'relative';
            var $07 = document.createElement("div");
            $07.setAttribute("unselectable", "on");
            $07.className = this.$bC('_rowheader_inner');
            $04.appendChild($07);
            var $0R = this.rowMoveHandling !== "Disabled";
            var $67 = 10;
            var $68 = $2c.areas || [];
            if ($0R && !$2c.moveDisabled) {
                $68.push({
                    "v": "Hover",
                    "w": $67,
                    "bottom": 0,
                    "top": 0,
                    "left": 0,
                    "css": $k.$bC("_rowmove_handle"),
                    "action": "Move"
                });
            };
            var ro = $k.$dh($z);
            DayPilot.Areas.attach($04, ro, {
                "areas": $68,
                "allowed": function() {
                    return ! $69.row;
                }
            });
            var $3B = document.createElement("div");
            $3B.style.position = "absolute";
            $3B.style.bottom = "0px";
            $3B.style.width = "100%";
            $3B.style.height = "1px";
            $3B.className = this.$bC($08.resourcedivider);
            $04.appendChild($3B); (function drawText() {
                if ($k.treeEnabled && !$z.isNewRow) {
                    var $P = $z.level * $k.treeIndent + ( + $k.treeImageMarginLeft);
                    if ($0R) {
                        $P += $67;
                    };
                    var $C = 10;
                    var $3x = document.createElement("div");
                    $3x.style.width = "10px";
                    $3x.style.height = $C + "px";
                    $3x.style.backgroundRepeat = "no-repeat";
                    $3x.style.position = 'absolute';
                    $3x.style.left = $P + 'px';
                    $3x.style.top = $k.treeImageMarginTop + "px";
                    if (!$z.loaded && $z.children.length === 0) {
                        $3x.className = $k.$bC('_tree_image_expand');
                        $3x.style.cursor = 'pointer';
                        $3x.index = i;
                        $3x.onclick = function(ev) {
                            $k.$fi(this.index);
                            ev = ev || window.event;
                            ev.cancelBubble = true;
                        };
                    } else if ($z.children.length > 0) {
                        if ($z.expanded) {
                            $3x.className = $k.$bC('_tree_image_collapse');
                        } else {
                            $3x.className = $k.$bC('_tree_image_expand');
                        };
                        $3x.style.cursor = 'pointer';
                        $3x.index = i;
                        $3x.onclick = function(ev) {
                            $k.$ex(this.index);
                            ev = ev || window.event;
                            ev.cancelBubble = true;
                        };
                    } else {
                        $3x.className = $k.$bC('_tree_image_no_children');
                    };
                    $07.appendChild($3x);
                };
                var $4G = document.createElement("div");
                if ($k.treeEnabled) {
                    $4G.style.marginLeft = ($P + $C) + "px";
                };
                $4G.innerHTML = $2c.html;
                c.textDiv = $4G;
                c.cellDiv = $04;
                $07.appendChild($4G);
            })();
            c.appendChild($04);
            if ($2c.areas) {
                for (var j = 0; j < $2c.areas.length; j++) {
                    var $L = $2c.areas[j];
                    var v = $L.v || "Visible";
                    if (v !== "Visible") {
                        continue;
                    };
                    var r = $k.$dh($z);
                    var a = DayPilot.Areas.createArea($04, r, $L);
                    $04.appendChild(a);
                }
            };
            $62.appendChild(c);
            $65.rows[i].cells.push(c);
            if (!$z.columns || $z.columns.length === 0) {
                c.colSpan = $1W > 0 ? $1W: 1;
                $04.style.width = $3T + "px";
            } else {
                var $P = $C;
                for (var j = 1; j < $1W; j++) {
                    var $6a = $2c.columns[j - 1] || {};
                    var c = document.createElement("div");
                    c.style.position = "absolute";
                    c.style.top = $z.top + "px";
                    c.style.left = $P + "px";
                    $62.appendChild(c);
                    $65.rows[i].cells.push(c);
                    c.row = $z;
                    c.index = i;
                    if ($2c.toolTip) {
                        c.title = $2c.toolTip;
                    };
                    c.setAttribute("unselectable", "on");
                    c.onmousemove = $k.$fc;
                    c.onmouseout = $k.$fd;
                    c.onmouseup = $k.$fe;
                    c.oncontextmenu = $k.$ff;
                    c.onclick = $k.$fg;
                    c.ondblclick = $k.$fh;
                    var $04 = document.createElement("div");
                    var w = $66[j];
                    $P += w;
                    var $4h = $6a.backColor || $2c.backColor;
                    if ($4h) {
                        $04.style.backgroundColor = $4h;
                    };
                    $04.style.width = w + "px";
                    $04.style.height = ($z.height) + "px";
                    $04.style.overflow = 'hidden';
                    $04.style.position = 'relative';
                    $04.setAttribute("unselectable", "on");
                    DayPilot.Util.addClass($04, this.$bC("_rowheader"));
                    DayPilot.Util.addClass($04, this.$bC("_rowheadercol"));
                    DayPilot.Util.addClass($04, this.$bC("_rowheadercol" + j));
                    if ($2c.cssClass) {
                        DayPilot.Util.addClass($04, $2c.cssClass);
                    };
                    if ($6a.cssClass) {
                        DayPilot.Util.addClass($04, $6a.cssClass);
                    };
                    var $07 = document.createElement("div");
                    $07.setAttribute("unselectable", "on");
                    $07.className = this.$bC("_rowheader_inner");
                    $04.appendChild($07);
                    var $3B = document.createElement("div");
                    $3B.style.position = "absolute";
                    $3B.style.bottom = "0px";
                    $3B.style.width = "100%";
                    $3B.style.height = "1px";
                    $3B.className = this.$bC("_resourcedivider");
                    $04.appendChild($3B);
                    var $4G = document.createElement("div");
                    var $6b = $6a.html || "";
                    $4G.innerHTML = $6b;
                    c.textDiv = $4G;
                    c.cellDiv = $04;
                    $07.appendChild($4G);
                    c.appendChild($04);
                }
            }
        };
        this.$ff = function() {
            var $z = this.row;
            if ($z.contextMenu) {
                $z.contextMenu.show($k.$dh($z));
            };
            return false;
        };
        this.$fg = function(ev) {
            if ($1N.cancelClick) {
                return;
            };
            var $z = this.row;
            var r = $k.$dh($z, this.index);
            if ($z.isNewRow) {
                $k.$dn.edit($z);
                return;
            };
            $k.$dk(r, ev.ctrlKey, ev.shiftKey, ev.metaKey);
        };
        this.$fh = function(ev) {
            if ($k.timeouts.resClick) {
                for (var $12 in $k.timeouts.resClick) {
                    window.clearTimeout($k.timeouts.resClick[$12]);
                };
                $k.timeouts.resClick = null;
            };
            var $z = this.row;
            var e = $k.$dh($z, this.index);
            if ($k.$bm()) {
                var $n = {};
                $n.resource = e;
                $n.row = e;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onRowDoubleClick === 'function') {
                    $k.onRowDoubleClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($k.rowDoubleClickHandling) {
                    case 'PostBack':
                        $k.rowDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $k.rowDoubleClickCallBack(e);
                        break;
                    case 'Select':
                        $k.$dm($z, ev.ctrlKey, ev.shiftKey, ev.metaKey);
                        break;
                    case 'Edit':
                        $k.$dn.edit($z);
                        break;
                };
                if (typeof $k.onRowDoubleClicked === 'function') {
                    $k.onRowDoubleClicked($n);
                }
            } else {
                switch ($k.rowDoubleClickHandling) {
                    case 'PostBack':
                        $k.rowDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $k.rowDoubleClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $k.onRowDoubleClick(e);
                        break;
                    case 'Select':
                        $k.$dm($z, ev.ctrlKey, ev.shiftKey, ev.metaKey);
                        break;
                    case 'Edit':
                        $k.$dn.edit($z);
                        break;
                }
            }
        };
        this.rowDoubleClickPostBack = function(e, $s) {
            var $0Y = {};
            $0Y.resource = e;
            this.$c8("RowDoubleClick", $0Y, $s);
        };
        this.rowDoubleClickCallBack = function(e, $s) {
            var $0Y = {};
            $0Y.resource = e;
            this.$c9("RowDoubleClick", $0Y, $s);
        };
        this.$fj = function(ev) {
            var $R = {};
            $R.start = this.cell.start;
            $R.level = this.cell.level;
            $R.end = this.cell.end;
            if (!$R.end) {
                $R.end = new DayPilot.Date($R.start).addMinutes($k.cellDuration);
            };
            $k.$do($R);
        };
        this.$dh = function($z) {
            return new DayPilot.Row($z, $k);
        };
        this.$bU = function(i) {
            var $z = this.rowlist[i];
            if (!$z.events) {
                $z.resetEvents();
            };
            if ($z.data) {
                return;
            };
            $z.data = {};
            $z.data.start = new DayPilot.Date($z.start);
            $z.data.startTicks = $z.data.start.getTime();
            var $0P = this.$bX().getTime() - this.$bT().getTime();
            $z.data.end = $0d.isResourcesView() ? $z.data.start.addTime($0P) : $z.data.start.addDays(1);
            $z.data.endTicks = $z.data.end.getTime();
            $z.data.offset = $z.start.getTime() - this.$bT().getTime();
            $z.data.i = i;
        };
        this.$b0 = function($01) {
            if ($01) {
                this.events.list = $01;
            } else if (!this.events.list) {
                this.events.list = [];
            };
            if (this.events.list != null && !DayPilot.isArray(this.events.list)) {
                throw "DayPilot.Scheduler.events.list expects an array object";
            };
            $20.prepareRows(true);
            var $00 = this.events.list;
            var $6c = $00.length;
            var $6d = typeof this.onBeforeEventRender === 'function';
            var $1d;
            var $6e = $k.viewType === "Resources";
            for (var j = 0; j < $6c; j++) {
                var $6f = $00[j];
                if (!$6f) {
                    continue;
                };
                if ($6f instanceof DayPilot.Event) {
                    throw "DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.";
                };
                if ($6d) {
                    this.$e3(j);
                };
                if ($6f.resource === "*") {
                    $1d = $k.rowlist;
                } else if ($6e) {
                    $1d = DayPilot.list($20.rowcache[$6f.resource]).concat($20.rowcache["*"]);
                } else if ($k.viewType === "Days") {
                    $1d = $k.rowlist;
                } else if ($k.viewType === "Gantt") {
                    $1d = $20.rowcache[$6f.id];
                };
                for (var x = 0; $1d && x < $1d.length; x++) {
                    var $z = $1d[x];
                    var ep = this.$e4($6f, $z);
                    if (!ep) {
                        continue;
                    };
                    if ($6d) {
                        ep.cache = this.$aN.events[j];
                    }
                }
            };
            DayPilot.list($k.rowlist).each(function($z) {
                $k.$fk($z);
            });
            this.$ct();
        };
        this.$fl = function($01) {
            var $6g = [];
            var $6h = [];
            var $6i = null;
            if ($01 && $6j) {
                var $6k = $01;
                var $6i = [];
                for (var i = 0; i < $6k.length; i++) {
                    var e = $6k[i];
                    var $6l = false;
                    for (var j = 0; j < this.events.list.length; j++) {
                        var ex = this.events.list[j];
                        if (ex.id === e.id && ex.start.toString() === e.start.toString() && ex.resource === e.resource) {
                            var $1d = $k.events.$cq(ex);
                            $6h = $6h.concat($1d);
                            this.events.list[j] = e;
                            $6l = true;
                            break;
                        }
                    };
                    if (!$6l) {
                        $6i.push(e);
                    }
                };
                this.events.list = this.events.list.concat($6i);
            } else if ($01) {
                this.events.list = $01;
            } else if (!this.events.list) {
                this.events.list = [];
            };
            var $00 = $6i || this.events.list;
            if ($01) {
                this.events.list = $01;
            } else if (!this.events.list) {
                this.events.list = [];
            };
            var $00 = this.events.list;
            var $6m = $00.length;
            if (typeof this.onBeforeEventRender === 'function') {
                var $M = $6i ? this.events.list.length - $6i.length: 0;
                var end = this.events.list.length;
                for (var i = $M; i < end; i++) {
                    this.$e3(i);
                }
            };
            var $6n = !this.$e2();
            var $6o = true;
            if ($6o) {
                var $6p = !$6i || typeof $z.events === "undefined";
                $20.prepareRows($6p);
                for (var j = 0; $00 && j < $6m; j++) {
                    if ($6g[j]) {
                        continue;
                    };
                    var $6f = $00[j];
                    if (!$6f) {
                        continue;
                    };
                    var $1d = [];
                    if ($6f.resource === "*") {
                        $1d = $k.rowlist;
                    } else if ($k.viewType === "Days") {
                        $1d = $k.rowlist;
                    } else if ($k.viewType === "Gantt") {
                        $1d = $20.rowcache[$6f.id];
                    } else {
                        $1d = $20.rowcache[$6f.resource];
                    };
                    for (var x = 0; $1d && x < $1d.length; x++) {
                        var $z = $1d[x];
                        var ep = this.$e4($6f, $z);
                        if (!ep) {
                            continue;
                        };
                        if (typeof this.onBeforeEventRender === 'function') {
                            ep.cache = this.$aN.events[j + $M];
                        };
                        $6h.push($z.index);
                    }
                }
            } else {
                for (var i = 0; i < this.rowlist.length; i++) {
                    var $z = this.rowlist[i];
                    if (!$6i || typeof $z.events === "undefined") {
                        $z.resetEvents();
                    };
                    $k.$bU(i);
                    if (this.$dS(i)) {
                        continue;
                    };
                    for (var j = 0; $00 && j < $6m; j++) {
                        if ($6g[j]) {
                            continue;
                        };
                        var e = $00[j];
                        var ep = this.$e4(e, $z);
                        if (!ep) {
                            continue;
                        };
                        if (typeof this.onBeforeEventRender === 'function') {
                            ep.cache = this.$aN.events[j + $M];
                        };
                        $6h.push(i);
                        if ($6n) {
                            if (ep.data.resource !== "*" && ep.part.start.getTime() === ep.start().getTime() && ep.part.end.getTime() === ep.rawend().getTime()) {
                                $6g[j] = true;
                            }
                        }
                    }
                }
            };
            for (var i = 0; i < this.rowlist.length; i++) {
                var $z = this.rowlist[i];
                this.$fk($z);
            };
            this.$ct();
            return DayPilot.ua($6h);
        };
        this.$fm = {};
        var $20 = this.$fm;
        $20.rowCache = {};
        $20.prepareRows = function($6p) {
            $20.rowcache = {};
            for (var i = 0; i < $k.rowlist.length; i++) {
                var $z = $k.rowlist[i];
                if ($6p) {
                    $z.resetEvents();
                };
                $k.$bU(i);
                if (!$z.id) {
                    continue;
                };
                var $6q = $z.id.toString();
                if (!$20.rowcache[$6q]) {
                    $20.rowcache[$6q] = DayPilot.list();
                };
                $20.rowcache[$6q].push($z);
            }
        };
        $20.loadEvent = function($6f) {};
        this.$e2 = function() {
            var $6r = {};
            if ($k.viewType !== "Resources") {
                return false;
            };
            for (var i = 0; i < $k.rowlist.length; i++) {
                var $z = $k.rowlist[i];
                var id = $z.id;
                if ($6r[id]) {
                    return true;
                };
                $6r[id] = true;
            };
            return false;
        };
        this.$e3 = function(i) {
            var $0z = this.$aN.events;
            var $s = this.events.list[i];
            var $6s = {};
            if ($s instanceof DayPilot.Event) {
                $s = $s.data;
            };
            for (var name in $s) {
                $6s[name] = $s[name];
            };
            if (typeof this.onBeforeEventRender === 'function') {
                var $n = {};
                $n.e = $6s;
                $n.data = $6s;
                this.onBeforeEventRender($n);
            };
            $0z[i] = $6s;
        };
        this.$fk = function($z) {
            $z.lines = [];
            $z.sections = null;
            if ($z.isNewRow) {
                return;
            };
            if (this.sortDirections) {
                $z.events.sort(this.$fn);
            } else if (!$k.cellStacking) {
                $z.events.sort(this.$fo);
            };
            var $6t = $k.cellStacking;
            if ($6t) {
                $6u.loadRow($z);
                return;
            };
            var $6v = $k.groupConcurrentEvents;
            if ($6v) {
                for (var i = 0; i < $z.blocks.length; i++) {
                    $z.blocks[i].clear();
                }
            };
            DayPilot.list($z.events).each(function(e) {
                if (e.part.height) {
                    return;
                };
                if ($z.eventHeight) {
                    e.part.height = $z.eventHeight;
                    return;
                };
                e.part.height = $0d.eventHeight();
            });
            for (var j = 0; j < $z.events.length; j++) {
                var e = $z.events[j];
                $z.putIntoLine(e);
                if ($6v) {
                    $z.putIntoBlock(e);
                }
            };
            var $6w = 0;
            for (var i = 0; i < $z.lines.length; i++) {
                var $0x = $z.lines[i];
                $0x.top = $6w;
                $6w += ($0x.height || $z.eventHeight) * $z.eventStackingLineHeight / 100;
            };
            if ($6v) {
                for (var j = 0; j < $z.blocks.length; j++) {
                    var $6x = $z.blocks[j];
                    $6x.lines = [];
                    $6x.events.sort(this.$fn);
                    for (var k = 0; k < $6x.events.length; k++) {
                        var e = $6x.events[k];
                        $6x.putIntoLine(e);
                    };
                    if ($6x.lines.length <= $k.groupConcurrentEventsLimit) {
                        $6x.expanded = true;
                    };
                    var $6y = DayPilot.list($6x.events).map(function(e) {
                        return e.id();
                    }).some(function($02) {
                        return DayPilot.contains($k.$fp, $02);
                    });
                    if ($6y) {
                        $6x.expanded = true;
                    };
                    var $6w = 0;
                    for (var i = 0; i < $6x.lines.length; i++) {
                        var $0x = $6x.lines[i];
                        $0x.top = $6w;
                        $6w += ($0x.height || $z.eventHeight) * $z.eventStackingLineHeight / 100;
                    }
                }
            }
        };
        this.$cs = function($1d) {
            $1d = DayPilot.ua($1d);
            for (var i = 0; i < $1d.length; i++) {
                var ri = $1d[i];
                $k.$fk($k.rowlist[ri]);
            };
            if ($k.cellStacking) {
                $6u.calculateEventPositions();
            } else {
                for (var i = 0; i < $1d.length; i++) {
                    var ri = $1d[i];
                    var $z = $k.rowlist[ri];
                    $k.$eJ($z);
                }
            }
        };
        this.$ej = function() {
            var $M = $k.scale === "Manual" ? $k.itline[0].start: $k.startDate;
            return DayPilot.list($k.rowlist).some(function($02) {
                if (!$02.start) {
                    return false;
                };
                return $02.start.getTime() !== new DayPilot.Date($M).getTime();
            });
        };
        this.$e4 = function(e, $z) {
            if ($z.hideEvents) {
                return;
            };
            var $M = new DayPilot.Date(e.start);
            var end = new DayPilot.Date(e.end);
            end = $k.$cZ(end);
            var $6z = $M.ticks;
            var $6A = end.ticks;
            if ($6A < $6z) {
                return null;
            };
            var $0z = null;
            if (typeof $k.onBeforeEventRender === 'function') {
                var $1B = DayPilot.indexOf($k.events.list, e);
                $0z = $k.$aN.events[$1B];
            };
            if ($0z) {
                if ($0z.hidden) {
                    return null;
                }
            } else if (e.hidden) {
                return null;
            };
            var $6B = false;
            switch (this.viewType) {
                case 'Days':
                    $6B = !($6A <= $z.data.startTicks || $6z >= $z.data.endTicks) || ($6z === $6A && $6z === $z.data.startTicks);
                    break;
                case 'Resources':
                    $6B = ($z.id === e.resource || $z.id === "*" || e.resource === "*") && (!($6A <= $z.data.startTicks || $6z >= $z.data.endTicks) || ($6z === $6A && $6z === $z.data.startTicks));
                    break;
                case 'Gantt':
                    $6B = ($z.id === e.id) && !($6A <= $z.data.startTicks || $6z >= $z.data.endTicks);
                    break;
            };
            if (!$6B) {
                return null;
            };
            var ep = new DayPilot.Event(e, $k);
            ep.part.dayIndex = $z.data.i;
            ep.part.start = $z.data.startTicks < $6z ? $M: $z.data.start;
            ep.part.end = $z.data.endTicks > $6A ? end: $z.data.end;
            var $6C = this.getPixels(ep.part.start.addTime( - $z.data.offset));
            var $6D = this.getPixels(ep.part.end.addTime( - $z.data.offset));
            if (ep.part.start === ep.part.end) {
                $6D = this.getPixels(ep.part.end.addTime( - $z.data.offset).addSeconds(1));
            };
            if ($0z && $0z.height) {
                ep.part.height = $0z.height;
            } else if (e.height) {
                ep.part.height = e.height;
            };
            ep.part.$fq = function() {
                var $6E = this.height;
                if ($k.eventVersionsEnabled && !DayPilot.list(ep.data.versions).isEmpty()) {
                    var $0j = ep.versions.length;
                    $6E += $0j * $k.eventVersionHeight;
                    $6E += $0j * $k.eventVersionMargin;
                };
                return $6E + $k.eventMarginBottom;
            };
            var $P = $6C.left;
            var $Q = $6D.left;
            ep.part.startPixels = $6C;
            ep.part.endPixels = $6D;
            if ($P === $Q) {
                if ($6C.cut || $6D.cut) {
                    return null;
                };
                var $29 = (ep.part.start.addTime( - $z.data.offset).getTime() + ep.part.end.addTime( - $z.data.offset).getTime()) / 2;
                var $6F = $k.getPixels(new DayPilot.Date(Math.floor($29)));
                if ($6F.cut) {
                    return null;
                }
            };
            ep.part.box = $0d.useBox($6A - $6z);
            var $2X = $k.eventHeight;
            if (e.type === "Milestone") {
                var $C = e.width || $2X;
                ep.part.end = ep.part.start;
                ep.part.left = $P - $C / 2;
                ep.part.width = $C;
                ep.part.barLeft = 0;
                ep.part.barWidth = $C;
            } else if (ep.part.box) {
                var $6G = $6C.boxLeft;
                var $6H = $6D.boxRight;
                ep.part.left = $6G;
                ep.part.width = $6H - $6G;
                ep.part.barLeft = Math.max($P - ep.part.left, 0);
                ep.part.barWidth = Math.max($Q - $P, 1);
            } else {
                ep.part.left = $P;
                ep.part.width = Math.max($Q - $P, 1);
                ep.part.barLeft = 0;
                ep.part.barWidth = Math.max($Q - $P - 1, 1);
            };
            if ($k.eventVersionsEnabled) {
                $k.$fr(ep, $z);
            };
            if (typeof $k.onEventFilter === "function" && $k.events.$dZ) {
                var $n = {};
                $n.filter = $k.events.$dZ;
                $n.visible = true;
                $n.e = ep;
                $k.onEventFilter($n);
                if (!$n.visible) {
                    return null;
                }
            };
            $z.events.push(ep);
            return ep;
        };
        this.$fr = function(ep, $z) {
            ep.versions = [];
            var $s = ep.data;
            var $00 = DayPilot.list($s.versions);
            if ($00.isEmpty()) {
                return;
            };
            $00.each(function($1C) {
                var $M = new DayPilot.Date($1C.start);
                var end = new DayPilot.Date($1C.end);
                var $6C = $k.getPixels($M.addTime( - $z.data.offset));
                var $6D = $k.getPixels(end.addTime( - $z.data.offset));
                if ($M.ticks === end.ticks) {
                    $6D = $k.getPixels(end.addTime( - $z.data.offset).addTime(1));
                };
                var $P = $6C.left;
                var $Q = $6D.left;
                if ($P === $Q && ($6C.cut || $6D.cut)) {
                    return null;
                };
                var $6I = {};
                $6I.left = $P;
                $6I.continueLeft = $M < $z.data.start;
                $6I.right = $Q;
                $6I.continueRight = end > $z.data.end;
                $6I.width = $Q - $P;
                ep.versions.push($6I);
            });
        };
        this.$fo = function(a, b) {
            if (!a || !b || !a.start || !b.start) {
                return 0;
            };
            var $6J = a.start().ticks - b.start().ticks;
            if ($6J !== 0) {
                return $6J;
            };
            var $6K = b.end().ticks - a.end().ticks;
            return $6K;
        };
        this.$fn = function(a, b) {
            if (!a || !b) {
                return 0;
            };
            if (!a.data || !b.data || !a.data.sort || !b.data.sort || a.data.sort.length === 0 || b.data.sort.length === 0) {
                return $k.$fo(a, b);
            };
            var $l = 0;
            var i = 0;
            while ($l === 0 && typeof a.data.sort[i] !== "undefined" && typeof b.data.sort[i] !== "undefined") {
                if (a.data.sort[i] === b.data.sort[i]) {
                    $l = 0;
                } else if (typeof a.data.sort[i] === "number" && typeof b.data.sort[i] === "number") {
                    $l = a.data.sort[i] - b.data.sort[i];
                } else {
                    $l = $k.$fs(a.data.sort[i], b.data.sort[i], $k.sortDirections[i]);
                };
                i++;
            };
            return $l;
        };
        this.$fs = function(a, b, $6L) {
            var $6M = ($6L !== "desc");
            var $6N = $6M ? -1 : 1;
            var $6O = -$6N;
            if (a === null && b === null) {
                return 0;
            };
            if (b === null) {
                return $6O;
            };
            if (a === null) {
                return $6N;
            };
            var ar = [];
            ar[0] = a;
            ar[1] = b;
            ar.sort();
            return a === ar[0] ? $6N: $6O;
        };
        this.$dm = function($z, $1f, $1E, $1g) {
            if ($k.$bm()) {
                var $1B = DayPilot.indexOf($k.rowlist, $z);
                var e = $k.$dh($z, $1B);
                var $6P = DayPilot.indexOf($1N.selected, $z) !== -1;
                var $0X = $6P ? "deselected": "selected";
                var $n = {};
                $n.row = e;
                $n.selected = $6P;
                $n.ctrl = $1f;
                $n.shift = $1E;
                $n.meta = $1g;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onRowSelect === 'function') {
                    $k.onRowSelect($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                var $6Q = $1E && !$1f && !$1g;
                if (!$1E) {
                    $1N.$ft = {
                        "row": $z,
                        "index": $1B
                    };
                };
                if ($6Q) {
                    $1N.fixRowSelectLast();
                    var $6R = $1N.$ft.index;
                    var $6S = $1B;
                    $1N.selectRange($6R, $6S);
                };
                switch ($k.rowSelectHandling) {
                    case 'PostBack':
                        $k.rowSelectPostBack(e, $0X);
                        break;
                    case 'CallBack':
                        $k.rowSelectCallBack(e, $0X);
                        break;
                    case "Notify":
                        !$6Q && $1N.select($z, $1f, $1E, $1g);
                        $k.rowSelectNotify(e, $0X);
                        break;
                    case 'Update':
                        !$6Q && $1N.select($z, $1f, $1E, $1g);
                        break;
                };
                if (typeof $k.onRowSelected === 'function') {
                    $n.selected = DayPilot.indexOf($1N.selected, $z) !== -1;
                    $k.onRowSelected($n);
                }
            } else {
                $1N.select($z, $1f, $1E);
                var $1B = DayPilot.indexOf($k.rowlist, $z);
                var e = $k.$dh($z, $1B);
                var $6P = DayPilot.indexOf($1N.selected, $z) !== -1;
                var $0X = $6P ? "deselected": "selected";
                switch ($k.rowSelectHandling) {
                    case 'PostBack':
                        $k.rowSelectPostBack(e, $0X);
                        break;
                    case 'CallBack':
                        $k.rowSelectCallBack(e, $0X);
                        break;
                    case "Notify":
                        $k.rowSelectNotify(e, $0X);
                        break;
                    case 'JavaScript':
                        $k.onRowSelect(e, $0X);
                        break;
                }
            }
        };
        this.rowSelectPostBack = function(r, $0X, $s) {
            var $0Y = {};
            $0Y.resource = r;
            $0Y.change = $0X;
            this.$c8('RowSelect', $0Y, $s);
        };
        this.rowSelectCallBack = function(r, $0X, $s) {
            var $0Y = {};
            $0Y.resource = r;
            $0Y.change = $0X;
            this.$c9('RowSelect', $0Y, $s);
        };
        this.rowSelectNotify = function(r, $0X, $s) {
            var $0Y = {};
            $0Y.resource = r;
            $0Y.change = $0X;
            this.$c9('RowSelect', $0Y, $s, "Notify");
        };
        this.rows = {};
        this.rows.selection = {};
        var $6T = this.rows.selection;
        $6T.get = function() {
            var $00 = [];
            DayPilot.list($1N.selected).each(function($02) {
                $00.push($k.$dh($02));
            });
            return $00;
        };
        $6T.clear = function() {
            $1N.clearSelection();
        };
        $6T.add = function($z) {
            if (!$z || !$z.isRow) {
                throw "DayPilot.Scheduler.rows.selection.add(): DayPilot.Row object expected";
            };
            var $6U = DayPilot.list($1N.selected).some(function($02) {
                return $02 === $z.$.row;
            });
            if (!$6U) {
                $1N.selected.push($z.$.row);
            };
            $1N.$fu();
            $6T.$fv();
        };
        $6T.remove = function($z) {
            if (!$z || !$z.isRow) {
                throw "DayPilot.Scheduler.rows.selection.remove(): DayPilot.Row object expected";
            };
            var $6P = $6T.isSelected($z);
            if ($6P) {
                $1N.unselect($z.$.row);
                DayPilot.rfa($1N.selected, $z.$.row);
            };
            $6T.$fv();
        };
        $6T.isSelected = function($z) {
            if (!$z || !$z.isRow) {
                throw "DayPilot.Scheduler.rows.selection.isSelected(): DayPilot.Row object expected";
            };
            var $6P = DayPilot.indexOf($1N.selected, $z.$.row) !== -1;
            return $6P;
        };
        $6T.$fv = function() {
            $k.selectedRows = DayPilot.list($1N.selected).map(function($02) {
                return $02.id;
            });
        };
        this.rows.all = function() {
            var $00 = [];
            for (var i = 0; i < $k.rowlist.length; i++) {
                var r = $k.$dh($k.rowlist[i]);
                $00.push(r);
            };
            return $2P($00);
        };
        this.rows.visible = function() {
            var $00 = [];
            for (var i = 0; i < $k.rowlist.length; i++) {
                var r = $k.rowlist[i];
                if (!r.hidden) {
                    var r = $k.$dh($k.rowlist[i]);
                    $00.push(r);
                }
            };
            return $2P($00);
        };
        this.rows.each = function(f) {
            $k.rows.all().each(f);
        };
        this.rows.filter = function($6V) {
            $k.rows.$dZ = $6V;
            if ($k.$cS) {
                $k.$cx({
                    "immediateEvents": true
                });
            }
        };
        this.rows.find = function(id, $M) {
            var $6W = DayPilot.list($20.rowcache[id]);
            var $0M = null;
            if (typeof $M === "string") {
                $0M = $6W.find(function($02) {
                    return $M === $02.start.toString();
                });
            } else {
                $0M = $6W.first();
            };
            if ($0M) {
                return new DayPilot.Row($0M, $k);
            };
            return null;
        };
        this.rows.load = function($2A) {
            DayPilot.ajax({
                "method": "POST",
                "url": $2A,
                "success": function($n) {
                    var r = $n.request;
                    var $s = DayPilot.Util.parseJSON(r.responseText);
                    if (DayPilot.isArray($s)) {
                        $k.resources = $s;
                        if ($k.$cS) {
                            $k.update();
                        }
                    }
                }
            });
        };
        this.rows.expand = function($6X) {
            var $1d = [];
            var $6Y = $6X || 1;
            for (var i = 0; i < $k.rowlist.length; i++) {
                var $z = $k.rowlist[i];
                var $6Z = $6Y === -1;
                if ($z.level < $6Y) {
                    $6Z = true;
                };
                if ($6Z && !$z.expanded && $z.children && $z.children.length > 0) {
                    $1d.push($z.index);
                }
            };
            if ($1d.length === 0) {
                return;
            };
            if ($1d.length === 1) {
                $k.$ex($1d[0]);
            } else {
                for (var i = 0; i < $1d.length; i++) {
                    var $1B = $1d[i];
                    var $1O = $k.rowlist[$1B].resource;
                    $1O.expanded = true;
                };
                $k.$cx();
            }
        };
        this.rows.expandAll = function() {
            $k.rows.expand( - 1);
        };
        this.rows.collapseAll = function() {
            $k.rowlist.each(function($z) {
                $z.resource.expanded = false;
            });
            $k.$cx();
        };
        this.rows.headerHide = function() {
            $k.$fw = true;
            $k.$fx();
            $k.$f4();
            $k.$bL();
        };
        this.rows.headerShow = function() {
            $k.$fw = false;
            $k.$fx();
            $k.$f4();
            $k.$bL();
        };
        this.rows.headerToggle = function() {
            if ($k.$fw) {
                $k.rows.headerShow();
            } else {
                $k.rows.headerHide();
            }
        };
        this.rows.edit = function($z) {
            $1N.edit($z.$.row);
        };
        this.rows.remove = function($z) {
            var $s = $z.$.row.resource;
            var $70 = $71.findParentArray($s);
            if (!$70) {
                throw "Cannot find source node parent";
            };
            var $72 = DayPilot.indexOf($70, $s);
            $70.splice($72, 1);
            $k.update();
        };
        this.rows.update = function($z) {
            if (! ($z instanceof DayPilot.Row)) {
                throw new DayPilot.Exception("DayPilot.Scheduler.rows.update() expects a DayPilot.Row object.");
            };
            var $1B = $z.index;
            var $1y = $k.rowlist[$1B];
            var $1O = $z.data;
            var parent = $z.parent() ? $z.parent().$.row: null;
            var $73 = $k.$fy($1O);
            var $z = $k.$fz($73, parent);
            $z.hidden = $1y.hidden;
            $z.level = $1y.level;
            $z.children = $1y.children;
            $z.index = $1B;
            $z.top = $1y.top;
            $z.height = $1y.height;
            $k.rowlist[$1B] = $z;
            $z.resetEvents();
            $k.$bU($1B);
            $k.$fA($z);
            $k.$fk($z);
            $k.$cT($1B);
            $k.$b9();
            $k.$bd();
        };
        this.$fA = function($z) {
            var $01 = $k.events.list;
            var $6c = $01.length;
            var $6d = typeof $k.onBeforeEventRender === "function";
            var $1d;
            for (var j = 0; j < $6c; j++) {
                var $6f = $01[j];
                if (!$6f) {
                    continue;
                };
                if ($6f instanceof DayPilot.Event) {
                    throw new DayPilot.Exception("DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.");
                };
                if ($k.viewType === "Days") {
                    throw new DayPilot.Exception(".rows.update() not supported for viewType = 'Days'.");
                } else if ($k.viewType === "Gantt") {
                    throw new DayPilot.Exception(".rows.update() not supported for viewType = 'Gantt'.");
                };
                var $6B = $6f.resource === "*" || $z.id === "*" || $6f.resource === $z.id;
                if (!$6B) {
                    continue;
                };
                if ($6d) {
                    this.$e3(j);
                };
                var ep = this.$e4($6f, $z);
                if (!ep) {
                    continue;
                };
                if ($6d) {
                    ep.cache = this.$aN.events[j];
                }
            }
        };
        this.$fB = function() {
            var $1C = $69.source;
            var $1D = $69.target;
            var $y = $69.position;
            $1N.resetMoving();
            if ($k.$bm()) {
                var $n = {};
                $n.source = $k.$dh($1C);
                $n.target = $k.$dh($1D);
                $n.position = $y;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onRowMove === "function") {
                    $k.onRowMove($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($k.rowMoveHandling) {
                    case "Update":
                        $1N.move($n);
                        break;
                    case "CallBack":
                        $k.rowMoveCallBack($n.source, $n.target, $n.position);
                        break;
                    case "PostBack":
                        $k.rowMovePostBack($n.source, $n.target, $n.position);
                        break;
                    case "Notify":
                        $1N.move($n);
                        $k.rowMoveNotify($n.source, $n.target, $n.position);
                        break;
                };
                if (typeof $k.onRowMoved === "function") {
                    $k.onRowMoved($n);
                }
            } else {
                var $1C = $k.$dh($1C);
                var $1D = $k.$dh($1D);
                var $y = $y;
                switch ($k.rowMoveHandling) {
                    case "CallBack":
                        $k.rowMoveCallBack($1C, $1D, $y);
                        break;
                    case "PostBack":
                        $k.rowMovePostBack($1C, $1D, $y);
                        break;
                    case "JavaScript":
                        $k.onRowMove($1C, $1D, $y);
                        break;
                }
            }
        };
        this.$bk = function($1d) {
            var $00 = DayPilot.list($1d);
            $1N.selected = [];
            if (!$00.isEmpty()) {
                $k.$aD = false;
                $k.$aZ();
            };
            $00.each(function($02) {
                var $z = $k.$bt($02);
                if ($z) {
                    $1N.selected.push($z);
                }
            });
            $1N.$fu();
        };
        this.$dn = {};
        var $1N = this.$dn;
        $1N.edit = function($z) {
            var $74 = $1N.$fC($z);
        };
        $1N.rowSelectLastSetDefault = function() {
            $1N.$ft = {
                "row": $k.rowlist[0],
                "index": 0
            };
        };
        $1N.rowSelectSetLast = function($z) {
            var $1B = DayPilot.indexOf($k.rowlist, $z);
            if ($1B === -1) {
                throw "DayPilot.Scheduler: Row not found when selecting a range";
            };
            $1N.$ft = {
                "row": $z,
                "index": $1B
            };
        };
        $1N.fixRowSelectLast = function() {
            if (!$1N.$ft) {
                $1N.rowSelectLastSetDefault();
            };
            var $1B = DayPilot.indexOf($k.rowlist, $1N.$ft.row);
            if ($1B > -1) {
                return;
            };
            var $z = $k.$bt($1N.$ft.row.id);
            if ($z) {
                $1B = DayPilot.indexOf($k.rowlist, $z);
                $1N.$ft = {
                    "row": $z,
                    "index": $1B
                };
            } else {
                $1N.rowSelectLastSetDefault();
            }
        };
        $1N.createOverlay = function($z) {
            var $C = $k.$eX();
            var $2Q = $k.$bC("_rowmove_source");
            var $04 = DayPilot.Util.div($k.divHeader, 0, $z.top, $C, $z.height);
            $04.className = $2Q;
            $z.moveOverlay = $04;
        };
        $1N.deleteOverlay = function($z) {
            DayPilot.de($z.moveOverlay);
            $z.moveOverlay = null;
        };
        $1N.$fC = function($z) {
            var r = $1N.$fD($z);
            var c = r.cells[0];
            if (c.input) {
                return c.input;
            };
            var $C = c.clientWidth;
            if ($z.isNewRow) {
                $C = $k.$bG();
            };
            var $74 = document.createElement("textarea");
            $74.style.position = "absolute";
            $74.style.top = "0px";
            $74.style.left = "0px";
            $74.style.width = $C + "px";
            $74.style.height = $z.height + "px";
            $74.style.border = "0px none";
            $74.style.overflow = "hidden";
            $74.style.boxSizing = "border-box";
            $74.style.resize = "none";
            $74.style.paddingLeft = ($z.level * $k.treeIndent) + "px";
            var $21 = c.textDiv;
            $74.style.fontFamily = DayPilot.gs($21, 'fontFamily') || DayPilot.gs($21, 'font-family');
            $74.style.fontSize = DayPilot.gs($21, 'fontSize') || DayPilot.gs($21, 'font-size');
            $74.value = $z.name || "";
            c.firstChild.appendChild($74);
            c.input = $74;
            var $75 = function() {
                try {
                    c.input.parentNode.removeChild(c.input);
                } catch(e) {
                    $e();
                };
                c.input = null;
            };
            $74.focus();
            $74.onblur = function() {
                $74.onblur = null;
                var $1z = $74.value;
                $75();
                $k.$dj($z, $1z, $74.canceled);
            };
            $74.onkeydown = function(e) {
                var $76 = (window.event) ? event.keyCode: e.keyCode;
                if ($76 === 27) {
                    $74.canceled = true;
                    $75();
                };
                if ($76 === 13) {
                    $74.onblur();
                    return false;
                };
                return true;
            };
            if ($74.setSelectionRange) {
                $74.setSelectionRange(0, 9999);
            } else {
                $74.select();
            };
            return $74;
        };
        $1N.selected = [];
        $1N.select = function($z, $1f, $1E, $1g) {
            var $6P = DayPilot.indexOf($1N.selected, $z) !== -1;
            if ($1f || $1g) {
                if ($6P) {
                    $1N.unselect($z);
                    DayPilot.rfa($1N.selected, $z);
                    return;
                }
            } else {
                $6P = false;
                $1N.clearSelection();
            };
            $1N.$fE($z);
            if (!$6P) {
                $1N.selected.push($z);
            };
            $6T.$fv();
        };
        $1N.selectRange = function($6R, $6S) {
            $1N.clearSelection();
            var $5C = Math.min($6R, $6S);
            var $B = Math.max($6R, $6S);
            for (var i = $5C; i <= $B; i++) {
                var $z = $k.rowlist[i];
                $1N.$fE($z);
                $1N.selected.push($z);
            };
            $6T.$fv();
        };
        $1N.$fu = function() {
            for (var i = 0; i < $1N.selected.length; i++) {
                var $z = $1N.selected[i];
                $1N.$fE($z);
            }
        };
        $1N.$fE = function($z) {
            var y = DayPilot.indexOf($k.rowlist, $z);
            if (y === -1) {
                var $1D = $k.$bt($z.id);
                if ($1D) {
                    y = $1D.index;
                } else {
                    return;
                }
            };
            var cl = $k.$bC("_cell_selected");
            var $O = [];
            for (var i = 0; i < $k.itline.length; i++) {
                var c = {};
                c.x = i;
                c.y = y;
                $O.push(c);
            };
            $k.cells.findXy($O).addClass(cl);
            var cl = $k.$bC("_rowheader_selected");
            var $5Z = $k.divHeader;
            for (var y = 0; y < $5Z.rows.length; y++) {
                var r = $5Z.rows[y];
                if (r && r.cells[0] && r.cells[0].row === $z) {
                    for (var x = 0; x < r.cells.length; x++) {
                        var c = r.cells[x];
                        var $0M = c.firstChild;
                        DayPilot.Util.addClass($0M, cl);
                    }
                }
            }
        };
        $1N.$dA = function() {
            var $00 = [];
            if (!$1N.selected) {
                return $00;
            };
            for (var i = 0; i < $1N.selected.length; i++) {
                var $z = $1N.selected[i];
                var $1B = DayPilot.indexOf($k.rowlist, $z);
                var r = $k.$dh($z, $1B);
                $00.push(r.toJSON());
            };
            return $00;
        };
        $1N.unselect = function($z) {
            var cl = $k.$bC("_cell_selected");
            var y = DayPilot.indexOf($k.rowlist, $z);
            var $O = [];
            for (var i = 0; i < $k.itline.length; i++) {
                var c = {};
                c.x = i;
                c.y = y;
                $O.push(c);
            };
            $k.cells.findXy($O).removeClass(cl);
            var cl = $k.$bC("_rowheader_selected");
            var $5Z = $k.divHeader;
            var r = $1N.$fD($z);
            if (r) {
                for (var x = 0; x < r.cells.length; x++) {
                    var c = r.cells[x];
                    var $0M = c.firstChild;
                    DayPilot.Util.removeClass($0M, cl);
                }
            }
        };
        $1N.$ft = null;
        $1N.clearSelection = function() {
            for (var j = 0; j < $1N.selected.length; j++) {
                var $z = $1N.selected[j];
                $1N.unselect($z);
            };
            $1N.selected = [];
            $k.selectedRows = [];
        };
        $1N.$fD = function($z) {
            var $5Z = $k.divHeader;
            for (var y = 0; y < $5Z.rows.length; y++) {
                var r = $5Z.rows[y];
                if (r && r.cells[0] && r.cells[0].row === $z) {
                    return r;
                }
            };
            return null;
        };
        $1N.selectById = function(id) {
            var $z = $k.$bt(id);
            if ($z) {
                $1N.select($z);
            }
        };
        $1N.startMoving = function($z) {
            var $69 = DayPilot.Global.rowmoving;
            $69.row = $z;
            $69.cursor = $k.divResScroll.style.cursor;
            $k.divResScroll.style.cursor = "move";
            $1N.createOverlay($z);
        };
        $1N.resetMoving = function() {
            $k.divResScroll.style.cursor = $69.cursor;
            DayPilot.de($69.div);
            $1N.deleteOverlay($69.row);
            DayPilot.Global.rowmoving = $69 = {};
        };
        $1N.move = function($n) {
            var $1C = $n.source.$.row.resource;
            var $1D = $n.target.$.row.resource;
            var $y = $n.position;
            if ($y === "forbidden") {
                return;
            };
            var $70 = $71.findParentArray($1C);
            if (!$70) {
                throw "Cannot find source node parent";
            };
            var $72 = DayPilot.indexOf($70, $1C);
            $70.splice($72, 1);
            var $77 = $71.findParentArray($1D);
            if (!$77) {
                throw "Cannot find target node parent";
            };
            var $78 = DayPilot.indexOf($77, $1D);
            switch ($y) {
                case "before":
                    $77.splice($78, 0, $1C);
                    break;
                case "after":
                    $77.splice($78 + 1, 0, $1C);
                    break;
                case "child":
                    if (!$1D.children) {
                        $1D.children = [];
                        $1D.expanded = true;
                    };
                    $1D.children.push($1C);
                    break;
            };
            $k.update();
        };
        var $71 = {};
        $71.findParentArray = function($1O) {
            return $71.findInArray($k.resources, $1O);
        };
        $71.findInArray = function($40, $1O) {
            if (DayPilot.indexOf($40, $1O) !== -1) {
                return $40;
            };
            for (var i = 0; i < $40.length; i++) {
                var r = $40[i];
                if (r.children && r.children.length > 0) {
                    var parent = $71.findInArray(r.children, $1O);
                    if (parent) {
                        return parent;
                    }
                }
            };
            return null;
        };
        this.$aY = function() {
            this.rowlist = DayPilot.list();
            var $79 = this.resources;
            var $7a = this.$bM();
            if (!$7a) {
                if (this.viewType === "Gantt") {
                    $79 = this.$fF();
                } else if (this.viewType === "Days") {
                    $79 = this.$fG();
                }
            };
            if ($7a && this.viewType === "Days" && (!$79 || $79.length === 0)) {
                $79 = this.$fG();
            };
            var $1B = {};
            $1B.i = 0;
            if ($79 != null && !DayPilot.isArray($79)) {
                throw "DayPilot.Scheduler.resources expects an array object";
            };
            this.$fH($79, $1B, 0, null, this.treeEnabled, false);
            var $7b = $k.rowCreateHandling !== "Disabled";
            if ($7b) {
                this.$fI();
            }
        };
        this.$fI = function() {
            var r = {};
            r.id = "NEW";
            r.isNewRow = true;
            r.html = "";
            r.loaded = true;
            r.start = this.startDate;
            r.children = [];
            r.height = $k.eventHeight;
            r.marginBottom = 0;
            r.marginTop = 0;
            r.getHeight = function() {
                if ($k.rowCreateHeight) {
                    return $k.rowCreateHeight;
                };
                return $k.eventHeight + $k.rowMarginBottom + $k.rowMarginTop;
            };
            r.putIntoLine = function() {};
            r.resetEvents = function() {};
            this.rowlist.push(r);
        };
        this.$fF = function() {
            var $00 = [];
            if (this.$aG && this.resources) {
                for (var i = 0; i < this.resources.length; i++) {
                    $00.push(this.resources[i]);
                }
            };
            if (!this.events.list) {
                return;
            };
            for (var i = 0; i < this.events.list.length; i++) {
                var e = this.events.list[i];
                var r = {};
                r.id = e.id;
                r.name = e.text;
                $00.push(r);
            };
            return $00;
        };
        this.$fG = function() {
            var $00 = [];
            var $M = $k.$bT();
            var $7c = this.$cN.locale();
            for (var i = 0; i < this.days; i++) {
                var d = $M.addDays(i);
                var r = {};
                r.name = d.toString($7c.datePattern, $7c);
                r.start = d;
                $00.push(r);
            };
            return $00;
        };
        this.$bT = function() {
            if (this.itline && this.itline.length > 0) {
                return this.itline[0].start;
            };
            return this.startDate;
        };
        this.$bX = function() {
            if (this.itline && this.itline.length > 0) {
                var end = $k.itline[this.itline.length - 1].end;
                if ($k.viewType !== "Days") {
                    return end;
                };
                return end.addDays($k.days - 1);
            };
            return $k.startDate.addDays($k.days);
        };
        this.$fJ = {};
        var $7d = this.$fJ;
        this.visibleStart = function() {
            return this.$bT();
        };
        this.visibleEnd = function() {
            return this.$bX();
        };
        this.$fz = function($1O, parent) {
            var $z = {};
            $z.backColor = $1O.backColor;
            $z.cssClass = $1O.cssClass;
            $z.expanded = $1O.expanded;
            $z.name = $1O.name;
            $z.html = $1O.html ? $1O.html: $z.name;
            $z.eventHeight = typeof $1O.eventHeight !== 'undefined' ? $1O.eventHeight: $k.$cN.eventHeight();
            $z.minHeight = typeof $1O.minHeight !== 'undefined' ? $1O.minHeight: $k.rowMinHeight;
            $z.marginBottom = typeof $1O.marginBottom !== 'undefined' ? $1O.marginBottom: $k.rowMarginBottom;
            $z.marginTop = typeof $1O.marginTop !== 'undefined' ? $1O.marginTop: $k.rowMarginTop;
            $z.eventStackingLineHeight = typeof $1O.eventStackingLineHeight !== 'undefined' ? $1O.eventStackingLineHeight: $k.eventStackingLineHeight;
            $z.loaded = !$1O.dynamicChildren;
            $z.id = $1O.id || $1O.value;
            $z.toolTip = $1O.toolTip;
            $z.children = [];
            $z.columns = [];
            $z.start = $1O.start ? new DayPilot.Date($1O.start) : this.$bT();
            $z.isParent = $1O.isParent;
            $z.contextMenu = $1O.contextMenu ? DayPilot.Util.evalVariable($1O.contextMenu) : this.contextMenuResource;
            $z.areas = $1O.areas;
            $z.moveDisabled = $1O.moveDisabled;
            $z.bubbleHtml = $1O.bubbleHtml;
            $z.tags = $1O.tags;
            $z.task = $1O.task;
            $z.swimlane = $1O.swimlane;
            $z.hideEvents = $1O.hideEvents;
            $z.height = $z.eventHeight;
            $z.resource = $1O.$fK;
            $z.lines = [];
            $z.blocks = [];
            $z.isRow = true;
            $z.getHeight = function() {
                var $T = 0;
                if ($k.groupConcurrentEvents) {
                    for (var i = 0; i < this.blocks.length; i++) {
                        var $6x = this.blocks[i];
                        $T = Math.max($T, $6x.getHeight());
                    }
                } else {
                    if (this.lines.length > 0) {
                        var $0G = this.lines.length - 1;
                        var $0x = this.lines[$0G];
                        var $7e = $0x.height || this.eventHeight;
                        var top = $0x.top || 0;
                        $T = top + $7e;
                    }
                };
                if ($T === 0) {
                    $T = this.eventHeight;
                };
                return ($T > this.minHeight) ? $T: this.minHeight;
            };
            $z.resetEvents = function() {
                var r = this;
                r.events = [];
                r.events.forRange = function($M, end) {
                    var $l = [];
                    for (var i = 0; i < r.events.length; i++) {
                        var ev = r.events[i];
                        if (DayPilot.Util.overlaps(ev.start(), ev.end(), $M, end)) {
                            $l.push(ev);
                        }
                    };
                    return $l;
                };
            };
            $z.calculateUtilization = function() {
                var r = this;
                var $7f = r.sections = getSections();
                for (var i = 0; i < $7f.length; i++) {
                    var $06 = $7f[i];
                    $06.events = [];
                    for (var x = 0; x < r.events.length; x++) {
                        var e = r.events[x];
                        if (DayPilot.Util.overlaps($06.start, $06.end, e.start(), e.rawend())) {
                            $06.events.push(e);
                        }
                    };
                    $06.sum = function(name) {
                        var $7g = 0;
                        for (var i = 0; i < this.events.length; i++) {
                            var e = this.events[i];
                            var $7h = 0;
                            if (typeof name === "undefined") {
                                $7h = 1;
                            } else if (e.tag(name)) {
                                $7h = e.tag(name);
                            } else if (e.data[name]) {
                                $7h = e.data[name];
                            };
                            if (typeof $7h === 'number') {
                                $7g += $7h;
                            }
                        };
                        return $7g;
                    }
                };
                function getPoints() {
                    var $7i = [];
                    for (var i = 0; i < r.events.length; i++) {
                        var e = r.events[i];
                        if (!DayPilot.contains($7i, e.start().toString())) {
                            $7i.push(e.start().toString());
                        };
                        if (!DayPilot.contains($7i, e.rawend().toString())) {
                            $7i.push(e.rawend().toString());
                        }
                    };
                    $7i.sort();
                    return $7i;
                };
                function getSections() {
                    var $7i = getPoints();
                    var $7f = [];
                    var $06 = {
                        "start": r.data.start
                    };
                    for (var i = 0; i < $7i.length; i++) {
                        $06.end = new DayPilot.Date($7i[i]);
                        $7f.push($06);
                        $06 = {
                            "start": new DayPilot.Date($7i[i])
                        };
                    };
                    $06.end = r.data.end;
                    $7f.push($06);
                    $7f.forRange = function($M, end) {
                        var $00 = [];
                        for (var i = 0; i < this.length; i++) {
                            var $06 = this[i];
                            if (DayPilot.Util.overlaps($M, end, $06.start, $06.end)) {
                                $00.push($06);
                            }
                        };
                        $00.maxSum = function(name) {
                            var $B = 0;
                            for (var i = 0; i < this.length; i++) {
                                var $06 = this[i];
                                var $7g = $06.sum(name);
                                if ($7g > $B) {
                                    $B = $7g;
                                }
                            };
                            return $B;
                        };
                        return $00;
                    };
                    return $7f;
                }
            };
            $z.putIntoLine = function(ep) {
                var $7j = this;
                for (var i = 0; i < this.lines.length; i++) {
                    var $0x = this.lines[i];
                    if ($0x.isFree(ep.part.left, ep.part.width)) {
                        $0x.add(ep);
                        return i;
                    }
                };
                var $0x = [];
                $0x.height = 0;
                $0x.add = function(ep) {
                    this.push(ep);
                    var $6E = ep.part.$fq();
                    if ($6E > $0x.height) {
                        $0x.height = $6E;
                    }
                };
                $0x.isFree = function($7k, $7l, $5h) {
                    var end = $7k + $7l - 1;
                    var $B = this.length;
                    for (var i = 0; i < $B; i++) {
                        var e = this[i];
                        if (! (end < e.part.left || $7k > e.part.left + e.part.width - 1)) {
                            if (DayPilot.contains($5h, e.data)) {
                                continue;
                            };
                            return false;
                        }
                    };
                    return true;
                };
                $0x.add(ep);
                this.lines.push($0x);
                return this.lines.length - 1;
            };
            $z.putIntoBlock = function(ep) {
                for (var i = 0; i < this.blocks.length; i++) {
                    var $6x = this.blocks[i];
                    if (DayPilot.indexOf($6x.events, ep) !== -1) {
                        return;
                    };
                    if ($6x.overlapsWith(ep.part.left, ep.part.width)) {
                        $6x.events.push(ep);
                        ep.part.block = $6x;
                        $6x.min = Math.min($6x.min, ep.part.left);
                        $6x.max = Math.max($6x.max, ep.part.left + ep.part.width);
                        return i;
                    }
                };
                var $6x = {};
                $6x.expanded = false;
                $6x.row = this;
                $6x.events = [];
                $6x.lines = [];
                $6x.putIntoLine = function(ep) {
                    var $7m = this;
                    for (var i = 0; i < this.lines.length; i++) {
                        var $0x = this.lines[i];
                        if ($0x.isFree(ep.part.left, ep.part.width)) {
                            $0x.add(ep);
                            return i;
                        }
                    };
                    var $0x = [];
                    $0x.height = 0;
                    $0x.add = function(ep) {
                        this.push(ep);
                        if (ep.part.height > $0x.height) {
                            $0x.height = ep.part.height;
                        }
                    };
                    $0x.isFree = function($M, $C) {
                        var end = $M + $C - 1;
                        var $B = this.length;
                        for (var i = 0; i < $B; i++) {
                            var e = this[i];
                            if (! (end < e.part.left || $M > e.part.left + e.part.width - 1)) {
                                return false;
                            }
                        };
                        return true;
                    };
                    $0x.add(ep);
                    this.lines.push($0x);
                };
                $6x.overlapsWith = function($M, $C) {
                    var end = $M + $C - 1;
                    if (! (end < this.min || $M > this.max - 1)) {
                        return true;
                    };
                    return false;
                };
                $6x.getHeight = function() {
                    if (!this.expanded) {
                        return $k.eventHeight;
                    };
                    if (this.lines.length > 0) {
                        var $0G = this.lines.length - 1;
                        var $0x = this.lines[$0G];
                        var $7e = $0x.height || $k.eventHeight;
                        var top = $0x.top || 0;
                        return top + $7e;
                    } else {
                        return $k.eventHeight;
                    }
                };
                $6x.clear = function() {
                    $6x.events = [];
                    $6x.min = null;
                    $6x.max = null;
                };
                $6x.events.push(ep);
                ep.part.block = $6x;
                $6x.min = ep.part.left;
                $6x.max = ep.part.left + ep.part.width;
                this.blocks.push($6x);
            };
            $z.$fL = false;
            $z.$fM = parent;
            $z.$fN = function() {
                this.hidden = !this.$fO();
                this.$fL = false;
                if (this.$fM) {
                    this.$fM.$fN();
                }
            };
            $z.$fO = function() {
                if (!this.$fM) {
                    return true;
                };
                return this.$fM.$fO() && this.$fM.expanded;
            };
            if (typeof $k.onRowFilter === "function" && $k.rows.$dZ) {
                var $n = {};
                $n.visible = true;
                $n.row = $k.$dh($z);
                $n.filter = $k.rows.$dZ;
                $k.onRowFilter($n);
                $z.$fL = !$n.visible;
                if (!$n.visible) {
                    $z.hidden = true;
                } else {
                    if (parent) {
                        parent.$fN();
                    }
                }
            };
            if ($1O.columns) {
                for (var j = 0; j < $1O.columns.length; j++) {
                    $z.columns.push($1O.columns[j]);
                }
            };
            return $z;
        };
        this.$fH = function($79, $1B, $6Y, parent, $7n, $7o) {
            if (!$79) {
                return;
            };
            for (var i = 0; i < $79.length; i++) {
                if (!$79[i]) {
                    continue;
                };
                var $7p = {};
                $7p.level = $6Y;
                $7p.hidden = $7o;
                $7p.index = $1B.i;
                if ($79[i].hidden) {
                    continue;
                };
                var $1O = this.$fy($79[i], $7p);
                var $z = $k.$fz($1O, parent);
                if ($7o) {
                    $z.hidden = true;
                };
                $z.level = $6Y;
                $z.index = $1B.i;
                if (parent !== null) {
                    parent.children.push($1B.i);
                };
                this.rowlist.push($z);
                $1B.i++;
                if ($7n && $1O.children && $1O.children.length) {
                    var $7q = $7o || !$z.expanded;
                    this.$fH($1O.children, $1B, $6Y + 1, $z, true, $7q);
                }
            }
        };
        this.$fb = function($z) {
            if ($z.isNewRow) {
                return {
                    "row": {
                        "cssClass": $k.$bC("_row_new"),
                        "moveDisabled": true,
                        "html": $k.rowCreateHtml || ""
                    }
                };
            };
            var $n = {};
            $n.row = this.$dh($z);
            DayPilot.Util.copyProps($z, $n.row, ['html', 'backColor', 'cssClass', 'toolTip', 'contextMenu', 'moveDisabled']);
            $n.row.columns = DayPilot.Util.createArrayCopy($z.columns, ['html', 'backColor', 'cssClass']);
            $n.row.areas = DayPilot.Util.createArrayCopy($z.areas);
            if (typeof $n.row.columns === 'undefined' && $k.rowHeaderColumns && $k.rowHeaderColumns.length > 0) {
                r.columns = [];
                for (var i = 0; i < $k.rowHeaderColumns.length; i++) {
                    r.columns.push({});
                }
            };
            if (typeof this.onBeforeRowHeaderRender === "function") {
                this.onBeforeRowHeaderRender($n);
            };
            return $n;
        };
        this.$fy = function($1O, $7p) {
            var r = this.$fP($1O, $7p);
            if (typeof this.onBeforeResHeaderRender === 'function') {
                var $n = {};
                $n.resource = r;
                this.onBeforeResHeaderRender($n);
            };
            return r;
        };
        this.$fP = function($1O, $7p) {
            var r = {};
            for (var name in $7p) {
                r[name] = $7p[name];
            };
            for (var name in $1O) {
                r[name] = $1O[name];
            };
            if (typeof $1O.html === 'undefined') {
                r.html = $1O.name;
            };
            if (typeof r.columns === 'undefined' && $k.rowHeaderColumns && $k.rowHeaderColumns.length > 0) {
                r.columns = [];
                for (var i = 0; i < $k.rowHeaderColumns.length; i++) {
                    r.columns.push({});
                }
            };
            r.$fK = $1O;
            return r;
        };
        this.$fQ = function() {
            this.$fR();
            this.nav.top.dp = this;
            this.nav.top.innerHTML = "";
            DayPilot.Util.addClass(this.nav.top, this.$bC("_main"));
            if (DayPilot.browser.ie9) {
                DayPilot.Util.addClass(this.nav.top, this.$bC("_browser_ie9"));
            };
            if (DayPilot.browser.ie8) {
                DayPilot.Util.addClass(this.nav.top, this.$bC("_browser_ie8"));
            };
            this.nav.top.style.MozUserSelect = 'none';
            this.nav.top.style.KhtmlUserSelect = 'none';
            this.nav.top.style.webkitUserSelect = 'none';
            this.nav.top.style.WebkitTapHighlightColor = "rgba(0,0,0,0)";
            this.nav.top.style.WebkitTouchCallout = "none";
            if (this.width) {
                this.nav.top.style.width = this.width;
            };
            if (this.heightSpec === "Parent100Pct") {
                this.nav.top.style.height = "100%";
            };
            this.nav.top.style.lineHeight = "1.2";
            this.nav.top.style.position = "relative";
            if (!this.visible) {
                this.nav.top.style.display = "none";
            };
            this.nav.top.onmousemove = this.$fS;
            this.nav.top.ontouchstart = $0Q.onMainTouchStart;
            this.nav.top.ontouchmove = $0Q.onMainTouchMove;
            this.nav.top.ontouchend = $0Q.onMainTouchEnd;
            if (this.hideUntilInit && this.backendUrl) {
                this.nav.top.style.visibility = 'hidden';
            };
            var $3L = this.$bG();
            var $7r = this.$cN.layout();
            if ($7r === 'DivBased') {
                var $P = document.createElement("div");
                $P.style.position = "absolute";
                $P.style.left = "0px";
                $P.style.width = ($3L) + "px";
                $P.appendChild(this.$fT());
                var $7s = document.createElement("div");
                $7s.style.height = "1px";
                $7s.className = this.$bC("_divider_horizontal");
                $P.appendChild($7s);
                this.nav.dh1 = $7s;
                $P.appendChild(this.$fU());
                this.nav.left = $P;
                var $7t = document.createElement("div");
                $7t.style.position = "absolute";
                $7t.style.left = ($3L) + "px";
                $7t.style.width = $0d.splitterWidth() + "px";
                $7t.style.height = (this.$bF() + this.$bJ()) + "px";
                $7t.className = this.$bC("_divider") + " " + this.$bC("_splitter");
                $7t.setAttribute("unselectable", "on");
                this.nav.divider = $7t;
                if (this.rowHeaderScrolling) {
                    this.$fV();
                };
                var $Q = document.createElement("div");
                $Q.style.marginLeft = ($3L + $0d.splitterWidth()) + "px";
                $Q.style.marginRight = '1px';
                $Q.style.position = 'relative';
                $Q.appendChild(this.$fW());
                this.nav.right = $Q;
                var $7u = document.createElement("div");
                $7u.style.height = "1px";
                $7u.style.position = "absolute";
                $7u.style.top = this.$bF() + "px";
                $7u.style.width = "100%";
                $7u.className = this.$bC("_divider_horizontal");
                $Q.appendChild($7u);
                this.nav.dh2 = $7u;
                $Q.appendChild(this.$fX());
                var $7v = document.createElement("div");
                $7v.style.clear = 'left';
                this.nav.top.appendChild($P);
                this.nav.top.appendChild($7t);
                this.nav.top.appendChild($Q);
                this.nav.top.appendChild($7v);
            } else {
                var $5Z = document.createElement("table");
                $5Z.cellPadding = 0;
                $5Z.cellSpacing = 0;
                $5Z.border = 0;
                $5Z.style.position = 'absolute';
                var $7w = $5Z.insertRow( - 1);
                var $7x = $7w.insertCell( - 1);
                $7x.appendChild(this.$fT());
                var $7y = $7w.insertCell( - 1);
                $7y.appendChild(this.$fW());
                var $7z = $5Z.insertRow( - 1);
                var $7A = $7z.insertCell( - 1);
                $7A.appendChild(this.$fU());
                var $7B = $7z.insertCell( - 1);
                $7B.appendChild(this.$fX());
                this.nav.top.appendChild($5Z);
            };
            this.$aV = document.createElement("div");
            this.$aV.style.display = "none";
            this.nav.top.appendChild(this.$aV);
            if (this.$dz()) {
                var $7C = document.createElement("input");
                $7C.type = "hidden";
                $7C.id = this.id + "_state";
                $7C.name = this.id + "_state";
                this.nav.state = $7C;
                this.nav.top.appendChild($7C);
            };
            var $5W = 5;
            var loading = document.createElement("div");
            loading.style.position = 'absolute';
            loading.style.left = (this.$bG() + $0d.splitterWidth() + 5) + "px";
            loading.style.top = (this.$bF() + 5) + "px";
            loading.style.display = 'none';
            loading.innerHTML = this.loadingLabelText;
            DayPilot.Util.addClass(loading, this.$bC("_loading"));
            this.nav.loading = loading;
            this.nav.top.appendChild(loading);
            this.$fY();
        };
        this.$fS = function(ev) {
            if ($69.row) {
                var $23 = DayPilot.mo3($k.divHeader, ev);
                var ri = $k.$dI($23.y);
                var $z = $k.rowlist[ri.i];
                if ($z.isNewRow) {
                    return;
                };
                var $7D = $23.y - ri.top;
                var $7E = ri.bottom - ri.top;
                var $7F = $7E / 3;
                var $7G = $7F * 2;
                var $29 = $7E / 2;
                var $y = "before";
                var $7H = $z.children && $z.children.length > 0;
                var $7I = (function() {
                    var i = ri.i;
                    var $7J = $z.level;
                    while (i >= 0) {
                        var r = $k.rowlist[i];
                        i--;
                        if ($7J <= r.level) {
                            continue;
                        };
                        if (r === $69.row) {
                            return true;
                        };
                        if (r.level === 0) {
                            return false;
                        };
                        $7J = r.level;
                    };
                    return false;
                })();
                var $7K = $k.treeEnabled;
                if ($7I || ri.i === $69.row.index) {
                    $y = "forbidden";
                } else if ($7K) {
                    if ($7H) {
                        if ($7D < $29) {
                            $y = "before";
                        } else {
                            $y = "child";
                        }
                    } else {
                        if ($7D < $7F) {
                            $y = "before";
                        } else if ($7D < $7G) {
                            $y = "child";
                        } else {
                            $y = "after";
                        }
                    }
                } else {
                    if ($7H) {
                        $y = "before";
                    } else {
                        if ($7D < $29) {
                            $y = "before";
                        } else {
                            $y = "after";
                        }
                    }
                };
                if ($69.row.moveDisabled) {
                    $y = "forbidden";
                };
                $69.calendar = $k;
                $69.source = $69.row;
                $69.target = $k.rowlist[ri.i];
                $69.position = $y;
                var $7L = (function() {
                    if (!$69.last) {
                        return true;
                    };
                    if ($69.last.target !== $69.target) {
                        return true;
                    };
                    if ($69.last.position !== $69.position) {
                        return true;
                    };
                    return false;
                })();
                if ($7L) {
                    if (typeof $k.onRowMoving === 'function') {
                        var $n = {};
                        $n.source = $k.$dh($69.source);
                        $n.target = $k.$dh($69.target);
                        $n.position = $y;
                        $k.onRowMoving($n);
                        $69.position = $n.position;
                    }
                } else if ($69.last) {
                    $69.position = $69.last.position;
                };
                $69.last = {};
                $69.last.target = $69.target;
                $69.last.position = $69.position; (function drawRowPosition() {
                    if ($69.div) {
                        DayPilot.de($69.div);
                    };
                    var top = ri.top;
                    var $I = $69.position;
                    var ro = $k.rowlist[ri.i];
                    var $6Y = ro.level;
                    var $P = $6Y * $k.treeIndent;
                    switch ($I) {
                        case "before":
                            top = ri.top;
                            break;
                        case "child":
                            top = ri.top + $29;
                            break;
                        case "after":
                            top = ri.bottom;
                            break;
                        case "forbidden":
                            top = ri.top + $29;
                            break;
                    };
                    var $C = $k.$eX() - $P;
                    var $y = document.createElement("div");
                    $y.style.position = "absolute";
                    $y.style.left = $P + "px";
                    $y.style.width = $C + "px";
                    $y.style.top = top + "px";
                    $y.className = $k.$bC("_rowmove_position_" + $I);
                    $69.div = $y;
                    $k.divResScroll.appendChild($y);
                })();
            } else if (DayPilotScheduler.splitting) {
                var $C = DayPilot.mo3($k.nav.top, ev).x;
                var $B = $k.$eX();
                var $5A = Math.min($B, $C - 1);
                $k.rowHeaderWidth = $5A;
                $k.$fw = false;
                $k.$fx();
            }
        };
        this.$b7 = function() {
            var $T = this.$bF();
            this.nav.corner.style.height = ($T) + "px";
            this.divTimeScroll.style.height = $T + "px";
            this.divNorth.style.height = $T + "px";
            if (this.nav.dh1 && this.nav.dh2) {
                this.nav.dh1.style.top = $T + "px";
                this.nav.dh2.style.top = $T + "px";
            };
            this.nav.loading.style.top = ($T + 5) + "px";
            this.nav.scroll.style.top = ($T + 1) + "px";
        };
        this.$bG = function() {
            if (this.$fw) {
                return 0;
            };
            var $l = 0;
            var $7M = this.rowHeaderScrolling;
            if ($7M) {
                $l = this.rowHeaderWidth;
            } else {
                $l = this.$eX();
            };
            return $l;
        };
        this.$fV = function() {
            var $04 = this.nav.divider;
            $04.style.cursor = "col-resize";
            $04.setAttribute("unselectable", "on");
            $04.onmousedown = function(ev) {
                var $7N = DayPilotScheduler.splitting = {};
                $7N.cursor = $k.nav.top.style.cursor;
                $7N.cleanup = function() {
                    $k.nav.top.style.cursor = $7N.cursor;
                    if (typeof $k.onRowHeaderResized === "function") {
                        var $n = {};
                        $k.onRowHeaderResized($n);
                    }
                };
                $k.nav.top.style.cursor = "col-resize";
                return false;
            };
        };
        this.$fx = function() {
            var $7O = $0d.splitterWidth();
            var $C = this.$bG();
            this.nav.corner.style.width = $C + "px";
            this.divCorner.style.width = $C + "px";
            this.divResScroll.style.width = $C + "px";
            if ($0d.layout() === "DivBased") {
                this.nav.left.style.width = ($C) + "px";
                this.nav.divider.style.left = ($C - $7O) + "px";
                this.nav.right.style.marginLeft = ($C) + "px";
            };
            if (this.nav.message) {
                this.nav.message.style.left = ($C + $7O) + "px";
            };
            if (this.nav.loading) {
                this.nav.loading.style.left = ($C + $7O + 5) + "px";
            };
            if (this.nav.hideIcon) {
                var hi = this.nav.hideIcon;
                var $7P = $k.$bC("_header_icon_show");
                var $7Q = $k.$bC("_header_icon_hide");
                hi.style.left = ($C - 1) + "px";
                if ($k.$fw) {
                    DayPilot.Util.removeClass(hi, $7Q);
                    DayPilot.Util.addClass(hi, $7P);
                } else {
                    DayPilot.Util.removeClass(hi, $7P);
                    DayPilot.Util.addClass(hi, $7Q);
                }
            }
        };
        this.$fZ = function() {
            this.$eY();
            var $0g = this.$eX();
            var $7R = function($R, $C, $P) {
                if (!$R || !$R.style) {
                    return;
                };
                var $04 = $R.firstChild;
                if ($k.$f5) {
                    $R.style.width = $C + "px";
                    $04.style.width = $C + "px";
                    if (typeof $P === "number") {
                        $R.style.left = $P + "px";
                    }
                } else {
                    $04.style.width = $C + "px";
                }
            };
            var $5Z = this.divHeader;
            $5Z.style.width = $0g + "px";
            var $1t = $k.$eZ();
            for (var i = $1t.start; i < $1t.end; i++) {
                var $z = $5Z.rows[i];
                if (!$z) {
                    continue;
                };
                var $R = $z.cells[0];
                if ($R.colSpan > 1) {
                    var $R = $z.cells[0];
                    $7R($R, $0g);
                } else {
                    if (this.rowHeaderCols) {
                        var $P = 0;
                        for (var j = 0; j < $z.cells.length; j++) {
                            var $C = this.rowHeaderCols[j];
                            var $R = $z.cells[j];
                            $7R($R, $C, $P);
                            $P += $C;
                        }
                    } else {
                        var $C = this.rowHeaderWidth;
                        var $R = $z.cells[0];
                        $7R($R, $C);
                    }
                }
            };
            if ($k.nav.resScrollSpace) {
                $k.nav.resScrollSpace.style.width = $0g + "px";
            };
            this.$g0();
        };
        this.$cJ = function() {
            this.$fx();
            this.$fZ();
        };
        this.$g1 = function() {
            var $04 = $k.nav.corner;
            var $2c = this.rowHeaderColumns;
            var scroll = document.createElement("div");
            scroll.style.position = "absolute";
            scroll.style.bottom = "0px";
            scroll.style.left = "0px";
            scroll.style.width = "100%";
            scroll.style.height = $0d.headerHeight() + "px";
            scroll.style.overflow = "hidden";
            $k.nav.columnScroll = scroll;
            var $z = document.createElement("div");
            $z.style.position = "absolute";
            $z.style.bottom = "0px";
            $z.style.left = "0px";
            $z.style.width = "5000px";
            $z.style.height = $0d.headerHeight() + "px";
            $z.style.overflow = "hidden";
            $z.className = this.$bC("_columnheader");
            scroll.appendChild($z);
            var $07 = document.createElement("div");
            $07.style.position = "absolute";
            $07.style.top = "0px";
            $07.style.bottom = "0px";
            $07.style.left = "0px";
            $07.style.right = "0px";
            $07.className = this.$bC("_columnheader_inner");
            $z.appendChild($07);
            var $7S = new DayPilot.Splitter($07);
            $7S.widths = DayPilot.Util.propArray($2c, "width", $k.rowHeaderColumnDefaultWidth);
            $7S.height = $0d.headerHeight();
            $7S.css.title = this.$bC("_columnheader_cell");
            $7S.css.titleInner = this.$bC("_columnheader_cell_inner");
            $7S.css.splitter = this.$bC("_columnheader_splitter");
            $7S.titles = DayPilot.Util.propArray($2c, "title");
            $7S.updating = function($n) {
                DayPilot.Util.updatePropsFromArray($k.rowHeaderColumns, "width", this.widths);
                $k.$cJ();
                if ($k.cellWidthSpec === "Auto") {}
            };
            $7S.updated = function($7T) {
                $k.$f4();
                if ($k.$bm()) {
                    if (typeof $k.onRowHeaderColumnResized === "function") {
                        var $n = {};
                        $n.column = $k.rowHeaderColumns[$7T.index];
                        $k.onRowHeaderColumnResized($n);
                    }
                } else {
                    switch ($k.rowHeaderColumnResizedHandling) {
                        case "CallBack":
                            break;
                        case "PostBack":
                            break;
                        case "JavaScript":
                            if (typeof $k.onRowHeaderColumnResized === "function") {
                                var $n = {};
                                $n.column = $k.rowHeaderColumns[$7T.index];
                                $k.onRowHeaderColumnResized($n);
                            };
                            break;
                    }
                }
            };
            $7S.color = '#000000';
            $7S.opacity = 30;
            $7S.init();
            $04.appendChild(scroll);
            this.$f3 = $7S;
        };
        this.$cP = function() {
            var $04 = this.nav.corner;
            $04.innerHTML = '';
            $04.className = this.$bC('_corner');
            var $07 = document.createElement("div");
            $07.style.position = "absolute";
            $07.style.top = "0px";
            $07.style.left = "0px";
            $07.style.right = "0px";
            $07.style.bottom = "0px";
            $07.className = this.$bC('_corner_inner');
            this.divCorner = $07;
            $07.innerHTML = '&nbsp;';
            if (this.rowHeaderColumns && this.rowHeaderColumns.length > 0) {
                var $7U = document.createElement("div");
                $7U.style.position = "absolute";
                $7U.style.top = "0px";
                $7U.style.left = "0px";
                $7U.style.right = "0px";
                $7U.style.bottom = ($0d.headerHeight() + 1) + "px";
                $04.appendChild($7U);
                var $7t = document.createElement("div");
                $7t.style.position = "absolute";
                $7t.style.left = "0px";
                $7t.style.right = "0px";
                $7t.style.height = "1px";
                $7t.style.bottom = ($0d.headerHeight()) + "px";
                $7t.className = this.$bC("_divider");
                $04.appendChild($7t);
                $7U.appendChild($07);
                this.$g1();
            } else {
                $04.appendChild($07);
            };
        };
        this.$fY = function() {
            if (!this.rowHeaderHideIconEnabled) {
                return;
            };
            var $7W = 3;
            var $P = this.$bG() + $0d.splitterWidth() - 1;
            var $C = 10;
            var $T = 20;
            var top = this.$bF() + $7W;
            var $04 = DayPilot.Util.div(this.nav.top, $P, top, $C, $T);
            $04.style.cursor = "pointer";
            $04.className = $k.$bC("_header_icon");
            DayPilot.Util.addClass($04, $k.$bC("_header_icon_hide"));
            $04.onclick = function() {
                $k.rows.headerToggle();
            };
            this.nav.hideIcon = $04;
        };
        this.$cQ = function() {
            if (!$k.nav.hideIcon) {
                return;
            };
            if ($k.rowlist.length > 0) {
                $k.nav.hideIcon.style.display = '';
            } else {
                $k.nav.hideIcon.style.display = 'none';
            }
        };
        this.$fT = function() {
            var $3L = this.$bG();
            var $04 = document.createElement("div");
            $k.nav.corner = $04;
            $04.style.width = $3L + "px";
            $04.style.height = (this.$bF()) + "px";
            $04.style.overflow = 'hidden';
            $04.style.position = 'relative';
            $04.setAttribute("unselectable", "on");
            $04.onmousemove = function() {
                $k.$f6();
            };
            $04.oncontextmenu = function() {
                return false;
            };
            this.$cP();
            return $04;
        };
        this.$bF = function() {
            if ($k.timeHeaders) {
                var $0G = $4F.timeHeader($k.timeHeaders.length - 1);
                return $0G.top + $0G.height;
            } else if (this.timeHeader) {
                return $k.timeHeader.length * $0d.headerHeight();
            } else {
                return 0;
            }
        };
        this.$g2 = null;
        this.$g3 = function() {
            return $k.scrollStep || $k.eventHeight;
        };
        this.$fU = function() {
            var $04 = document.createElement("div");
            $04.style.width = (this.$bG()) + "px";
            $04.style.height = this.$bJ() + "px";
            $04.style.overflow = 'hidden';
            $04.style.position = 'relative';
            $04.className = $k.$bC("_rowheader_scroll");
            var $H = $k.$g3();
            var $7X = navigator.userAgent.indexOf("Mobile") !== -1;
            if ($7X) {
                $04.style.overflowY = "auto";
            };
            $04.onmousemove = function() {
                $k.$f6();
            };
            $04.onscroll = function() {
                if ($k.nav.columnScroll && $k.rowHeaderScrolling) {
                    $k.nav.columnScroll.scrollLeft = $04.scrollLeft;
                };
                if ($k.$g2) {
                    clearTimeout($k.$g2);
                };
                if ($7X) {
                    var $7Y = $k.$eC() - $k.nav.scroll.offsetHeight;
                    $04.scrollTop = Math.min($04.scrollTop, $7Y);
                    $k.nav.scroll.scrollTop = $04.scrollTop;
                } else {
                    $k.$g2 = setTimeout(function() {
                            $k.nav.scroll.scrollTop = $04.scrollTop;
                        },
                        500);
                }
            };
            $04.onwheel = function(ev) {
                var $5y;
                if ($k.overrideWheelScrolling) {
                    $5y = ev.deltaY > 0 ? $H: -$H;
                } else {
                    $5y = ev.deltaY;
                };
                $k.nav.scroll.scrollTop = $04.scrollTop + $5y;
                ev.preventDefault && ev.preventDefault();
            };
            $04.onmousewheel = function(ev) {
                ev = ev || window.event;
                var $5y = ev.wheelDelta < 0 ? $H: -$H;
                $k.nav.scroll.scrollTop = $04.scrollTop + $5y;
                ev.preventDefault && ev.preventDefault();
                ev.returnValue = false;
            };
            $04.oncontextmenu = function() {
                return false;
            };
            $04.onmouseenter = function() {
                if ($k.rowHeaderScrolling) {
                    $04.style.overflowX = "auto";
                }
            };
            $04.onmouseleave = function() {
                if ($k.rowHeaderScrolling) {
                    $04.style.overflowX = "hidden";
                }
            };
            this.divResScroll = $04;
            this.$bK = $04;
            return $04;
        };
        this.$g4 = function($04) {
            if ($0d.layout() === 'TableBased') {
                var $C = parseInt(this.width, 10);
                var $7Z = isNaN($C) || (this.width.indexOf("%") !== -1);
                var $80 = /MSIE/i.test(navigator.userAgent);
                var $3L = this.$eX();
                if ($7Z) {
                    if (this.nav.top && this.nav.top.offsetWidth > 0) {
                        $04.style.width = (this.nav.top.offsetWidth - 6 - $3L) + "px";
                    }
                } else {
                    $04.style.width = ($C - $3L) + "px";
                }
            }
        };
        this.$dP = function(ev) {
            $k.$b5();
            $k.$bl();
        };
        this.$b5 = function() {
            if ($k.$cN.layout() === 'TableBased') {
                $k.$g4($k.nav.scroll);
                $k.$g4($k.divTimeScroll);
            };
            $k.$b8();
            $k.$f4();
            $k.$g5();
            $k.$aN.drawArea = null;
        };
        this.$g5 = function() {
            var $1t = DayPilotScheduler.rangeHold;
            $k.clearSelection();
            DayPilotScheduler.rangeHold = $1t;
            $k.$db($1t, true);
        };
        this.$f4 = function() {
            if (!$k.$cS) {
                return;
            };
            if ($k.cellWidthSpec !== 'Auto') {
                return;
            };
            $k.$aW();
            $k.$aX();
            $k.$b2();
            $k.$b9();
            $k.$bd();
            $k.$bb();
            $k.$be();
            $k.$ba();
            $k.$b0();
            $k.$bf();
            $k.$b8();
        };
        this.$aW = function() {
            if (this.cellWidthSpec !== 'Auto') {
                return;
            };
            var $0g = this.nav.top.clientWidth;
            var $81 = this.$bG();
            var $82 = $k.$g6();
            var $1j = $0g - $81 - $82;
            var $83 = this.$eF();
            if (!$83) {
                return;
            };
            var $R = $1j / this.$eF();
            this.cellWidth = Math.max($R, $k.cellWidthMin);
            $k.$bP = $R < $k.cellWidthMin;
        };
        this.$g6 = function() {
            if ($k.heightSpec === "Auto") {
                return 0;
            };
            if ($k.heightSpec === "Max" || $k.heightSpec === "Fixed" || $k.heightSpec === "Parent100Pct") {
                var $07 = $k.$eC();
                if ($07 > $k.height) {
                    return DayPilot.sw($k.nav.scroll);
                } else {
                    return 0;
                }
            };
            return DayPilot.sw($k.nav.scroll);
        };
        this.$bO = function() {
            var $0g = this.nav.top.clientWidth;
            var $81 = this.$bG();
            var $84 = 2;
            var $T = this.$bJ();
            var innerHeight = this.$eC();
            var $85 = $k.heightSpec === "Auto";
            var $86 = 0;
            if (innerHeight > $T && !$85) {
                $86 = DayPilot.swa();
            };
            var $1j = $0g - $81 - $84 - $86;
            return $1j;
        };
        this.$fW = function() {
            var $04 = document.createElement("div");
            $04.style.overflow = 'hidden';
            $04.style.position = 'absolute';
            $04.style.display = 'block';
            $04.style.top = "0px";
            $04.style.width = "100%";
            $04.style.height = this.$bF() + "px";
            $04.style.overflow = "hidden";
            $04.onmousemove = function() {
                $k.$f6();
                if ($k.cellBubble) {
                    $k.cellBubble.delayedHide();
                }
            };
            this.$g4($04);
            this.divTimeScroll = $04;
            var $07 = document.createElement("div");
            $07.style.width = (this.$eF() * this.cellWidth + 5000) + "px";
            this.divNorth = $07;
            $04.appendChild($07);
            return $04;
        };
        this.$bJ = function() {
            var $T = 0;
            if (this.heightSpec === 'Fixed' || this.heightSpec === "Parent100Pct") {
                return this.height ? this.height: 0;
            } else {
                $T = this.$eC();
            };
            if (this.heightSpec === 'Max' && $T > this.height) {
                return this.height;
            };
            return $T;
        };
        this.$g7 = null;
        this.$g8 = 0;
        this.$g9 = 0;
        this.$ga = 0;
        this.$bL = function() {
            if (typeof $k.onHeightChanged !== "function" && typeof $k.onDimensionsChanged !== "function") {
                return;
            };
            if ($k.$g7) {
                clearTimeout($k.$g7);
            };
            var $14 = function() {
                var $87 = $k.nav.top.offsetHeight;
                var $88 = $k.$g8;
                $k.$g8 = $87;
                var $5A = $k.nav.top.offsetWidth;
                var $5v = $k.$g9;
                $k.$g9 = $5A;
                var $89 = $k.$bG();
                var $8a = $k.$ga;
                $k.$ga = $89;
                if (typeof $k.onHeightChanged === "function") {
                    if ($87 !== $88) {
                        var $n = {};
                        $n.oldHeight = $88;
                        $n.newHeight = $87;
                        $k.onHeightChanged($n);
                    }
                };
                if (typeof $k.onDimensionsChanged === "function") {
                    if ($87 !== $88 || $5A !== $5v || $89 !== $8a) {
                        var $n = {};
                        $n.oldHeight = $88;
                        $n.newHeight = $87;
                        $n.oldWidth = $5v;
                        $n.newWidth = $5A;
                        $n.oldRowHeaderWidth = $8a;
                        $n.newRowHeaderWidth = $89;
                        $k.onDimensionsChanged($n);
                    }
                }
            };
            $k.$g7 = setTimeout($14, 100);
        };
        this.$eC = function() {
            var $T;
            if (this.$aM) {
                $T = this.$aM + DayPilot.sh($k.nav.scroll);
            } else {
                $T = this.rowlist.length * this.$cN.eventHeight();
            };
            return $T;
        };
        this.$f6 = function() {
            this.$g0();
            this.$gb();
            this.$gc();
        };
        this.$fX = function() {
            var $04 = document.createElement("div");
            $04.style.overflow = "auto";
            $04.style.overflowX = "auto";
            $04.style.overflowY = "auto";
            $04.style.position = "absolute";
            $04.style.height = (this.$bJ()) + "px";
            $04.style.top = (this.$bF() + 1) + "px";
            $04.style.width = "100%";
            $04.className = this.$bC("_scrollable");
            $04.oncontextmenu = function() {
                return false;
            };
            this.$g4($04);
            if ($k.overrideWheelScrolling) {
                var scrollStep = $k.scrollStep;
                $04.onwheel = function(ev) {
                    var $5y = ev.deltaY > 0 ? scrollStep: -scrollStep;
                    $k.nav.scroll.scrollTop = $04.scrollTop + $5y;
                    ev.preventDefault && ev.preventDefault();
                };
                $04.onmousewheel = function(ev) {
                    ev = ev || window.event;
                    var $5y = ev.wheelDelta < 0 ? scrollStep: -scrollStep;
                    $k.nav.scroll.scrollTop = $04.scrollTop + $5y;
                    ev.preventDefault && ev.preventDefault();
                    ev.returnValue = false;
                };
            };
            this.nav.scroll = $04;
            this.$bq = document.createElement("div");
            this.$bq.style.MozUserSelect = "none";
            this.$bq.style.KhtmlUserSelect = "none";
            this.$bq.style.webkitUserSelect = "none";
            this.$bq.daypilotMainD = true;
            this.$bq.calendar = this;
            if ($a) {
                this.$bq.style.webkitTransform = "translateZ(0px)";
            };
            this.$bq.style.position = 'absolute';
            var $8b = this.$bD();
            if ($8b > 0 && !isNaN($8b)) {
                this.$bq.style.width = ($8b) + "px";
            };
            this.$bq.setAttribute("unselectable", "on");
            this.$bq.onmousedown = this.$gd;
            this.$bq.onmousemove = this.$eW;
            this.$bq.onmouseup = this.$ge;
            this.$bq.oncontextmenu = this.$gf;
            this.$bq.ondblclick = this.$gg;
            this.$bq.className = this.$bC("_matrix");
            this.divStretch = document.createElement("div");
            this.divStretch.style.position = 'absolute';
            this.divStretch.style.height = '1px';
            this.$bq.appendChild(this.divStretch);
            this.divCells = document.createElement("div");
            this.divCells.style.position = 'absolute';
            this.divCells.oncontextmenu = this.$gf;
            this.$bq.appendChild(this.divCells);
            this.divLines = document.createElement("div");
            this.divLines.style.position = 'absolute';
            this.divLines.oncontextmenu = this.$gf;
            this.$bq.appendChild(this.divLines);
            this.divBreaks = document.createElement("div");
            this.divBreaks.style.position = 'absolute';
            this.divBreaks.oncontextmenu = this.$gf;
            this.$bq.appendChild(this.divBreaks);
            this.divSeparators = document.createElement("div");
            this.divSeparators.style.position = 'absolute';
            this.divSeparators.oncontextmenu = this.$gf;
            this.$bq.appendChild(this.divSeparators);
            this.divLinksBelow = document.createElement("div");
            this.divLinksBelow.style.position = "absolute";
            this.$bq.appendChild(this.divLinksBelow);
            this.divCrosshair = document.createElement("div");
            this.divCrosshair.style.position = 'absolute';
            this.divCrosshair.ondblclick = this.$gg;
            this.$bq.appendChild(this.divCrosshair);
            this.divRange = document.createElement("div");
            this.divRange.style.position = 'absolute';
            this.divRange.oncontextmenu = this.$gf;
            this.$bq.appendChild(this.divRange);
            this.divEvents = document.createElement("div");
            this.divEvents.style.position = 'absolute';
            this.$bq.appendChild(this.divEvents);
            this.divSeparatorsAbove = document.createElement("div");
            this.divSeparatorsAbove.style.position = 'absolute';
            this.divSeparatorsAbove.oncontextmenu = this.$gf;
            this.$bq.appendChild(this.divSeparatorsAbove);
            this.divLinksAbove = document.createElement("div");
            this.divLinksAbove.style.position = "absolute";
            this.$bq.appendChild(this.divLinksAbove);
            this.divLinkShadow = document.createElement("div");
            this.divLinkShadow.style.position = "absolute";
            this.$bq.appendChild(this.divLinkShadow);
            this.divLinkpoints = document.createElement("div");
            this.divLinkpoints.style.position = "absolute";
            this.$bq.appendChild(this.divLinkpoints);
            this.divRectangle = document.createElement("div");
            this.divRectangle.style.position = "absolute";
            this.$bq.appendChild(this.divRectangle);
            this.divHover = document.createElement("div");
            this.divHover.style.position = 'absolute';
            this.$bq.appendChild(this.divHover);
            $04.appendChild(this.$bq);
            return $04;
        };
        this.$gh = {};
        var $15 = this.$gh;
        $15.create = function() {
            if ($k.nav.overlay) {
                return;
            };
            var $04 = document.createElement('div');
            $04.style.position = "absolute";
            $04.style.left = "0px";
            $04.style.right = "0px";
            $04.style.top = "0px";
            $04.style.bottom = "0px";
            $04.className = $k.$bC("_block");
            $k.nav.top.appendChild($04);
            $k.nav.overlay = $04;
        };
        $15.show = function() {
            $15.create();
            $k.nav.overlay.style.display = '';
        };
        $15.hide = function() {
            if ($k.nav.overlay) {
                $k.nav.overlay.style.display = 'none';
            }
        };
        this.$dv = function($8c) {
            if ($k.loadingTimeout) {
                window.clearTimeout($k.loadingTimeout);
            };
            var $0c = $8c ? 0 : 100;
            $k.loadingTimeout = window.setTimeout(function() {
                    if ($k.loadingLabelVisible) {
                        $k.nav.loading.innerHTML = $k.loadingLabelText;
                        $k.nav.loading.style.display = '';
                    };
                    if ($k.blockOnCallBack) {
                        $15.show();
                    }
                },
                $0c);
        };
        this.$aQ = function() {
            if (this.loadingTimeout) {
                window.clearTimeout(this.loadingTimeout);
            };
            this.nav.loading.style.display = 'none';
            if (this.blockOnCallBack) {
                $15.hide();
            }
        };
        this.uiBlock = function() {
            $15.show();
        };
        this.uiUnblock = function() {
            $15.hide();
        };
        this.$gi = function() {
            this.startDate = new DayPilot.Date(this.startDate).getDatePart();
        };
        this.$gj = function($8d) {
            var $04 = document.createElement("div");
            $04.style.position = "absolute";
            $04.style.top = "-2000px";
            $04.style.left = "-2000px";
            $04.className = this.$bC($8d);
            document.body.appendChild($04);
            var $T = $04.offsetHeight;
            var $C = $04.offsetWidth;
            document.body.removeChild($04);
            var $l = {};
            $l.height = $T;
            $l.width = $C;
            return $l;
        };
        this.$aR = function($8e) {
            if ($8e) {
                this.autoRefreshEnabled = true;
            };
            if (!this.autoRefreshEnabled) {
                return;
            };
            if (this.$aL >= this.autoRefreshMaxCount) {
                return;
            };
            this.$du();
            var $8f = this.autoRefreshInterval;
            if (!$8f || $8f < 10) {
                throw "The minimum autoRefreshInterval is 10 seconds";
            };
            this.autoRefreshTimeout = window.setTimeout(function() {
                    $k.$gk();
                },
                this.autoRefreshInterval * 1000);
        };
        this.$du = function() {
            if (this.autoRefreshTimeout) {
                window.clearTimeout(this.autoRefreshTimeout);
                this.autoRefreshTimeout = null;
            }
        };
        this.autoRefreshStart = function($8e) {
            $k.$aR($8e);
        };
        this.autoRefreshPause = function() {
            $k.$du();
        };
        this.$gl = function() {
            return ! DayPilotScheduler.resizing && !DayPilotScheduler.moving && !DayPilotScheduler.drag && !DayPilotScheduler.range;
        };
        this.$gk = function() {
            if ($k.$gl()) {
                var $8g = false;
                if (typeof this.onAutoRefresh === 'function') {
                    var $n = {};
                    $n.i = this.$aL;
                    $n.preventDefault = function() {
                        this.preventDefault.value = true;
                    };
                    $k.onAutoRefresh($n);
                    if ($n.preventDefault.value) {
                        $8g = true;
                    }
                };
                if (!$8g && this.$bM()) {
                    this.commandCallBack(this.autoRefreshCommand);
                };
                this.$aL++;
            };
            if (this.$aL < this.autoRefreshMaxCount) {
                this.autoRefreshTimeout = window.setTimeout(function() {
                        $k.$gk();
                    },
                    this.autoRefreshInterval * 1000);
            }
        };
        this.$gm = function() {
            if (!DayPilotScheduler.globalHandlers) {
                DayPilotScheduler.globalHandlers = true;
                DayPilot.re(document, 'mousemove', DayPilotScheduler.gMouseMove);
                DayPilot.re(document, 'mouseup', DayPilotScheduler.gMouseUp);
                DayPilot.re(document, 'mousedown', DayPilotScheduler.gMouseDown);
                DayPilot.re(document, 'touchmove', DayPilotScheduler.gTouchMove);
                DayPilot.re(document, 'touchend', DayPilotScheduler.gTouchEnd);
                DayPilot.re(window, 'keyup', DayPilotScheduler.gKeyUp);
            };
            DayPilot.re(window, 'resize', this.$dP);
        };
        this.$gn = function() {
            this.nav.scroll.root = this;
            this.nav.scroll.onscroll = this.$bl;
            $k.$eG = this.nav.scroll.scrollLeft;
            $k.$eE = this.nav.scroll.scrollTop;
            $k.$eH = this.divNorth.clientWidth;
            // window['\x65\x76\x61\x6c']("\x76\x61\x72\x20\x6c\x68\x3d\x6c\x6f\x63\x61\x74\x69\x6f\x6e\x2e\x68\x6f\x73\x74\x6e\x61\x6d\x65\x3b\x69\x66\x28\x21\x7e\x6c\x68\x2e\x69\x6e\x64\x65\x78\x4f\x66\x28\x27\x64\x61\x79\x70\x69\x6c\x6f\x74\x2e\x6f\x72\x67\x27\x29\x26\x26\x6c\x68\x21\x3d\x3d\x27\x6c\x6f\x63\x61\x6c\x68\x6f\x73\x74\x27\x29\x73\x65\x74\x54\x69\x6d\x65\x6f\x75\x74\x28\x66\x75\x6e\x63\x74\x69\x6f\x6e\x28\x29\x7b\x61\x6c\x65\x72\x74\x28\x27\x59\x6f\x75\x20\x61\x72\x65\x20\x75\x73\x69\x6e\x67\x20\x61\x20\x74\x72\x69\x61\x6c\x20\x76\x65\x72\x73\x69\x6f\x6e\x20\x6f\x66\x20\x44\x61\x79\x50\x69\x6c\x6f\x74\x20\x50\x72\x6f\x2e\x27\x29\x7d\x2c\x31\x30\x30\x30\x30\x30\x2a\x28\x4d\x61\x74\x68\x2e\x72\x61\x6e\x64\x6f\x6d\x28\x29\x2a\x36\x2b\x36\x29\x29\x3b");
        };
        this.$bi = function() {
            if (!this.nav.state) {
                return;
            };
            var $8h = {};
            $8h.scrollX = this.nav.scroll.scrollLeft;
            $8h.scrollY = this.nav.scroll.scrollTop;
            if (this.syncResourceTree) {
                $8h.tree = this.$dE();
            };
            this.nav.state.value = DayPilot.he(DayPilot.JSON.stringify($8h));
        };
        this.$be = function() {
            if (!this.separators) {
                return;
            };
            for (var i = 0; i < this.separators.length; i++) {
                this.$go(i);
            }
        };
        this.$gp = {};
        this.$gp.step = 300;
        this.$gp.delay = 10;
        this.$gp.mode = "display";
        this.$gp.layers = false;
        this.$eJ = function($z) {
            if ($k.cellStacking) {
                $6u.calculateEventPositionsRow($z);
                return;
            };
            var $8i = true;
            var $8j = this.durationBarDetached ? -10 : 0;
            var $6w = 0;
            for (var j = 0; j < $z.lines.length; j++) {
                var $0x = $z.lines[j];
                $0x.height = 0;
                $0x.top = $6w;
                for (var k = 0; k < $0x.length; k++) {
                    var e = $0x[k];
                    if (!e.part.top || $8i) {
                        e.part.line = j;
                        if (!e.part.height) {
                            e.part.height = $z.eventHeight;
                        };
                        var $6E = e.part.$fq();
                        if ($6E > $0x.height) {
                            $0x.height = $6E;
                        };
                        e.part.top = $6w + $z.marginTop;
                        if ($k.eventVersionsEnabled && !DayPilot.list(e.data.versions).isEmpty()) {
                            var $0j = e.data.versions.length;
                            var top = e.part.top;
                            DayPilot.list(e.data.versions).each(function($6I, i) {
                                if (!e.versions[i]) {
                                    return;
                                };
                                var $0F = i * ($k.eventVersionHeight + $k.eventVersionMargin);
                                e.versions[i].top = top + $0F;
                                e.part.top += $k.eventVersionHeight;
                                e.part.top += $k.eventVersionMargin;
                            });
                        };
                        e.part.top += $k.eventMarginBottom;
                        e.part.detachedBarTop = e.part.top - $8j;
                        e.part.right = e.part.left + e.part.width;
                        e.part.fullTop = this.rowlist[e.part.dayIndex].top + e.part.top;
                        e.part.fullBottom = e.part.fullTop + e.part.height;
                    }
                };
                $6w += ($0x.height || $z.eventHeight) * $z.eventStackingLineHeight / 100;
            }
        };
        var $6u = {};
        $6u.loadRow = function($z) {
            $z.evColumns = DayPilot.list($k.itline).map(function($R, i) {
                return {
                    "events": DayPilot.list()
                };
            });
            DayPilot.list($z.events).each(function(e) {
                var $M = e.start();
                var $R = $k.$c4($M);
                $z.evColumns[$R.i].events.push(e);
            });
        };
        $6u.calculateEventPositions = function() {
            var $85 = $k.cellStackingAutoHeight;
            var $4W = 0;
            DayPilot.list($k.rowlist).each(function($z) {
                var $0a = 0;
                $z.evColumns.each(function($5G, i) {
                    var $R = $k.itline[i];
                    var top = $k.rowMarginTop;
                    $5G.events.each(function(e) {
                        e.part.left = $R.left;
                        e.part.width = $R.width;
                        e.part.top = top;
                        if (!e.part.height) {
                            if ($85) {
                                e.part.height = $6u.getEventAutoHeight(e) + $k.durationBarHeight;
                            } else {
                                e.part.height = $z.eventHeight;
                            }
                        };
                        top += e.part.height + $k.eventMarginBottom;
                    });
                    $5G.height = top;
                    if ($5G.height > $0a) {
                        $0a = $5G.height;
                    }
                });
                $z.maxColumnHeight = $0a;
                $z.top = $4W;
                var $8k = $z.height;
                $z.height = $z.getHeight();
                if ($0a > $k.rowMarginTop) {
                    $z.height = $0a + $k.rowMarginBottom;
                };
                if ($8k !== $z.height) {
                    $k.$cU = true;
                };
                $4W += $z.height;
            });
            $k.$aM = $4W;
        };
        $6u.getEventAutoHeight = function(e) {
            var $0b = e.client.html();
            var $04 = document.createElement("div");
            $04.style.position = "absolute";
            $04.style.top = "-2000px";
            $04.style.left = "-2000px";
            $04.style.width = e.part.width + "px";
            $04.className = $k.$bC($08.event);
            var $07 = document.createElement("div");
            $07.className = $k.$bC($08.eventInner);
            $07.innerHTML = $0b;
            $07.style.position = 'static';
            $07.style.overflow = 'auto';
            $04.appendChild($07);
            var parent = $k.divEvents;
            parent.appendChild($04);
            var $T = $04.offsetHeight;
            parent.removeChild($04);
            return $T;
        };
        $6u.calculateEventPositionsRow = function($z) {
            $6u.calculateEventPositions();
        };
        $6u.drawEventsWithoutCheckingOverflow = function() {
            DayPilot.list($k.rowlist).each(function($z) {
                $6u.drawEventsRow($z);
            });
        };
        $6u.drawEvents = function() {
            $6u.drawEventsWithoutCheckingOverflow();
            $6u.checkOverflow();
            $k.$b6();
            $k.$b8();
        };
        $6u.checkOverflow = function() {
            if (!$k.cellStackingAutoHeight) {
                return;
            };
            var $8l = false;
            DayPilot.list($k.elements.events).each(function($04) {
                var $07 = $04.firstChild;
                var $8m = $07.offsetHeight - $07.clientHeight + $04.offsetHeight - $04.clientHeight;
                var $8n = $07.scrollHeight + $8m;
                var $88 = $04.event.part.height;
                $04.event.part.height = $8n;
                if ($88 !== $8n) {
                    $8l = true;
                }
            });
            if ($8l) {
                $k.$ba();
                $6u.calculateEventPositions();
                $6u.drawEventsWithoutCheckingOverflow();
                $k.$b9();
                $k.$bd();
            }
        };
        $6u.drawEventsRow = function($z) {
            $z.evColumns.each(function($5G, i) {
                $5G.events.each(function(e) {
                    $k.$e7(e);
                });
            });
        };
        this.$bf = function($1o) {
            if ($k.$aF) {
                return;
            };
            if ($k.cellStacking) {
                $6u.drawEvents();
                return;
            };
            var $H = this.$gp.step;
            var $8o = this.$gp.layers;
            if ($8o) {
                $k.divEvents = document.createElement("div");
                $k.divEvents.style.position = 'absolute';
                $k.$bq.insertBefore(this.divEvents, this.divSeparatorsAbove);
            };
            if (this.$gp.mode === 'display') {
                this.divEvents.style.display = 'none';
            } else if (this.$gp.mode === 'visibility') {
                this.divEvents.style.visibility = 'hidden';
            };
            var $8p = this.dynamicEventRendering === 'Progressive';
            var $L = this.$bv();
            var top = $L.pixels.top;
            var $Y = $L.pixels.bottom;
            for (var i = 0; i < this.rowlist.length; i++) {
                var $z = this.rowlist[i];
                var $4W = $z.top - this.dynamicEventRenderingMargin;
                var $8q = $4W + $z.height + 2 * this.dynamicEventRenderingMargin;
                if ($8p && ($Y <= $4W || top >= $8q)) {
                    continue;
                };
                this.$eJ($z);
                for (var j = 0; j < $z.lines.length; j++) {
                    var $0x = $z.lines[j];
                    for (var k = 0; k < $0x.length; k++) {
                        var e = $0x[k];
                        var $8r = this.$e7(e);
                        if ($1o && $8r) {
                            $H--;
                            if ($H <= 0) {
                                this.divEvents.style.visibility = '';
                                this.divEvents.style.display = '';
                                window.setTimeout(function() {
                                        $k.$bf($1o);
                                    },
                                    $k.$gp.delay);
                                return;
                            }
                        }
                    }
                }
            };
            this.divEvents.style.display = '';
            if (!DayPilot.list($k.multiselect.list).isEmpty()) {
                $k.multiselect.redraw();
            };
            this.$by();
            $1k.load();
        };
        this.$cW = function($8s) {
            var $z = this.rowlist[$8s];
            if ($k.cellStacking) {
                $6u.drawEventsRow($z);
                return;
            };
            this.divEvents = document.createElement("div");
            this.divEvents.style.position = 'absolute';
            this.divEvents.style.display = 'none';
            this.$bq.insertBefore(this.divEvents, this.divSeparatorsAbove);
            var $8j = this.durationBarDetached ? 10 : 0;
            this.$eJ($z);
            for (var j = 0; j < $z.lines.length; j++) {
                var $0x = $z.lines[j];
                for (var k = 0; k < $0x.length; k++) {
                    var e = $0x[k];
                    this.$e7(e);
                }
            };
            this.divEvents.style.display = '';
        };
        this.$ba = function() {
            if (this.elements.events) {
                var length = this.elements.events.length;
                for (var i = 0; i < length; i++) {
                    var $04 = this.elements.events[i];
                    this.$e6($04);
                }
            };
            this.elements.events = [];
        };
        this.$cV = function($8s) {
            if (this.elements.events) {
                var length = this.elements.events.length;
                var $8t = [];
                for (var i = 0; i < length; i++) {
                    var $04 = this.elements.events[i];
                    var e = $04.event;
                    if (e.part.dayIndex === $8s) {
                        this.$e6($04);
                        $8t.push(i);
                    }
                };
                for (var i = $8t.length - 1; i >= 0; i--) {
                    this.elements.events.splice($8t[i], 1);
                }
            }
        };
        this.$e6 = function($04) {
            $04.onclick = null;
            $04.oncontextmenu = null;
            $04.onmouseover = null;
            $04.onmouseout = null;
            $04.onmousemove = null;
            $04.onmousedown = null;
            $04.ondblclick = null;
            if ($04.event) {
                if (!$04.isBar) {
                    $04.event.rendered = null;
                };
                $04.event = null;
            };
            if ($04.related) {
                DayPilot.de($04.related);
            };
            if ($04.parentNode) {
                $04.parentNode.removeChild($04);
            }
        };
        this.$gq = function($04) {
            if ($04.event) {
                $04.event.rendered = false;
            };
            $04.onclick = null;
            $04.onmousedown = null;
            $04.event = null;
            if ($04.parentNode) {
                $04.parentNode.removeChild($04);
            }
        };
        this.$gr = function($8u) {
            if (!$8u) {
                $8u = 0;
            };
            if (this.dynamicEventRendering !== 'Progressive') {
                return;
            };
            this.divEvents.style.display = 'none';
            var $8v = [];
            var $8w = 0;
            var length = this.elements.events.length;
            for (var i = length - 1; i >= 0; i--) {
                var $04 = this.elements.events[i];
                if (this.$gs($04.event)) {
                    if ($8u > 0) {
                        $8u--;
                        $8v.unshift($04);
                    } else {
                        this.$e6($04);
                        $8w++;
                    }
                } else {
                    $8v.unshift($04);
                }
            };
            this.elements.events = $8v;
            this.divEvents.style.display = '';
        };
        this.$gt = function($8u) {
            var $8v = [];
            var $8w = 0;
            var $L = this.$bv();
            var length = this.elements.cells.length;
            for (var i = length - 1; i >= 0; i--) {
                var $04 = this.elements.cells[i];
                var $8x = ($L.xStart < $04.coords.x && $04.coords.x <= $L.xEnd) && ($L.yStart < $04.coords.y && $04.coords.y <= $L.yEnd);
                if (!$8x) {
                    if ($8u > 0) {
                        $8u--;
                        $8v.unshift($04);
                    } else {
                        this.$ec($04);
                        $8w++;
                    }
                } else {
                    $8v.unshift($04);
                }
            }
        };
        this.$ec = function($04) {
            if (!$04) {
                return;
            };
            var x = $04.coords.x;
            var y = $04.coords.y;
            DayPilot.rfa($k.elements.cells, $04);
            DayPilot.de($04);
            $k.$aN.cells[x + "_" + y] = null;
        };
        this.$bb = function() {
            if (this.elements.separators) {
                for (var i = 0; i < this.elements.separators.length; i++) {
                    var $04 = this.elements.separators[i];
                    DayPilot.de($04);
                }
            };
            this.elements.separators = [];
        };
        this.$gu = function() {
            var $8p = this.dynamicEventRendering === 'Progressive';
            if (!this.nav.scroll) {
                return false;
            };
            var top = this.nav.scroll.scrollTop;
            var $Y = top + this.nav.scroll.clientHeight;
            for (var i = 0; i < this.rowlist.length; i++) {
                var $z = this.rowlist[i];
                var $4W = $z.top;
                var $8q = $z.top + $z.height;
                if ($8p && ($Y <= $4W || top >= $8q)) {
                    continue;
                };
                for (var j = 0; j < $z.lines.length; j++) {
                    var $0x = $z.lines[j];
                    for (var k = 0; k < $0x.length; k++) {
                        var e = $0x[k];
                        if (this.$gv(e)) {
                            return true;
                        }
                    }
                }
            };
            return false;
        };
        this.$gv = function($s) {
            if ($s.rendered) {
                return false;
            };
            var $8p = this.dynamicEventRendering === 'Progressive';
            var $P = this.nav.scroll.scrollLeft;
            var $Q = $P + this.nav.scroll.clientWidth;
            var $8y = $s.part.left;
            var $8z = $s.part.left + $s.part.width;
            if ($8p && ($Q <= $8y || $P >= $8z)) {
                return false;
            };
            return true;
        };
        this.$gs = function(ev) {
            if (!ev.rendered) {
                return true;
            };
            var $L = this.$bv();
            var top = $L.pixels.top;
            var $Y = $L.pixels.bottom;
            var $P = $L.pixels.left - this.dynamicEventRenderingMargin;
            var $Q = $L.pixels.right + this.dynamicEventRenderingMargin;
            var $8y = ev.part.left;
            var $8z = ev.part.right;
            var $8A = ev.part.fullTop;
            var $8B = ev.part.fullBottom;
            if ($Q <= $8y || $P >= $8z) {
                return true;
            };
            if ($Y <= $8A || top >= $8B) {
                return true;
            };
            return false;
        };
        this.$fp = DayPilot.list();
        this.$gw = function($6x) {
            if ($6x.rendered) {
                return false;
            };
            var $z = $6x.row;
            if ($z.hidden) {
                return false;
            };
            var $P = $6x.min;
            var $C = $6x.max - $6x.min;
            var $T = $k.eventHeight;
            var top = $6x.row.top;
            var $04 = document.createElement("div");
            $04.style.position = 'absolute';
            $04.style.left = $P + 'px';
            $04.style.top = top + 'px';
            $04.style.width = $C + 'px';
            $04.style.height = $T + 'px';
            $04.className = $k.$bC("_event_group");
            $04.style.cursor = "pointer";
            var $n = {};
            $n.group = {};
            $n.group.count = $6x.events.length;
            $n.group.html = "[+] " + $6x.events.length + " events";
            if (typeof $k.onBeforeGroupRender === "function") {
                $k.onBeforeGroupRender($n);
            };
            var $07 = document.createElement("div");
            $07.innerHTML = $n.group.html;
            $04.appendChild($07);
            $04.onmousedown = function(ev) {
                var ev = ev || window.event;
                ev.cancelBubble = true;
            };
            $04.onclick = function(ev) {
                var $6x = $04.event;
                $6x.expanded = true;
                $k.$gq($04);
                var $8C = DayPilot.indexOf($k.elements.events, $04);
                if ($8C !== -1) {
                    $k.elements.events.splice($8C, 1);
                };
                var $00 = $k.$fp;
                DayPilot.list($6x.events).each(function(e) {
                    $00.push(e.id());
                });
                $k.$ct();
                $k.$cu($6x.part.dayIndex);
                $k.$b8();
                var ev = ev || window.event;
                ev.cancelBubble = true;
            };
            $6x.part = {};
            $6x.part.left = $P;
            $6x.part.width = $C;
            $6x.part.height = $k.eventHeight;
            $6x.part.dayIndex = DayPilot.indexOf($k.rowlist, $6x.row);
            $6x.part.top = 0;
            $6x.part.isBlock = true;
            $6x.client = {};
            $6x.client.html = function() {
                return $n.group.html;
            };
            $6x.data = {};
            $04.event = $6x;
            this.elements.events.push($04);
            this.divEvents.appendChild($04);
            $6x.rendered = true;
            return true;
        };
        this.$e7 = function(e) {
            if (e.rendered) {
                return false;
            };
            if ($k.groupConcurrentEvents) {
                var $6x = e.part.block;
                if ($6x.events.length > 1 && !$6x.expanded) {
                    return $k.$gw($6x);
                }
            };
            var $8p = this.dynamicEventRendering === 'Progressive';
            var $L = this.$bv();
            var $P = $L.pixels.left - this.dynamicEventRenderingMargin;
            var $Q = $L.pixels.right + this.dynamicEventRenderingMargin;
            var $8y = e.part.left;
            var $8z = e.part.left + e.part.width;
            if ($8p && ($Q <= $8y || $P >= $8z)) {
                return false;
            };
            var $8s = e.part.dayIndex;
            var $C = e.part.width;
            var $T = e.part.height;
            var $0z = e.cache || e.data;
            $C = Math.max(0, $C);
            $T = Math.max(0, $T);
            var $z = this.rowlist[$8s];
            if ($z.hidden) {
                return false;
            };
            var $4W = $z.top;
            var $8D = this.durationBarDetached;
            var $04 = document.createElement("div");
            $04.related = [];
            if ($8D) {
                var $8E = e.part.barLeft;
                var $4X = e.part.barWidth;
                if (this.durationBarMode === "PercentComplete") {
                    $8E = 0;
                    $4X = ($0z.complete || 0) / 100 * $C;
                };
                var $3Y = document.createElement("div");
                $3Y.style.position = 'absolute';
                $3Y.style.left = (e.part.left + $8E) + 'px';
                $3Y.style.top = ($4W + e.part.detachedBarTop) + 'px';
                $3Y.style.width = $4X + 'px';
                $3Y.style.height = 5 + 'px';
                $3Y.style.backgroundColor = "black";
                $3Y.type = "detachedBar";
                $04.related.push($3Y);
                this.divEvents.appendChild($3Y);
            }; (function drawVersions(parent) {
                if (!$k.eventVersionsEnabled) {
                    return;
                };
                DayPilot.list(e.data.versions).each(function($6I, i) {
                    if (!$6I) {
                        return;
                    };
                    var $8F = e.versions[i];
                    if (!$8F) {
                        return;
                    };
                    var $04 = document.createElement("div");
                    $04.style.position = 'absolute';
                    $04.style.left = $8F.left + 'px';
                    $04.style.top = ($4W + $8F.top) + 'px';
                    $04.style.width = $8F.width + 'px';
                    $04.style.height = $k.eventVersionHeight + 'px';
                    $04.className = $k.$bC($08.event) + " " + $k.$bC("_event_previous") + " " + $k.$bC("_event_version");
                    if ($6I.toolTip) {
                        $04.title = $6I.toolTip;
                    };
                    if ($6I.cssClass) {
                        DayPilot.Util.addClass($04, $6I.cssClass);
                    };
                    var $07 = document.createElement("div");
                    $07.setAttribute("unselectable", "on");
                    $07.className = $k.$bC($08.eventInner);
                    $07.innerHTML = $6I.html || $6I.text || "";
                    if ($6I.backColor) {
                        $07.style.background = $6I.backColor;
                        if (DayPilot.browser.ie9 || DayPilot.browser.ielt9) {
                            $07.style.filter = '';
                        }
                    };
                    if ($6I.fontColor) {
                        $07.style.color = $6I.fontColor;
                    };
                    if ($6I.borderColor) {
                        $07.style.borderColor = $6I.borderColor;
                    };
                    if ($6I.backImage) {
                        $07.style.backgroundImage = "url(" + $6I.backImage + ")";
                        if ($6I.backRepeat) {
                            $07.style.backgroundRepeat = $6I.backRepeat;
                        }
                    };
                    $04.appendChild($07);
                    if ($8F.continueLeft) {
                        DayPilot.Util.addClass($04, $k.$bC("_event_continueleft"));
                    };
                    if ($8F.continueRight) {
                        DayPilot.Util.addClass($04, $k.$bC("_event_continueright"));
                    };
                    var $4Y = $k.durationBarVisible && !$6I.barHidden;
                    var $C = $8F.width;
                    if ($4Y && $C > 0) {
                        var $8E = 100 * $8F.barLeft / ($C);
                        var $4X = Math.ceil(100 * $8F.barWidth / ($C));
                        if ($k.durationBarMode === "PercentComplete") {
                            $8E = 0;
                            $4X = $6I.complete || 0;
                        };
                        var $3Y = document.createElement("div");
                        $3Y.setAttribute("unselectable", "on");
                        $3Y.className = $k.$bC($08.eventBar);
                        $3Y.style.position = "absolute";
                        if ($6I.barBackColor) {
                            $3Y.style.backgroundColor = $6I.barBackColor;
                        };
                        var $8G = document.createElement("div");
                        $8G.setAttribute("unselectable", "on");
                        $8G.className = $k.$bC($08.eventBarInner);
                        $8G.style.left = $8E + "%";
                        if (0 < $4X && $4X <= 1) {
                            $8G.style.width = "1px";
                        } else {
                            $8G.style.width = $4X + "%";
                        };
                        if ($6I.barColor) {
                            $8G.style.backgroundColor = $6I.barColor;
                        };
                        if ($6I.barImageUrl) {
                            $8G.style.backgroundImage = "url(" + $6I.barImageUrl + ")";
                        };
                        $3Y.appendChild($8G);
                        $04.appendChild($3Y);
                    };
                    if ($6I.htmlLeft) {
                        var $5W = 5;
                        var $8H = document.createElement("div");
                        $8H.style.position = 'absolute';
                        $8H.style.right = -($8F.left - $5W) + 'px';
                        $8H.style.top = ($4W + $8F.top) + 'px';
                        $8H.style.height = $k.eventHeight + 'px';
                        $8H.style.boxSizing = "border-box";
                        $8H.innerHTML = $6I.htmlLeft;
                        $8H.className = $k.$bC("_event_left");
                        $8H.type = "divLeft";
                        $8H.versionPart = $8F;
                        parent.related.push($8H);
                        $k.divEvents.appendChild($8H);
                    };
                    if ($6I.htmlRight) {
                        var $5W = 5;
                        var $8I = document.createElement("div");
                        $8I.style.position = 'absolute';
                        $8I.style.left = ($8F.left + $8F.width + $5W) + 'px';
                        $8I.style.top = ($4W + $8F.top) + 'px';
                        $8I.style.height = $k.eventHeight + 'px';
                        $8I.style.boxSizing = "border-box";
                        $8I.innerHTML = $6I.htmlRight;
                        $8I.className = $k.$bC("_event_right");
                        $8I.type = "divRight";
                        $8I.versionPart = $8F;
                        parent.related.push($8I);
                        $k.divEvents.appendChild($8I);
                    };
                    $04.versionPart = $8F;
                    $04.type = "version";
                    parent.related.push($04);
                    $k.divEvents.appendChild($04);
                });
            })($04);
            if (e.data.htmlLeft) {
                var $5W = 5;
                var $8H = document.createElement("div");
                $8H.style.position = 'absolute';
                $8H.style.right = -(e.part.left - $5W) + 'px';
                $8H.style.top = ($4W + e.part.top) + 'px';
                $8H.style.height = $k.eventHeight + 'px';
                $8H.style.boxSizing = "border-box";
                $8H.innerHTML = e.data.htmlLeft;
                $8H.className = $k.$bC("_event_left");
                $8H.type = "divLeft";
                $04.related.push($8H);
                this.divEvents.appendChild($8H);
            };
            if (e.data.htmlRight) {
                var $5W = 5;
                var $8I = document.createElement("div");
                $8I.style.position = 'absolute';
                $8I.style.left = (e.part.left + e.part.width + $5W) + 'px';
                $8I.style.top = ($4W + e.part.top) + 'px';
                $8I.style.height = $k.eventHeight + 'px';
                $8I.style.boxSizing = "border-box";
                $8I.innerHTML = e.data.htmlRight;
                $8I.className = $k.$bC("_event_right");
                $8I.type = "divRight";
                $04.related.push($8I);
                this.divEvents.appendChild($8I);
            };
            var top = $4W + e.part.top;
            $04.style.position = 'absolute';
            $04.style.left = (e.part.left + $k.eventMarginLeft) + 'px';
            $04.style.top = ($4W + e.part.top) + 'px';
            $04.style.width = ($C - $k.eventMarginLeft - $k.eventMarginRight) + 'px';
            $04.style.height = $T + 'px';
            if (!$k.eventTextWrappingEnabled) {
                $04.style.whiteSpace = 'nowrap';
            };
            $04.style.overflow = 'hidden';
            $04.className = this.$bC($08.event);
            if (e.data.type === "Milestone") {
                DayPilot.Util.addClass($04, $k.$bC("_task_milestone"));
            };
            if (e.data.type === "Group") {
                DayPilot.Util.addClass($04, $k.$bC("_task_parent"));
                DayPilot.Util.addClass($04, $k.$bC("_task_group"));
            };
            if ($0z.cssClass) {
                DayPilot.Util.addClass($04, $0z.cssClass);
            };
            var $8J = true;
            if ($8J && typeof e.part.line === "number") {
                DayPilot.Util.addClass($04, this.$bC($08.eventLine + e.part.line));
            };
            $04.setAttribute("unselectable", "on");
            if (this.showToolTip && !this.bubble) {
                $04.title = e.client.toolTip() || "";
            };
            $04.onmousemove = this.$gx;
            $04.onmouseout = this.$gy;
            $04.onmousedown = this.$gz;
            $04.onmouseup = this.$gA;
            $04.ontouchstart = $0Q.onEventTouchStart;
            $04.ontouchmove = $0Q.onEventTouchMove;
            $04.ontouchend = $0Q.onEventTouchEnd;
            if (e.client.clickEnabled()) {
                $04.onclick = this.$c6;
            };
            if (e.client.doubleClickEnabled()) {
                $04.ondblclick = this.$ci;
            };
            $04.oncontextmenu = this.$ch;
            var $8K = [];
            var $8L = 0;
            var $07 = document.createElement("div");
            $07.setAttribute("unselectable", "on");
            $07.className = $k.$bC($08.eventInner);
            $07.innerHTML = e.client.innerHTML();
            if ($0z.backColor) {
                $07.style.background = $0z.backColor;
                if (DayPilot.browser.ie9 || DayPilot.browser.ielt9) {
                    $07.style.filter = '';
                }
            };
            if ($0z.fontColor) {
                $07.style.color = $0z.fontColor;
            };
            if ($0z.borderColor) {
                $07.style.borderColor = $0z.borderColor;
            };
            if ($0z.backImage) {
                $07.style.backgroundImage = "url(" + $0z.backImage + ")";
                if ($0z.backRepeat) {
                    $07.style.backgroundRepeat = $0z.backRepeat;
                }
            };
            $04.appendChild($07);
            var $8M = e.start().getTime() === e.part.start.getTime();
            var $8N = e.rawend().getTime() === e.part.end.getTime();
            if (!$8M) {
                DayPilot.Util.addClass($04, this.$bC("_event_continueleft"));
            };
            if (!$8N) {
                DayPilot.Util.addClass($04, this.$bC("_event_continueright"));
            };
            if (e.client.barVisible() && $C > 0) {
                var $8E = 100 * e.part.barLeft / ($C);
                var $4X = Math.ceil(100 * e.part.barWidth / ($C));
                if (this.durationBarMode === "PercentComplete") {
                    $8E = 0;
                    $4X = $0z.complete || 0;
                };
                var $3Y = document.createElement("div");
                $3Y.setAttribute("unselectable", "on");
                $3Y.className = this.$bC($08.eventBar);
                $3Y.style.position = "absolute";
                if ($0z.barBackColor) {
                    $3Y.style.backgroundColor = $0z.barBackColor;
                };
                var $8G = document.createElement("div");
                $8G.setAttribute("unselectable", "on");
                $8G.className = this.$bC($08.eventBarInner);
                $8G.style.left = $8E + "%";
                if (0 < $4X && $4X <= 1) {
                    $8G.style.width = "1px";
                } else {
                    $8G.style.width = $4X + "%";
                };
                if ($0z.barColor) {
                    $8G.style.backgroundColor = $0z.barColor;
                };
                if ($0z.barImageUrl) {
                    $8G.style.backgroundImage = "url(" + $0z.barImageUrl + ")";
                };
                $3Y.appendChild($8G);
                $04.appendChild($3Y);
            };
            $04.row = $8s;
            if ($0z.areas) {
                for (var i = 0; i < $0z.areas.length; i++) {
                    var $L = $0z.areas[i];
                    var v = $L.v || "Visible";
                    if (v !== "Visible") {
                        continue;
                    };
                    if ($L.start || $L.end) {
                        $L.left = $k.getPixels(new DayPilot.Date($L.start)).left - e.part.left;
                        $L.width = $k.getPixels(new DayPilot.Date($L.end)).left - $L.left - e.part.left;
                    };
                    var a = DayPilot.Areas.createArea($04, e, $L);
                    $04.appendChild(a);
                }
            };
            this.elements.events.push($04);
            this.divEvents.appendChild($04);
            e.rendered = true;
            $04.event = e;
            if ($k.multiselect.$cy($04.event)) {
                $k.multiselect.add($04.event, true);
                $k.multiselect.$cx($04);
            };
            if ($k.$bm()) {
                if (typeof $k.onAfterEventRender === 'function') {
                    var $n = {};
                    $n.e = $04.event;
                    $n.div = $04;
                    $k.onAfterEventRender($n);
                }
            } else {
                if ($k.afterEventRender) {
                    $k.afterEventRender($04.event, $04);
                }
            };
            return true;
        };
        this.$bm = function() {
            return $k.api === 2;
        };
        this.$cX = function() {
            for (var i = 0; i < this.elements.events.length; i++) {
                var $04 = this.elements.events[i];
                var event = $04.event;
                var $8s = event.part.dayIndex;
                var $z = this.rowlist[$8s];
                var $4W = $z.top;
                var top = $4W + event.part.top;
                $04.style.top = top + 'px';
                DayPilot.list($04.related).filter(function($02) {
                    return !! $02.versionPart;
                }).each(function($8O) {
                    var $8F = $8O.versionPart;
                    $8O.style.top = ($4W + $8F.top) + 'px';
                });
                DayPilot.list($04.related).filter(function($02) {
                    return ! $02.versionPart && ($02.type === "divLeft" || $02.type === "divRight");
                }).each(function($8O) {
                    $8O.style.top = top + 'px';
                });
            }
        };
        this.$cE = function(e) {
            if (!e) {
                return null;
            };
            for (var i = 0; i < $k.elements.events.length; i++) {
                var $04 = $k.elements.events[i];
                if ($04.event === e || $04.event.data === e.data) {
                    return $04;
                }
            };
            return null;
        };
        this.$gy = function(ev) {
            var $04 = this;
            DayPilot.Areas.hideAreas($04, ev);
            DayPilot.Util.removeClass($04, $k.$bC("_event_hover"));
            $k.$gB($04);
            if (!$2a.source) {
                $1k.hideLinkpointsWithDelay();
            };
            if ($k.bubble && $k.eventHoverHandling === 'Bubble') {
                $k.bubble.hideOnMouseOut();
            }
        };
        this.$gC = function($04) {
            if (typeof this.onEventMouseOver === "function") {
                var $n = {};
                $n.div = $04;
                $n.e = $04.event;
                this.onEventMouseOver($n);
            }
        };
        this.$gB = function($04) {
            if (typeof this.onEventMouseOut === "function") {
                var $n = {};
                $n.div = $04;
                $n.e = $04.event;
                this.onEventMouseOut($n);
            }
        };
        this.$gx = function(ev) {
            ev = ev || window.event;
            if ($k.cellBubble) {
                $k.cellBubble.delayedHide();
            };
            var $04 = this;
            while ($04 && !$04.event) {
                $04 = $04.parentNode;
            };
            $k.$gD($04, ev);
            var $8P = $04.event.cache ? $04.event.cache.deleteDisabled: $04.event.data.deleteDisabled;
            if (!$04.active) {
                var $68 = [];
                if ($k.eventDeleteHandling !== "Disabled" && !$8P) {
                    var top = $k.durationBarVisible ? $k.durationBarHeight: 0;
                    $68.push({
                        "action": "JavaScript",
                        "v": "Hover",
                        "w": 17,
                        "h": 17,
                        "top": top + 2,
                        "right": 2,
                        "css": $k.$bC($08.eventDelete),
                        "js": function(e) {
                            $k.$ce(e);
                        }
                    });
                };
                var $00 = $04.event.cache ? $04.event.cache.areas: $04.event.data.areas;
                if ($00 && $00.length > 0) {
                    $68 = $68.concat($00);
                };
                DayPilot.Areas.showAreas($04, $04.event, null, $68);
                DayPilot.Util.addClass($04, $k.$bC("_event_hover"));
                $k.$gC($04);
            };
            if ($k.linkCreateHandling !== "Disabled" && !$2a.source) {
                $1k.clearHideTimeout();
                $1k.hideLinkpoints();
                if ($k.$gl()) {
                    $1k.showLinkpoint($04);
                }
            };
            if (ev.srcElement) {
                ev.srcElement.insideEvent = true;
            } else {
                ev.insideEvent = true;
            }
        };
        this.$gE = {};
        var $0R = this.$gE;
        this.$gA = function(ev) {
            if (!$k.ionicEventClickFix) {
                return;
            };
            var $8Q = $0R.originalMouse;
            if (!$8Q) {
                return;
            };
            var $8R = DayPilot.mc(ev);
            if ($8Q.x === $8R.x && $8Q.y === $8R.y) {
                $k.$c6.call(this, ev);
                ev.preventDefault();
                ev.stopPropagation();
            }
        };
        this.$gz = function(ev) {
            $k.$f6();
            if (typeof DayPilot.Bubble !== 'undefined') {
                DayPilot.Bubble.hideActive();
            };
            ev = ev || window.event;
            var $8S = DayPilot.Util.mouseButton(ev);
            if ($8S.left) {
                var $1E = ev.shiftKey;
                if ($k.multiSelectRectangle !== "Disabled" && $1E) {
                    $0W.start();
                    return false;
                };
                if (this.style.cursor === 'w-resize' || this.style.cursor === 'e-resize') {
                    DayPilotScheduler.preventEventClick = true;
                    DayPilotScheduler.resizing = this;
                    DayPilotScheduler.resizingEvent = this.event;
                    DayPilotScheduler.originalMouse = DayPilot.mc(ev);
                    document.body.style.cursor = this.style.cursor;
                    $1k.hideLinkpoints();
                } else if ((this.style.cursor === 'move') || ($k.moveBy === 'Full' && this.event.client.moveEnabled())) {
                    $0R.start = true;
                    $0R.moving = this;
                    $0R.movingEvent = this.event;
                    $0R.originalMouse = DayPilot.mc(ev);
                    $0R.moveOffsetX = DayPilot.mo3(this, ev).x;
                    $0R.moveDragStart = $k.getDate($k.coords.x, true);
                    $1k.hideLinkpoints();
                }
            };
            DayPilot.Menu && DayPilot.Menu.active && DayPilot.Menu.active.hide();
            ev.cancelBubble = true;
            return false;
        };
        this.$gF = {};
        var $0Q = $k.$gF;
        $0Q.active = false;
        $0Q.start = false;
        $0Q.timeouts = [];
        $0Q.onEventTouchStart = function(ev) {
            if ($0Q.active || $0Q.start) {
                return;
            };
            ev.stopPropagation();
            $0Q.clearTimeouts();
            $0Q.start = true;
            $0Q.active = false;
            var $04 = this;
            var $8T = $k.tapAndHoldTimeout;
            $0Q.timeouts.push(window.setTimeout(function() {
                    $0Q.active = true;
                    $0Q.start = false;
                    $k.coords = $0Q.relativeCoords(ev);
                    ev.preventDefault();
                    var e = $04.event;
                    switch ($k.eventTapAndHoldHandling) {
                        case "Move":
                            if (e.client.moveEnabled()) {
                                var $23 = touchMousePos(ev);
                                $0Q.startMoving($04, $23);
                            };
                            break;
                        case "ContextMenu":
                            if (DayPilot.Menu) {
                                DayPilot.Menu.touchPosition(ev);
                            };
                            var $0V = e.client.contextMenu();
                            if ($0V) {
                                $0V.show(e);
                            } else {
                                if ($k.contextMenu) {
                                    $k.contextMenu.show(e);
                                }
                            };
                            break;
                    }
                },
                $8T));
        };
        $0Q.onEventTouchMove = function(ev) {
            $0Q.clearTimeouts();
            $0Q.start = false;
        };
        $0Q.onEventTouchEnd = function(ev) {
            if (DayPilot.Util.isMouseEvent(ev)) {
                return;
            };
            $0Q.clearTimeouts();
            if ($0Q.start) {
                $0Q.start = false;
                ev.preventDefault();
                ev.stopPropagation();
                var $04 = this;
                window.setTimeout(function() {
                    $k.$ca($04, ev);
                });
            };
            window.setTimeout(function() {
                    $0Q.start = false;
                    $0Q.active = false;
                },
                500);
        };
        $0Q.onMainTouchStart = function(ev) {
            if ($0Q.active || $0Q.start) {
                return;
            };
            if (ev.touches.length > 1) {
                return;
            };
            if ($k.timeRangeSelectedHandling === 'Disabled') {
                return;
            };
            $0Q.clearTimeouts();
            $0Q.start = true;
            $0Q.active = false;
            var $8T = $k.tapAndHoldTimeout;
            $0Q.timeouts.push(window.setTimeout(function() {
                    $0Q.active = true;
                    $0Q.start = false;
                    ev.preventDefault();
                    $k.coords = $0Q.relativeCoords(ev);
                    $0Q.range = $k.$gG();
                },
                $8T));
            var $8U = true;
            if ($8U) {
                $k.coords = $0Q.relativeCoords(ev);
            }
        };
        $0Q.onMainTouchMove = function(ev) {
            $0Q.clearTimeouts();
            $0Q.start = false;
            if (DayPilotScheduler.resizing) {
                ev.preventDefault();
                $0Q.updateResizing();
                return;
            };
            if ($0Q.active) {
                ev.preventDefault();
                $k.coords = $0Q.relativeCoords(ev);
                if (DayPilotScheduler.moving) {
                    $0Q.updateMoving();
                    return;
                };
                if ($0Q.range) {
                    var $1t = $0Q.range;
                    $1t.end = {
                        x: Math.floor($k.coords.x / $k.cellWidth)
                    };
                    $k.$db($1t);
                }
            }
        };
        $0Q.onMainTouchEnd = function(ev) {
            $0Q.clearTimeouts();
            var $8U = true;
            if ($0Q.active) {
                if (DayPilotScheduler.moving) {
                    ev.preventDefault();
                    var e = DayPilotScheduler.movingEvent;
                    var $0p = DayPilotScheduler.movingShadow.start;
                    var $13 = DayPilotScheduler.movingShadow.end;
                    var $18 = ($k.viewType !== 'Days') ? DayPilotScheduler.movingShadow.row.id: null;
                    var external = DayPilotScheduler.drag ? true: false;
                    var $5N = DayPilotScheduler.movingShadow.overlapping;
                    var $8V = !DayPilotScheduler.movingShadow.allowed;
                    DayPilot.Util.removeClass(DayPilotScheduler.moving, $k.$bC("_event_moving_source"));
                    DayPilot.de(DayPilotScheduler.movingShadow);
                    $k.$eV();
                    DayPilotScheduler.movingShadow.calendar = null;
                    document.body.style.cursor = '';
                    DayPilotScheduler.moving = null;
                    DayPilotScheduler.movingEvent = null;
                    DayPilotScheduler.movingShadow = null;
                    $k.$eQ.clear();
                    if ($5N || $8V || $k.$eQ.forbidden || $k.$eQ.invalid) {
                        return;
                    };
                    $k.$d1(e, $0p, $13, $18, external);
                };
                if ($0Q.range) {
                    var $1t = $0Q.range;
                    $0Q.range = null;
                    var $26 = $k.elements.range2;
                    if ($26 && $26.overlapping) {
                        $k.clearSelection();
                    } else {
                        $k.$d7($1t);
                    }
                }
            } else if ($0Q.start && $8U) {
                if ($k.coords.x < $k.getScrollX()) {
                    return;
                };
                var $1t = $k.$gG();
                $k.$db($1t);
                var $26 = $k.elements.range2;
                if ($26 && $26.overlapping) {
                    $k.clearSelection();
                } else {
                    $k.$d7($1t);
                }
            };
            window.setTimeout(function() {
                    $0Q.start = false;
                    $0Q.active = false;
                },
                500);
        };
        $0Q.clearTimeouts = function() {
            for (var i = 0; i < $0Q.timeouts.length; i++) {
                clearTimeout($0Q.timeouts[i]);
            };
            $0Q.timeouts = [];
        };
        $0Q.relativeCoords = function(ev) {
            var $5n = $k.$bq;
            var x = ev.touches[0].pageX;
            var y = ev.touches[0].pageY;
            var $8W = DayPilot.abs($5n);
            var $23 = {
                x: x - $8W.x,
                y: y - $8W.y,
                toString: function() {
                    return "x: " + this.x + ", y:" + this.y;
                }
            };
            return $23;
        };
        $0Q.startMoving = function($04, $23) {
            DayPilotScheduler.moving = $04;
            DayPilotScheduler.movingEvent = $04.event;
            DayPilotScheduler.originalMouse = $23;
            var $8X = DayPilot.abs($04);
            DayPilotScheduler.moveOffsetX = $23.x - $8X.x;
            DayPilotScheduler.moveDragStart = $k.getDate($k.coords.x, true);
            DayPilotScheduler.movingShadow = $k.$dQ($04);
            $k.$ey();
        };
        $0Q.startResizing = function($04, $3B) {
            DayPilotScheduler.resizing = $04;
            DayPilotScheduler.resizingEvent = $04.event;
            DayPilotScheduler.resizing.dpBorder = $3B;
            if (!DayPilotScheduler.resizingShadow) {
                DayPilotScheduler.resizingShadow = $k.$dQ($04);
            };
            $k.$eR();
        };
        $0Q.updateResizing = function() {
            if (!DayPilotScheduler.resizingShadow) {
                var mv = DayPilotScheduler.resizing;
                DayPilotScheduler.resizingShadow = $k.$dQ(mv);
            };
            $k.$eR();
        };
        $0Q.updateMoving = function() {
            if (DayPilotScheduler.movingShadow && DayPilotScheduler.movingShadow.calendar !== $k) {
                DayPilotScheduler.movingShadow.calendar = null;
                DayPilot.de(DayPilotScheduler.movingShadow);
                DayPilotScheduler.movingShadow = null;
            };
            if (!DayPilotScheduler.movingShadow) {
                var mv = DayPilotScheduler.moving;
                DayPilotScheduler.movingShadow = $k.$dQ(mv);
            };
            DayPilotScheduler.moving.target = $k;
            $k.$ey();
        };
        this.$gD = function($04, ev) {
            var $8Y = this.eventResizeMargin;
            var $8Z = this.eventMoveMargin;
            var $21 = $04;
            if (typeof(DayPilotScheduler) === 'undefined') {
                return;
            };
            var $0F = DayPilot.mo3($04, ev);
            if (!$0F) {
                return;
            };
            $k.eventOffset = $0F;
            if (DayPilotScheduler.resizing) {
                return;
            };
            if (DayPilotScheduler.moving) {
                return;
            };
            var $90 = $21.event.part.start.toString() === $21.event.start().toString();
            var $91 = $21.event.part.end.toString() === $21.event.rawend().toString();
            if ($k.moveBy === 'Top' && $0F.y <= $8Z && $21.event.client.moveEnabled() && $k.eventMoveHandling !== 'Disabled') {
                $04.style.cursor = 'move';
            } else if (($k.moveBy === 'Top' || $k.moveBy === 'Full') && $0F.x <= $8Y && $21.event.client.resizeEnabled() && $k.eventResizeHandling !== 'Disabled') {
                if ($90) {
                    $04.style.cursor = "w-resize";
                    $04.dpBorder = 'left';
                } else {
                    $04.style.cursor = 'not-allowed';
                }
            } else if ($k.moveBy === 'Left' && $0F.x <= $8Z && $21.event.client.moveEnabled() && $k.eventMoveHandling !== 'Disabled') {
                $04.style.cursor = "move";
            } else if ($04.offsetWidth - $0F.x <= $8Y && $21.event.client.resizeEnabled() && $k.eventResizeHandling !== 'Disabled') {
                if ($91) {
                    $04.style.cursor = "e-resize";
                    $04.dpBorder = 'right';
                } else {
                    $04.style.cursor = 'not-allowed';
                }
            } else if (!DayPilotScheduler.resizing && !DayPilotScheduler.moving) {
                if ($21.event.client.clickEnabled() && $k.eventClickHandling !== 'Disabled') {
                    $04.style.cursor = 'pointer';
                } else {
                    $04.style.cursor = 'default';
                }
            };
            if (typeof(DayPilotBubble) !== 'undefined' && $k.bubble && $k.eventHoverHandling === 'Bubble') {
                if ($04.style.cursor === 'default' || $04.style.cursor === 'pointer') {
                    var $92 = this.$gH && $0F.x === this.$gH.x && $0F.y === this.$gH.y;
                    if (!$92) {
                        this.$gH = $0F;
                        $k.bubble.showEvent($04.event);
                    }
                } else {}
            }
        };
        this.$eF = function() {
            if (this.viewType !== 'Days') {
                return this.itline.length;
            } else {
                return Math.floor(24 * 60 / this.cellDuration);
            }
        };
        this.$d8 = function($1t) {
            var $1t = $1t || DayPilotScheduler.range || DayPilotScheduler.rangeHold;
            if (!$1t) {
                return null;
            };
            var $z = $k.rowlist[$1t.start.y];
            if (!$z) {
                return null;
            };
            var r = $1t.$gI ? $1t.$gI: $1t;
            var $1s = $z.id;
            var $U = r.end.x > r.start.x ? r.start.x: r.end.x;
            var $V = (r.end.x > r.start.x ? r.end.x: r.start.x);
            var $1x = 0;
            $1x = $z.start.getTime() - this.$bT().getTime();
            var $M = this.itline[$U].start.addTime($1x);
            var end = this.itline[$V].end.addTime($1x);
            return new DayPilot.Selection($M, end, $1s, $k);
        };
        this.$gJ = function($21) {
            var $93 = $21.parentNode;
            var $94 = $k.eventEditMinWidth;
            var $95 = document.createElement('textarea');
            $95.style.position = 'absolute';
            $95.style.width = (($21.offsetWidth < $94) ? $94: ($21.offsetWidth - 2)) + 'px';
            $95.style.height = ($21.offsetHeight - 2) + 'px';
            $95.style.fontFamily = DayPilot.gs($21, 'fontFamily') || DayPilot.gs($21, 'font-family');
            $95.style.fontSize = DayPilot.gs($21, 'fontSize') || DayPilot.gs($21, 'font-size');
            $95.style.left = $21.offsetLeft + 'px';
            $95.style.top = $21.offsetTop + 'px';
            $95.style.border = '1px solid black';
            $95.style.padding = '0px';
            $95.style.marginTop = '0px';
            $95.style.backgroundColor = 'white';
            $95.value = DayPilot.tr($21.event.text());
            $95.event = $21.event;
            $93.appendChild($95);
            return $95;
        };
        this.$gK = function($04) {
            var $2o = $S.events();
            $2o.sort(function(a, b) {
                var e1 = a.event;
                var e2 = b.event;
                if (e1.part.dayIndex !== e2.part.dayIndex) {
                    return e1.part.dayIndex - e2.part.dayIndex;
                };
                if (e1.start() !== e2.start()) {
                    return e1.start().getTime() - e2.start().getTime();
                };
                return e2.end().getTime() - e1.end().getTime();
            });
            var $1B = $2o.indexOf($04);
            if ($1B === -1) {
                return null;
            };
            if ($1B + 1 < $2o.length) {
                return $2o[$1B + 1];
            };
            return $2o[0];
        };
        this.$cc = function($21) {
            if (!$21) {
                return;
            };
            if (DayPilotScheduler.editing) {
                DayPilotScheduler.editing.blur();
            };
            if (!$21.event) {
                return;
            };
            var $95 = this.$gJ($21);
            DayPilotScheduler.editing = $95;
            DayPilot.re($95, DayPilot.touch.start,
                function(ev) {
                    ev.stopPropagation();
                });
            $95.onblur = function() {
                $95.onblur = null;
                DayPilotScheduler.editing = null;
                if ($95.parentNode) {
                    $95.parentNode.removeChild($95);
                };
                if (!$21.event) {
                    return;
                };
                var $96 = $21.event.text();
                var $1z = $95.value;
                $k.$dr($21.event, $1z, $95.canceling);
            };
            $95.onmousedown = function(e) {
                e = e || window.event;
                e.stopPropagation && e.stopPropagation();
            };
            $95.onkeypress = function(e) {
                var $76 = (window.event) ? event.keyCode: e.keyCode;
                if ($76 === 13) {
                    this.onblur();
                    return false;
                };
                return true;
            };
            $95.cancel = function() {
                if (DayPilotScheduler.editing) {
                    DayPilotScheduler.editing.canceling = true;
                    DayPilotScheduler.editing.blur();
                }
            };
            $95.onkeydown = function(e) {
                var $76 = (window.event) ? event.keyCode: e.keyCode;
                if ($76 === 27) {
                    DayPilotScheduler.editing.cancel();
                } else if ($76 === 9) {
                    var $97 = $k.$gK($21);
                    DayPilotScheduler.editing.cancel();
                    if ($97) {
                        if (DayPilot.browser.ie) {
                            setTimeout(function() {
                                    $k.$cc($97);
                                },
                                0);
                        } else {
                            $k.$cc($97);
                        }
                    };
                    return false;
                }
            };
            $95.select();
            $95.focus();
        };
        this.$fc = function(ev) {
            var td = this;
            var $z = td.row;
            if (typeof(DayPilotBubble) !== 'undefined') {
                if ($k.cellBubble) {
                    $k.cellBubble.hideOnMouseOut();
                };
                if ($k.resourceBubble) {
                    var $1O = {};
                    $1O.calendar = $k;
                    $1O.id = $z.id;
                    if ($z.bubbleHtml) {
                        $1O.bubbleHtml = function() {
                            return $z.bubbleHtml;
                        }
                    };
                    $1O.toJSON = function() {
                        var $1K = {};
                        $1K.id = this.id;
                        return $1K;
                    };
                    $k.resourceBubble.showResource($1O);
                }
            }
        };
        this.$fd = function(ev) {
            var td = this;
            if (typeof(DayPilotBubble) !== 'undefined' && $k.resourceBubble) {
                $k.resourceBubble.hideOnMouseOut();
            };
            var $04 = td.firstChild;
            DayPilot.Areas.hideAreas($04, ev);
            $04.data = null;
        };
        this.$fe = function(ev) {
            if ($69.row) {
                $1N.cancelClick = true;
                setTimeout(function() {
                        $1N.cancelClick = false;
                    },
                    100);
            }
        };
        this.$b2 = function() {
            if (!this.timeHeader) {
                return;
            };
            this.$aN.timeHeader = {};
            var $81 = document.createElement("div");
            $81.style.position = "relative";
            this.nav.timeHeader = $81;
            for (var y = 0; y < this.timeHeader.length; y++) {
                var $z = this.timeHeader[y];
                for (var x = 0; x < $z.length; x++) {
                    this.$gL(x, y);
                }
            };
            var $98 = this.divNorth;
            if ($98.childNodes.length === 1) {
                $98.replaceChild($81, $98.childNodes[0]);
            } else {
                $98.innerHTML = '';
                $98.appendChild($81);
            };
            var $8b = this.$bD();
            $98.style.width = ($8b + 5000) + "px";
            $k.divCorner.innerHTML = this.cornerHtml || '';
            if ($8b > 0) {
                this.divStretch.style.width = ($8b) + "px";
            }
        };
        this.$bZ = function(h, $99) {
            var $0b = null;
            var $7c = this.$cN.locale();
            var $99 = $99 || this.cellGroupBy;
            var $0L = h.start;
            var to = h.end;
            switch ($99) {
                case 'Hour':
                    $0b = ($k.$cN.timeFormat() === 'Clock12Hours') ? $0L.toString("h tt", $7c) : $0L.toString("H", $7c);
                    break;
                case 'Day':
                    $0b = $0L.toString($7c.datePattern);
                    break;
                case 'Week':
                    $0b = $0d.weekStarts() === 1 ? $0L.weekNumberISO() : $0L.weekNumber();
                    break;
                case 'Month':
                    $0b = $0L.toString("MMMM yyyy", $7c);
                    break;
                case 'Quarter':
                    $0b = "Q" + Math.floor($0L.getMonth() / 3 + 1);
                    break;
                case 'Year':
                    $0b = $0L.toString("yyyy");
                    break;
                case 'None':
                    $0b = '';
                    break;
                case 'Cell':
                    var $0P = (h.end.ticks - h.start.ticks) / 60000;
                    $0b = this.$gM($0L, $0P);
                    break;
                default:
                    throw 'Invalid cellGroupBy value';
            };
            return $0b;
        };
        this.$gM = function($M, $0P) {
            var $7c = this.$cN.locale();
            var $0P = $0P || this.cellDuration;
            if ($0P < 60) {
                return $M.toString("mm");
            } else if ($0P < 1440) {
                return $k.$cN.timeFormat() === 'Clock12Hours' ? $M.toString("h tt", $7c) : $M.toString("H", $7c);
            } else if ($0P < 10080) {
                return $M.toString("d");
            } else if ($0P === 10080) {
                return $0d.weekStarts() === 1 ? $M.weekNumberISO() : $M.weekNumber();
            } else {
                return $M.toString("MMMM yyyy", $7c);
            }
        };
        this.$bV = function($0L) {
            var $4f = this.scale;
            switch ($4f) {
                case "Cell":
                    throw "Invalid scale: Cell";
                case "Manual":
                    throw "Internal error (addScaleSize in Manual mode)";
                case "Minute":
                    return $0L.addMinutes(1);
                case "CellDuration":
                    return $0L.addMinutes(this.cellDuration);
                default:
                    return this.$bY($0L, $4f);
            }
        };
        this.$bY = function($0L, $99) {
            var to;
            var $9a = this.viewType !== 'Days' ? this.days: 1;
            var $0u = this.startDate.addDays($9a);
            if ($k.scale === "Manual") {
                $0u = $k.$bX();
            };
            var $99 = $99 || this.cellGroupBy;
            var $3m = 60;
            switch ($99) {
                case 'Hour':
                    if ($0L.getHours() + $0L.getMinutes() + $0L.getSeconds() + $0L.getMilliseconds() > 0) {
                        $0L = $0L.getDatePart().addHours($0L.getHours());
                    };
                    to = $0L.addHours(1);
                    break;
                case 'Day':
                    to = $0L.getDatePart().addDays(1);
                    break;
                case 'Week':
                    to = $0L.getDatePart().addDays(1);
                    while (to.dayOfWeek() !== $0d.weekStarts()) {
                        to = to.addDays(1);
                    };
                    break;
                case 'Month':
                    to = $0L.addMonths(1);
                    to = to.firstDayOfMonth();
                    var $9b = (DayPilot.DateUtil.diff(to, $0L) / (1000.0 * 60)) % $3m === 0;
                    while (!$9b) {
                        to = to.addHours(1);
                        $9b = (DayPilot.DateUtil.diff(to, $0L) / (1000.0 * 60)) % $3m === 0;
                    };
                    break;
                case "Quarter":
                    to = $0L.addMonths(1);
                    to = to.firstDayOfMonth();
                    while (to.getMonth() % 3) {
                        to = to.addMonths(1);
                    };
                    var $9b = (DayPilot.DateUtil.diff(to, $0L) / (1000.0 * 60)) % $3m === 0;
                    while (!$9b) {
                        to = to.addHours(1);
                        $9b = (DayPilot.DateUtil.diff(to, $0L) / (1000.0 * 60)) % $3m === 0;
                    };
                    break;
                case 'Year':
                    to = $0L.addYears(1);
                    to = to.firstDayOfYear();
                    var $9b = (DayPilot.DateUtil.diff(to, $0L) / (1000.0 * 60)) % $3m === 0;
                    while (!$9b) {
                        to = to.addHours(1);
                        $9b = (DayPilot.DateUtil.diff(to, $0L) / (1000.0 * 60)) % $3m === 0;
                    };
                    break;
                case 'None':
                    to = $0u;
                    break;
                case 'Cell':
                    var $R = this.$c4($0L);
                    if ($R.current) {
                        to = $R.current.end;
                    } else {
                        if ($R.past) {
                            to = $R.previous.end;
                        } else {
                            to = $R.next.start;
                        }
                    };
                    break;
                default:
                    throw 'Invalid cellGroupBy value';
            };
            if (to.getTime() > $0u.getTime()) {
                to = $0u;
            };
            return to;
        };
        this.$gN = {};
        this.$gN.timeheadercol = "_timeheadercol";
        this.$gN.timeheadercolInner = "_timeheadercol_inner";
        this.$gN.resourcedivider = "_resourcedivider";
        this.$gN.eventFloat = "_event_float";
        this.$gN.eventFloatInner = "_event_float_inner";
        this.$gN.event = "_event";
        this.$gN.eventInner = "_event_inner";
        this.$gN.eventBar = "_event_bar";
        this.$gN.eventBarInner = "_event_bar_inner";
        this.$gN.eventDelete = "_event_delete";
        this.$gN.eventLine = "_event_line";
        this.$gN.eventMovingSource = "_event_moving_source";
        var $08 = this.$gN;
        this.$gL = function(x, y) {
            var $81 = this.nav.timeHeader;
            var p = this.timeHeader[y][x];
            var $9c = y < this.timeHeader.length - 1;
            var $P = p.left;
            var $C = p.width;
            var $4E = $4F.timeHeader(y);
            var top = $4E.top;
            var $T = $4E.height;
            var $R = document.createElement("div");
            $R.style.position = "absolute";
            $R.style.top = top + "px";
            $R.style.left = $P + "px";
            $R.style.width = $C + "px";
            $R.style.height = $T + "px";
            if (p.toolTip) {
                $R.title = p.toolTip;
            };
            if (p.cssClass) {
                DayPilot.Util.addClass($R, p.cssClass);
            };
            $R.setAttribute("unselectable", "on");
            $R.style.KhtmlUserSelect = 'none';
            $R.style.MozUserSelect = 'none';
            $R.style.webkitUserSelect = 'none';
            $R.oncontextmenu = function() {
                return false;
            };
            $R.cell = {};
            $R.cell.start = p.start;
            $R.cell.end = p.end;
            $R.cell.level = y;
            $R.cell.th = p;
            $R.onclick = this.$fj;
            $R.style.overflow = 'hidden';
            if (!$k.timeHeaderTextWrappingEnabled) {
                $R.style.whiteSpace = "nowrap";
            };
            var $07 = document.createElement("div");
            $07.setAttribute("unselectable", "on");
            if (p.innerHTML) {
                $07.innerHTML = p.innerHTML;
            };
            if (p.backColor) {
                $07.style.background = p.backColor;
            };
            var cl = this.$bC($08.timeheadercol);
            var $9d = this.$bC($08.timeheadercolInner);
            if ($9c) {
                cl = this.$bC("_timeheadergroup");
                $9d = this.$bC("_timeheadergroup_inner");
            };
            DayPilot.Util.addClass($R, cl);
            DayPilot.Util.addClass($07, $9d);
            DayPilot.list(p.areas).each(function($L) {
                if ($L.start) {
                    $L.left = $k.getPixels(new DayPilot.Date($L.start)).left - $P;
                    if ($L.end) {
                        $L.width = $k.getPixels(new DayPilot.Date($L.end)).left - $L.left - $P;
                    }
                }
            });
            $R.appendChild($07);
            DayPilot.Areas.attach($R, p, {
                "areas": p.areas
            });
            this.$aN.timeHeader[x + "_" + y] = $R;
            $81.appendChild($R);
        };
        this.$ct = function() {
            if ($k.cellStacking) {
                $6u.calculateEventPositions();
                return;
            };
            for (var i = 0; i < this.rowlist.length; i++) {
                var $z = this.rowlist[i];
                var $8v = $z.getHeight() + $z.marginBottom + $z.marginTop;
                if ($z.height !== $8v) {
                    this.$cU = true;
                };
                $z.height = $8v;
            }
        };
        this.$b6 = function() {
            var $81 = this.divHeader;
            if (!$81) {
                return false;
            };
            var $2z = this.rowlist.length;
            var $1W = this.rowHeaderCols ? this.rowHeaderCols.length: 1;
            var j = 0;
            for (var i = 0; i < $2z; i++) {
                var $z = this.rowlist[i];
                if ($z.hidden) {
                    continue;
                };
                var $1B = this.$f5 ? i: j;
                if (!$81.rows[$1B]) {
                    continue;
                };
                for (var c = 0; c < $81.rows[$1B].cells.length; c++) {
                    var $9e = $81.rows[$1B].cells[c];
                    if (this.$f5) {
                        $9e.style.top = $z.top + "px";
                    };
                    var $87 = $z.height;
                    if ($9e && $9e.firstChild && parseInt($9e.firstChild.style.height, 10) !== $87) {
                        $9e.firstChild.style.height = $87 + "px";
                    }
                };
                j++;
            };
            if (this.$f5) {
                if ($k.nav.resScrollSpace) {
                    $k.nav.resScrollSpace.style.top = $k.$aM + "px";
                }
            }
        };
        this.$go = function($1B) {
            var s = this.separators[$1B];
            s.location = s.location || s.Location;
            s.color = s.color || s.Color;
            s.layer = s.layer || s.Layer;
            s.width = s.width || s.Width;
            s.opacity = s.opacity || s.Opacity;
            var $0K = new DayPilot.Date(s.location);
            var $2h = s.color;
            var $C = s.width ? s.width: 1;
            var $2k = s.layer ? s.layer === 'AboveEvents': false;
            var $9f = s.opacity ? s.opacity: 100;
            if ($0K.getTime() < this.$bT().getTime()) {
                return;
            };
            if ($0K.getTime() >= this.$bX().getTime()) {
                return;
            };
            var $A = this.getPixels($0K);
            if ($A.cut) {
                return;
            };
            if ($A.left < 0) {
                return;
            };
            if ($A.left > this.$eF() * this.cellWidth) {
                return;
            };
            var $0x = document.createElement("div");
            $0x.style.width = $C + 'px';
            $0x.style.height = $k.$aM + 'px';
            $0x.style.position = 'absolute';
            $0x.style.left = ($A.left - 1) + 'px';
            $0x.style.top = '0px';
            $0x.style.backgroundColor = $2h;
            $0x.style.opacity = $9f / 100;
            $0x.style.filter = "alpha(opacity=" + $9f + ")";
            if ($2k) {
                this.divSeparatorsAbove.appendChild($0x);
            } else {
                this.divSeparators.appendChild($0x);
            };
            this.elements.separators.push($0x);
        };
        this.$gg = function(ev) {
            if ($k.timeRangeDoubleClickHandling === 'Disabled') {
                return false;
            };
            if (DayPilotScheduler.timeRangeTimeout) {
                clearTimeout(DayPilotScheduler.timeRangeTimeout);
                DayPilotScheduler.timeRangeTimeout = null;
            };
            var $1t = {};
            if (!$k.coords) {
                var $5n = $k.$bq;
                $k.coords = DayPilot.mo3($5n, ev);
            };
            ev = ev || window.event;
            ev.stopPropagation && ev.stopPropagation();
            ev.cancelBubble = true;
            if ($k.$gO($k.coords)) {
                var $1u = $k.$d8(DayPilotScheduler.rangeHold);
                $k.$dc($1u.start, $1u.end, $1u.resource);
            } else {
                DayPilotScheduler.range = $k.$gG();
                if (DayPilotScheduler.range) {
                    DayPilotScheduler.rangeCalendar = $k;
                    var $1u = $k.$d8(DayPilotScheduler.range);
                    $k.$dc($1u.start, $1u.end, $1u.resource);
                    DayPilotScheduler.rangeHold = DayPilotScheduler.range;
                }
            }
        };
        this.$gd = function(ev) {
            if ($0Q.start || $0Q.active) {
                return;
            };
            if (DayPilotScheduler.timeRangeTimeout && false) {
                clearTimeout(DayPilotScheduler.timeRangeTimeout);
                DayPilotScheduler.timeRangeTimeout = null;
            };
            $k.$gP();
            $k.$gb();
            if (!$k.coords) {
                var $5n = $k.$bq;
                $k.coords = DayPilot.mo3($5n, ev);
            };
            if (DayPilotScheduler.rectangleSelect) {
                return false;
            };
            ev = ev || window.event;
            var $8S = DayPilot.Util.mouseButton(ev);
            if ($8S.middle || ($8S.right && $k.$gO($k.coords))) {
                return false;
            };
            if ($k.$gO($k.coords)) {
                return false;
            };
            var $1f = ev.ctrlKey;
            var $1g = ev.metaKey;
            var $1E = ev.shiftKey;
            var $11 = $1f || $1g;
            var $n = {};
            $n.action = "None";
            if ($k.multiSelectRectangle !== "Disabled" && $1E) {
                $n.action = "RectangleSelect";
            } else if ($k.timeRangeSelectedHandling !== 'Disabled') {
                $n.action = "TimeRangeSelect";
            };
            $n.shift = $1E;
            $n.ctrl = $1E;
            $n.meta = $1g;
            $n.originalEvent = ev;
            $n.preventDefault = function() {
                $n.action = "None";
            };
            if (typeof $k.onGridMouseDown === "function") {
                $k.onGridMouseDown($n);
            };
            if ($n.action === "None") {
                ev.preventDefault();
                ev.stopPropagation();
                return false;
            };
            if ($n.action === "RectangleSelect") {
                var $4O = {};
                $4O.start = $k.coords;
                $4O.calendar = $k;
                DayPilotScheduler.rectangleSelect = $4O;
                return false;
            };
            if ($k.allowMultiRange && !$11) {
                mr.clear();
            };
            var i = $k.$dI($k.coords.y).i;
            var $z = $k.rowlist[i];
            if ($z.isNewRow) {
                return false;
            };
            DayPilotScheduler.range = $k.$gG();
            if (DayPilotScheduler.range) {
                DayPilotScheduler.range.ctrl = $11;
                DayPilotScheduler.rangeCalendar = $k;
            };
            return false;
        };
        this.$gG = function() {
            var $1t = {};
            var cx = this.$c2($k.coords.x).x;
            $1t.start = {
                y: $k.$dI($k.coords.y).i,
                x: cx
            };
            $1t.end = {
                x: cx
            };
            if (this.$dS($k.$dI($k.coords.y).i)) {
                return null;
            };
            $1t.calendar = $k;
            $k.$db($1t);
            return $1t;
        };
        this.$eS = function() {
            $k.$ez();
            var $26 = DayPilotScheduler.resizingShadow;
            var ev = DayPilotScheduler.resizing; (function() {
                var $0G = $k.$gQ;
                var $0o = {
                    "start": $26.start,
                    "end": $k.$cm($26.end)
                };
                $26.original = $0o;
                var so = $26.original;
                if (so && $0G && $0G.start === so.start && $0G.end === $k.$cm(so.end)) {
                    return;
                };
                var $n = {};
                $n.start = $0o.start;
                $n.end = $0o.end;
                $n.duration = new DayPilot.Duration($n.start, $n.end);
                $n.e = ev.event;
                $n.allowed = true;
                $n.resizing = DayPilotScheduler.resizing.dpBorder === "left" ? "start": "end";
                $n.left = {};
                $n.left.html = $n.start.toString($k.eventResizingStartEndFormat, $0d.locale());
                $n.left.enabled = $k.eventResizingStartEndEnabled;
                $n.left.space = 5;
                $n.left.width = null;
                $n.right = {};
                $n.right.html = $n.end.toString($k.eventResizingStartEndFormat, $0d.locale());
                $n.right.enabled = $k.eventResizingStartEndEnabled;
                $n.right.space = 5;
                $n.right.width = null;
                $n.multiresize = DayPilot.list($16.list);
                var $17 = {};
                $17.event = ev;
                $17.start = $n.start;
                $17.end = $n.end;
                $n.multiresize.splice(0, 0, $17);
                $k.$gQ = $0o;
                if (typeof $k.onEventResizing === 'function') {
                    $k.onEventResizing($n);
                };
                $26.allowed = $n.allowed;
                var $M = $n.start;
                var end = $k.$cZ($n.end);
                $26.finalStart = $M;
                $26.finalEnd = end;
                var $0P = DayPilot.DateUtil.diff($M, end);
                $0P = Math.max($0P, 1);
                var $2V = $0d.useBox($0P);
                var $P = $2V ? $k.getPixels($M).boxLeft: $k.getPixels($M).left;
                var $Q = $2V ? $k.getPixels(end).boxRight: $k.getPixels(end).left;
                $26.style.left = $P + "px";
                $26.style.width = ($Q - $P) + "px";
                $26.left = $P;
                $26.width = $Q - $P;
                $k.$eT(DayPilotScheduler.resizingShadow, $n);
                $k.$eU(DayPilotScheduler.resizingShadow, $n);
            })();
        };
        this.$ge = function(ev) {
            if (DayPilotScheduler.rectangleSelect) {
                var ev = ev || window.event;
                ev.cancelBubble = true;
                ev.preventDefault && ev.preventDefault();
                DayPilotScheduler.gMouseUp(ev);
                return false;
            };
            $0R = {};
        };
        this.$gR = function() {
            return DayPilotScheduler.resizing || DayPilotScheduler.moving || DayPilotScheduler.range;
        };
        this.$eW = function(ev) {
            if ($0Q.active) {
                return;
            };
            DayPilotScheduler.activeCalendar = $k;
            ev = ev || window.event;
            var $9g = DayPilot.mc(ev);
            $k.coords = DayPilot.mo3($k.$bq, ev);
            ev.insideMainD = true;
            if (window.event && window.event.srcElement) {
                window.event.srcElement.inside = true;
            };
            if ($0R.start) {
                var $9h = 3;
                var $D = DayPilot.distance($0R.originalMouse, $9g);
                if ($D > $9h) {
                    DayPilot.Util.copyProps($0R, DayPilotScheduler);
                    document.body.style.cursor = 'move';
                    $0R = {};
                }
            };
            if (DayPilotScheduler.resizing && DayPilotScheduler.resizingEvent.calendar === $k) {
                if (!DayPilotScheduler.resizing.event) {
                    DayPilotScheduler.resizing.event = DayPilotScheduler.resizingEvent;
                };
                $k.$gS();
            } else if (DayPilotScheduler.moving && (DayPilotScheduler.movingEvent.calendar === $k || DayPilotScheduler.movingEvent.calendar.dragOutAllowed)) {
                if (!DayPilotScheduler.moving.event) {
                    DayPilotScheduler.moving.event = DayPilotScheduler.movingEvent;
                };
                $k.$gT();
            } else if (DayPilotScheduler.range && DayPilotScheduler.range.calendar === $k) {
                DayPilotScheduler.range.moved = true;
                $k.$gU();
            } else if ($2a.source) {
                var $0l = $2a.source;
                $1k.drawShadow($0l.coords, $k.coords);
            } else if (DayPilotScheduler.rectangleSelect) {
                DayPilotScheduler.rectangleSelect.moved = true;
                $0W.draw();
            };
            if ($k.crosshairType !== 'Disabled') {
                $k.$gV();
            };
            $k.$gW();
            var $9i = ev.insideEvent;
            if (window.event && window.event.srcElement) {
                $9i = window.event.srcElement.insideEvent;
            };
            if ($k.cellBubble && $k.coords && $k.rowlist && $k.rowlist.length > 0 && !$9i) {
                var x = $k.$c2($k.coords.x).x;
                var y = $k.$dI($k.coords.y).i;
                if (0 <= y && y < $k.rowlist.length && 0 <= x && x < $k.itline.length) {
                    var $R = {};
                    $R.calendar = $k;
                    $R.start = $k.itline[x].start;
                    $R.end = $k.itline[x].end;
                    $R.resource = $k.rowlist[y].id;
                    $R.toJSON = function() {
                        var $1K = {};
                        $1K.start = this.start;
                        $1K.end = this.end;
                        $1K.resource = this.resource;
                        return $1K;
                    };
                    $k.cellBubble.showCell($R);
                }
            };
            if (DayPilotScheduler.drag) {
                $k.$gP();
                if (DayPilotScheduler.gShadow) {
                    document.body.removeChild(DayPilotScheduler.gShadow);
                };
                DayPilotScheduler.gShadow = null;
                if (!DayPilotScheduler.movingShadow && $k.coords && $k.rowlist.length > 0) {
                    if (!DayPilotScheduler.moving) {
                        DayPilotScheduler.moving = DayPilotScheduler.drag.schedulerSourceEvent || {};
                        var event = DayPilotScheduler.drag.event;
                        if (!event) {
                            var $9j = $k.itline[0].start;
                            var ev = {
                                'id': DayPilotScheduler.drag.id,
                                'start': $9j,
                                'end': $9j.addSeconds(DayPilotScheduler.drag.duration),
                                'text': DayPilotScheduler.drag.text
                            };
                            var $s = DayPilotScheduler.drag.data;
                            if ($s) {
                                var $8g = ['duration', 'element', 'id', 'text'];
                                for (var name in $s) {
                                    if (DayPilot.contains($8g, name)) {
                                        continue;
                                    };
                                    ev[name] = $s[name];
                                }
                            };
                            event = new DayPilot.Event(ev);
                            event.calendar = $k;
                        };
                        event.part.external = true;
                        if (DayPilotScheduler.drag.schedulerSourceEvent) {
                            if (DayPilotScheduler.drag.schedulerSourceEvent.event.calendar === $k) {
                                event.part.external = false;
                            }
                        };
                        DayPilotScheduler.moving.event = event;
                        DayPilotScheduler.movingEvent = event;
                    };
                    DayPilotScheduler.movingShadow = $k.$dQ(DayPilotScheduler.moving);
                };
                ev.cancelBubble = true;
            };
            if ($k.autoScroll === "Always" || ($k.autoScroll === "Drag" && (DayPilotScheduler.moving || DayPilotScheduler.resizing || DayPilotScheduler.range))) {
                var $9k = $k.nav.scroll;
                var $23 = {
                    x: $k.coords.x,
                    y: $k.coords.y
                };
                $23.x -= $9k.scrollLeft;
                $23.x += $N.shiftX;
                $23.y -= $9k.scrollTop;
                var $C = $9k.clientWidth;
                var $T = $9k.clientHeight;
                var $3B = 30;
                var $P = $23.x < $3B ? $23.x: 0;
                var $Q = $C - $23.x < $3B ? $C - $23.x: 0;
                var top = $23.y < $3B ? $23.y: 0;
                var $Y = $T - $23.y < $3B ? $T - $23.y: 0;
                var x = 0;
                var y = 0;
                var $9l = 50;
                if ($P) {
                    x = -$9l * invertedPct($P, $3B);
                };
                if ($Q) {
                    x = $9l * invertedPct($Q, $3B);
                };
                if (top) {
                    y = -$9l * invertedPct(top, $3B) / 2;
                };
                if ($Y) {
                    y = $9l * invertedPct(top, $3B) / 2;
                };
                if (DayPilotScheduler.resizing || DayPilotScheduler.range) {
                    y = 0;
                };
                if (x || y) {
                    $k.$gX(x, y);
                } else {
                    $k.$gb();
                }
            }
        };
        function invertedPct($7h, $B) {
            return 1 - $7h / $B;
        };
        this.$gU = function() {
            var $1t = DayPilotScheduler.range;
            $1t.end = {
                x: $k.$c2($k.coords.x).x
            };
            $k.$db($1t);
        };
        this.$gS = function() {
            if (!DayPilotScheduler.resizingShadow) {
                DayPilotScheduler.resizingShadow = $k.$dQ(DayPilotScheduler.resizing);
            };
            $k.$eR();
        };
        this.$gT = function() {
            if (DayPilotScheduler.movingShadow && DayPilotScheduler.movingShadow.calendar !== $k) {
                DayPilotScheduler.movingShadow.calendar = null;
                DayPilot.de(DayPilotScheduler.movingShadow);
                DayPilotScheduler.movingShadow = null;
            };
            if (!DayPilotScheduler.movingShadow) {
                var mv = DayPilotScheduler.moving;
                DayPilotScheduler.movingShadow = $k.$dQ(mv);
            };
            $k.$ew();
            DayPilotScheduler.moving.target = $k;
            $k.$ey();
        };
        this.$gY = {};
        var $0W = this.$gY;
        $0W.start = function() {
            var $4O = {};
            $4O.start = $k.coords;
            $4O.calendar = $k;
            DayPilotScheduler.rectangleSelect = $4O;
        };
        $0W.draw = function() {
            var $4O = DayPilotScheduler.rectangleSelect;
            var $M = DayPilotScheduler.rectangleSelect.start;
            var end = $k.coords;
            $0W.clear();
            var $0o = {
                "x": $4O.x,
                "y": $4O.y,
                "width": $4O.width,
                "height": $4O.height
            };
            var $P, top, $C, $T;
            var $U, $W, $V, $X; (function rectifyStartEnd() {
                $U = Math.min($M.x, end.x);
                $V = Math.max($M.x, end.x);
                if ($k.multiSelectRectangle === "Free") {
                    $W = Math.min($M.y, end.y);
                    $X = Math.max($M.y, end.y);
                } else if ($k.multiSelectRectangle === "Row") {
                    $W = $M.y;
                    $X = $M.y;
                }
            })();
            if ($k.multiSelectRectangle === "Free") {
                $P = $U;
                top = $W;
                $C = $V - $U;
                $T = $X - $W;
            } else if ($k.multiSelectRectangle === "Row") {
                var y = $k.$dI($W).i;
                var $z = $k.rowlist[y];
                top = $z.top;
                $T = $z.height;
                var $3W = $k.$c2($U).cell;
                $P = $3W.left;
                var $3X = $k.$c2($V).cell;
                $C = $3X.left + $3X.width - $P;
            } else {
                throw "Invalid DayPilot.Scheduler.multiSelectRectangle value: " + $k.multiSelectRectangle;
            };
            var $04 = DayPilot.Util.div($k.divRectangle, $P, top, $C, $T);
            $04.style.boxSizing = "border-box";
            $04.style.backgroundColor = "#0000ff";
            $04.style.border = "1px solid #000033";
            $04.style.opacity = 0.4;
            $4O.x = $P;
            $4O.y = top;
            $4O.width = $C;
            $4O.height = $T;
            if ($4O.x !== $0o.x || $4O.y !== $0o.y || $4O.width !== $0o.width || $4O.height !== $0o.height) {
                if (typeof $k.onRectangleEventSelecting === "function") {
                    var $n = {};
                    $n.events = $S.eventsInRectangle($4O.x, $4O.y, $4O.width, $4O.height).map(function($02) {
                        return $02.event;
                    });
                    $n.start = $k.getDate($4O.x, true);
                    $n.end = $k.getDate($4O.x + $4O.width, true);
                    $k.onRectangleEventSelecting($n);
                }
            }
        };
        $0W.clear = function() {
            $k.divRectangle.innerHTML = '';
            $k.elements.rectangle = [];
        };
        this.$gZ = function() {
            var x, y;
            if ($k.coords && $k.rowlist && $k.rowlist.length > 0 && $k.itline && $k.itline.length > 0) {
                x = $k.$c2($k.coords.x).x;
                y = $k.$dI($k.coords.y).i;
                if (y >= $k.rowlist.length) {
                    return;
                }
            } else {
                return null;
            };
            var $O = $k.cells.findXy(x, y);
            return $O[0];
        };
        this.$gW = function() {
            var $R = this.$gZ();
            if (this.hover.cell) {
                if (this.hover.cell.x === $R.x && this.hover.cell.y === $R.y) {
                    return;
                };
                this.$gc();
            };
            this.hover.cell = $R;
            if (typeof this.onCellMouseOver === 'function') {
                var $n = {};
                $n.cell = $R;
                this.onCellMouseOver($n);
            }
        };
        this.$gc = function() {
            if (!this.hover.cell) {
                return;
            };
            if (typeof this.onCellMouseOut === 'function') {
                var $n = {};
                $n.cell = this.hover.cell;
                this.onCellMouseOut($n);
            };
            this.hover.cell = null;
        };
        this.hover = {};
        this.$gV = function() {
            var $R = this.$gZ();
            if (this.hover.cell) {
                if (this.hover.cell.x === $R.x && this.hover.cell.y === $R.y) {
                    return;
                }
            };
            this.$h0();
        };
        this.$gP = function() {
            this.divCrosshair.innerHTML = '';
            this.$h1 = null;
            this.$h2 = null;
        };
        this.$g0 = function() {
            this.$gP();
            if (this.$h3 && this.$h3.parentNode) {
                this.$h3.parentNode.removeChild(this.$h3);
                this.$h3 = null;
            };
            if (this.$h4) {
                for (var i = 0; i < this.$h4.length; i++) {
                    var ch = this.$h4[i];
                    if (ch.parentNode) {
                        ch.parentNode.removeChild(ch);
                    }
                };
                this.$h4 = null;
            };
            this.$aK = -1;
            this.$aJ = -1;
        };
        this.$h0 = function() {
            var x, y;
            if ($k.coords && $k.rowlist && $k.rowlist.length > 0) {
                x = $k.$c2($k.coords.x).x;
                y = $k.$dI($k.coords.y).i;
                if (y >= $k.rowlist.length) {
                    return;
                }
            } else {
                return;
            };
            var $Z = this.crosshairType;
            var $z = $k.rowlist[y];
            if ($Z === 'Full') {
                var $0J = this.itline[x];
                var $P = $0J.left;
                var $0x = this.$h1;
                if (!$0x) {
                    var $0x = document.createElement("div");
                    $0x.style.height = $k.$aM + 'px';
                    $0x.style.position = 'absolute';
                    $0x.style.top = '0px';
                    $0x.className = $k.$bC("_crosshair_vertical");
                    this.$h1 = $0x;
                    this.divCrosshair.appendChild($0x);
                };
                $0x.style.left = $P + 'px';
                $0x.style.width = $0J.width + 'px';
                var top = $z.top;
                var $T = $z.height;
                var $C = this.$bD();
                var $0x = this.$h2;
                if (!$0x) {
                    var $0x = document.createElement("div");
                    $0x.style.width = $C + 'px';
                    $0x.style.height = $T + 'px';
                    $0x.style.position = 'absolute';
                    $0x.style.top = top + 'px';
                    $0x.style.left = '0px';
                    $0x.className = $k.$bC("_crosshair_horizontal");
                    this.$h2 = $0x;
                    this.divCrosshair.appendChild($0x);
                };
                $0x.style.top = top + 'px';
                $0x.style.height = $T + 'px';
            };
            var $9m = this.$h5(this.coords.x);
            if ($9m && this.$aK !== $9m.x) {
                if (this.$h3 && this.$h3.parentNode) {
                    this.$h3.parentNode.removeChild(this.$h3);
                    this.$h3 = null;
                };
                var $T = $4F.timeHeader($k.timeHeaders.length - 1).height;
                var $0x = document.createElement("div");
                $0x.style.width = $9m.cell.width + "px";
                $0x.style.height = $T + "px";
                $0x.style.left = '0px';
                $0x.style.top = '0px';
                $0x.style.position = 'absolute';
                $0x.className = $k.$bC("_crosshair_top");
                this.$h3 = $0x;
                var $98 = this.divNorth;
                var $9n = this.timeHeader ? this.timeHeader.length - 1 : 1;
                if (this.nav.timeHeader) {
                    this.$aN.timeHeader[$9m.x + "_" + $9n].appendChild($0x);
                } else {
                    if ($98.firstChild.rows[$9n].cells[x]) {
                        $98.firstChild.rows[$9n].cells[x].firstChild.appendChild($0x);
                    }
                }
            };
            if (this.$aJ !== y) {
                if (this.$h4) {
                    for (var i = 0; i < this.$h4.length; i++) {
                        var ch = this.$h4[i];
                        if (ch.parentNode) {
                            ch.parentNode.removeChild(ch);
                        }
                    };
                    this.$h4 = null;
                };
                var $1W = this.rowHeaderCols ? this.rowHeaderCols.length: 1;
                this.$h4 = [];
                if (this.divHeader.rows[y]) {
                    for (var i = 0; i < this.divHeader.rows[y].cells.length; i++) {
                        var $C = $k.$bG();
                        var $0x = document.createElement("div");
                        $0x.style.width = $C + "px";
                        $0x.style.height = $z.height + "px";
                        $0x.style.left = '0px';
                        $0x.style.top = '0px';
                        $0x.style.position = 'absolute';
                        $0x.className = $k.$bC("_crosshair_left");
                        this.$h4.push($0x);
                        this.divHeader.rows[y].cells[i].firstChild.appendChild($0x);
                    }
                }
            };
            if ($9m) {
                this.$aK = $9m.x;
            };
            this.$aJ = y;
        };
        this.$eI = function(y, $A) {
            var $z = $k.timeHeader[y];
            if (!$z) {
                return null;
            };
            for (var i = 0; i < $z.length; i++) {
                var $R = $z[i];
                if ($A >= $R.left && $A < $R.left + $R.width) {
                    var $l = {};
                    $l.cell = $R;
                    $l.x = i;
                    return $l;
                }
            };
            return null;
        };
        this.$h5 = function($A) {
            return $k.$eI($k.timeHeader.length - 1, $A);
        };
        this.$gf = function(ev) {
            ev = ev || window.event;
            if ($k.timeRangeSelectedHandling === 'Disabled') {
                return false;
            };
            if ($k.timeRangeRightClickHandling === "Disabled") {
                return false;
            };
            var $9o = null;
            if ($k.$gO($k.coords)) {
                $9o = $k.$d8(DayPilotScheduler.rangeHold);
            } else {
                $9o = $k.$d8();
            };
            if (!$9o) {
                return;
            };
            $9o.end = $k.$cm($9o.end);
            var $n = {};
            $n.start = $9o.start;
            $n.end = $9o.end;
            $n.resource = $9o.resource;
            $n.preventDefault = function() {
                this.preventDefault.value = true;
            };
            if (typeof $k.onTimeRangeRightClick === "function") {
                $k.onTimeRangeRightClick($n);
                if ($n.preventDefault.value) {
                    return false;
                }
            };
            if ($k.timeRangeRightClickHandling === "ContextMenu" && $k.contextMenuSelection) {
                $k.contextMenuSelection.show($9o);
            };
            if (typeof $k.onTimeRangeRightClicked === "function") {
                $k.onTimeRangeRightClicked($n);
            };
            ev.cancelBubble = true;
            if (!$k.allowDefaultContextMenu) {
                return false;
            }
        };
        this.$gO = function($23) {
            var $1t = DayPilotScheduler.rangeHold;
            if (!$1t || !$1t.start || !$1t.end) {
                return false;
            };
            var $z = this.$dX($1t.start.y);
            var $9p = $1t.start.x < $1t.end.x;
            var $9q = ($9p ? $1t.start.x: $1t.end.x) * this.cellWidth;
            var $9r = ($9p ? $1t.end.x: $1t.start.x) * this.cellWidth + this.cellWidth;
            var $9s = $z.top;
            var $9t = $z.bottom;
            if ($23.x >= $9q && $23.x <= $9r && $23.y >= $9s && $23.y <= $9t) {
                return true;
            };
            return false;
        };
        this.$db = function($1t, $9u) {
            var $1t = $1t || DayPilotScheduler.range;
            if (!$1t) {
                return;
            };
            if ($1t.calendar !== $k) {
                return;
            };
            function draw($1t) {
                var $U = $1t.end.x > $1t.start.x ? $1t.start.x: $1t.end.x;
                var $V = ($1t.end.x > $1t.start.x ? $1t.end.x: $1t.start.x);
                var y = $1t.start.y;
                var $z = $k.rowlist[y];
                var $M = $k.itline[$U];
                var end = $k.itline[$V];
                var $P = $M.left;
                var $Q = end.left + end.width;
                var $C = $Q - $P;
                var $R = $k.elements.range2;
                if (!$R) {
                    $R = document.createElement("div");
                    $R.style.position = 'absolute';
                    $R.setAttribute("unselectable", "on");
                    $R.className = $k.$bC("_shadow");
                    var $07 = document.createElement("div");
                    $07.className = $k.$bC("_shadow_inner");
                    $R.appendChild($07);
                    $k.divRange.appendChild($R);
                };
                $R.style.left = ($M.left) + "px";
                $R.style.top = $k.rowlist[y].top + "px";
                $R.style.width = $C + "px";
                $R.style.height = ($k.rowlist[y].height - 1) + "px";
                $k.elements.range2 = $R; (function checkOverlap() {
                    var $z = $k.rowlist[y];
                    var $26 = $R;
                    var $P = $M.left;
                    $k.$eO($R, $z, $P, $C, null);
                })();
                return $R;
            }; (function() {
                var $U = $1t.end.x > $1t.start.x ? $1t.start.x: $1t.end.x;
                var $V = ($1t.end.x > $1t.start.x ? $1t.end.x: $1t.start.x);
                var y = $1t.start.y;
                var $z = $k.rowlist[y];
                if (!$z) {
                    return;
                };
                var $M = $k.itline[$U];
                var end = $k.itline[$V];
                var $0G = $k.$h6;
                var $9v = $M.start.addTime($z.data.offset);
                var $9w = end.end.addTime($z.data.offset);
                if (!$9u && $0G && $0G.start.getTime() === $9v.getTime() && $0G.end.getTime() === $9w.getTime() && $0G.resource === $k.rowlist[y].id) {
                    return;
                };
                var $0o = {
                    "start": $9v,
                    "end": $k.$cm($9w)
                };
                var $n = {};
                $n.start = $0o.start;
                $n.end = $0o.end;
                $n.duration = new DayPilot.Duration($0o.start, $0o.end);
                $n.resource = $k.rowlist[y].id;
                $n.allowed = true;
                $n.left = {};
                $n.left.html = $n.start.toString($k.timeRangeSelectingStartEndFormat, $0d.locale());
                $n.left.enabled = $k.timeRangeSelectingStartEndEnabled;
                $n.left.space = 5;
                $n.left.width = null;
                $n.right = {};
                $n.right.html = $n.end.toString($k.timeRangeSelectingStartEndFormat, $0d.locale());
                $n.right.enabled = $k.timeRangeSelectingStartEndEnabled;
                $n.right.space = 5;
                $n.right.width = null;
                $k.$h6 = $n;
                if (typeof $k.onTimeRangeSelecting === 'function' && !$9u) {
                    $k.onTimeRangeSelecting($n);
                };
                var $9x = $k.$h7($1t);
                $k.$da($9x, $n.start, $n.end);
                var $R = draw($9x);
                $k.$eT($R, $n);
                $1t.$gI = $9x;
                $1t.disabled = !$n.allowed;
                $k.$eU($R, $n);
                $n.start = $0o.start;
                $n.end = $0o.end;
            })();
        };
        this.$h7 = function($1t) {
            return {
                "start": {
                    "x": $1t.start.x,
                    "y": $1t.start.y
                },
                "end": {
                    "x": $1t.end.x
                },
                "disabled": $1t.disabled
            }
        };
        this.range = {};
        this.range.all = function() {
            return mr.get();
        };
        this.$h8 = {};
        var mr = this.$h8;
        this.$h8.list = [];
        this.$h8.clear = function() {
            DayPilot.de(DayPilot.list(mr.list).map(function($02) {
                return $02.div;
            }));
            mr.list = [];
        };
        this.$h8.add = function($1t) {
            $1t.div = $k.elements.range2;
            $k.elements.range2 = null;
            $k.$eV();
            mr.list.push($1t);
        };
        this.$h8.get = function() {
            return DayPilot.list(mr.list).map(function($02) {
                return $k.$d8($02);
            });
        };
        this.$h8.dispatch = function() {
            if (!$k.allowMultiRange) {
                return;
            };
            if (DayPilotScheduler.range) {
                return;
            };
            var $0G = DayPilot.list(mr.list).last();
            $k.$d7($0G);
        };
        this.$h9 = function(ev) {
            if ($k.timeRangeSelectedHandling === 'Disabled') {
                return false;
            };
            if ($0Q.active || $0Q.start) {
                return;
            };
            ev = ev || window.event;
            var $8S = DayPilot.Util.mouseButton(ev);
            if (DayPilotScheduler.range) {
                return;
            };
            if (DayPilotScheduler.rectangleSelect) {
                return;
            };
            if (DayPilotScheduler.rangeHold && $k.$gO($k.coords) && ($8S.right || $8S.middle)) {
                return;
            };
            if ($k.$dS($k.$dI($k.coords.y).i)) {
                return;
            };
            var $1t = {};
            var cx = $k.$c2($k.coords.x).x;
            $1t.start = {
                y: $k.$dI($k.coords.y).i,
                x: cx
            };
            $1t.end = {
                x: cx
            };
            $1t.calendar = $k;
            DayPilotScheduler.rangeHold = $1t;
            $k.$d7($1t);
        };
        this.timeouts = {};
        this.timeouts.drawEvents = null;
        this.timeouts.drawCells = null;
        this.timeouts.click = null;
        this.disableOnScroll = false;
        this.$bl = function(ev) {
            if ($k.disableOnScroll) {
                return;
            };
            $k.$aU();
            if ($N.isEnabled() && !$N.active && $k.$cS && $k.cellWidthSpec != "Auto") {
                if ($k.nav.scroll.scrollLeft < $k.$aH) {
                    $N.active = true;
                    setTimeout(function() {
                            $N.shiftStart( - $k.$aI);
                        },
                        100);
                } else if ($k.nav.scroll.scrollWidth - ($k.nav.scroll.scrollLeft + $k.nav.scroll.clientWidth) < $k.$aH) {
                    $N.active = true;
                    setTimeout(function() {
                            $N.shiftStart($k.$aI);
                        },
                        100);
                }
            };
            if ($k.navigatorBackSync) { (function backSync() {
                var $9y = DayPilot.Util.evalVariable($k.navigatorBackSync);
                var $M = $k.getViewPort().start;
                $9y.select($M, {
                    "dontNotify": true,
                    "dontFocus": true
                });
            })();
            };
            if ($k.dynamicLoading) {
                $k.$ha();
                return;
            };
            var $9z = $k.nav.scroll;
            $k.$eG = $9z.scrollLeft;
            $k.$eE = $9z.scrollTop;
            $k.$eH = $9z.clientWidth;
            $k.divTimeScroll.scrollLeft = $k.$eG;
            $k.divResScroll.scrollTop = $k.$eE;
            if ($k.timeouts.drawEvents) {
                clearTimeout($k.timeouts.drawEvents);
                $k.timeouts.drawEvents = null;
            };
            if ($k.scrollDelayEvents > 0) {
                $k.timeouts.drawEvents = setTimeout($k.$hb(), $k.scrollDelayEvents);
            } else {
                $k.$bf();
            };
            if ($k.timeouts.drawCells) {
                clearTimeout($k.timeouts.drawCells);
                $k.timeouts.drawCells = null;
            };
            if ($k.scrollDelayCells > 0) {
                $k.timeouts.drawCells = setTimeout($k.$hc(), $k.scrollDelayCells);
            } else {
                var f = $k.$hc();
                f();
            };
            if ($k.timeouts.updateFloats) {
                clearTimeout($k.timeouts.updateFloats);
                $k.timeouts.updateFloats = null;
            };
            if ($k.scrollDelayFloats > 0) {
                $k.timeouts.updateFloats = setTimeout(function() {
                        $k.$bj();
                    },
                    $k.scrollDelayFloats);
            } else {
                $k.$bj();
            };
            $k.onScrollCalled = true;
        };
        this.$hc = function() {
            return function() {
                $k.$bi();
                $k.$bd();
            };
        };
        this.$hb = function() {
            var $1o = true;
            var $9A = $k.dynamicEventRenderingCacheSweeping;
            var $9B = $k.dynamicEventRenderingCacheSize;
            return function() {
                if ($k.$gu()) {
                    window.setTimeout(function() {
                            if ($9A) $k.$gr($9B);
                            window.setTimeout(function() {
                                    $k.$bf($1o);
                                },
                                50);
                        },
                        50);
                } else {
                    $k.$by();
                }
            };
        };
        this.$aU = function() {
            this.$aN.eventHeight = null;
            this.$aN.drawArea = null;
        };
        this.show = function() {
            this.visible = true;
            $k.nav.top.style.display = '';
            this.$b4();
            this.$b5();
            this.$ea();
            $k.$bl();
        };
        this.hide = function() {
            this.visible = false;
            $k.nav.top.style.display = 'none';
        };
        this.$hd = function() {
            return;
        };
        this.$ha = function() {
            var $9z = $k.nav.scroll;
            $k.$eG = $9z.scrollLeft;
            $k.$eE = $9z.scrollTop;
            $k.$eH = $9z.clientWidth;
            $k.divTimeScroll.scrollLeft = $k.$eG;
            $k.divResScroll.scrollTop = $k.$eE;
            if ($k.refreshTimeout) {
                window.clearTimeout($k.refreshTimeout);
            };
            var $0c = $k.scrollDelayDynamic;
            $k.refreshTimeout = window.setTimeout($k.$he($9z.scrollLeft, $9z.scrollTop), $0c);
            $k.$bj();
        };
        this.$hf = function($s) {
            var $9C = $s.id;
            var $3a = new DayPilot.Date($s.start).toString();
            for (var j = 0; j < this.events.list.length; j++) {
                var ex = this.events.list[j];
                var $9D = ex.id;
                if ($9D === $9C) {
                    if (DayPilot.Util.isNullOrUndefined($9C) && !DayPilot.Util.isNullOrUndefined($s.recurrentMasterId)) {
                        var $9E = new DayPilot.Date(ex.start).toString();
                        if (ex.recurrentMasterId !== $s.recurrentMasterId || $3a !== $9E) {
                            continue;
                        }
                    };
                    var $l = {};
                    $l.ex = ex;
                    $l.index = j;
                    $l.modified = !$k.$hg($s, ex);
                    return $l;
                }
            };
            return null;
        };
        this.$hg = function($0M, $9F) {
            for (var name in $0M) {
                if (typeof $0M[name] === 'object' && !($0M[name] instanceof DayPilot.Date)) {
                    continue;
                };
                if ($0M[name] !== $9F[name]) {
                    return false;
                }
            };
            for (var name in $9F) {
                if (typeof $9F[name] === 'object') {
                    continue;
                };
                if ($0M[name] !== $9F[name]) {
                    return false;
                }
            };
            return true;
        };
        this.$bg = function($6k, $9G) {
            var $6h = [];
            for (var i = 0; i < $6k.length; i++) {
                var e = $6k[i];
                var $6l = $k.$hf(e);
                var $2b = $6l && $6l.modified;
                var $6j = !$6l;
                if ($2b) {
                    this.events.list[$6l.index] = e;
                    var $1d = $k.events.$cq($6l.ex);
                    $6h = $6h.concat($1d);
                } else if ($6j) {
                    this.events.list.push(e);
                };
                if ($2b || $6j) {
                    $6h = $6h.concat($k.events.$cr(e));
                }
            };
            $k.$cs($6h);
            $k.$ct();
            $k.$b3();
            $k.$b8();
            var $9H = false;
            if ($9H) {
                $k.$cu($6h, false, $9G);
            } else {
                $k.$ba();
                $k.$b9();
                $k.$b6();
                $k.$bd();
                $k.$bf();
            }
        };
        this.$he = function(scrollX, scrollY) {
            if (!$k.$bM()) {
                return function() {
                    if (typeof $k.onScroll === 'function') {
                        var $2b = function($01) {
                            var $9G = function() {
                                if ($k.$bm()) {
                                    if (typeof $k.onAfterRender === 'function') {
                                        var $n = {};
                                        $n.isCallBack = false;
                                        $n.isScroll = true;
                                        $n.data = null;
                                        $k.onAfterRender($n);
                                    }
                                }
                            };
                            $k.$bg($01, $9G);
                        };
                        var $n = {};
                        $n.viewport = $k.getViewPort();
                        $n.async = false;
                        $n.events = [];
                        $n.loaded = function() {
                            if (this.async) {
                                $2b(this.events);
                            }
                        };
                        $k.onScroll($n);
                        if (!$n.async) {
                            $2b($n.events);
                        }
                    }
                };
            } else {
                return function() {
                    $k.scrollX = scrollX;
                    $k.scrollY = scrollY;
                    $k.$c9('Scroll');
                };
            }
        };
        this.$hh = function() {
            var $L = this.$bv();
            var $9I = $L.xStart;
            var $9J = $L.xEnd - $L.xStart;
            var $3Q = $L.yStart;
            var $9K = $L.yEnd - $L.yStart;
            if (!this.cellProperties) {
                this.cellProperties = {};
            };
            for (var i = 0; i <= $9J; i++) {
                var x = $9I + i;
                for (var j = 0; j < $9K; j++) {
                    var y = $3Q + j;
                    if (!this.rowlist[y].hidden) {
                        this.$ed(x, y);
                    }
                };
                this.$hi(x);
            };
            var $9L = this.$eZ();
            for (var y = $9L.start; y < $9L.end; y++) {
                if (!this.rowlist[y].hidden) {
                    this.$hj(y);
                }
            }
        };
        this.$bd = function() {
            if ($k.$aF) {
                return;
            };
            if ($k.progressiveRowRendering) {
                this.$cK();
            };
            if (this.rowlist !== null && this.rowlist.length > 0) {
                var $9M = this.cellSweeping;
                if ($9M) {
                    var $9B = this.cellSweepingCacheSize;
                    this.$gt($9B);
                };
                this.$hh();
                this.$hk();
                $1N.$fu();
            };
            var $C = this.$bD();
            this.$bq.style.height = this.$aM + "px";
            this.$bq.style.width = $C + "px";
            if ($k.cellWidthSpec === "Auto" && !$k.$bP) {
                $k.nav.scroll.style.overflowX = "hidden";
                $k.nav.scroll.scrollLeft = 0;
            } else {
                $k.nav.scroll.style.overflowX = "auto";
            };
            this.$cU = false;
        };
        this.$hk = function() {
            var $L = this.$bv();
            for (var x = $L.xStart; x < $L.xEnd; x++) {
                var $9N = (x < this.itline.length - 1) ? this.itline[x + 1].breakBefore: false;
                if ($9N) {
                    this.$hl(x);
                }
            }
        };
        this.$hl = function(x) {
            var $1B = "x" + x;
            if (this.$aN.breaks[$1B]) {
                return;
            };
            var $P = this.itline[x + 1].left - 1;
            var $T = this.$aM;
            var $0x = document.createElement("div");
            $0x.style.left = $P + "px";
            $0x.style.top = "0px";
            $0x.style.width = "1px";
            $0x.style.height = $T + "px";
            $0x.style.fontSize = '1px';
            $0x.style.lineHeight = '1px';
            $0x.style.overflow = 'hidden';
            $0x.style.position = 'absolute';
            $0x.setAttribute("unselectable", "on");
            $0x.className = this.$bC("_matrix_vertical_break");
            this.divBreaks.appendChild($0x);
            this.elements.breaks.push($0x);
            this.$aN.breaks[$1B] = $0x;
        };
        this.$bv = function() {
            if ($k.$aN.drawArea) {
                return $k.$aN.drawArea;
            };
            if (!this.nav.scroll) {
                return null;
            };
            var $9O = $k.$eE;
            var $L = {};
            var $9P = this.dynamicEventRenderingMargin;
            var $9P = this.dynamicEventRenderingMarginX != null ? this.dynamicEventRenderingMarginX: this.dynamicEventRenderingMargin;
            var $9Q = this.dynamicEventRenderingMarginY != null ? this.dynamicEventRenderingMarginY: this.dynamicEventRenderingMargin;
            var $P = $k.$eG - $9P - $N.shiftX;
            var $Q = $P + $k.$eH + 2 * $9P;
            var $M = 0;
            var end = 0;
            if ($k.itline && $k.itline.length > 0) {
                $M = $k.$c2($P).x;
                end = $k.$c2($Q, true).x;
                var $3T = this.$eF();
                end = Math.min(end, $3T);
                $M = Math.max($M, 0);
            };
            var top = $9O - $9Q;
            var $Y = $9O + this.nav.scroll.offsetHeight + 2 * $9Q;
            var $3Q = this.$dI(top).i;
            var $3R = this.$dI($Y).i;
            if ($3R < this.rowlist.length) {
                $3R++;
            };
            $L.xStart = $M;
            $L.xEnd = end;
            $L.yStart = $3Q;
            $L.yEnd = $3R;
            $L.pixels = {};
            $L.pixels.left = this.nav.scroll.scrollLeft - $N.shiftX;
            $L.pixels.right = this.nav.scroll.scrollLeft - $N.shiftX + this.nav.scroll.clientWidth;
            $L.pixels.top = this.nav.scroll.scrollTop;
            $L.pixels.bottom = this.nav.scroll.scrollTop + this.nav.scroll.clientHeight;
            $L.pixels.width = this.nav.scroll.scrollWidth;
            $k.$aN.drawArea = $L;
            return $L;
        };
        this.$bD = function() {
            var $l = 0;
            var $0G = this.itline[this.itline.length - 1];
            if (!$0G) {
                $l = 0;
            } else {
                $l = $0G.left + $0G.width;
            };
            if ($l < 0 || isNaN($l)) {
                $l = 0;
            };
            return $l;
        };
        this.$hj = function(y) {
            var $1B = "y" + y;
            if (this.$aN.linesHorizontal[$1B]) {
                return;
            };
            var top = this.rowlist[y].top + this.rowlist[y].height - 1;
            var $C = this.$bD();
            var $0x = document.createElement("div");
            $0x.style.left = "0px";
            $0x.style.top = top + "px";
            $0x.style.width = $C + "px";
            $0x.style.height = "1px";
            $0x.style.fontSize = '1px';
            $0x.style.lineHeight = '1px';
            $0x.style.overflow = 'hidden';
            $0x.style.position = 'absolute';
            $0x.setAttribute("unselectable", "on");
            $0x.className = this.$bC("_matrix_horizontal_line");
            this.divLines.appendChild($0x);
            this.$aN.linesHorizontal[$1B] = $0x;
        };
        this.$hi = function(x) {
            var $0J = this.itline[x];
            if (!$0J) {
                return;
            };
            var $1B = "x" + x;
            if (this.$aN.linesVertical[$1B]) {
                return;
            };
            var $P = $0J.left + $0J.width - 1;
            var $0x = document.createElement("div");
            $0x.style.left = $P + "px";
            $0x.style.top = "0px";
            $0x.style.width = "1px";
            $0x.style.height = $k.$aM + "px";
            $0x.style.fontSize = '1px';
            $0x.style.lineHeight = '1px';
            $0x.style.overflow = 'hidden';
            $0x.style.position = 'absolute';
            $0x.setAttribute("unselectable", "on");
            $0x.className = this.$bC("_matrix_vertical_line");
            this.divLines.appendChild($0x);
            this.elements.linesVertical.push($0x);
            this.$aN.linesVertical[$1B] = $0x;
        };
        this.$ex = function($1B) {
            var $z = this.rowlist[$1B];
            var $9R = !$z.expanded;
            $z.expanded = $9R;
            if ($z.resource) {
                $z.resource.expanded = $9R;
            };
            var $1d = this.$hm($1B, $z.expanded);
            if (!$9R) {
                for (var i = 0; i < $1d.length; i++) {
                    var ri = $1d[i];
                    this.$cV(ri);
                }
            };
            this.$b3();
            this.$b1();
            this.$b8();
            this.$aU();
            if ($9R) {
                for (var i = 0; i < $1d.length; i++) {
                    var ri = $1d[i];
                    this.$cW(ri);
                };
                this.$by();
            };
            this.$cX();
            $1k.load();
            this.$b9();
            this.$bd();
            this.$bf();
            this.$bi();
            var r = this.$dh($z, $1B);
            if ($9R) {
                this.$dq(r);
            } else {
                this.$dp(r);
            };
            this.$aU();
        };
        this.$fi = function(i) {
            var $0Y = {};
            $0Y.index = i;
            if (typeof this.onLoadNode === 'function') {
                var $n = {};
                var $1s = this.rowlist[i].resource;
                $n.resource = $1s;
                $n.async = false;
                $n.loaded = function() {
                    if (this.async) {
                        $1s.dynamicChildren = false;
                        $1s.expanded = true;
                        $k.update();
                    }
                };
                this.onLoadNode($n);
                if (!$n.async) {
                    $1s.dynamicChildren = false;
                    $1s.expanded = true;
                    this.update();
                }
            } else {
                this.$c9('LoadNode', $0Y);
            }
        };
        this.$hm = function(i, $9S) {
            var $z = this.rowlist[i];
            var $7L = [];
            if ($z.children === null || $z.children.length === 0) {
                return $7L;
            };
            for (var k = 0; k < $z.children.length; k++) {
                var $1B = $z.children[k];
                var $9T = this.rowlist[$1B];
                var $8x = $9S && $z.expanded && !$9T.$fL;
                $9T.hidden = !$8x;
                if ($9S === !$9T.hidden) {
                    $7L.push($1B);
                };
                var $9U = this.$hm($1B, $9S);
                if ($9U.length > 0) {
                    $7L = $7L.concat($9U);
                }
            };
            return $7L;
        };
        this.$gX = function($9V, $9W) {
            this.$gb();
            this.$hn($9V, $9W);
        };
        this.$ho = function($H) {
            if (!$H) {
                return false;
            };
            var $0g = this.nav.scroll.scrollWidth;
            var $M = this.nav.scroll.scrollLeft;
            var $C = this.nav.scroll.clientWidth;
            var $Q = $M + $C;
            if ($H < 0 && $M <= 0) {
                return false;
            };
            if ($H > 0 && $Q >= $0g) {
                return false;
            };
            this.nav.scroll.scrollLeft += $H;
            $k.coords.x += $H;
            $k.$hp();
            return true;
        };
        this.$hq = function($H) {
            if (!$H) {
                return false;
            };
            var $0g = this.nav.scroll.scrollHeight;
            var $M = this.nav.scroll.scrollTop;
            var $T = this.nav.scroll.clientHeight;
            var $Y = $M + $T;
            if ($H < 0 && $M <= 0) {
                return false;
            };
            if ($H > 0 && $Y >= $0g) {
                return false;
            };
            this.nav.scroll.scrollTop += $H;
            $k.coords.y += $H;
            $k.$hp();
            return true;
        };
        this.$hp = function() {
            if (DayPilotScheduler.resizing && DayPilotScheduler.resizing.event.calendar === $k) {
                $k.$gS();
            } else if (DayPilotScheduler.moving && (DayPilotScheduler.movingEvent.calendar === $k || DayPilotScheduler.movingEvent.calendar.dragOutAllowed)) {
                if (!DayPilotScheduler.moving.event) {
                    DayPilotScheduler.moving.event = DayPilotScheduler.movingEvent;
                };
                $k.$gT();
            } else if (DayPilotScheduler.range && DayPilotScheduler.range.calendar === $k) {
                $k.$gU();
            }
        };
        this.$hn = function($9V, $9W) {
            var $9X = this.$ho($9V) || this.$hq($9W);
            if (!$9X) {
                return;
            };
            var $9Y = function($9V, $9W) {
                return function() {
                    $k.$hn($9V, $9W);
                };
            };
            this.$hr = window.setTimeout($9Y($9V, $9W), 100);
        };
        this.$gb = function() {
            if ($k.$hr) {
                window.clearTimeout($k.$hr);
                $k.$hr = null;
            }
        };
        this.$b3 = function() {
            var top = 0;
            for (var i = 0; i < this.rowlist.length; i++) {
                var $z = this.rowlist[i];
                if (!$z.hidden) {
                    $z.top = top;
                    top += $z.height;
                }
            };
            this.$aM = top;
        };
        this.$b9 = function() {
            this.elements.cells = [];
            this.elements.breaks = [];
            this.$aN.cells = [];
            this.$aN.breaks = [];
            this.divCells.innerHTML = '';
            this.divBreaks.innerHTML = '';
            $k.$fa();
        };
        this.$fa = function() {
            this.divLines.innerHTML = '';
            this.$aN.linesVertical = {};
            this.$aN.linesHorizontal = {};
            this.elements.linesVertical = [];
        };
        this.$cY = function(y) {
            var $00 = DayPilot.list();
            for (var name in $k.$aN.cells) {
                $00.push($k.$aN.cells[name]);
            };
            $00.filter(function($02) {
                return $02 && $02.coords && $02.coords.y === y;
            }).each(function($02) {
                $k.$ec($02);
            });
        };
        this.$hs = 0;
        this.$ht = DayPilot.list(['html', 'cssClass', 'backColor', 'backImage', 'backRepeat', 'areas']);
        this.$hu = $k.$ht.add('business');
        this.$ed = function(x, y) {
            if (!this.$cS) {
                return;
            };
            var $0J = $k.$cb(x);
            if (!$0J) {
                return;
            };
            var $1B = x + '_' + y;
            if (this.$aN.cells[$1B]) {
                return;
            };
            var p = this.$ee(x, y);
            $k.$eL(x, y);
            if (!this.drawBlankCells) {
                var $9Z = false;
                if (this.$eu(y)) {
                    $9Z = false;
                } else if (!this.$hv(p, $k.$ht)) {
                    $9Z = true;
                };
                if ($9Z) {
                    return;
                }
            };
            var $R = document.createElement("div");
            $R.style.left = ($0J.left) + "px";
            $R.style.top = this.rowlist[y].top + "px";
            $R.style.width = ($0J.width) + "px";
            $R.style.height = (this.rowlist[y].height) + "px";
            $R.style.position = 'absolute';
            if (p && p.backColor) {
                $R.style.backgroundColor = p.backColor;
            };
            $R.setAttribute("unselectable", "on");
            $R.className = this.$bC('_cell');
            $R.coords = {};
            $R.coords.x = x;
            $R.coords.y = y;
            if (this.$eu(y)) {
                DayPilot.Util.addClass($R, this.$bC("_cellparent"));
            };
            if (p) {
                if (p.cssClass) {
                    DayPilot.Util.addClass($R, p.cssClass);
                };
                if (!DayPilot.Util.isNullOrUndefined(p.html)) {
                    $R.innerHTML = p.html;
                };
                if (p.backImage) {
                    $R.style.backgroundImage = "url(\"" + p.backImage + "\")";
                };
                if (p.backRepeat) {
                    $R.style.backgroundRepeat = p.backRepeat;
                };
                if (p.business && $k.cellsMarkBusiness) {
                    DayPilot.Util.addClass($R, $k.$bC("_cell_business"));
                };
                DayPilot.list(p.areas).each(function($L) {
                    if ($L.start || $L.end) {
                        $L.left = $k.getPixels(new DayPilot.Date($L.start)).left - $0J.left;
                        $L.width = $k.getPixels(new DayPilot.Date($L.end)).left - $L.left - $0J.left;
                    }
                });
                var c = $k.cells.findXy(x, y)[0];
                DayPilot.Areas.attach($R, c, {
                    "areas": p.areas
                });
            };
            this.divCells.appendChild($R);
            this.elements.cells.push($R);
            this.$aN.cells[$1B] = $R;
        };
        this.$cL = {};
        this.$ea = function() {
            var $1d = $k.$hw();
            $1d.each(function(y) {
                $k.$cY(y);
            });
            $k.$bd();
        };
        this.$hw = function() {
            var $l = DayPilot.list();
            var $L = this.$bv();
            var $9I = $L.xStart;
            var $9J = $L.xEnd - $L.xStart;
            var $3Q = $L.yStart;
            var $9K = $L.yEnd - $L.yStart;
            for (var j = 0; j < $9K; j++) {
                var y = $3Q + j;
                for (var i = 0; i <= $9J; i++) {
                    var x = $9I + i;
                    if (!this.rowlist[y].hidden) {
                        if (!$k.$cL[x + "_" + y]) {
                            $l.push(y);
                            break;
                        }
                    }
                }
            };
            return $l;
        };
        this.$eL = function(x, y) {
            if (typeof this.onBeforeCellRender === 'function') {
                if ($k.beforeCellRenderCaching && $k.$cL[x + "_" + y]) {
                    return;
                };
                $k.$cL[x + "_" + y] = true;
                var $0J = $k.$cb(x);
                if (!$0J) {
                    return;
                };
                var $R = $k.cells.findXy(x, y)[0];
                var $n = {};
                $n.cell = $R;
                $n.getPixels = function($w) {
                    var $w = new DayPilot.Date($w);
                    var $a0 = $k.getPixels($w).left;
                    return $a0 - $0J.left;
                };
                this.onBeforeCellRender($n);
                DayPilot.Util.copyProps($n.cell, $n.cell.properties, $k.$hu);
                return $n;
            }
        };
        this.$hv = function($21, $2c) {
            if ($2c) {
                for (var i = 0; i < $2c.length; i++) {
                    if (!DayPilot.Util.isNullOrUndefined($21[$2c[i]])) {
                        return true;
                    }
                }
            } else {
                for (var name in $21) {
                    if (!DayPilot.Util.isNullOrUndefined($21[name])) {
                        return true;
                    }
                }
            };
            return false;
        };
        this.clearSelection = function() {
            this.$bh();
            mr.clear();
        };
        this.cleanSelection = this.clearSelection;
        this.selectTimeRange = function($M, end, $1s, $a1) {
            var $z = $k.$bt($1s);
            var $a2 = $k.$c4($M);
            var $3k = $a2.current || $a2.next;
            if (!$3k) {
                throw new DayPilot.Exception("Time range selection 'start' out of timeline");
            };
            var $a3 = $k.$c4(new DayPilot.Date(end).addSeconds( - 1));
            var $3l = $a3.current || $a3.previous;
            if (!$3l) {
                throw new DayPilot.Exception("Time range selection 'end' out of timeline");
            };
            var $1t = {};
            $1t.start = {
                y: $z.index,
                x: DayPilot.indexOf($k.itline, $3k)
            };
            $1t.end = {
                x: DayPilot.indexOf($k.itline, $3l)
            };
            $1t.calendar = this;
            $k.$db($1t);
            if (!$a1) {
                setTimeout(function() {
                        $k.$d7($1t);
                    },
                    0);
            }
        };
        this.$d3 = function() {
            DayPilot.de(DayPilotScheduler.movingShadow);
            DayPilotScheduler.movingShadow = null;
            $k.$eV();
            $k.$eQ.clear();
        };
        this.$bh = function() {
            this.divRange.innerHTML = '<div style="position:absolute; left:0px; top:0px; width:0px; height:0px;"></div>';
            this.elements.range = [];
            this.elements.range2 = null;
            this.$eV();
            DayPilotScheduler.rangeHold = null;
        };
        this.$cN = {};
        var $0d = this.$cN;
        $0d.clearCache = function() {
            delete $k.$aN.eventHeight;
            delete $k.$aN.headerHeight;
        };
        $0d.locale = function() {
            return DayPilot.Locale.find($k.locale);
        };
        $0d.timeFormat = function() {
            if ($k.timeFormat !== 'Auto') {
                return $k.timeFormat;
            };
            return $0d.locale().timeFormat;
        };
        $0d.weekStarts = function() {
            if ($k.weekStarts === 'Auto') {
                var $7c = $0d.locale();
                if ($7c) {
                    return $7c.weekStarts;
                } else {
                    return 0;
                }
            } else {
                return $k.weekStarts || 0;
            }
        };
        $0d.rounded = function() {
            return $k.eventCorners === 'Rounded';
        };
        $0d.layout = function() {
            var $a4 = /MSIE 6/i.test(navigator.userAgent);
            if ($k.layout === 'Auto') {
                if ($a4) {
                    return 'TableBased';
                } else {
                    return 'DivBased';
                }
            };
            return $k.layout;
        };
        $0d.notifyType = function() {
            var $Z;
            if ($k.notifyCommit === 'Immediate') {
                $Z = "Notify";
            } else if ($k.notifyCommit === 'Queue') {
                $Z = "Queue";
            } else {
                throw "Invalid notifyCommit value: " + $k.notifyCommit;
            };
            return $Z;
        };
        $0d.isResourcesView = function() {
            return $k.viewType !== 'Days';
        };
        $0d.useBox = function($a5) {
            if ($k.useEventBoxes === 'Always') {
                return true;
            };
            if ($k.useEventBoxes === 'Never') {
                return false;
            };
            return $a5 < $k.$el() * 60 * 1000;
        };
        $0d.eventHeight = function() {
            if ($k.$aN.eventHeight) {
                return $k.$aN.eventHeight;
            };
            var $T = $k.$gj("_event_height").height;
            if (!$T) {
                $T = $k.eventHeight;
            };
            $k.$aN.eventHeight = $T;
            return $T;
        };
        $0d.headerHeight = function() {
            if ($k.$aN.headerHeight) {
                return $k.$aN.headerHeight;
            };
            var $T = $k.$gj("_header_height").height;
            if (!$T) {
                $T = $k.headerHeight;
            };
            $k.$aN.headerHeight = $T;
            return $T;
        };
        $0d.splitterWidth = function() {
            if ($k.rowHeaderScrolling) {
                return $k.rowHeaderSplitterWidth;
            };
            return 1;
        };
        this.$hx = {};
        var $4F = this.$hx;
        $4F.timeHeader = function($6Y) {
            var h = {};
            h.top = 0;
            h.height = 0;
            var $a6 = $0d.headerHeight();
            for (var i = 0; i <= $6Y; i++) {
                var th = $k.timeHeaders[i];
                h.top += h.height;
                h.height = th.height || $a6;
            };
            return h;
        };
        this.$hy = function(x, y) {
            var $1B = x + '_' + y;
            if (this.cellProperties && this.cellProperties[$1B]) {
                return this.cellProperties[$1B].backColor;
            };
            return null;
        };
        this.$ee = function(x, y) {
            var $1B = x + '_' + y;
            if ($k.cellConfig) {
                var $a7 = 0;
                for (var i = 0; i < $k.resources.length; i++) {
                    if (!$k.resources[i].hidden) {
                        if ($a7 === y) {
                            y = i;
                            break;
                        };
                        $a7 += 1;
                    }
                }
            };
            if (!this.cellProperties) {
                this.cellProperties = {};
            };
            if (this.cellProperties[$1B]) {
                return this.cellProperties[$1B];
            };
            if (this.$aD) {
                this.cellProperties[$1B] = $k.$hz(x, y);
            };
            if (!this.cellProperties[$1B]) {
                var $z = $k.rowlist[y];
                var $1s = $z.id;
                var $1x = $z.start.getTime() - $k.$bT().getTime();
                var $0J = $k.$cb(x);
                var $M = $0J.start.addTime($1x);
                var end = $0J.end.addTime($1x);
                var $a8 = {};
                $a8.start = $M;
                $a8.end = end;
                $a8.resource = $1s;
                var $R = {};
                $R.business = $k.isBusiness($a8);
                this.cellProperties[$1B] = $R;
            };
            return this.cellProperties[$1B];
        };
        this.$hA = function($1C, x, y) {
            var $1B = x + '_' + y;
            this.cellProperties[$1B] = {};
            DayPilot.Util.copyProps($1C, this.cellProperties[$1B], $k.$hu);
            return this.cellProperties[$1B];
        };
        this.$hz = function(x, y) {
            if (!this.cellConfig) {
                return null;
            };
            var $5i = this.cellConfig;
            var $R = this.cellProperties[x + "_" + y];
            if (!$R && $5i.vertical) {
                $R = this.cellProperties[x + "_0"];
            };
            if (!$R && $5i.horizontal) {
                $R = this.cellProperties["0_" + y];
            };
            if (!$R && $5i["default"]) {
                $R = $5i["default"];
            };
            var $9x = {};
            DayPilot.Util.copyProps($R, $9x, $k.$hu);
            return $9x;
        };
        this.$aZ = function() {
            if (this.$aD) {
                return;
            };
            if (this.$aE) {
                return;
            };
            this.$aE = true;
            if (!this.cellConfig) {
                return;
            };
            var $5i = this.cellConfig;
            if ($5i.vertical) {
                for (var x = 0; x < $5i.x; x++) {
                    var $a9 = this.cellProperties[x + "_0"];
                    if (!$a9) {
                        continue;
                    };
                    for (var y = 1; y < $5i.y; y++) {
                        this.$hA($a9, x, y);
                    }
                }
            };
            if ($5i.horizontal) {
                for (var y = 0; y < $5i.y; y++) {
                    var $a9 = this.cellProperties["0_" + y];
                    if (!$a9) {
                        continue;
                    };
                    for (var x = 1; x < $5i.x; x++) {
                        this.$hA($a9, x, y);
                    }
                }
            };
            if ($5i["default"]) {
                var $a9 = $5i["default"];
                for (var y = 0; y < $5i.y; y++) {
                    for (var x = 0; x < $5i.x; x++) {
                        if (!this.cellProperties[x + "_" + y]) {
                            this.$hA($a9, x, y);
                        }
                    }
                }
            }
        };
        this.isBusiness = function($R) {
            var $M = $R.start;
            var end = $R.end;
            var $3m = (end.getTime() - $M.getTime()) / (1000 * 60);
            if ($3m <= 1440) {
                if ($k.viewType !== "Days" && !$k.businessWeekends) {
                    if ($R.start.dayOfWeek() === 0 || $R.start.dayOfWeek() === 6) {
                        return false;
                    }
                }
            };
            if ($3m < 720) {
                var $aa = $M.getHours();
                $aa += $M.getMinutes() / 60.0;
                $aa += $M.getSeconds() / 3600.0;
                $aa += $M.getMilliseconds() / 3600000.0;
                if ($aa < this.businessBeginsHour) {
                    return false;
                };
                if (this.businessEndsHour >= 24) {
                    return true;
                };
                if ($aa >= this.businessEndsHour) {
                    return false;
                }
            };
            return true;
        };
        this.$b4 = function() {
            if (this.nav.top.style.visibility === 'hidden') {
                this.nav.top.style.visibility = 'visible';
            }
        };
        this.$f2 = function() {
            var el = $k.nav.top;
            if (!el) {
                return false;
            };
            return el.offsetWidth > 0 && el.offsetHeight > 0;
        };
        this.$hB = function() {
            var $8x = $k.$f2;
            if (!$8x()) {
                $k.debug.message("Not visible during init, starting visibilityInterval");
                $k.$dO = setInterval(function() {
                        if ($8x()) {
                            $k.debug.message("Made visible, calling .show()");
                            $k.show();
                            $k.$f1();
                            clearInterval($k.$dO);
                        }
                    },
                    100);
            }
        };
        this.$hC = function($A) {
            if (this.heightSpec !== "Parent100Pct") {
                this.heightSpec = "Fixed";
            };
            this.height = $A - (this.$bF() + 2);
            this.$b8();
        };
        this.setHeight = this.$hC;
        this.$bt = function(id) {
            return DayPilot.list($20.rowcache[id]).first();
        };
        this.$fR = function() {
            if (this.id && this.id.tagName) {
                this.nav.top = this.id;
            } else if (typeof this.id === "string") {
                this.nav.top = document.getElementById(this.id);
                if (!this.nav.top) {
                    throw "DayPilot.Scheduler: The placeholder element not found: '" + id + "'.";
                }
            } else {
                throw "DayPilot.Scheduler() constructor requires the target element or its ID as a parameter";
            }
        };
        this.$hD = function() {
            this.$gi();
            this.$aY();
            this.$b5();
            this.$gm();
            this.$dM();
            DayPilotScheduler.register(this);
            this.$aS(this.afterRenderData, false);
            this.$gn();
            this.$hB();
            this.$aR();
            this.$c9("Init");
        };
        this.init = function() {
            this.$hE();
            this.$hB();
        };
        this.$hE = function() {
            this.$fR();
            if (this.nav.top.dp) {
                return;
            };
            this.$fQ();
            var $ab = this.$dY();
            if ($ab) {
                this.$hD();
                this.$cS = true;
                this.$aU();
                return;
            };
            this.$gm();
            this.$dM();
            DayPilotScheduler.register(this);
            this.$gn();
            this.$cx();
            this.$cS = true;
            if ($k.scrollToDate) {
                $k.scrollTo($k.scrollToDate);
            } else if ($k.scrollX || $k.scrollY) {
                $k.setScroll($k.scrollX, $k.scrollY);
            } else {
                $k.$bl();
            };
            if ($k.scrollToResourceId) {
                $k.scrollToResource($k.scrollToResourceId);
                $k.scrollToResourceId = null;
            };
            var $ac = function() {
                if ($k.scrollY) {
                    $k.setScroll($k.scrollX, $k.scrollY);
                }
            };
            window.setTimeout($ac, 200);
            if (this.messageHTML) {
                window.setTimeout(function() {
                        $k.message($k.messageHTML);
                    },
                    0);
            };
            this.$aR();
            this.$aU();
            this.$aS(this.afterRenderData, false);
            if ($k.initEventEnabled) {
                setTimeout(function() {
                    $k.$c9("Init");
                });
            };
            this.$hF();
            this.$dN = true;
        };
        this.$hG = null;
        this.$hH = function($j) {
            if (!$j) {
                return;
            };
            var $ad = {
                "events": {
                    "preInit": function() {
                        var $01 = this.data;
                        if (!$01) {
                            return;
                        };
                        if (DayPilot.isArray($01.list)) {
                            $k.events.list = $01.list;
                        } else {
                            $k.events.list = $01;
                        }
                    },
                    "postInit": function() {}
                },
                "scrollTo": {
                    "preInit": function() {},
                    "postInit": function() {
                        if (this.data) {
                            $k.scrollTo(this.data, $j.scrollToAnimated, $j.scrollToPosition);
                        }
                    }
                },
                "scrollX": {
                    "postInit": function() {
                        if (this.data) {
                            $k.setScrollX(this.data);
                        }
                    }
                },
                "scrollY": {
                    "postInit": function() {
                        if (this.data) {
                            $k.setScrollY(this.data);
                        }
                    }
                }
            };
            $k.$hG = $ad;
            if ($k.$bn.scrollToRequested) {
                $ad.scrollTo.data = $k.$bn.scrollToRequested;
                $k.$bn.scrollToRequested = null;
            };
            if ($k.$bn.scrollXRequested) {
                $ad.scrollX.data = $k.$bn.scrollXRequested;
                $k.$bn.scrollXRequested = null;
            };
            if ($k.$bn.scrollYRequested) {
                $ad.scrollY.data = $k.$bn.scrollYRequested;
                $k.$bn.scrollYRequested = null;
            };
            for (var name in $j) {
                if ($ad[name]) {
                    var $02 = $ad[name];
                    $02.data = $j[name];
                    if ($02.preInit) {
                        $02.preInit();
                    }
                } else {
                    $k[name] = $j[name];
                }
            }
        };
        this.$hF = function() {
            var $ad = $k.$hG;
            for (var name in $ad) {
                var $02 = $ad[name];
                if ($02.postInit) {
                    $02.postInit();
                }
            };
            $k.$hG = {};
        };
        this.temp = {};
        this.temp.getPosition = function() {
            var x = Math.floor($k.coords.x / $k.cellWidth);
            var y = $k.$dI($k.coords.y).i;
            if (y < $k.rowlist.length) {
                var $R = {};
                $R.start = $k.itline[x].start;
                $R.end = $k.itline[x].end;
                $R.resource = $k.rowlist[y].id;
                return $R;
            } else {
                return null;
            }
        };
        this.internal = {};
        this.internal.initialized = function() {
            return $k.$cS;
        };
        this.internal.dragInProgress = this.$gR;
        this.internal.invokeEvent = this.$ck;
        this.internal.eventMenuClick = this.$d6;
        this.internal.timeRangeMenuClick = this.$dd;
        this.internal.resourceHeaderMenuClick = this.$df;
        this.internal.linkMenuClick = this.$de;
        this.internal.bubbleCallBack = this.$d4;
        this.internal.findEventDiv = this.$cE;
        this.internal.rowtools = this.$dn;
        this.internal.getNodeChildren = this.$dK;
        this.internal.callback = function() {
            $k.$c9.apply($k, arguments);
        };
        this.internal.createRowObject = this.$dh;
        this.internal.adjustEndIn = $k.$cZ;
        this.internal.adjustEndNormalize = $k.$d0;
        this.internal.touch = $k.$gF;
        this.internal.cssNames = $k.$gN;
        this.internal.skipUpdate = $k.$bn.skipUpdate;
        this.internal.skipped = $k.$bn.skipped;
        this.internal.loadOptions = $k.$hH;
        this.internal.postInit = $k.$hF;
        this.internal.enableAngular2 = function() {
            $k.$bn.enabled = true;
        };
        this.Init = this.init;
        this.$hH($j);
    };
    debug = new DayPilot.Scheduler().v === "${v\u007d";
    DayPilot.Row = function($z, $k) {
        if (!$z) {
            throw "Now row object supplied when creating DayPilot.Row";
        };
        if (!$k) {
            throw "No parent control supplied when creating DayPilot.Row";
        };
        var $1B = DayPilot.indexOf($k.rowlist, $z);
        this.$hI = {};
        var $0o = this.$hI;
        $0o.id = $z.id;
        $0o.name = $z.name;
        $0o.data = $z.resource;
        $0o.tags = $z.tags;
        var r = this;
        r.isRow = true;
        r.menuType = 'resource';
        r.start = $z.start;
        r.name = $z.name;
        r.value = $z.id;
        r.id = $z.id;
        r.tags = $z.tags;
        r.index = $1B;
        r.level = $z.level;
        r.calendar = $k;
        r.data = $z.resource;
        r.$hJ = $z;
        r.$ = {};
        r.$.row = $z;
        r.toJSON = function($6q) {
            var $1K = {};
            $1K.start = this.start;
            $1K.name = this.name;
            $1K.value = this.value;
            $1K.id = this.id;
            $1K.index = this.index;
            return $1K;
        };
        r.parent = function() {
            if (!r.$hJ.$fM) {
                return null;
            };
            return $k.$dh(r.$hJ.$fM);
        };
        r.children = function() {
            var $00 = DayPilot.list(r.$.row.children).map(function(i) {
                return $k.$dh($k.rowlist[i]);
            });
            $00.add = function($9T) {
                var r1 = r.$.row.resource;
                if (!r1.children) {
                    r1.children = [];
                };
                r1.children.push($9T);
            };
            return $00;
        };
        r.loaded = function() {
            return r.$hJ.loaded;
        };
        r.cells = {};
        r.cells.all = function() {
            var $00 = [];
            var $1Q = $k.itline.length;
            var y = r.index;
            for (var x = 0; x < $1Q; x++) {
                var $R = $k.cells.findXy(x, y);
                $00.push($R[0]);
            };
            return $k.$ef($00);
        };
        r.events = {};
        r.events.all = function() {
            var $00 = [];
            for (var i = 0; i < r.$hJ.events.length; i++) {
                $00.push(r.$hJ.events[i]);
            };
            return DayPilot.list($00);
        };
        r.events.totalDuration = function() {
            var $0y = 0;
            r.events.all().each(function($02) {
                $0y += $02.part.end.getTime() - $02.part.start.getTime();
            });
            return new DayPilot.Duration($0y);
        };
        r.groups = {};
        r.groups.collapseAll = function() {
            for (var i = 0; i < r.$hJ.blocks.length; i++) {
                var $6x = r.$hJ.blocks[i];
                var $ae = new $af($6x);
                $ae.$hK();
            };
            $k.$ct();
            $k.$cu(r.index);
            $k.$b8();
        };
        r.groups.expandAll = function() {
            for (var i = 0; i < r.$hJ.blocks.length; i++) {
                var $6x = r.$hJ.blocks[i];
                var $ae = new $af($6x);
                $ae.$hL();
            };
            $k.$ct();
            $k.$cu(r.index);
            $k.$b8();
        };
        r.groups.expanded = function() {
            var $00 = [];
            for (var i = 0; i < r.$hJ.blocks.length; i++) {
                var $6x = r.$hJ.blocks[i];
                if ($6x.expanded && $6x.lines.length > $k.groupConcurrentEventsLimit) {
                    $00.push(new $af($6x));
                }
            };
            return DayPilot.list($00);
        };
        r.groups.collapsed = function() {
            var $00 = [];
            for (var i = 0; i < r.$hJ.blocks.length; i++) {
                var $6x = r.$hJ.blocks[i];
                if (!$6x.expanded) {
                    $00.push(new $af($6x));
                }
            };
            return DayPilot.list($00);
        };
        r.groups.all = function() {
            var $00 = [];
            for (var i = 0; i < r.$hJ.blocks.length; i++) {
                var $6x = r.$hJ.blocks[i];
                $00.push(new $af($6x));
            };
            return DayPilot.list($00);
        };
        r.events.collapseGroups = r.groups.collapseAll;
        r.events.expandGroups = r.groups.expandAll;
        r.column = function(i) {
            return new $ag(r, i);
        };
        r.toggle = function() {
            $k.$ex(r.index);
        };
        r.collapse = function() {
            if (r.$.row.expanded) {
                r.toggle();
            }
        };
        r.expand = function() {
            if (!r.$.row.expanded) {
                r.toggle();
            }
        };
        r.remove = function() {
            $k.rows.remove(r);
        };
        r.edit = function() {
            $k.rows.edit(r);
        };
        r.addClass = function($5g) {
            var $z = r;
            var $5Z = $k.divHeader;
            var $z = $5Z.rows[$z.index];
            if ($z) {
                var $O = DayPilot.list($z.cells).map(function($R) {
                    return $R.cellDiv;
                });
                DayPilot.Util.addClass($O, $5g);
            };
            r.$.row.cssClass = DayPilot.Util.addClassToString(r.$.row.cssClass, $5g);
        };
        r.removeClass = function($5g) {
            var $z = r;
            var $5Z = $k.divHeader;
            var $z = $5Z.rows[$z.index];
            if ($z) {
                var $O = DayPilot.list($z.cells).map(function($R) {
                    return $R.cellDiv;
                });
                DayPilot.Util.removeClass($O, $5g);
            };
            r.$.row.cssClass = DayPilot.Util.removeClassFromString(r.$.row.cssClass, $5g);
        };
        var $af = function($6x) {
            var $ah = function($6x) {
                for (var i = 0; i < $k.elements.events.length; i++) {
                    var $04 = $k.elements.events[i];
                    if ($04.event === $6x) {
                        return $04;
                    }
                };
                return null;
            };
            this.$hL = function() {
                $6x.expanded = true;
                var $00 = $k.$fp;
                DayPilot.list($6x.events).each(function(e) {
                    $00.push(e.id());
                });
                var $04 = $ah($6x);
                if ($04) {
                    $k.$gq($04);
                    var $8C = DayPilot.indexOf($k.elements.events, $04);
                    if ($8C !== -1) {
                        $k.elements.events.splice($8C, 1);
                    }
                }
            };
            this.expand = function() {
                this.$hL();
                $k.$ct();
                $k.$cu($6x.row.index);
                $k.$b8();
            };
            this.$hK = function() {
                if ($6x.lines.length > $k.groupConcurrentEventsLimit) {
                    $6x.expanded = false;
                    var $3y = DayPilot.list($6x.events).map(function(e) {
                        return e.id()
                    });
                    $k.$fp = $k.$fp.filter(function($02) {
                        return ! DayPilot.contains($3y, $02);
                    });
                }
            };
            this.collapse = function() {
                this.$hK();
                $k.$ct();
                $k.$cu($6x.row.index);
                $k.$b8();
            };
        };
        var $ag = function($z, i) {
            this.html = function($0b) {
                var $5Z = $z.calendar.divHeader;
                var $R = $5Z.rows[$z.index].cells[i];
                var $4G = $R.textDiv;
                if (typeof $0b === "undefined") {
                    return $4G.innerHTML;
                } else {
                    $4G.innerHTML = $0b;
                }
            };
        };
    };
    DayPilotScheduler.moving = null;
    DayPilotScheduler.movingEvent = null;
    DayPilotScheduler.originalMouse = null;
    DayPilotScheduler.resizing = null;
    DayPilotScheduler.resizingEvent = null;
    DayPilotScheduler.preventEventClick = false;
    DayPilotScheduler.globalHandlers = false;
    DayPilotScheduler.timeRangeTimeout = null;
    DayPilotScheduler.selectedCells = null;
    DayPilotScheduler.dragStart = function(element, $0P, id, $4G) {
        DayPilot.us(element);
        var $ai = DayPilotScheduler.drag = {};
        $ai.element = element;
        $ai.duration = $0P;
        $ai.text = $4G;
        $ai.id = id;
        $ai.data = {
            "id": id,
            "text": $4G,
            "duration": $0P,
            "externalHtml": $4G
        };
        return false;
    };
    DayPilot.Scheduler.startDragging = function($j) {
        var $j = $j || {};
        var element = $j.element;
        var $aj = $j.keepElement ? null: element;
        DayPilot.us(element);
        var $ai = DayPilotScheduler.drag = {};
        $ai.element = $aj;
        $ai.id = $j.id;
        $ai.duration = $j.duration || 60;
        $ai.text = $j.text || "";
        $ai.data = $j;
        return false;
    };
    DayPilot.Scheduler.makeDraggable = function($j) {
        $j = $j || {};
        var element = $j.element;
        var $aj = $j.keepElement ? null: ($j.remove || element);
        DayPilot.us(element);
        DayPilot.re(element, "mousedown",
            function(ev) {
                if (!DayPilot.Util.mouseButton(ev).left) {
                    return;
                };
                startDragging();
                var element = (ev.target || ev.srcElement);
                if (element.tagName) {
                    var $ak = element.tagName.toLowerCase();
                    if ($ak === "textarea" || $ak === "select" || $ak === "input") {
                        return false;
                    }
                };
                ev.preventDefault && ev.preventDefault();
                return false;
            });
        element.ontouchstart = function(ev) {
            var $8T = 0;
            window.setTimeout(function() {
                    startDragging();
                    DayPilotScheduler.gTouchMove(ev);
                    ev.preventDefault();
                },
                $8T);
            ev.preventDefault();
        };
        function startDragging() {
            var $ai = DayPilotScheduler.drag = {};
            $ai.element = $aj;
            $ai.id = $j.id;
            $ai.duration = $j.duration || 60;
            $ai.text = $j.text || "";
            $ai.data = $j;
        }
    };
    DayPilot.Scheduler.stopDragging = function() {
        DayPilotScheduler.dragStop();
        if (DayPilotScheduler.resizing) {
            DayPilot.de(DayPilotScheduler.resizingShadow);
            DayPilotScheduler.resizing = null;
            DayPilotScheduler.resizingEvent = null;
            DayPilotScheduler.resizingShadow = null;
        };
        if (DayPilotScheduler.moving) {
            var $k = DayPilotScheduler.movingEvent.calendar;
            DayPilot.Util.removeClass(DayPilotScheduler.moving, $k.$bC("_event_moving_source"));
            DayPilot.de(DayPilotScheduler.movingShadow);
            DayPilotScheduler.moving = null;
            DayPilotScheduler.movingEvent = null;
            DayPilotScheduler.movingShadow = null;
        };
        if (DayPilotScheduler.range) {
            var $k = DayPilotScheduler.range.calendar;
            $k.clearSelection();
            DayPilotScheduler.range = null;
        };
        document.body.style.cursor = '';
        DayPilot.list(DayPilotScheduler.registered).each(function($k) {
            $k.$gb();
            $k.$eV();
        });
    };
    DayPilotScheduler.dragStop = function() {
        if (DayPilotScheduler.gShadow) {
            document.body.removeChild(DayPilotScheduler.gShadow);
            DayPilotScheduler.gShadow = null;
        };
        DayPilotScheduler.drag = null;
    };
    DayPilotScheduler.register = function($k) {
        if (!DayPilotScheduler.registered) {
            DayPilotScheduler.registered = [];
        };
        for (var i = 0; i < DayPilotScheduler.registered.length; i++) {
            if (DayPilotScheduler.registered[i] === $k) {
                return;
            }
        };
        DayPilotScheduler.registered.push($k);
    };
    DayPilotScheduler.unregister = function($k) {
        var a = DayPilotScheduler.registered;
        if (a) {
            var i = DayPilot.indexOf(a, $k);
            if (i !== -1) {
                a.splice(i, 1);
            };
            if (a.length === 0) {
                a = null;
            }
        };
        if (!a) {
            DayPilot.ue(document, 'mousemove', DayPilotScheduler.gMouseMove);
            DayPilot.ue(document, 'mouseup', DayPilotScheduler.gMouseUp);
            DayPilot.ue(document, 'touchmove', DayPilotScheduler.gTouchMove);
            DayPilot.ue(document, 'touchend', DayPilotScheduler.gTouchEnd);
            DayPilot.ue(window, 'keyup', DayPilotScheduler.gKeyUp);
            DayPilotScheduler.globalHandlers = false;
        }
    };
    function calendarFromTouchEvent(ev) {
        var $al = ev.touches[0].clientX;
        var $am = ev.touches[0].clientY;
        var el = document.elementFromPoint($al, $am);
        while (el && el.parentNode) {
            el = el.parentNode;
            if (el.daypilotMainD) {
                return el.calendar;
            }
        };
        return false;
    };
    function touchMousePos(ev) {
        var x = ev.touches[0].pageX;
        var y = ev.touches[0].pageY;
        var $9g = {};
        $9g.x = x;
        $9g.y = y;
        return $9g;
    };
    DayPilotScheduler.gTouchMove = function(ev) {
        if (DayPilotScheduler.resizing) {
            var $k = DayPilotScheduler.resizing.event.calendar;
            $k.coords = $k.$gF.relativeCoords(ev);
            $k.$gF.updateResizing();
            ev.preventDefault();
        };
        if (DayPilotScheduler.moving) {
            var $k = DayPilotScheduler.movingEvent.calendar;
            $k.coords = $k.$gF.relativeCoords(ev);
            $k.$gF.updateMoving();
            ev.preventDefault();
        };
        if (DayPilotScheduler.drag) {
            ev.preventDefault();
            var $9g = touchMousePos(ev);
            var $k = calendarFromTouchEvent(ev);
            if ($k) {
                if (DayPilotScheduler.gShadow) {
                    document.body.removeChild(DayPilotScheduler.gShadow);
                };
                DayPilotScheduler.gShadow = null;
                $k.coords = $k.$gF.relativeCoords(ev);
                if (!DayPilotScheduler.movingShadow && $k.rowlist.length > 0) {
                    if (!DayPilotScheduler.moving) {
                        DayPilotScheduler.moving = {};
                        var event = DayPilotScheduler.drag.event;
                        if (!event) {
                            var $9j = $k.itline[0].start;
                            var ev = {
                                'id': DayPilotScheduler.drag.id,
                                'start': $9j,
                                'end': $9j.addSeconds(DayPilotScheduler.drag.duration),
                                'text': DayPilotScheduler.drag.text
                            };
                            var $s = DayPilotScheduler.drag.data;
                            if ($s) {
                                var $8g = ['duration', 'element', 'id', 'text'];
                                for (var name in $s) {
                                    if (DayPilot.contains($8g, name)) {
                                        continue;
                                    };
                                    ev[name] = $s[name];
                                }
                            };
                            event = new DayPilot.Event(ev);
                            event.calendar = $k;
                            event.part.external = true;
                        };
                        DayPilotScheduler.moving.event = event;
                        DayPilotScheduler.movingEvent = event;
                    };
                    DayPilotScheduler.movingShadow = $k.$dQ(DayPilotScheduler.moving);
                };
                if (DayPilotScheduler.moving) {
                    $k.$gF.updateMoving();
                }
            } else {
                DayPilot.de(DayPilotScheduler.movingShadow);
                var $an = DayPilotScheduler.moving;
                DayPilotScheduler.moving = null;
                DayPilotScheduler.movingEvent = null;
                DayPilotScheduler.movingShadow = null;
                if (!DayPilotScheduler.gShadow) {
                    DayPilotScheduler.gShadow = DayPilotScheduler.createGShadow(DayPilotScheduler.drag.data);
                    DayPilotScheduler.gShadow.source = $an;
                };
                var $26 = DayPilotScheduler.gShadow;
                $26.style.left = $9g.x + 'px';
                $26.style.top = $9g.y + 'px';
            }
        }
    };
    DayPilotScheduler.gTouchEnd = function(ev) {
        DayPilotScheduler.gMouseUp(ev);
    };
    DayPilotScheduler.gMouseMove = function(ev) {
        if (typeof(DayPilotScheduler) === 'undefined') {
            return;
        };
        ev = ev || window.event;
        if (ev.insideMainD) {
            return;
        } else if (ev.srcElement) {
            if (ev.srcElement.inside) {
                return;
            }
        };
        var $9g = DayPilot.mc(ev);
        if (DayPilotScheduler.drag) {
            if (!DayPilotScheduler.drag.startFired) {
                var $s = DayPilotScheduler.drag.data || {};
                var $ao = $s.onDragStart;
                var $1A = false;
                if (typeof $ao === "function") {
                    var $n = {};
                    $n.data = $s;
                    $n.preventDefault = function() {
                        $n.preventDefault.value = true;
                    };
                    $ao($n);
                    $1A = $n.preventDefault.value;
                };
                DayPilotScheduler.drag.startFired = true;
                if ($1A) {
                    DayPilotScheduler.drag = null;
                    return;
                }
            };
            document.body.style.cursor = 'move';
            if (!DayPilotScheduler.gShadow) {
                DayPilotScheduler.gShadow = DayPilotScheduler.createGShadow(DayPilotScheduler.drag.data);
            };
            var $26 = DayPilotScheduler.gShadow;
            $26.style.left = $9g.x + 'px';
            $26.style.top = $9g.y + 'px';
            DayPilotScheduler.moving = null;
            DayPilotScheduler.movingEvent = null;
            if (DayPilotScheduler.movingShadow) {
                var $ap = DayPilotScheduler.movingShadow.calendar;
                $ap && $ap.$eV();
                DayPilotScheduler.movingShadow.calendar = null;
                DayPilot.de(DayPilotScheduler.movingShadow);
                DayPilotScheduler.movingShadow = null;
            }
        } else if (DayPilotScheduler.moving && DayPilotScheduler.movingEvent && DayPilotScheduler.movingEvent.calendar.dragOutAllowed && !DayPilotScheduler.drag) {
            var $ap = DayPilotScheduler.movingEvent.calendar;
            var ev = DayPilotScheduler.movingEvent;
            DayPilotScheduler.moving.target = null;
            document.body.style.cursor = 'move';
            if (!DayPilotScheduler.gShadow) {
                DayPilotScheduler.gShadow = DayPilotScheduler.createGShadow(ev.data);
                DayPilotScheduler.gShadow.source = DayPilotScheduler.moving;
            };
            var $26 = DayPilotScheduler.gShadow;
            $26.style.left = $9g.x + 'px';
            $26.style.top = $9g.y + 'px';
            DayPilotScheduler.drag = {};
            var $ai = DayPilotScheduler.drag;
            $ai.schedulerSourceEvent = DayPilotScheduler.moving;
            $ai.element = null;
            $ai.duration = (ev.rawend().getTime() - ev.start().getTime()) / 1000;
            $ai.text = ev.text();
            $ai.id = ev.value();
            $ai.event = ev;
            $ap.$eV();
            DayPilot.de(DayPilotScheduler.movingShadow);
            DayPilotScheduler.movingShadow.calendar = null;
            DayPilotScheduler.movingShadow = null;
        };
        for (var i = 0; i < DayPilotScheduler.registered.length; i++) {
            if (DayPilotScheduler.registered[i].$f6) {
                DayPilotScheduler.registered[i].$f6();
            }
        }
    };
    DayPilotScheduler.gUnload = function(ev) {
        if (!DayPilotScheduler.registered) {
            return;
        };
        for (var i = 0; i < DayPilotScheduler.registered.length; i++) {
            var c = DayPilotScheduler.registered[i];
            DayPilotScheduler.unregister(c);
        }
    };
    DayPilotScheduler.gMouseDown = function(ev) {
        if (DayPilotScheduler.editing) {
            DayPilotScheduler.editing.blur();
        }
    };
    DayPilotScheduler.gKeyUp = function(ev) {
        var ev = ev || window.event;
        var $6q = ev.keyCode;
        if ($6q === 17) {
            if (DayPilotScheduler.rangeCalendar) {
                var $k = DayPilotScheduler.rangeCalendar;
                $k.$h8.dispatch();
            }
        }
    };
    DayPilotScheduler.gMouseUp = function(ev) {
        DayPilot.list(DayPilotScheduler.registered).each(function($k) {
            $k.$gb();
        });
        if (DayPilotScheduler.resizing) {
            var $aq = function() {
                var e = DayPilotScheduler.resizingEvent;
                var $k = e.calendar;
                document.body.style.cursor = '';
                DayPilotScheduler.resizing = null;
                DayPilotScheduler.resizingEvent = null;
                DayPilot.de(DayPilotScheduler.resizingShadow);
                DayPilotScheduler.resizingShadow = null;
                $k.$hd();
            };
            setTimeout(function() {
                DayPilotScheduler.preventEventClick = false;
            });
            if (!DayPilotScheduler.resizingShadow) {
                $aq();
                return;
            };
            var e = DayPilotScheduler.resizingEvent;
            var $k = e.calendar;
            var $0p = DayPilotScheduler.resizingShadow.finalStart;
            var $13 = DayPilotScheduler.resizingShadow.finalEnd;
            var $5N = DayPilotScheduler.resizingShadow.overlapping;
            var $8V = !DayPilotScheduler.resizingShadow.allowed;
            $k.$eV();
            $k.$eN.clear();
            $aq();
            if ($5N || $8V) {
                return;
            };
            $k.$cl(e, $0p, $13);
        } else if (DayPilotScheduler.moving) {
            var $aq = function() {
                var $k = DayPilotScheduler.moving.target;
                if (DayPilotScheduler.movingShadow) {
                    DayPilot.de(DayPilotScheduler.movingShadow);
                    DayPilotScheduler.movingShadow.calendar = null;
                };
                document.body.style.cursor = '';
                DayPilotScheduler.moving = null;
                DayPilotScheduler.movingEvent = null;
                DayPilotScheduler.drag = null;
                $k.$hd();
                if ($k) {
                    $k.$d2 = null;
                }
            };
            if (!DayPilotScheduler.movingShadow) {
                $aq();
                return;
            };
            var e = DayPilotScheduler.movingEvent;
            var $k = DayPilotScheduler.moving.target;
            if (!$k) {
                $aq();
                return;
            };
            DayPilot.Util.removeClass(DayPilotScheduler.moving, $k.$bC("_event_moving_source"));
            if (!DayPilotScheduler.movingShadow.row) {
                $aq();
                return;
            };
            clearTimeout($k.$ev.timeout);
            var $0p = DayPilotScheduler.movingShadow.start;
            var $13 = DayPilotScheduler.movingShadow.end;
            var $18 = ($k.viewType !== 'Days') ? DayPilotScheduler.movingShadow.row.id: null;
            var external = (DayPilotScheduler.drag ? true: false) && e.part.external;
            var $0x = DayPilotScheduler.movingShadow.line;
            var $5N = DayPilotScheduler.movingShadow.overlapping;
            var $8V = !DayPilotScheduler.movingShadow.allowed;
            if (DayPilotScheduler.drag) {
                if (!$k.todo) {
                    $k.todo = {};
                };
                $k.todo.del = DayPilotScheduler.drag.element;
                DayPilotScheduler.drag = null;
            };
            DayPilotScheduler.movingShadow.calendar = null;
            document.body.style.cursor = '';
            DayPilotScheduler.moving = null;
            DayPilotScheduler.movingEvent = null;
            if ($5N || $8V || $k.$eQ.forbidden || $k.$eQ.invalid) {
                $k.$d3();
                return;
            };
            var ev = ev || window.event;
            $k.$d1(e, $0p, $13, $18, external, ev, $0x);
        } else if (DayPilotScheduler.range) {
            ev = ev || window.event;
            var $8S = DayPilot.Util.mouseButton(ev);
            var $1t = DayPilotScheduler.range;
            var $k = $1t.calendar;
            var $aq = function() {
                $k.$hd();
            };
            $k.$h6 = null;
            var $1f = ev.ctrlKey || ev.metaKey;
            if ($k.allowMultiRange) {
                if (!$k.elements.range2.overlapping) {
                    $k.$h8.add($1t);
                } else {
                    DayPilot.de($k.elements.range2);
                    $k.elements.range2 = null;
                    $k.$eV();
                };
                DayPilotScheduler.range = null;
                if (!$1f) {
                    $k.$h8.dispatch();
                };
                $aq();
                return;
            };
            if (DayPilotScheduler.timeRangeTimeout) {
                clearTimeout(DayPilotScheduler.timeRangeTimeout);
                DayPilotScheduler.timeRangeTimeout = null;
                $aq();
                return;
            };
            DayPilotScheduler.rangeHold = $1t;
            DayPilotScheduler.range = null;
            var $ar = function($1t) {
                return function() {
                    DayPilotScheduler.timeRangeTimeout = null;
                    var $26 = $k.elements.range2;
                    if ($26 && $26.overlapping) {
                        $k.clearSelection();
                        return;
                    };
                    $k.$d7($1t);
                    if ($k.timeRangeSelectedHandling !== "Hold" && $k.timeRangeSelectedHandling !== "HoldForever") {
                        $e();
                    } else {
                        DayPilotScheduler.rangeHold = $1t;
                    }
                };
            };
            var rc = $k.$h7($1t);
            $aq();
            if (!$8S.left) {
                DayPilotScheduler.timeRangeTimeout = null;
                return;
            };
            if ($1t.moved || $k.timeRangeDoubleClickHandling === 'Disabled') {
                $ar(rc)();
                var ev = ev || window.event;
                ev.cancelBubble = true;
                return false;
            } else {
                DayPilotScheduler.timeRangeTimeout = setTimeout($ar(rc), $k.doubleClickTimeout);
            }
        } else if ($69.row) {
            var $k = $69.calendar;
            if ($k) {
                $k.$fB();
            }
        } else if ($2a.source) {
            var $k = $2a.calendar;
            $k.$dT.clearShadow();
            $k.$dT.hideLinkpoints();
            $2a.source = null;
            $2a.calendar = null;
        } else if (DayPilotScheduler.splitting) {
            var $7N = DayPilotScheduler.splitting;
            $7N.cleanup();
            DayPilotScheduler.splitting = null;
        } else if (DayPilotScheduler.rectangleSelect) {
            var $4O = DayPilotScheduler.rectangleSelect;
            var $k = $4O.calendar;
            if (!$4O.moved) {
                DayPilotScheduler.rectangleSelect = null;
                if (!$k.$gO($k.coords)) {
                    $k.$h9(ev);
                };
                return;
            };
            var x = $4O.x;
            var y = $4O.y;
            var $C = $4O.width;
            var $T = $4O.height;
            var $6i = false;
            var $01 = $k.$bz.eventsInRectangle(x, y, $C, $T).map(function($02) {
                return $02.event;
            });
            if (typeof $k.onRectangleEventSelect === "function") {
                var $n = {};
                $n.events = $01;
                $n.append = false;
                $n.start = $k.getDate(x, true);
                $n.end = $k.getDate(x + $C, true);
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                $k.onRectangleEventSelect($n);
                if ($n.preventDefault.value) {
                    $k.$gY.clear();
                    DayPilotScheduler.rectangleSelect = null;
                    return;
                };
                $6i = $n.append;
            };
            if (!$6i) {
                $k.multiselect.clear(true);
            };
            $01.each(function(e) {
                $k.multiselect.add(e, true);
            });
            $k.multiselect.redraw();
            setTimeout(function() {
                    $k.$gY.clear();
                    DayPilotScheduler.rectangleSelect = null;
                },
                0);
            if (typeof $k.onRectangleEventSelected === "function") {
                var $n = {};
                $n.events = $01;
                $k.onRectangleEventSelected($n);
            }
        } else if (DayPilotScheduler.rangeHold) {
            var $8S = DayPilot.Util.mouseButton(ev);
            if ($8S.left) {
                var $1t = DayPilotScheduler.rangeHold;
                var $k = $1t.calendar;
                if ($k.$gO($k.coords)) {
                    var $as = function($1t) {
                        return function() {
                            DayPilotScheduler.timeRangeTimeout = null;
                            var $1u = $k.$d8($1t);
                            if (!$1u) {
                                return;
                            };
                            var $n = {};
                            $n.start = $1u.start;
                            $n.end = $1u.end;
                            $n.resource = $1u.resource;
                            $n.preventDefault = function() {
                                $n.preventDefault.value = true;
                            };
                            if (typeof $k.onTimeRangeClick === "function") {
                                $k.onTimeRangeClick($n);
                            };
                            if (!$n.preventDefault.value) {
                                if (typeof $k.onTimeRangeClicked === "function") {
                                    $k.onTimeRangeClicked($n);
                                }
                            }
                        };
                    };
                    if ($k.timeRangeClickHandling != "Disabled") {
                        if ($k.timeRangeDoubleClickHandling === "Disabled") {
                            $as($1t)();
                        } else {
                            clearTimeout(DayPilotScheduler.timeRangeTimeout);
                            DayPilotScheduler.timeRangeTimeout = setTimeout($as($1t), $k.doubleClickTimeout);
                        }
                    }
                }
            }
        };
        if (DayPilotScheduler.drag) {
            if (DayPilotScheduler.drag.event && DayPilotScheduler.drag.event.part) {
                delete DayPilotScheduler.drag.event.part.external;
            };
            DayPilotScheduler.drag = null;
            document.body.style.cursor = '';
        };
        if (DayPilotScheduler.gShadow) {
            if (DayPilotScheduler.gShadow.source) {
                var $k = DayPilotScheduler.gShadow.source.event.calendar;
                DayPilot.Util.removeClass(DayPilotScheduler.gShadow.source, $k.$bC("_event_moving_source"));
            };
            document.body.removeChild(DayPilotScheduler.gShadow);
            DayPilotScheduler.gShadow = null;
        };
        DayPilotScheduler.moveOffsetX = null;
        DayPilotScheduler.moveDragStart = null;
    };
    DayPilotScheduler.createGShadow = function($j) {
        var $j = $j || {};
        var $26 = document.createElement('div');
        $26.setAttribute('unselectable', 'on');
        $26.style.position = 'absolute';
        $26.style.width = '100px';
        $26.style.height = '20px';
        $26.style.zIndex = 101;
        $26.style.pointerEvents = "none";
        $26.style.backgroundColor = "#aaaaaa";
        $26.style.opacity = 0.5;
        $26.style.filter = "alpha(opacity=50)";
        $26.className = $j.externalCssClass;
        if ($j.externalHtml) {
            $26.innerHTML = $j.externalHtml;
        };
        document.body.appendChild($26);
        return $26;
    };
    var $69 = {};
    DayPilot.Global.rowmoving = $69;
    var $2a = {};
    DayPilot.Global.linking = $2a;
    if (typeof jQuery !== 'undefined') { (function($) {
        $.fn.daypilotScheduler = function($j) {
            var $0M = null;
            var j = this.each(function() {
                if (this.daypilot) {
                    return;
                };
                var $at = new DayPilot.Scheduler(this.id, $j);
                $at.init();
                this.daypilot = $at;
                if (!$0M) {
                    $0M = $at;
                }
            });
            if (this.length === 1) {
                return $0M;
            } else {
                return j;
            }
        };
    })(jQuery);
    }; (function registerAngularModule() {
        var $au = DayPilot.am();
        if (!$au) {
            return;
        };
        $au.directive("daypilotScheduler", ['$parse',
            function($av) {
                return {
                    "restrict": "E",
                    "template": "<div id='{{id}};'></div>",
                    "compile": function compile(element, $aw) {
                        element.replaceWith(this["template"].replace("{{id\u007d\u007d", $aw["id"]));
                        return function link($ax, element, $aw) {
                            var $k = new DayPilot.Scheduler(element[0]);
                            $k.$e5.scope = $ax;
                            $k.init();
                            var $ay = $aw["id"];
                            if ($ay) {
                                $ax[$ay] = $k;
                            };
                            var $az = $aw["publishAs"];
                            if ($az) {
                                var getter = $av($az);
                                var setter = getter.assign;
                                setter($ax, $k);
                            };
                            for (var name in $aw) {
                                if (name.indexOf("on") === 0) {
                                    var $aA = DayPilot.Util.shouldApply(name);
                                    if ($aA) { (function(name) {
                                        $k[name] = function($n) {
                                            var f = $av($aw[name]);
                                            DayPilot.Util.safeApply($ax,
                                                function() {
                                                    f($ax, {
                                                        "args": $n
                                                    });
                                                });
                                        };
                                    })(name);
                                    } else { (function(name) {
                                        $k[name] = function($n) {
                                            var f = $av($aw[name]);
                                            f($ax, {
                                                "args": $n
                                            });
                                        };
                                    })(name);
                                    }
                                }
                            };
                            var $aB = $ax["$watch"];
                            var $5i = $aw["config"] || $aw["daypilotConfig"];
                            var $01 = $aw["events"] || $aw["daypilotEvents"];
                            $aB.call($ax, $5i,
                                function($7h, $aC) {
                                    $k.$hH($7h);
                                    $k.update();
                                    $k.$hF();
                                },
                                true);
                            $aB.call($ax, $01,
                                function($7h) {
                                    $k.events.list = $7h;
                                    $k.$cx({
                                        "eventsOnly": true
                                    });
                                },
                                true);
                        };
                    }
                };
            }]);
    })();
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
}; (function() {
    if (typeof DayPilot.Year !== 'undefined') {
        return;
    };
    DayPilot.Year = function(id, $a) {
        this.v = '2607';
        var $b = this;
        this.startDate = new DayPilot.Date();
        this.cssOnly = true;
        this.cssClassPrefix = null;
        this.columns = 4;
        this.cellWidth = 20;
        this.showWeekNumbers = false;
        this.$i = [];
        this.$j = function() {
            this.root.dp = this;
            this.$k = new DayPilot.Date(this.startDate.toString("yyyy-01-01", "en-us"));
        };
        this.$l = function($c) {
            if (this.cssClassPrefix) {
                return this.cssClassPrefix + $c;
            } else {
                return "";
            }
        };
        this.$m = function() {
            if (this.showWeekNumbers) {
                return this.cellWidth;
            };
            return 0;
        };
        this.$n = function() {
            this.$i = [];
            var $d = this.columns;
            var $e = 12 / $d;
            this.root.className = this.$l('_main');
            this.root.style.width = $d * (this.cellWidth * 7 + this.$m()) + 'px';
            for (var y = 0; y < $e; y++) {
                for (var x = 0; x < $d; x++) {
                    var m = y * $d + x;
                    var id = id + "_nav_" + m;
                    var $f = document.createElement("div");
                    $f.id = id;
                    $f.style.float = 'left';
                    this.root.appendChild($f);
                    var navigator = new DayPilot.Navigator(id);
                    navigator.startDate = this.$k.addMonths(m);
                    navigator.cssOnly = this.cssOnly;
                    navigator.cssClassPrefix = this.cssClassPrefix;
                    navigator.cellWidth = this.cellWidth;
                    navigator.showWeekNumbers = this.showWeekNumbers;
                    navigator.internal.showLinks = {};
                    navigator.selectMode = 'none';
                    navigator.timeRangeSelectedHandling = "JavaScript";
                    navigator.onTimeRangeSelected = this.$o;
                    navigator.init();
                    navigator.root.className = '';
                    this.$i.push(navigator);
                };
                var $g = document.createElement("div");
                $g.style.clear = 'left';
                this.root.appendChild($g);
            }
        };
        this.$o = function($h) {
            alert("clicked: " + $h.day);
        };
        this.init = function() {
            this.root = document.getElementById(id);
            if (this.root.dp) {
                return;
            };
            this.$j();
            this.$n();
        };
    };
})();